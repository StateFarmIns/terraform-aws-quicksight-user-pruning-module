'// This file is committed because Terraform needs it to be there. Source code is in src folder'  
/*! For license information please see pruneQuickSightUsers.js.LICENSE.txt */
(()=>{var e={1446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var r=n(2717),s=n(7658),o=n(4079),i=function(){function e(){this.crc32=new o.Crc32}return e.prototype.update=function(e){(0,s.isEmptyData)(e)||this.crc32.update((0,s.convertToBuffer)(e))},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,(0,s.numToUint8)(this.crc32.digest())]}))}))},e.prototype.reset=function(){this.crc32=new o.Crc32},e}();t.AwsCrc32=i},4079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var r=n(2717),s=n(7658);t.crc32=function(e){return(new o).update(e).digest()};var o=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var s=r.__values(e),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^i[255&(this.checksum^a)]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=o;var i=(0,s.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),a=n(1446);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})},2717:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>v,__asyncGenerator:()=>_,__asyncValues:()=>b,__await:()=>w,__awaiter:()=>l,__classPrivateFieldGet:()=>P,__classPrivateFieldSet:()=>C,__createBinding:()=>p,__decorate:()=>a,__exportStar:()=>h,__extends:()=>s,__generator:()=>d,__importDefault:()=>x,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>c,__read:()=>m,__rest:()=>i,__spread:()=>g,__spreadArrays:()=>y,__values:()=>f});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function s(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},o.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function a(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){i.label=o[1];break}if(6===o[0]&&i.label<s[1]){i.label=s[1],s=o;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(o);break}s[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(s)throw s.error}}return i}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)r[s]=o[i];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),o=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){s[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=s[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,s){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:s?s(t):t}:s}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,s,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(2084),s="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?s(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},7658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var s=n(4304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return s.isEmptyData}});var o=n(2174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var i=n(1558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})},4304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},2084:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>s});const r=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const s=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),s=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const s=e[++n];t+=String.fromCharCode((31&r)<<6|63&s)}else if(240<=r&&r<365){const s="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},4378:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.extractRegionFromEndpoint=t.buildMqtt5FinalUsername=t.populate_username_string_with_custom_authorizer=t.is_string_and_not_empty=t.add_to_username_parameter=void 0;const i=o(n(6843));function a(e,t,n){let r=e;return-1!=r.indexOf("?")?r+="&":r+="?",-1!=t.indexOf(n)?r+t:r+n+t}function c(e){return null!=e&&"string"==typeof e&&""!=e}function u(e,t,n){t&&n.push([e,t])}t.add_to_username_parameter=a,t.is_string_and_not_empty=c,t.populate_username_string_with_custom_authorizer=function(e,t,n,r,s,o,i){let u="";if(e&&(u+=e),0==c(t)?c(s)&&s&&(u+=s):u+=t,c(n)&&n&&(u=a(u,n,"x-amz-customauthorizer-name=")),c(r)&&r&&(u=a(u,r,"x-amz-customauthorizer-signature="),(c(o)&&o||c(i)&&i)&&console.log("Warning: Signed custom authorizers with signature will not work without a token key name and token value. Your connection may be rejected/stalled on the IoT Core side due to this. Please set the token key name and token value to connect to a signed custom authorizer.")),c(r)||c(i)||c(o)){if(!i||!o)throw new Error("Token-based custom authentication requires all token-related properties to be set");u=a(u,i,o+"=")}return u},t.buildMqtt5FinalUsername=function(e){let t="",n=[];if(e){let r=!1;if((e.tokenValue||e.tokenKeyName||e.tokenSignature)&&(r=!0,!e.tokenValue||!e.tokenKeyName||!e.tokenSignature))throw new Error("Token-based custom authentication requires all token-related properties to be set");let s=e.username,o=(null!=s?s:"").split("?"),i=o.slice(1);if(t=o[0],i.length>1)throw new Error("Custom auth username property value is invalid");1==i.length&&i[0].split("&").forEach(((e,t,r)=>{var s;let o=e.split("=");n.push([o[0],null!==(s=o[1])&&void 0!==s?s:""])})),u("x-amz-customauthorizer-name",e.authorizerName,n),r&&(u(e.tokenKeyName,e.tokenValue,n),u("x-amz-customauthorizer-signature",e.tokenSignature,n))}return n.push(["SDK","NodeJSv2"]),n.push(["Version",i.crt_version()]),(null!=t?t:"")+"?"+n.map((e=>`${e[0]}=${e[1]}`)).join("&")},t.extractRegionFromEndpoint=function(e){const t=e.match(/^[\w\-]+\.[\w\-]+\.([\w+\-]+)\./);if(t)return t[1];throw new Error("AWS region could not be extracted from endpoint.  Use 'region' property on WebsocketConfig to set manually.")}},7482:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.newCancellablePromiseFromNextEvent=t.CancelController=t.EVENT_NAME=void 0;const i=n(2361),a=o(n(7113));t.EVENT_NAME="cancelled",t.CancelController=class{constructor(e){this.cancelled=!1,e&&e.emitterFactory?this.emitter=e.emitterFactory():this.emitter=new i.EventEmitter}cancel(){this.cancelled||(this.cancelled=!0,this.emitter.emit(t.EVENT_NAME),this.emitter.removeAllListeners(t.EVENT_NAME))}hasBeenCancelled(){return this.cancelled}addListener(e){if(!this.cancelled)return this.emitter.on(t.EVENT_NAME,e),()=>{this.emitter.removeListener(t.EVENT_NAME,e)};e()}},t.newCancellablePromiseFromNextEvent=function(e){let t,n,r=a.newLiftedPromise();return t=t=>{try{e.eventDataTransformer?r.resolve(e.eventDataTransformer(t)):r.resolve(t)}catch(e){r.reject(e)}},e.emitter.addListener(e.eventName,t),e.cancelController&&(n=e.cancelController.addListener((()=>{r.reject(e.cancelMessage)}))),a.makeSelfCleaningPromise(r.promise,(()=>{t&&e.emitter.removeListener(e.eventName,t),n&&n()}))}},9651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedEventEmitter=void 0;const r=n(2361);class s{constructor(e,t){this.event=e,this.args=t}}class o extends r.EventEmitter{constructor(){super(),this.corked=!1}cork(){this.corked=!0}uncork(){for(this.corked=!1;this.eventQueue;){const e=this.eventQueue;super.emit(e.event,...e.args),this.eventQueue=this.eventQueue.next}}emit(e,...t){if(this.corked){let n=this.lastQueuedEvent;return this.lastQueuedEvent=new s(e,t),n?n.next=this.lastQueuedEvent:this.eventQueue=this.lastQueuedEvent,this.listeners(e).length>0}return super.emit(e,...t)}}t.BufferedEventEmitter=o},3804:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.CommonHttpProxyOptions=t.HttpProxyAuthenticationType=t.HttpVersion=void 0,(r=t.HttpVersion||(t.HttpVersion={}))[r.Unknown=0]="Unknown",r[r.Http1_0=1]="Http1_0",r[r.Http1_1=2]="Http1_1",r[r.Http2=3]="Http2",function(e){e[e.None=0]="None",e[e.Basic=1]="Basic"}(n=t.HttpProxyAuthenticationType||(t.HttpProxyAuthenticationType={})),t.CommonHttpProxyOptions=class{constructor(e,t,r=n.None,s,o){this.host_name=e,this.port=t,this.auth_method=r,this.auth_username=s,this.auth_password=o}}},9712:(e,t)=>{"use strict";var n,r,s;Object.defineProperty(t,"__esModule",{value:!0}),t.SocketDomain=t.SocketType=t.TlsVersion=void 0,(s=t.TlsVersion||(t.TlsVersion={}))[s.SSLv3=0]="SSLv3",s[s.TLSv1=1]="TLSv1",s[s.TLSv1_1=2]="TLSv1_1",s[s.TLSv1_2=3]="TLSv1_2",s[s.TLSv1_3=4]="TLSv1_3",s[s.Default=128]="Default",(r=t.SocketType||(t.SocketType={}))[r.STREAM=0]="STREAM",r[r.DGRAM=1]="DGRAM",(n=t.SocketDomain||(t.SocketDomain={}))[n.IPV4=0]="IPV4",n[n.IPV6=1]="IPV6",n[n.LOCAL=2]="LOCAL"},5641:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_RECONNECT_MIN_SEC=t.DEFAULT_RECONNECT_MAX_SEC=t.MqttWill=t.QoS=void 0,(n=t.QoS||(t.QoS={}))[n.AtMostOnce=0]="AtMostOnce",n[n.AtLeastOnce=1]="AtLeastOnce",n[n.ExactlyOnce=2]="ExactlyOnce",t.MqttWill=class{constructor(e,t,n,r=!1){this.topic=e,this.qos=t,this.payload=n,this.retain=r}},t.DEFAULT_RECONNECT_MAX_SEC=128,t.DEFAULT_RECONNECT_MIN_SEC=1},5018:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.RetryJitterType=t.ClientSessionBehavior=void 0,(r=t.ClientSessionBehavior||(t.ClientSessionBehavior={}))[r.Default=0]="Default",r[r.Clean=1]="Clean",r[r.RejoinPostSuccess=2]="RejoinPostSuccess",r[r.RejoinAlways=3]="RejoinAlways",(n=t.RetryJitterType||(t.RetryJitterType={}))[n.Default=0]="Default",n[n.None=1]="None",n[n.Full=2]="Full",n[n.Decorrelated=3]="Decorrelated"},202:(e,t)=>{"use strict";var n,r,s,o,i,a,c,u,l;Object.defineProperty(t,"__esModule",{value:!0}),t.PacketType=t.RetainHandlingType=t.QoS=t.PayloadFormatIndicator=t.isSuccessfulPubackReasonCode=t.PubackReasonCode=t.isSuccessfulUnsubackReasonCode=t.UnsubackReasonCode=t.isSuccessfulSubackReasonCode=t.SubackReasonCode=t.isSuccessfulDisconnectReasonCode=t.DisconnectReasonCode=t.isSuccessfulConnectReasonCode=t.ConnectReasonCode=void 0,(l=t.ConnectReasonCode||(t.ConnectReasonCode={}))[l.Success=0]="Success",l[l.UnspecifiedError=128]="UnspecifiedError",l[l.MalformedPacket=129]="MalformedPacket",l[l.ProtocolError=130]="ProtocolError",l[l.ImplementationSpecificError=131]="ImplementationSpecificError",l[l.UnsupportedProtocolVersion=132]="UnsupportedProtocolVersion",l[l.ClientIdentifierNotValid=133]="ClientIdentifierNotValid",l[l.BadUsernameOrPassword=134]="BadUsernameOrPassword",l[l.NotAuthorized=135]="NotAuthorized",l[l.ServerUnavailable=136]="ServerUnavailable",l[l.ServerBusy=137]="ServerBusy",l[l.Banned=138]="Banned",l[l.BadAuthenticationMethod=140]="BadAuthenticationMethod",l[l.TopicNameInvalid=144]="TopicNameInvalid",l[l.PacketTooLarge=149]="PacketTooLarge",l[l.QuotaExceeded=151]="QuotaExceeded",l[l.PayloadFormatInvalid=153]="PayloadFormatInvalid",l[l.RetainNotSupported=154]="RetainNotSupported",l[l.QosNotSupported=155]="QosNotSupported",l[l.UseAnotherServer=156]="UseAnotherServer",l[l.ServerMoved=157]="ServerMoved",l[l.ConnectionRateExceeded=159]="ConnectionRateExceeded",t.isSuccessfulConnectReasonCode=function(e){return e<128},(u=t.DisconnectReasonCode||(t.DisconnectReasonCode={}))[u.NormalDisconnection=0]="NormalDisconnection",u[u.DisconnectWithWillMessage=4]="DisconnectWithWillMessage",u[u.UnspecifiedError=128]="UnspecifiedError",u[u.MalformedPacket=129]="MalformedPacket",u[u.ProtocolError=130]="ProtocolError",u[u.ImplementationSpecificError=131]="ImplementationSpecificError",u[u.NotAuthorized=135]="NotAuthorized",u[u.ServerBusy=137]="ServerBusy",u[u.ServerShuttingDown=139]="ServerShuttingDown",u[u.KeepAliveTimeout=141]="KeepAliveTimeout",u[u.SessionTakenOver=142]="SessionTakenOver",u[u.TopicFilterInvalid=143]="TopicFilterInvalid",u[u.TopicNameInvalid=144]="TopicNameInvalid",u[u.ReceiveMaximumExceeded=147]="ReceiveMaximumExceeded",u[u.TopicAliasInvalid=148]="TopicAliasInvalid",u[u.PacketTooLarge=149]="PacketTooLarge",u[u.MessageRateTooHigh=150]="MessageRateTooHigh",u[u.QuotaExceeded=151]="QuotaExceeded",u[u.AdministrativeAction=152]="AdministrativeAction",u[u.PayloadFormatInvalid=153]="PayloadFormatInvalid",u[u.RetainNotSupported=154]="RetainNotSupported",u[u.QosNotSupported=155]="QosNotSupported",u[u.UseAnotherServer=156]="UseAnotherServer",u[u.ServerMoved=157]="ServerMoved",u[u.SharedSubscriptionsNotSupported=158]="SharedSubscriptionsNotSupported",u[u.ConnectionRateExceeded=159]="ConnectionRateExceeded",u[u.MaximumConnectTime=160]="MaximumConnectTime",u[u.SubscriptionIdentifiersNotSupported=161]="SubscriptionIdentifiersNotSupported",u[u.WildcardSubscriptionsNotSupported=162]="WildcardSubscriptionsNotSupported",t.isSuccessfulDisconnectReasonCode=function(e){return e<128},(c=t.SubackReasonCode||(t.SubackReasonCode={}))[c.GrantedQoS0=0]="GrantedQoS0",c[c.GrantedQoS1=1]="GrantedQoS1",c[c.GrantedQoS2=2]="GrantedQoS2",c[c.UnspecifiedError=128]="UnspecifiedError",c[c.ImplementationSpecificError=131]="ImplementationSpecificError",c[c.NotAuthorized=135]="NotAuthorized",c[c.TopicFilterInvalid=143]="TopicFilterInvalid",c[c.PacketIdentifierInUse=145]="PacketIdentifierInUse",c[c.QuotaExceeded=151]="QuotaExceeded",c[c.SharedSubscriptionsNotSupported=158]="SharedSubscriptionsNotSupported",c[c.SubscriptionIdentifiersNotSupported=161]="SubscriptionIdentifiersNotSupported",c[c.WildcardSubscriptionsNotSupported=162]="WildcardSubscriptionsNotSupported",t.isSuccessfulSubackReasonCode=function(e){return e<128},(a=t.UnsubackReasonCode||(t.UnsubackReasonCode={}))[a.Success=0]="Success",a[a.NoSubscriptionExisted=17]="NoSubscriptionExisted",a[a.UnspecifiedError=128]="UnspecifiedError",a[a.ImplementationSpecificError=131]="ImplementationSpecificError",a[a.NotAuthorized=135]="NotAuthorized",a[a.TopicFilterInvalid=143]="TopicFilterInvalid",a[a.PacketIdentifierInUse=145]="PacketIdentifierInUse",t.isSuccessfulUnsubackReasonCode=function(e){return e<128},(i=t.PubackReasonCode||(t.PubackReasonCode={}))[i.Success=0]="Success",i[i.NoMatchingSubscribers=16]="NoMatchingSubscribers",i[i.UnspecifiedError=128]="UnspecifiedError",i[i.ImplementationSpecificError=131]="ImplementationSpecificError",i[i.NotAuthorized=135]="NotAuthorized",i[i.TopicNameInvalid=144]="TopicNameInvalid",i[i.PacketIdentifierInUse=145]="PacketIdentifierInUse",i[i.QuotaExceeded=151]="QuotaExceeded",i[i.PayloadFormatInvalid=153]="PayloadFormatInvalid",t.isSuccessfulPubackReasonCode=function(e){return e<128},(o=t.PayloadFormatIndicator||(t.PayloadFormatIndicator={}))[o.Bytes=0]="Bytes",o[o.Utf8=1]="Utf8",(s=t.QoS||(t.QoS={}))[s.AtMostOnce=0]="AtMostOnce",s[s.AtLeastOnce=1]="AtLeastOnce",s[s.ExactlyOnce=2]="ExactlyOnce",(r=t.RetainHandlingType||(t.RetainHandlingType={}))[r.SendOnSubscribe=0]="SendOnSubscribe",r[r.SendOnSubscribeIfNew=1]="SendOnSubscribeIfNew",r[r.DontSend=2]="DontSend",(n=t.PacketType||(t.PacketType={}))[n.Connect=1]="Connect",n[n.Connack=2]="Connack",n[n.Publish=3]="Publish",n[n.Puback=4]="Puback",n[n.Pubrec=5]="Pubrec",n[n.Pubrel=6]="Pubrel",n[n.Pubcomp=7]="Pubcomp",n[n.Subscribe=8]="Subscribe",n[n.Suback=9]="Suback",n[n.Unsubscribe=10]="Unsubscribe",n[n.Unsuback=11]="Unsuback",n[n.Pingreq=12]="Pingreq",n[n.Pingresp=13]="Pingresp",n[n.Disconnect=14]="Disconnect",n[n.Auth=15]="Auth"},4231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_KEEP_ALIVE=t.normalize_payload=void 0,t.normalize_payload=function(e){if(e instanceof Buffer)return e;if("string"==typeof e)return e;if(ArrayBuffer.isView(e)){const t=e;return Buffer.from(t.buffer,t.byteOffset,t.byteLength)}if(e instanceof ArrayBuffer)return Buffer.from(e);if("object"==typeof e)return JSON.stringify(e);if(!e)return"";throw new TypeError("payload parameter must be a string, object, or DataView.")},t.DEFAULT_KEEP_ALIVE=1200},6843:(e,t,n)=>{"use strict";function r(){return"object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node}function s(){try{return n(5062)}catch(e){return{name:"aws-crt-nodejs",version:"UNKNOWN"}}}Object.defineProperty(t,"__esModule",{value:!0}),t.crt_version=t.package_info=t.is_browser=t.is_nodejs=void 0,t.is_nodejs=r,t.is_browser=function(){return!r()},t.package_info=s,t.crt_version=function(){return s().version}},7113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newLiftedPromise=t.makeSelfCleaningPromise=void 0,t.makeSelfCleaningPromise=function(e,t){return t?e.finally((()=>{t()})):e},t.newLiftedPromise=function(e){let t,n,r=new Promise(((e,r)=>{t=e,n=r}));if(!t||!n)throw new Error("Failed to bind resolve and reject when making lifted promise");return e&&e(t,n),{promise:r,resolve:t,reject:n}}},4103:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.using=void 0,t.using=function(e,t){return n(this,void 0,void 0,(function*(){try{yield t(e)}finally{e.close()}}))}},8687:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CrtError=t.resource_safety=t.promise=t.platform=t.mqtt5=t.mqtt=t.iot=t.io=t.http=t.eventstream=t.crt=t.crypto=t.checksums=t.cancel=t.auth=void 0;const i=o(n(7482));t.cancel=i;const a=o(n(6843));t.platform=a;const c=o(n(7113));t.promise=c;const u=o(n(4103));t.resource_safety=u;const l=o(n(7822));t.auth=l;const d=o(n(5988));t.checksums=d;const p=o(n(7227));t.crt=p;const h=o(n(5145));t.crypto=h;const f=o(n(7259));t.eventstream=f;const m=o(n(8415));t.http=m;const g=o(n(3787));t.io=g;const y=o(n(9793));t.iot=y;const w=o(n(799));t.mqtt=w;const _=o(n(2385));t.mqtt5=_;const v=n(2875);Object.defineProperty(t,"CrtError",{enumerable:!0,get:function(){return v.CrtError}})},7822:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.aws_verify_sigv4a_signing=t.aws_sign_request=t.AwsSignedBodyHeaderType=t.AwsSignedBodyValue=t.AwsSignatureType=t.AwsSigningAlgorithm=t.AwsCredentialsProvider=void 0;const o=s(n(1221)),i=n(2875),a=n(3787);class c extends o.default.AwsCredentialsProvider{static newDefault(e=void 0){return super.newDefault(null!=e?e.native_handle():null)}static newStatic(e,t,n){return super.newStatic(e,t,n)}static newCognito(e){if(null==e||null==e)throw new i.CrtError("AwsCredentialsProvider newCognito: Cognito config not defined");return super.newCognito(e,null!=e.tlsContext?e.tlsContext.native_handle():(new a.ClientTlsContext).native_handle(),null!=e.bootstrap?e.bootstrap.native_handle():null,e.httpProxyOptions?e.httpProxyOptions.create_native_handle():null)}static newX509(e){if(null==e||null==e)throw new i.CrtError("AwsCredentialsProvider newX509: X509 config not defined");return super.newX509(e,e.tlsContext.native_handle(),e.httpProxyOptions?e.httpProxyOptions.create_native_handle():null)}}var u,l,d,p;t.AwsCredentialsProvider=c,(p=t.AwsSigningAlgorithm||(t.AwsSigningAlgorithm={}))[p.SigV4=0]="SigV4",p[p.SigV4Asymmetric=1]="SigV4Asymmetric",(d=t.AwsSignatureType||(t.AwsSignatureType={}))[d.HttpRequestViaHeaders=0]="HttpRequestViaHeaders",d[d.HttpRequestViaQueryParams=1]="HttpRequestViaQueryParams",d[d.HttpRequestChunk=2]="HttpRequestChunk",d[d.HttpRequestEvent=3]="HttpRequestEvent",(l=t.AwsSignedBodyValue||(t.AwsSignedBodyValue={})).EmptySha256="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",l.UnsignedPayload="UNSIGNED-PAYLOAD",l.StreamingAws4HmacSha256Payload="STREAMING-AWS4-HMAC-SHA256-PAYLOAD",l.StreamingAws4HmacSha256Events="STREAMING-AWS4-HMAC-SHA256-EVENTS",(u=t.AwsSignedBodyHeaderType||(t.AwsSignedBodyHeaderType={}))[u.None=0]="None",u[u.XAmzContentSha256=1]="XAmzContentSha256",t.aws_sign_request=function(e,t){return r(this,void 0,void 0,(function*(){return new Promise(((n,r)=>{try{o.default.aws_sign_request(e,t,(t=>{0==t?n(e):r(new i.CrtError(t))}))}catch(e){r(e)}}))}))},t.aws_verify_sigv4a_signing=function(e,t,n,r,s,i){return o.default.aws_verify_sigv4a_signing(e,t,n,r,s,i)}},8583:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AwsIotMqttConnectionConfigBuilder=void 0;const a=n(5641),c=o(n(3787)),u=n(3787),l=o(n(6843)),d=n(2875),p=n(7822),h=o(n(4378));class f{constructor(e){this.tls_ctx_options=e,this.params={client_id:"",host_name:"",socket_options:new c.SocketOptions,port:8883,use_websocket:!1,clean_session:!1,keep_alive:void 0,will:void 0,username:"",password:void 0,tls_ctx:void 0,reconnect_min_sec:a.DEFAULT_RECONNECT_MIN_SEC,reconnect_max_sec:a.DEFAULT_RECONNECT_MAX_SEC},this.is_using_custom_authorizer=!1}static new_mtls_builder_from_path(e,t){let n=new f(u.TlsContextOptions.create_client_with_mtls_from_path(e,t));return n.params.port=8883,c.is_alpn_available()&&n.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),n}static new_mtls_builder(e,t){let n=new f(u.TlsContextOptions.create_client_with_mtls(e,t));return n.params.port=8883,c.is_alpn_available()&&n.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),n}static new_mtls_pkcs11_builder(e){let t=new f(u.TlsContextOptions.create_client_with_mtls_pkcs11(e));return t.params.port=8883,c.is_alpn_available()&&t.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),t}static new_mtls_pkcs12_builder(e){let t=new f(u.TlsContextOptions.create_client_with_mtls_pkcs12_from_path(e.pkcs12_file,e.pkcs12_password));return t.params.port=8883,c.is_alpn_available()&&t.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),t}static new_mtls_windows_cert_store_path_builder(e){let t=new f(u.TlsContextOptions.create_client_with_mtls_windows_cert_store_path(e));return t.params.port=8883,c.is_alpn_available()&&t.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),t}static new_default_builder(){let e=new c.TlsContextOptions;return new f(e)}static new_websocket_builder(...e){return this.new_with_websockets(...e)}static configure_websocket_handshake(e,t){if(t){if(null==e||null==e)throw new d.CrtError("AwsIotMqttConnectionConfigBuilder configure_websocket_handshake: builder not defined");e.params.websocket_handshake_transform=(e,n)=>i(this,void 0,void 0,(function*(){var r,s,o;const i=null!==(s=null===(r=t.create_signing_config)||void 0===r?void 0:r.call(t))&&void 0!==s?s:{algorithm:p.AwsSigningAlgorithm.SigV4,signature_type:p.AwsSignatureType.HttpRequestViaQueryParams,provider:t.credentials_provider,region:t.region,service:null!==(o=t.service)&&void 0!==o?o:"iotdevicegateway",signed_body_value:p.AwsSignedBodyValue.EmptySha256,omit_session_token:!0};try{yield(0,p.aws_sign_request)(e,i),n()}catch(e){e instanceof d.CrtError?n(e.error_code):n(3)}}))}return e}static new_with_websockets(e){let t=null==e?void 0:e.tls_ctx_options;t||(t=new u.TlsContextOptions,t.alpn_list=[]);let n=new f(t);return n.params.use_websocket=!0,n.params.proxy_options=null==e?void 0:e.proxy_options,n.tls_ctx_options&&(n.params.port=443),this.configure_websocket_handshake(n,e),n}static new_builder_for_websocket(){return this.new_with_websockets()}with_certificate_authority_from_path(e,t){return this.tls_ctx_options.override_default_trust_store_from_path(e,t),this}with_certificate_authority(e){return this.tls_ctx_options.override_default_trust_store(e),this}with_endpoint(e){return this.params.host_name=e,this}with_port(e){return this.params.port=e,this}with_client_id(e){return this.params.client_id=e,this}with_clean_session(e){return this.params.clean_session=e,this}with_keep_alive_seconds(e){return this.params.keep_alive=e,this}with_timeout_ms(e){return this.with_ping_timeout_ms(e),this}with_ping_timeout_ms(e){return this.params.ping_timeout=e,this}with_protocol_operation_timeout_ms(e){return this.params.protocol_operation_timeout=e,this}with_will(e){return this.params.will=e,this}with_socket_options(e){return this.params.socket_options=e,this}with_credentials(e,t,n,r){return f.configure_websocket_handshake(this,{credentials_provider:p.AwsCredentialsProvider.newStatic(t,n,r),region:e,service:"iotdevicegateway"})}with_http_proxy_options(e){return this.params.proxy_options=e,this}with_custom_authorizer(e,t,n,r,s,o){this.is_using_custom_authorizer=!0;let i=h.populate_username_string_with_custom_authorizer("",e,t,n,this.params.username,s,o);return this.params.username=i,this.params.password=r,this.params.use_websocket||(this.tls_ctx_options.alpn_list=["mqtt"]),this.params.port=443,this}with_username(e){return this.params.username=e,this}with_password(e){return this.params.password=e,this}with_reconnect_max_sec(e){return this.params.reconnect_max_sec=e,this}with_reconnect_min_sec(e){return this.params.reconnect_min_sec=e,this}build(){var e,t,n;if(void 0===this.params.client_id||void 0===this.params.host_name)throw"client_id and endpoint are required";return 0==this.is_using_custom_authorizer&&h.is_string_and_not_empty(this.params.username)&&(-1==(null===(e=this.params.username)||void 0===e?void 0:e.indexOf("x-amz-customauthorizer-name="))&&-1==(null===(t=this.params.username)||void 0===t?void 0:t.indexOf("x-amz-customauthorizer-signature="))||(this.is_using_custom_authorizer=!0)),1==this.is_using_custom_authorizer&&443!=this.params.port&&console.log("Warning: Attempting to connect to authorizer with unsupported port. Port is not 443..."),void 0===this.params.tls_ctx&&(this.params.tls_ctx=new c.ClientTlsContext(this.tls_ctx_options)),0==h.is_string_and_not_empty(this.params.username)?this.params.username="?SDK=NodeJSv2&Version=":-1!=(null===(n=this.params.username)||void 0===n?void 0:n.indexOf("?"))?this.params.username+="&SDK=NodeJSv2&Version=":this.params.username+="?SDK=NodeJSv2&Version=",this.params.username+=l.crt_version(),this.params}}t.AwsIotMqttConnectionConfigBuilder=f},1838:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AwsIotMqtt5ClientConfigBuilder=void 0;const a=o(n(2385)),c=o(n(3787)),u=o(n(7822)),l=n(2875),d=o(n(4378)),p=o(n(4231));class h{constructor(e,t,n){this.tlsContextOptions=n,this.config={hostName:e,port:t,connectProperties:{keepAliveIntervalSeconds:p.DEFAULT_KEEP_ALIVE},extendedValidationAndFlowControlOptions:a.ClientExtendedValidationAndFlowControl.AwsIotCoreDefaults}}static newDirectMqttBuilderWithMtlsFromPath(e,t,n){let r=new h(e,h.DEFAULT_DIRECT_MQTT_PORT,c.TlsContextOptions.create_client_with_mtls_from_path(t,n));return c.is_alpn_available()&&r.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),r}static newDirectMqttBuilderWithMtlsFromMemory(e,t,n){let r=new h(e,h.DEFAULT_DIRECT_MQTT_PORT,c.TlsContextOptions.create_client_with_mtls(t,n));return c.is_alpn_available()&&r.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),r}static newDirectMqttBuilderWithMtlsFromPkcs11(e,t){let n=new h(e,h.DEFAULT_DIRECT_MQTT_PORT,c.TlsContextOptions.create_client_with_mtls_pkcs11(t));return c.is_alpn_available()&&n.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),n}static newDirectMqttBuilderWithMtlsFromPkcs12(e,t){let n=new h(e,h.DEFAULT_DIRECT_MQTT_PORT,c.TlsContextOptions.create_client_with_mtls_pkcs12_from_path(t.pkcs12_file,t.pkcs12_password));return c.is_alpn_available()&&n.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),n}static newDirectMqttBuilderWithMtlsFromWindowsCertStorePath(e,t){let n=new h(e,h.DEFAULT_DIRECT_MQTT_PORT,c.TlsContextOptions.create_client_with_mtls_windows_cert_store_path(t));return c.is_alpn_available()&&n.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),n}static newDirectMqttBuilderWithCustomAuth(e,t){let n=new h(e,h.DEFAULT_WEBSOCKET_MQTT_PORT,new c.TlsContextOptions);return n.customAuthConfig=t,n.tlsContextOptions.alpn_list=["mqtt"],n}static newWebsocketMqttBuilderWithSigv4Auth(e,t){let n=new c.TlsContextOptions;n.alpn_list=[];let r=new h(e,h.DEFAULT_WEBSOCKET_MQTT_PORT,n),s=null==t?void 0:t.credentialsProvider;return s||(s=u.AwsCredentialsProvider.newDefault()),r.config.websocketHandshakeTransform=(n,r)=>i(this,void 0,void 0,(function*(){var o;try{const i={algorithm:u.AwsSigningAlgorithm.SigV4,signature_type:u.AwsSignatureType.HttpRequestViaQueryParams,provider:s,region:null!==(o=null==t?void 0:t.region)&&void 0!==o?o:d.extractRegionFromEndpoint(e),service:"iotdevicegateway",signed_body_value:u.AwsSignedBodyValue.EmptySha256,omit_session_token:!0};yield u.aws_sign_request(n,i),r()}catch(e){e instanceof l.CrtError?r(e.error_code):r(3)}})),r}static newWebsocketMqttBuilderWithCustomAuth(e,t){let n=new h(e,h.DEFAULT_WEBSOCKET_MQTT_PORT,new c.TlsContextOptions);return n.customAuthConfig=t,n.config.websocketHandshakeTransform=(e,t)=>i(this,void 0,void 0,(function*(){t(0)})),n}withCertificateAuthorityFromPath(e,t){return this.tlsContextOptions.override_default_trust_store_from_path(e,t),this}withCertificateAuthority(e){return this.tlsContextOptions.override_default_trust_store(e),this}withPort(e){return this.config.port=e,this}withConnectProperties(e){return this.config.connectProperties=e,this}withSessionBehavior(e){return this.config.sessionBehavior=e,this}withRetryJitterMode(e){return this.config.retryJitterMode=e,this}withMinReconnectDelayMs(e){return this.config.minReconnectDelayMs=e,this}withMaxReconnectDelayMs(e){return this.config.maxReconnectDelayMs=e,this}withMinConnectedTimeToResetReconnectDelayMs(e){return this.config.minConnectedTimeToResetReconnectDelayMs=e,this}withConnackTimeoutMs(e){return this.config.connackTimeoutMs=e,this}withOfflineQueueBehavior(e){return this.config.offlineQueueBehavior=e,this}withPingTimeoutMs(e){return this.config.pingTimeoutMs=e,this}withAckTimeoutSeconds(e){return this.config.ackTimeoutSeconds=e,this}withSocketOptions(e){return this.config.socketOptions=e,this}withHttpProxyOptions(e){return this.config.httpProxyOptions=e,this}withExtendedValidationAndFlowControlOptions(e){return this.config.extendedValidationAndFlowControlOptions=e,this}build(){var e,t;return void 0===this.config.tlsCtx&&(this.config.tlsCtx=new c.ClientTlsContext(this.tlsContextOptions)),this.config.connectProperties&&(this.config.connectProperties.username=d.buildMqtt5FinalUsername(this.customAuthConfig),(null===(e=this.customAuthConfig)||void 0===e?void 0:e.password)&&(this.config.connectProperties.password=null===(t=this.customAuthConfig)||void 0===t?void 0:t.password)),this.config}}t.AwsIotMqtt5ClientConfigBuilder=h,h.DEFAULT_WEBSOCKET_MQTT_PORT=443,h.DEFAULT_DIRECT_MQTT_PORT=8883},1221:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(1017)),a=n(2037),c=n(7147),u=n(7282),l="Please upgrade to node >=10.16.0, or use the provided browser implementation.";if(!("napi"in u.versions))throw new Error("The current runtime is not reporting an NAPI version. "+l);if(parseInt(u.versions.napi)<4)throw new Error("The AWS CRT native implementation requires that NAPI version 4 be present. "+l);const d=`${a.platform}-${a.arch}`;let p=i.resolve(__dirname,"..","..");const h=i.join(p,"dist");(0,c.existsSync)(h)&&(p=h);const f=i.resolve(p,"bin"),m=[i.join(f,d,"aws-crt-nodejs")];let g;for(const e of m)if((0,c.existsSync)(e+".node")){g=n(1309)(e);break}if(null==g)throw new Error("AWS CRT binary not present in any of the following locations:\n\t"+m.join("\n\t"));t.default=g},5988:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.crc32c=t.crc32=void 0;const s=r(n(1221));t.crc32=function(e,t){return s.default.checksums_crc32(e,t)},t.crc32c=function(e,t){return s.default.checksums_crc32c(e,t)}},7227:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.native_memory_dump=t.native_memory=void 0;const s=r(n(1221));t.native_memory=function(){return s.default.native_memory()},t.native_memory_dump=function(){return s.default.native_memory_dump()}},5145:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hmac_sha256=t.Sha256Hmac=t.hash_sha1=t.Sha1Hash=t.hash_sha256=t.Sha256Hash=t.hash_md5=t.Md5Hash=void 0;const s=r(n(1221)),o=n(8763);class i extends o.NativeResource{update(e){s.default.hash_update(this.native_handle(),e)}finalize(e){return s.default.hash_digest(this.native_handle(),e)}constructor(e){super(e)}}t.Md5Hash=class extends i{constructor(){super(s.default.hash_md5_new())}},t.hash_md5=function(e,t){return s.default.hash_md5_compute(e,t)},t.Sha256Hash=class extends i{constructor(){super(s.default.hash_sha256_new())}},t.hash_sha256=function(e,t){return s.default.hash_sha256_compute(e,t)},t.Sha1Hash=class extends i{constructor(){super(s.default.hash_sha1_new())}},t.hash_sha1=function(e,t){return s.default.hash_sha1_compute(e,t)};class a extends o.NativeResource{update(e){s.default.hmac_update(this.native_handle(),e)}finalize(e){return s.default.hmac_digest(this.native_handle(),e)}constructor(e){super(e)}}t.Sha256Hmac=class extends a{constructor(e){super(s.default.hmac_sha256_new(e))}},t.hmac_sha256=function(e,t,n){return s.default.hmac_sha256_compute(e,t,n)}},2875:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CrtError=void 0;const s=r(n(1221));class o extends Error{constructor(e){super(function(e){return"number"==typeof e?s.default.error_code_to_string(e):e instanceof o?e.message:e.toString()}(e)),this.error=e,this.error_code=function(e){return"number"==typeof e?e:e instanceof o?e.error_code:void 0}(e),this.error_name=function(e){return"number"==typeof e?s.default.error_code_to_name(e):e instanceof o?e.error_name:void 0}(e)}}t.CrtError=o},7259:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientStream=t.ClientConnection=t.MessageType=t.MessageFlags=t.Header=t.HeaderType=void 0;const c=n(8763),u=n(9651),l=n(2875),d=o(n(3787)),p=o(n(6731)),h=o(n(7113)),f=a(n(1221));var m,g,y,w,_;!function(e){e[e.BooleanTrue=0]="BooleanTrue",e[e.BooleanFalse=1]="BooleanFalse",e[e.Byte=2]="Byte",e[e.Int16=3]="Int16",e[e.Int32=4]="Int32",e[e.Int64=5]="Int64",e[e.ByteBuffer=6]="ByteBuffer",e[e.String=7]="String",e[e.Timestamp=8]="Timestamp",e[e.UUID=9]="UUID"}(m=t.HeaderType||(t.HeaderType={}));class v{constructor(e,t,n){this.name=e,this.type=t,this.value=n}static validateHeaderName(e){if(0==e.length||e.length>127)throw new l.CrtError(`Event stream header name (${e}) is not valid`)}static newBoolean(e,t){return v.validateHeaderName(e),new v(e,t?m.BooleanTrue:m.BooleanFalse)}static newByte(e,t){if(v.validateHeaderName(e),t>=p.MIN_INT8&&t<=p.MAX_INT8&&Number.isSafeInteger(t))return new v(e,m.Byte,t);throw new l.CrtError(`Illegal value for eventstream byte-valued header: ${t}`)}static newInt16(e,t){if(v.validateHeaderName(e),t>=p.MIN_INT16&&t<=p.MAX_INT16&&Number.isSafeInteger(t))return new v(e,m.Int16,t);throw new l.CrtError(`Illegal value for eventstream int16-valued header: ${t}`)}static newInt32(e,t){if(v.validateHeaderName(e),t>=p.MIN_INT32&&t<=p.MAX_INT32&&Number.isSafeInteger(t))return new v(e,m.Int32,t);throw new l.CrtError(`Illegal value for eventstream int32-valued header: ${t}`)}static newInt64FromNumber(e,t){if(v.validateHeaderName(e),Number.isSafeInteger(t))return new v(e,m.Int64,p.marshalInt64BigintAsBuffer(BigInt(t)));throw new l.CrtError(`Illegal value for eventstream int64-valued header: ${t}`)}static newInt64FromBigint(e,t){if(v.validateHeaderName(e),t>=p.MIN_INT64&&t<=p.MAX_INT64)return new v(e,m.Int64,p.marshalInt64BigintAsBuffer(t));throw new l.CrtError(`Illegal value for eventstream int64-valued header: ${t}`)}static newByteBuffer(e,t){return v.validateHeaderName(e),new v(e,m.ByteBuffer,t)}static newString(e,t){return v.validateHeaderName(e),new v(e,m.String,t)}static newTimeStampFromSecondsSinceEpoch(e,t){if(v.validateHeaderName(e),Number.isSafeInteger(t)&&t>=0)return new v(e,m.Timestamp,t);throw new l.CrtError(`Illegal value for eventstream timestamp-valued header: ${t}`)}static newTimeStampFromDate(e,t){v.validateHeaderName(e);const n=t.getTime();if(Number.isSafeInteger(n))return new v(e,m.Timestamp,n);throw new l.CrtError(`Illegal value for eventstream timestamp-valued header: ${t}`)}static newUUID(e,t){if(v.validateHeaderName(e),16==t.byteLength)return new v(e,m.UUID,t);throw new l.CrtError(`Illegal value for eventstream uuid-valued header: ${t}`)}toValue(e){if(e!=this.type)throw new l.CrtError(`Header of type (${this.type}) cannot be converted to type (${e})`);return this.value}asBoolean(){switch(this.type){case m.BooleanFalse:return!1;case m.BooleanTrue:return!0;default:throw new l.CrtError(`Header of type (${this.type}) cannot be converted to type (boolean)`)}}asByte(){return this.toValue(m.Byte)}asInt16(){return this.toValue(m.Int16)}asInt32(){return this.toValue(m.Int32)}asInt64(){return p.unmarshalInt64BigintFromBuffer(this.toValue(m.Int64))}asByteBuffer(){return this.toValue(m.ByteBuffer)}asString(){return this.toValue(m.String)}asTimestamp(){return this.toValue(m.Timestamp)}asUUID(){return this.toValue(m.UUID)}}function b(e){let t={type:e.type,flags:e.flags,payload:e.payload};var n;return e.headers&&(t.headers=(n=e.headers,Array.from(n,(e=>new v(e.name,e.type,e.value))))),t}t.Header=v,(_=t.MessageFlags||(t.MessageFlags={}))[_.None=0]="None",_[_.ConnectionAccepted=1]="ConnectionAccepted",_[_.TerminateStream=2]="TerminateStream",(w=t.MessageType||(t.MessageType={}))[w.ApplicationMessage=0]="ApplicationMessage",w[w.ApplicationError=1]="ApplicationError",w[w.Ping=2]="Ping",w[w.PingResponse=3]="PingResponse",w[w.Connect=4]="Connect",w[w.ConnectAck=5]="ConnectAck",w[w.ProtocolError=6]="ProtocolError",w[w.InternalError=7]="InternalError",function(e){e[e.None=0]="None",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Disconnected=3]="Disconnected",e[e.Closed=4]="Closed"}(g||(g={}));class E extends((0,c.NativeResourceMixin)(u.BufferedEventEmitter)){constructor(e){if(void 0===e)throw new l.CrtError("Invalid configuration passed to eventstream ClientConnection constructor");super(),this.state=g.None,this._super(f.default.event_stream_client_connection_new(this,e,((e,t)=>{E._s_on_disconnect(e,t)}),((e,t)=>{E._s_on_protocol_message(e,t)}),e.socketOptions?e.socketOptions.native_handle():null,e.tlsCtx?e.tlsCtx.native_handle():null))}close(){this.state!=g.Closed&&(this.state=g.Closed,f.default.event_stream_client_connection_close(this.native_handle()))}connect(e){return i(this,void 0,void 0,(function*(){let t,n=new Promise(((n,r)=>{if(e)if(this.state==g.None){if(this.state=g.Connecting,e.cancelController){let n=()=>{r(new l.CrtError("Event stream connection connect() cancelled by external request.")),setImmediate((()=>{this.close()}))};if(t=e.cancelController.addListener(n),!t)return}try{f.default.event_stream_client_connection_connect(this.native_handle(),(function(e,t){return E._s_on_connection_setup(n,r,e,t)}))}catch(e){this.state=g.Disconnected,r(e)}}else r(new l.CrtError(`Event stream connection in a state (${this.state}) where connect() is not allowed.`));else r(new l.CrtError("Invalid options passed to event stream ClientConnection.connect"))}));return h.makeSelfCleaningPromise(n,t)}))}sendProtocolMessage(e){return i(this,void 0,void 0,(function*(){let t,n=new Promise(((n,r)=>{try{if(!e)return void r(new l.CrtError("Invalid options passed to event stream ClientConnection.sendProtocolMessage"));if(!this.isConnected())return void r(new l.CrtError(`Event stream connection in a state (${this.state}) where sending protocol messages is not allowed.`));if(e.cancelController){let o=()=>{r(new l.CrtError("Event stream connection sendProtocolMessage() cancelled by external request.")),setImmediate((()=>{this.close()}))};if(t=e.cancelController.addListener(o),!t)return}function s(e){return E._s_on_connection_send_protocol_message_completion(n,r,e)}f.default.event_stream_client_connection_send_protocol_message(this.native_handle(),e,s)}catch(i){r(i)}}));return h.makeSelfCleaningPromise(n,t)}))}isConnected(){return this.state==g.Connected}newStream(){if(!this.isConnected())throw new l.CrtError(`Event stream connection in a state (${this.state}) where creating new streams is forbidden.`);return new S(this)}on(e,t){return super.on(e,t),this}static _s_on_connection_setup(e,t,n,r){0==r&&n.state==g.Connecting?(n.state=g.Connected,e()):(n.state!=g.Closed&&(n.state=g.Disconnected),t(d.error_code_to_string(r)))}static _s_on_disconnect(e,t){e.state!=g.Closed&&(e.state=g.Disconnected),process.nextTick((()=>{e.emit("disconnection",{errorCode:t})}))}static _s_on_protocol_message(e,t){process.nextTick((()=>{e.emit("protocolMessage",{message:b(t)})}))}static _s_on_connection_send_protocol_message_completion(e,t,n){0==n?e():t(d.error_code_to_string(n))}}t.ClientConnection=E,E.DISCONNECTION="disconnection",E.PROTOCOL_MESSAGE="protocolMessage",function(e){e[e.None=0]="None",e[e.Activating=1]="Activating",e[e.Activated=2]="Activated",e[e.Ended=3]="Ended",e[e.Closed=4]="Closed"}(y||(y={}));class S extends((0,c.NativeResourceMixin)(u.BufferedEventEmitter)){constructor(e){super(),this._super(f.default.event_stream_client_stream_new(this,e.native_handle(),(e=>{S._s_on_stream_ended(e)}),((e,t)=>{S._s_on_stream_message(e,t)}))),this.state=y.None}close(){this.state!=y.Closed&&(this.state=y.Closed,f.default.event_stream_client_stream_close(this.native_handle()))}activate(e){return i(this,void 0,void 0,(function*(){let t,n=new Promise(((n,r)=>{try{if(this.state!=y.None)return void r(new l.CrtError(`Event stream in a state (${this.state}) where activation is not allowed.`));if(void 0===e)return this.state=y.Ended,void r(new l.CrtError("Invalid options passed to ClientStream.activate"));if(this.state=y.Activating,e.cancelController){let o=()=>{r(new l.CrtError("Event stream activate() cancelled by external request.")),setImmediate((()=>{this.close()}))};if(t=e.cancelController.addListener(o),!t)return}function s(e,t){return S._s_on_stream_activated(n,r,e,t)}f.default.event_stream_client_stream_activate(this.native_handle(),e,s)}catch(i){this.state=y.Ended,r(i)}}));return h.makeSelfCleaningPromise(n,t)}))}sendMessage(e){return i(this,void 0,void 0,(function*(){let t,n=new Promise(((n,r)=>{try{if(!e)return void r(new l.CrtError("Invalid options passed to ClientStream.sendMessage"));if(this.state!=y.Activated)return void r(new l.CrtError(`Event stream in a state (${this.state}) where sending messages is not allowed.`));if(e.cancelController){let o=()=>{r(new l.CrtError("Event stream sendMessage() cancelled by external request.")),setImmediate((()=>{this.close()}))};if(t=e.cancelController.addListener(o),!t)return}function s(e){return S._s_on_stream_send_message_completion(n,r,e)}f.default.event_stream_client_stream_send_message(this.native_handle(),e,s)}catch(i){r(i)}}));return h.makeSelfCleaningPromise(n,t)}))}isActive(){return this.state==y.Activated}on(e,t){return super.on(e,t),this}static _s_on_stream_activated(e,t,n,r){0==r&&n.state==y.Activating?(n.state=y.Activated,e()):(n.state!=y.Closed&&(n.state=y.Ended),t(d.error_code_to_string(r)))}static _s_on_stream_send_message_completion(e,t,n){0==n?e():t(d.error_code_to_string(n))}static _s_on_stream_ended(e){process.nextTick((()=>{e.emit(S.ENDED,{})}))}static _s_on_stream_message(e,t){process.nextTick((()=>{e.emit(S.MESSAGE,{message:b(t)})}))}}t.ClientStream=S,S.ENDED="ended",S.MESSAGE="message"},6731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmarshalInt64BigintFromBuffer=t.marshalInt64BigintAsBuffer=t.MIN_INT64=t.MAX_INT64=t.MIN_INT32=t.MAX_INT32=t.MIN_INT16=t.MAX_INT16=t.MIN_INT8=t.MAX_INT8=void 0;const r=n(2875);t.MAX_INT8=127,t.MIN_INT8=-128,t.MAX_INT16=32767,t.MIN_INT16=-32768,t.MAX_INT32=2147483647,t.MIN_INT32=-2147483648,t.MAX_INT64=BigInt("9223372036854775807"),t.MIN_INT64=BigInt("-9223372036854775808");const s=BigInt("256");t.marshalInt64BigintAsBuffer=function(e){if(e<t.MIN_INT64||e>t.MAX_INT64)throw new r.CrtError("marshalInt64BigintAsBuffer expects a value that can fit in 8 bytes");let n=new Uint8Array(8);if(e<0){e=-e-BigInt(1);for(let t=0;t<8;++t)n[t]=255-Number(e%s),e/=s}else for(let t=0;t<8;++t)n[t]=Number(e%s),e/=s;return n},t.unmarshalInt64BigintFromBuffer=function(e){let t=BigInt(0),n=new Uint8Array(e);if(8!=n.length)throw new r.CrtError("unmarshalInt64BigintFromBuffer expects a byte buffer of length 8");let o=BigInt(1);if(0!=(128&n[7])){for(let e=0;e<n.length;++e)t+=BigInt(255-n[e])*o,o*=s;t+=BigInt(1),t=-t}else for(let e=0;e<n.length;++e)t+=BigInt(n[e])*o,o*=s;return t}},8415:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClientConnectionManager=t.HttpClientStream=t.HttpStream=t.HttpClientConnection=t.HttpProxyOptions=t.HttpProxyConnectionType=t.HttpConnection=t.HttpRequest=t.HttpHeaders=t.HttpProxyAuthenticationType=void 0;const s=r(n(1221)),o=n(8763),i=n(2875),a=n(3804);var c=n(3804);Object.defineProperty(t,"HttpProxyAuthenticationType",{enumerable:!0,get:function(){return c.HttpProxyAuthenticationType}});const u=n(9651);t.HttpHeaders=s.default.HttpHeaders;const l=s.default.HttpRequest;t.HttpRequest=class extends l{constructor(e,t,n,r){super(e,t,n,null==r?void 0:r.native_handle())}};class d extends((0,o.NativeResourceMixin)(u.BufferedEventEmitter)){constructor(e){super(),this._super(e)}close(){s.default.http_connection_close(this.native_handle())}on(e,t){return super.on(e,t),"connect"==e&&process.nextTick((()=>{this.uncork()})),this}}var p;t.HttpConnection=d,d.CONNECT="connect",d.ERROR="error",d.CLOSE="close",function(e){e[e.Legacy=0]="Legacy",e[e.Forwarding=1]="Forwarding",e[e.Tunneling=2]="Tunneling"}(p=t.HttpProxyConnectionType||(t.HttpProxyConnectionType={}));class h extends a.CommonHttpProxyOptions{constructor(e,t,n=a.HttpProxyAuthenticationType.None,r,s,o,i){super(e,t,n,r,s),this.tls_opts=o,this.connection_type=i}create_native_handle(){return s.default.http_proxy_options_new(this.host_name,this.port,this.auth_method,this.auth_username,this.auth_password,this.tls_opts?this.tls_opts.native_handle():void 0,this.connection_type?this.connection_type:p.Legacy)}}t.HttpProxyOptions=h;class f extends d{constructor(e,t,n,r,o,a,c){if(null==r||null==r)throw new i.CrtError("HttpClientConnection constructor: socket_options not defined");super(c||s.default.http_connection_new(null!=e?e.native_handle():null,((e,t)=>{this._on_setup(e,t)}),((e,t)=>{this._on_shutdown(e,t)}),t,n,r.native_handle(),o?o.native_handle():void 0,a?a.create_native_handle():void 0)),this.bootstrap=e,this.socket_options=r,this.tls_opts=o}_on_setup(e,t){t?this.emit("error",new i.CrtError(t)):this.emit("connect")}_on_shutdown(e,t){t?this.emit("error",new i.CrtError(t)):this.emit("close")}request(e){let t;const n=s.default.http_stream_new(this.native_handle(),e,(e=>{t._on_complete(e)}),((e,n)=>{t._on_response(e,n)}),(e=>{t._on_body(e)}));return t=new g(n,this,e)}}t.HttpClientConnection=f;class m extends((0,o.NativeResourceMixin)(u.BufferedEventEmitter)){constructor(e,t){super(),this.connection=t,this._super(e),this.cork()}activate(){s.default.http_stream_activate(this.native_handle())}close(){s.default.http_stream_close(this.native_handle())}_on_body(e){this.emit("data",e)}_on_complete(e){if(e)return this.emit("error",new i.CrtError(e)),void this.close();this.on("end",(()=>{this.close()})),this.emit("end")}}t.HttpStream=m;class g extends m{constructor(e,t,n){super(e,t),this.request=n}status_code(){return this.response_status_code}on(e,t){return super.on(e,t),"response"==e&&process.nextTick((()=>{this.uncork()})),this}_on_response(e,n){this.response_status_code=e;let r=new t.HttpHeaders(n);this.emit("response",e,r)}}t.HttpClientStream=g,g.RESPONSE="response",g.DATA="data",g.ERROR="error",g.END="end",g.HEADERS="headers";class y extends o.NativeResource{constructor(e,t,n,r,o,a,c,u){if(null==a||null==a)throw new i.CrtError("HttpClientConnectionManager constructor: socket_options not defined");super(s.default.http_connection_manager_new(null!=e?e.native_handle():null,t,n,r,o,a.native_handle(),c?c.native_handle():void 0,u?u.create_native_handle():void 0,void 0)),this.bootstrap=e,this.host=t,this.port=n,this.max_connections=r,this.initial_window_size=o,this.socket_options=a,this.tls_opts=c,this.proxy_options=u,this.connections=new Map}acquire(){return new Promise(((e,t)=>{s.default.http_connection_manager_acquire(this.native_handle(),((n,r)=>{if(r)return void t(new i.CrtError(r));let s=this.connections.get(n);s||(s=new f(this.bootstrap,this.host,this.port,this.socket_options,this.tls_opts,this.proxy_options,n),this.connections.set(n,s),s.on("close",(()=>{this.connections.delete(n)}))),e(s)}))}))}release(e){if(null==e||null==e)throw new i.CrtError("HttpClientConnectionManager release: connection not defined");s.default.http_connection_manager_release(this.native_handle(),e.native_handle())}close(){s.default.http_connection_manager_close(this.native_handle())}}t.HttpClientConnectionManager=y},3787:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Pkcs11Lib=t.TlsConnectionOptions=t.ServerTlsContext=t.ClientTlsContext=t.TlsContext=t.TlsContextOptions=t.SocketOptions=t.ClientBootstrap=t.InputStream=t.is_alpn_available=t.enable_logging=t.LogLevel=t.error_code_to_name=t.error_code_to_string=t.SocketDomain=t.SocketType=t.TlsVersion=void 0;const s=r(n(1221)),o=n(8763),i=n(9712);var a=n(9712);Object.defineProperty(t,"TlsVersion",{enumerable:!0,get:function(){return a.TlsVersion}}),Object.defineProperty(t,"SocketType",{enumerable:!0,get:function(){return a.SocketType}}),Object.defineProperty(t,"SocketDomain",{enumerable:!0,get:function(){return a.SocketDomain}});const c=n(2875);var u;t.error_code_to_string=function(e){return s.default.error_code_to_string(e)},t.error_code_to_name=function(e){return s.default.error_code_to_name(e)},(u=t.LogLevel||(t.LogLevel={}))[u.NONE=0]="NONE",u[u.FATAL=1]="FATAL",u[u.ERROR=2]="ERROR",u[u.WARN=3]="WARN",u[u.INFO=4]="INFO",u[u.DEBUG=5]="DEBUG",u[u.TRACE=6]="TRACE",t.enable_logging=function(e){s.default.io_logging_enable(e)},t.is_alpn_available=function(){return s.default.is_alpn_available()};class l extends o.NativeResource{constructor(e){super(s.default.io_input_stream_new(16384)),this.source=e,this.source.on("data",(e=>{e=Buffer.isBuffer(e)?e:Buffer.from(e.toString()),s.default.io_input_stream_append(this.native_handle(),e)})),this.source.on("end",(()=>{s.default.io_input_stream_append(this.native_handle(),void 0)}))}}t.InputStream=l;class d extends o.NativeResource{constructor(){super(s.default.io_client_bootstrap_new())}}t.ClientBootstrap=d;class p extends o.NativeResource{constructor(e=i.SocketType.STREAM,t=i.SocketDomain.IPV6,n=5e3,r=!1,o=0,a=0,c=0){super(s.default.io_socket_options_new(e,t,n,o,a,c,r))}}t.SocketOptions=p;class h{constructor(){this.min_tls_version=i.TlsVersion.Default,this.alpn_list=[],this.verify_peer=!0}override_default_trust_store_from_path(e,t){this.ca_dirpath=e,this.ca_filepath=t}override_default_trust_store(e){this.certificate_authority=e}static create_client_with_mtls(e,t){let n=new h;return n.certificate=e,n.private_key=t,n.verify_peer=!0,n}static create_client_with_mtls_from_path(e,t){let n=new h;return n.certificate_filepath=e,n.private_key_filepath=t,n.verify_peer=!0,n}static create_client_with_mtls_pkcs12_from_path(e,t){let n=new h;return n.pkcs12_filepath=e,n.pkcs12_password=t,n.verify_peer=!0,n}static create_client_with_mtls_pkcs_from_path(e,t){return this.create_client_with_mtls_pkcs12_from_path(e,t)}static create_client_with_mtls_pkcs11(e){let t=new h;return t.pkcs11_options=e,t.verify_peer=!0,t}static create_client_with_mtls_windows_cert_store_path(e){let t=new h;return t.windows_cert_store_path=e,t.verify_peer=!0,t}static create_server_with_mtls_from_path(e,t){let n=new h;return n.certificate_filepath=e,n.private_key_filepath=t,n.verify_peer=!1,n}static create_server_with_mtls_pkcs_from_path(e,t){let n=new h;return n.pkcs12_filepath=e,n.pkcs12_password=t,n.verify_peer=!1,n}}t.TlsContextOptions=h;class f extends o.NativeResource{constructor(e){if(null==e||null==e)throw new c.CrtError("TlsContext constructor: ctx_opt not defined");super(s.default.io_tls_ctx_new(e.min_tls_version,e.ca_filepath,e.ca_dirpath,e.certificate_authority,e.alpn_list&&e.alpn_list.length>0?e.alpn_list.join(";"):void 0,e.certificate_filepath,e.certificate,e.private_key_filepath,e.private_key,e.pkcs12_filepath,e.pkcs12_password,e.pkcs11_options,e.windows_cert_store_path,e.verify_peer))}}t.TlsContext=f,t.ClientTlsContext=class extends f{constructor(e){e||((e=new h).verify_peer=!0),super(e)}},t.ServerTlsContext=class extends f{constructor(e){e||((e=new h).verify_peer=!1),super(e)}};class m extends o.NativeResource{constructor(e,t,n=[]){if(null==e||null==e)throw new c.CrtError("TlsConnectionOptions constructor: tls_ctx not defined");super(s.default.io_tls_connection_options_new(e.native_handle(),t,n&&n.length>0?n.join(";"):void 0)),this.tls_ctx=e,this.server_name=t,this.alpn_list=n}}t.TlsConnectionOptions=m;class g extends o.NativeResource{constructor(e,t=g.InitializeFinalizeBehavior.DEFAULT){super(s.default.io_pkcs11_lib_new(e,t))}close(){s.default.io_pkcs11_lib_close(this.native_handle())}}t.Pkcs11Lib=g,function(e){let t;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.OMIT=1]="OMIT",e[e.STRICT=2]="STRICT"}(t=e.InitializeFinalizeBehavior||(e.InitializeFinalizeBehavior={}))}(g=t.Pkcs11Lib||(t.Pkcs11Lib={}))},9793:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(8583),t),s(n(1838),t)},799:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MqttClientConnection=t.MqttClient=t.MqttWill=t.QoS=t.HttpProxyOptions=void 0;const c=a(n(1221)),u=n(8763),l=n(9651),d=o(n(4231)),p=n(2875),h=o(n(3787));var f=n(8415);Object.defineProperty(t,"HttpProxyOptions",{enumerable:!0,get:function(){return f.HttpProxyOptions}});const m=n(5641);var g=n(5641);Object.defineProperty(t,"QoS",{enumerable:!0,get:function(){return g.QoS}}),Object.defineProperty(t,"MqttWill",{enumerable:!0,get:function(){return g.MqttWill}});class y extends u.NativeResource{constructor(e=void 0){super(c.default.mqtt_client_new(null!=e?e.native_handle():null)),this.bootstrap=e}new_connection(e){return new w(this,e)}}t.MqttClient=y;class w extends((0,u.NativeResourceMixin)(l.BufferedEventEmitter)){constructor(e,t){if(super(),this.client=e,this.config=t,null==t||null==t)throw new p.CrtError("MqttClientConnection constructor: config not defined");const n=t.will?{topic:t.will.topic,qos:t.will.qos,payload:d.normalize_payload(t.will.payload),retain:t.will.retain}:void 0;var r=m.DEFAULT_RECONNECT_MIN_SEC,s=m.DEFAULT_RECONNECT_MAX_SEC;if(t.reconnect_min_sec&&(r=t.reconnect_min_sec,s=Math.max(r,s)),t.reconnect_max_sec&&(s=t.reconnect_max_sec,r=Math.min(r,s)),null==e||null==e)throw new p.CrtError("MqttClientConnection constructor: client not defined");if(null==t.socket_options||null==t.socket_options)throw new p.CrtError("MqttClientConnection constructor: socket_options in configuration not defined");this._super(c.default.mqtt_client_connection_new(e.native_handle(),(e=>{this._on_connection_interrupted(e)}),((e,t)=>{this._on_connection_resumed(e,t)}),t.tls_ctx?t.tls_ctx.native_handle():null,n,t.username,t.password,t.use_websocket,t.proxy_options?t.proxy_options.create_native_handle():void 0,t.websocket_handshake_transform,r,s)),this.tls_ctx=t.tls_ctx,c.default.mqtt_client_connection_on_message(this.native_handle(),this._on_any_publish.bind(this)),this.on("error",(e=>{}))}close(){c.default.mqtt_client_connection_close(this.native_handle())}on(e,t){return super.on(e,t),"connect"==e&&process.nextTick((()=>{this.uncork()})),this}connect(){return i(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{if(t=this._reject(t),null==this.config.socket_options||null==this.config.socket_options)throw new p.CrtError("MqttClientConnection connect: socket_options in configuration not defined");try{c.default.mqtt_client_connection_connect(this.native_handle(),this.config.client_id,this.config.host_name,this.config.port,this.config.socket_options.native_handle(),this.config.keep_alive,this.config.ping_timeout,this.config.protocol_operation_timeout,this.config.clean_session,this._on_connect_callback.bind(this,e,t))}catch(e){t(e)}}))}))}reconnect(){return i(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{t=this._reject(t);try{c.default.mqtt_client_connection_reconnect(this.native_handle(),this._on_connect_callback.bind(this,e,t))}catch(e){t(e)}}))}))}publish(e,t,n,r=!1){return i(this,void 0,void 0,(function*(){return"string"!=typeof e?Promise.reject("topic is not a string"):"number"!=typeof n?Promise.reject("qos is not a number"):"boolean"!=typeof r?Promise.reject("retain is not a boolean"):new Promise(((s,o)=>{o=this._reject(o);try{c.default.mqtt_client_connection_publish(this.native_handle(),e,d.normalize_payload(t),n,r,this._on_puback_callback.bind(this,s,o))}catch(e){o(e)}}))}))}subscribe(e,t,n){return i(this,void 0,void 0,(function*(){return"string"!=typeof e?Promise.reject("topic is not a string"):"number"!=typeof t?Promise.reject("qos is not a number"):new Promise(((r,s)=>{s=this._reject(s);try{c.default.mqtt_client_connection_subscribe(this.native_handle(),e,t,n,this._on_suback_callback.bind(this,r,s))}catch(e){s(e)}}))}))}unsubscribe(e){return i(this,void 0,void 0,(function*(){return"string"!=typeof e?Promise.reject("topic is not a string"):new Promise(((t,n)=>{n=this._reject(n);try{c.default.mqtt_client_connection_unsubscribe(this.native_handle(),e,this._on_unsuback_callback.bind(this,t,n))}catch(e){n(e)}}))}))}disconnect(){return i(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{t=this._reject(t);try{c.default.mqtt_client_connection_disconnect(this.native_handle(),this._on_disconnect_callback.bind(this,e))}catch(e){t(e)}}))}))}getQueueStatistics(){return c.default.mqtt_client_connection_get_queue_statistics(this.native_handle())}_reject(e){return t=>{e(t),process.nextTick((()=>{this.emit("error",new p.CrtError(t))}))}}_on_connection_interrupted(e){this.emit("interrupt",new p.CrtError(e))}_on_connection_resumed(e,t){this.emit("resume",e,t)}_on_any_publish(e,t,n,r,s){this.emit("message",e,t,n,r,s)}_on_connect_callback(e,t,n,r,s){0==n&&0==r?(e(s),this.emit("connect",s)):t(0!=n?"Failed to connect: "+h.error_code_to_string(n):"Server rejected connection.")}_on_puback_callback(e,t,n,r){0==r?e({packet_id:n}):t("Failed to publish: "+h.error_code_to_string(r))}_on_suback_callback(e,t,n,r,s,o){0==o?e({packet_id:n,topic:r,qos:s,error_code:o}):t("Failed to subscribe: "+h.error_code_to_string(o))}_on_unsuback_callback(e,t,n,r){0==r?e({packet_id:n}):t("Failed to unsubscribe: "+h.error_code_to_string(r))}_on_disconnect_callback(e){e(),this.emit("disconnect"),this.close()}}t.MqttClientConnection=w,w.CONNECT="connect",w.DISCONNECT="disconnect",w.ERROR="error",w.INTERRUPT="interrupt",w.RESUME="resume",w.MESSAGE="message"},2385:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t},i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Mqtt5Client=t.ClientExtendedValidationAndFlowControl=t.ClientOperationQueueBehavior=t.HttpProxyOptions=void 0;const u=c(n(1221)),l=n(8763),d=n(9651),p=o(n(3787)),h=o(n(4231)),f=n(2875);var m,g,y=n(8415);Object.defineProperty(t,"HttpProxyOptions",{enumerable:!0,get:function(){return y.HttpProxyOptions}}),i(n(5018),t),i(n(202),t),(g=t.ClientOperationQueueBehavior||(t.ClientOperationQueueBehavior={}))[g.Default=0]="Default",g[g.FailNonQos1PublishOnDisconnect=1]="FailNonQos1PublishOnDisconnect",g[g.FailQos0PublishOnDisconnect=2]="FailQos0PublishOnDisconnect",g[g.FailAllOnDisconnect=3]="FailAllOnDisconnect",(m=t.ClientExtendedValidationAndFlowControl||(t.ClientExtendedValidationAndFlowControl={}))[m.None=0]="None",m[m.AwsIotCoreDefaults=1]="AwsIotCoreDefaults";class w extends((0,l.NativeResourceMixin)(d.BufferedEventEmitter)){constructor(e){super(),this._super(u.default.mqtt5_client_new(this,e,(e=>{w._s_on_stopped(e)}),(e=>{w._s_on_attempting_connect(e)}),((e,t,n)=>{w._s_on_connection_success(e,t,n)}),((e,t,n)=>{w._s_on_connection_failure(e,new f.CrtError(t),n)}),((e,t,n)=>{w._s_on_disconnection(e,new f.CrtError(t),n)}),((e,t)=>{w._s_on_message_received(e,t)}),e.clientBootstrap?e.clientBootstrap.native_handle():null,e.socketOptions?e.socketOptions.native_handle():null,e.tlsCtx?e.tlsCtx.native_handle():null,e.httpProxyOptions?e.httpProxyOptions.create_native_handle():null))}close(){u.default.mqtt5_client_close(this.native_handle())}start(){u.default.mqtt5_client_start(this.native_handle())}stop(e){u.default.mqtt5_client_stop(this.native_handle(),e)}subscribe(e){return a(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{try{u.default.mqtt5_client_subscribe(this.native_handle(),e,(function(e,r,s){return w._s_on_suback_callback(t,n,e,r,s)}))}catch(e){n(e)}}))}))}unsubscribe(e){return a(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{try{u.default.mqtt5_client_unsubscribe(this.native_handle(),e,(function(e,r,s){return w._s_on_unsuback_callback(t,n,e,r,s)}))}catch(e){n(e)}}))}))}publish(e){return a(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{e&&e.payload&&(e.payload=h.normalize_payload(e.payload));try{u.default.mqtt5_client_publish(this.native_handle(),e,(function(e,r,s){return w._s_on_puback_callback(t,n,e,r,s)}))}catch(e){n(e)}}))}))}getQueueStatistics(){return u.default.mqtt5_client_get_queue_statistics(this.native_handle())}on(e,t){return super.on(e,t),this}static _s_on_stopped(e){process.nextTick((()=>{e.emit(w.STOPPED,{})}))}static _s_on_attempting_connect(e){process.nextTick((()=>{e.emit(w.ATTEMPTING_CONNECT,{})}))}static _s_on_connection_success(e,t,n){let r={connack:t,settings:n};process.nextTick((()=>{e.emit(w.CONNECTION_SUCCESS,r)}))}static _s_on_connection_failure(e,t,n){let r={error:t};null!=n&&(r.connack=n),process.nextTick((()=>{e.emit(w.CONNECTION_FAILURE,r)}))}static _s_on_disconnection(e,t,n){let r={error:t};null!=n&&(r.disconnect=n),process.nextTick((()=>{e.emit(w.DISCONNECTION,r)}))}static _s_on_suback_callback(e,t,n,r,s){0==r&&void 0!==s?e(s):t(p.error_code_to_string(r))}static _s_on_unsuback_callback(e,t,n,r,s){0==r&&void 0!==s?e(s):t(p.error_code_to_string(r))}static _s_on_puback_callback(e,t,n,r,s){0==r?e(s):t(p.error_code_to_string(r))}static _s_on_message_received(e,t){let n={message:t};process.nextTick((()=>{e.emit(w.MESSAGE_RECEIVED,n)}))}}t.Mqtt5Client=w,w.ERROR="error",w.MESSAGE_RECEIVED="messageReceived",w.ATTEMPTING_CONNECT="attemptingConnect",w.CONNECTION_SUCCESS="connectionSuccess",w.CONNECTION_FAILURE="connectionFailure",w.DISCONNECTION="disconnection",w.STOPPED="stopped"},8763:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeResourceMixin=t.NativeResource=void 0,t.NativeResource=class{constructor(e){this.handle=e}native_handle(){return this.handle}},t.NativeResourceMixin=function(e){return class extends e{constructor(...e){const t=e.shift();super(...e),this._handle=t}_super(e){this._handle=e}native_handle(){return this._handle}}}},1309:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=1309,e.exports=t},6932:(e,t,n)=>{"use strict";const r=n(8501),s=n(8844),o=n(1192);e.exports={XMLParser:s,XMLValidator:r,XMLBuilder:o}},7849:(e,t)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),s=r.length;for(let o=0;o<s;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){return!(null==s.exec(e))},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const s=[];s.startIndex=t.lastIndex-r[0].length;const o=r.length;for(let e=0;e<o;e++)s.push(r[e]);n.push(s),r=t.exec(e)}return n},t.nameRegexp=r},8501:(e,t,n)=>{"use strict";const r=n(7849),s={allowBooleanAttributes:!1,unpairedTags:[]};function o(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function i(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const r=e.substr(n,t-n);if(t>5&&"xml"===r)return f("InvalidXml","XML declaration allowed only at the start of the document.",g(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function a(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=Object.assign({},s,t);const n=[];let c=!1,u=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let s=0;s<e.length;s++)if("<"===e[s]&&"?"===e[s+1]){if(s+=2,s=i(e,s),s.err)return s}else{if("<"!==e[s]){if(o(e[s]))continue;return f("InvalidChar","char '"+e[s]+"' is not expected.",g(e,s))}{let m=s;if(s++,"!"===e[s]){s=a(e,s);continue}{let y=!1;"/"===e[s]&&(y=!0,s++);let w="";for(;s<e.length&&">"!==e[s]&&" "!==e[s]&&"\t"!==e[s]&&"\n"!==e[s]&&"\r"!==e[s];s++)w+=e[s];if(w=w.trim(),"/"===w[w.length-1]&&(w=w.substring(0,w.length-1),s--),d=w,!r.isName(d)){let t;return t=0===w.trim().length?"Invalid space after '<'.":"Tag '"+w+"' is an invalid name.",f("InvalidTag",t,g(e,s))}const _=l(e,s);if(!1===_)return f("InvalidAttr","Attributes for '"+w+"' have open quote.",g(e,s));let v=_.value;if(s=_.index,"/"===v[v.length-1]){const n=s-v.length;v=v.substring(0,v.length-1);const r=p(v,t);if(!0!==r)return f(r.err.code,r.err.msg,g(e,n+r.err.line));c=!0}else if(y){if(!_.tagClosed)return f("InvalidTag","Closing tag '"+w+"' doesn't have proper closing.",g(e,s));if(v.trim().length>0)return f("InvalidTag","Closing tag '"+w+"' can't have attributes or invalid starting.",g(e,m));{const t=n.pop();if(w!==t.tagName){let n=g(e,t.tagStartPos);return f("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+w+"'.",g(e,m))}0==n.length&&(u=!0)}}else{const r=p(v,t);if(!0!==r)return f(r.err.code,r.err.msg,g(e,s-v.length+r.err.line));if(!0===u)return f("InvalidXml","Multiple possible root nodes found.",g(e,s));-1!==t.unpairedTags.indexOf(w)||n.push({tagName:w,tagStartPos:m}),c=!0}for(s++;s<e.length;s++)if("<"===e[s]){if("!"===e[s+1]){s++,s=a(e,s);continue}if("?"!==e[s+1])break;if(s=i(e,++s),s.err)return s}else if("&"===e[s]){const t=h(e,s);if(-1==t)return f("InvalidChar","char '&' is not expected.",g(e,s));s=t}else if(!0===u&&!o(e[s]))return f("InvalidXml","Extra text at the end",g(e,s));"<"===e[s]&&s--}}}var d;return c?1==n.length?f("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",g(e,n[0].tagStartPos)):!(n.length>0)||f("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):f("InvalidXml","Start tag expected.",1)};const c='"',u="'";function l(e,t){let n="",r="",s=!1;for(;t<e.length;t++){if(e[t]===c||e[t]===u)""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){s=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:s}}const d=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function p(e,t){const n=r.getAllMatches(e,d),s={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return f("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",y(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return f("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",y(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",y(n[e]));const r=n[e][2];if(!m(r))return f("InvalidAttr","Attribute '"+r+"' is an invalid name.",y(n[e]));if(s.hasOwnProperty(r))return f("InvalidAttr","Attribute '"+r+"' is repeated.",y(n[e]));s[r]=1}return!0}function h(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function f(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function m(e){return r.isName(e)}function g(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function y(e){return e.startIndex+e[1].length}},1192:(e,t,n)=>{"use strict";const r=n(2592),s={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function o(e){this.options=Object.assign({},s,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=i,this.options.format?(this.indentate=a,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function i(e,t,n){const r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}function a(e){return this.options.indentBy.repeat(e)}function c(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}o.prototype.build=function(e){return this.options.preserveOrder?r(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},o.prototype.j2x=function(e,t){let n="",r="";for(let s in e)if(void 0===e[s]);else if(null===e[s])"?"===s[0]?r+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)r+=this.buildTextValNode(e[s],s,"",t);else if("object"!=typeof e[s]){const o=this.isAttribute(s);if(o)n+=this.buildAttrPairStr(o,""+e[s]);else if(s===this.options.textNodeName){let t=this.options.tagValueProcessor(s,""+e[s]);r+=this.replaceEntitiesValue(t)}else r+=this.buildTextValNode(e[s],s,"",t)}else if(Array.isArray(e[s])){const n=e[s].length;let o="";for(let i=0;i<n;i++){const n=e[s][i];void 0===n||(null===n?"?"===s[0]?r+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+s+"/"+this.tagEndChar:"object"==typeof n?this.options.oneListGroup?o+=this.j2x(n,t+1).val:o+=this.processTextOrObjNode(n,s,t):o+=this.buildTextValNode(n,s,"",t))}this.options.oneListGroup&&(o=this.buildObjectNode(o,s,"",t)),r+=o}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){const t=Object.keys(e[s]),r=t.length;for(let o=0;o<r;o++)n+=this.buildAttrPairStr(t[o],""+e[s][t[o]])}else r+=this.processTextOrObjNode(e[s],s,t);return{attrStr:n,val:r}},o.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},o.prototype.buildObjectNode=function(e,t,n,r){if(""===e)return"?"===t[0]?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let s="</"+t+this.tagEndChar,o="";return"?"===t[0]&&(o="?",s=""),n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+o+">"+e+s:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===o.length?this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(r)+"<"+t+n+o+this.tagEndChar+e+this.indentate(r)+s}},o.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},o.prototype.buildTextValNode=function(e,t,n,r){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),""===s?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+s+"</"+t+this.tagEndChar}},o.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e},e.exports=o},2592:e=>{function t(e,i,a,c){let u="",l=!1;for(let d=0;d<e.length;d++){const p=e[d],h=n(p);let f="";if(f=0===a.length?h:`${a}.${h}`,h===i.textNodeName){let e=p[h];s(f,i)||(e=i.tagValueProcessor(h,e),e=o(e,i)),l&&(u+=c),u+=e,l=!1;continue}if(h===i.cdataPropName){l&&(u+=c),u+=`<![CDATA[${p[h][0][i.textNodeName]}]]>`,l=!1;continue}if(h===i.commentPropName){u+=c+`\x3c!--${p[h][0][i.textNodeName]}--\x3e`,l=!0;continue}if("?"===h[0]){const e=r(p[":@"],i),t="?xml"===h?"":c;let n=p[h][0][i.textNodeName];n=0!==n.length?" "+n:"",u+=t+`<${h}${n}${e}?>`,l=!0;continue}let m=c;""!==m&&(m+=i.indentBy);const g=c+`<${h}${r(p[":@"],i)}`,y=t(p[h],i,f,m);-1!==i.unpairedTags.indexOf(h)?i.suppressUnpairedNode?u+=g+">":u+=g+"/>":y&&0!==y.length||!i.suppressEmptyNode?y&&y.endsWith(">")?u+=g+`>${y}${c}</${h}>`:(u+=g+">",y&&""!==c&&(y.includes("/>")||y.includes("</"))?u+=c+i.indentBy+y+c:u+=y,u+=`</${h}>`):u+=g+"/>",l=!0}return u}function n(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function r(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){let s=t.attributeValueProcessor(r,e[r]);s=o(s,t),!0===s&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${s}"`}return n}function s(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function o(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const r=t.entities[n];e=e.replace(r.regex,r.val)}return e}e.exports=function(e,n){let r="";return n.format&&n.indentBy.length>0&&(r="\n"),t(e,n,"",r)}},4780:e=>{function t(e,t){let n="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)n+=e[t];if(n=n.trim(),-1!==n.indexOf(" "))throw new Error("External entites are not supported");const r=e[t++];let s="";for(;t<e.length&&e[t]!==r;t++)s+=e[t];return[n,s,t]}function n(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function r(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function s(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function o(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function i(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}const a="!?\\/[]$%{}^&*()<>|+";function c(e){for(let t=0;t<19;t++){const n=a[t];if(-1!==e.indexOf(n))throw new Error(`Invalid character ${n} in entity name`)}return e}e.exports=function(e,a){const u={};if("O"!==e[a+3]||"C"!==e[a+4]||"T"!==e[a+5]||"Y"!==e[a+6]||"P"!==e[a+7]||"E"!==e[a+8])throw new Error("Invalid Tag instead of DOCTYPE");{a+=9;let l=1,d=!1,p=!1,h="";for(;a<e.length;a++)if("<"!==e[a]||p)if(">"===e[a]){if(p?"-"===e[a-1]&&"-"===e[a-2]&&(p=!1,l--):l--,0===l)break}else"["===e[a]?d=!0:h+=e[a];else{if(d&&r(e,a))a+=7,[entityName,val,a]=t(e,a+1),-1===val.indexOf("&")&&(u[c(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(d&&s(e,a))a+=8;else if(d&&o(e,a))a+=8;else if(d&&i(e,a))a+=9;else{if(!n)throw new Error("Invalid DOCTYPE");p=!0}l++,h=""}if(0!==l)throw new Error("Unclosed DOCTYPE")}return{entities:u,i:a}}},6745:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}};t.buildOptions=function(e){return Object.assign({},n,e)},t.defaultOptions=n},1078:(e,t,n)=>{"use strict";const r=n(7849),s=n(6311),o=n(4780),i=n(4153);function a(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function c(e,t,n,r,s,o,i){if(void 0!==e&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));const r=this.options.tagValueProcessor(t,e,n,s,o);return null==r?e:typeof r!=typeof e||r!==e?r:this.options.trimValues||e.trim()===e?v(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function u(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp);const l=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function d(e,t,n){if(!this.options.ignoreAttributes&&"string"==typeof e){const n=r.getAllMatches(e,l),s=n.length,o={};for(let e=0;e<s;e++){const r=this.resolveNameSpace(n[e][1]);let s=n[e][4],i=this.options.attributeNamePrefix+r;if(r.length)if(this.options.transformAttributeName&&(i=this.options.transformAttributeName(i)),"__proto__"===i&&(i="#__proto__"),void 0!==s){this.options.trimValues&&(s=s.trim()),s=this.replaceEntitiesValue(s);const e=this.options.attributeValueProcessor(r,s,t);o[i]=null==e?s:typeof e!=typeof s||e!==s?e:v(s,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[i]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=o,e}return o}}const p=function(e){e=e.replace(/\r\n?/g,"\n");const t=new s("!xml");let n=t,r="",i="";for(let a=0;a<e.length;a++)if("<"===e[a])if("/"===e[a+1]){const t=y(e,">",a,"Closing Tag is not closed.");let s=e.substring(a+2,t).trim();if(this.options.removeNSPrefix){const e=s.indexOf(":");-1!==e&&(s=s.substr(e+1))}this.options.transformTagName&&(s=this.options.transformTagName(s)),n&&(r=this.saveTextToParentTag(r,n,i));const o=i.substring(i.lastIndexOf(".")+1);if(s&&-1!==this.options.unpairedTags.indexOf(s))throw new Error(`Unpaired tag can not be used as closing tag: </${s}>`);let c=0;o&&-1!==this.options.unpairedTags.indexOf(o)?(c=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=i.lastIndexOf("."),i=i.substring(0,c),n=this.tagsNodeStack.pop(),r="",a=t}else if("?"===e[a+1]){let t=w(e,a,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new s(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,i,t.tagName)),this.addChild(n,e,i)}a=t.closeIndex+1}else if("!--"===e.substr(a+1,3)){const t=y(e,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){const s=e.substring(a+4,t-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:s}])}a=t}else if("!D"===e.substr(a+1,2)){const t=o(e,a);this.docTypeEntities=t.entities,a=t.i}else if("!["===e.substr(a+1,2)){const t=y(e,"]]>",a,"CDATA is not closed.")-2,s=e.substring(a+9,t);if(r=this.saveTextToParentTag(r,n,i),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:s}]);else{let e=this.parseTextData(s,n.tagname,i,!0,!1,!0);null==e&&(e=""),n.add(this.options.textNodeName,e)}a=t+2}else{let o=w(e,a,this.options.removeNSPrefix),c=o.tagName,u=o.tagExp,l=o.attrExpPresent,d=o.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,i,!1));const p=n;if(p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==t.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let t="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)a=o.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(c))a=o.closeIndex;else{const n=this.readStopNodeData(e,c,d+1);if(!n)throw new Error(`Unexpected end of ${c}`);a=n.i,t=n.tagContent}const r=new s(c);c!==u&&l&&(r[":@"]=this.buildAttributesMap(u,i,c)),t&&(t=this.parseTextData(t,c,i,!0,l,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),r.add(this.options.textNodeName,t),this.addChild(n,r,i)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const e=new s(c);c!==u&&l&&(e[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(n,e,i),i=i.substr(0,i.lastIndexOf("."))}else{const e=new s(c);this.tagsNodeStack.push(n),c!==u&&l&&(e[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(n,e,i),n=e}r="",a=d}}else r+=e[a];return t.child};function h(e,t,n){const r=this.options.updateTag(t.tagname,n,t[":@"]);!1===r||("string"==typeof r?(t.tagname=r,e.addChild(t)):e.addChild(t))}const f=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function m(e,t,n,r){return e&&(void 0===r&&(r=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,r))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function g(e,t,n){const r="*."+n;for(const n in e){const s=e[n];if(r===s||t===s)return!0}return!1}function y(e,t,n,r){const s=e.indexOf(t,n);if(-1===s)throw new Error(r);return s+t.length-1}function w(e,t,n,r=">"){const s=function(e,t,n=">"){let r,s="";for(let o=t;o<e.length;o++){let t=e[o];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else if(t===n[0]){if(!n[1])return{data:s,index:o};if(e[o+1]===n[1])return{data:s,index:o}}else"\t"===t&&(t=" ");s+=t}}(e,t+1,r);if(!s)return;let o=s.data;const i=s.index,a=o.search(/\s/);let c=o,u=!0;if(-1!==a&&(c=o.substr(0,a).replace(/\s\s*$/,""),o=o.substr(a+1)),n){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1),u=c!==s.data.substr(e+1))}return{tagName:c,tagExp:o,closeIndex:i,attrExpPresent:u}}function _(e,t,n){const r=n;let s=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const o=y(e,">",n,`${t} is not closed`);if(e.substring(n+2,o).trim()===t&&(s--,0===s))return{tagContent:e.substring(r,n),i:o};n=o}else if("?"===e[n+1])n=y(e,"?>",n+1,"StopNode is not closed.");else if("!--"===e.substr(n+1,3))n=y(e,"--\x3e",n+3,"StopNode is not closed.");else if("!["===e.substr(n+1,2))n=y(e,"]]>",n,"StopNode is not closed.")-2;else{const r=w(e,n,">");r&&((r&&r.tagName)===t&&"/"!==r.tagExp[r.tagExp.length-1]&&s++,n=r.closeIndex)}}function v(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&i(e,n)}return r.isExist(e)?e:""}e.exports=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""}},this.addExternalEntities=a,this.parseXml=p,this.parseTextData=c,this.resolveNameSpace=u,this.buildAttributesMap=d,this.isItStopNode=g,this.replaceEntitiesValue=f,this.readStopNodeData=_,this.saveTextToParentTag=m,this.addChild=h}}},8844:(e,t,n)=>{const{buildOptions:r}=n(6745),s=n(1078),{prettify:o}=n(6997),i=n(8501);e.exports=class{constructor(e){this.externalEntities={},this.options=r(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=i.validate(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new s(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(e);return this.options.preserveOrder||void 0===r?r:o(r,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}},6997:(e,t)=>{"use strict";function n(e,t,i){let a;const c={};for(let u=0;u<e.length;u++){const l=e[u],d=r(l);let p="";if(p=void 0===i?d:i+"."+d,d===t.textNodeName)void 0===a?a=l[d]:a+=""+l[d];else{if(void 0===d)continue;if(l[d]){let e=n(l[d],t,p);const r=o(e,t);l[":@"]?s(e,l[":@"],p,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==c[d]&&c.hasOwnProperty(d)?(Array.isArray(c[d])||(c[d]=[c[d]]),c[d].push(e)):t.isArray(d,p,r)?c[d]=[e]:c[d]=e}}}return"string"==typeof a?a.length>0&&(c[t.textNodeName]=a):void 0!==a&&(c[t.textNodeName]=a),c}function r(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function s(e,t,n,r){if(t){const s=Object.keys(t),o=s.length;for(let i=0;i<o;i++){const o=s[i];r.isArray(o,n+"."+o,!0,!0)?e[o]=[t[o]]:e[o]=t[o]}}}function o(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return 0===r||!(1!==r||!e[n]&&"boolean"!=typeof e[n]&&0!==e[n])}t.prettify=function(e,t){return n(e,t)}},6311:e=>{"use strict";e.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},4153:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,s={}){if(s=Object.assign({},r,s),!e||"string"!=typeof e)return e;let o=e.trim();if(void 0!==s.skipLike&&s.skipLike.test(o))return e;if(s.hex&&t.test(o))return Number.parseInt(o,16);{const t=n.exec(o);if(t){const n=t[1],r=t[2];let a=(i=t[3])&&-1!==i.indexOf(".")?("."===(i=i.replace(/0+$/,""))?i="0":"."===i[0]?i="0"+i:"."===i[i.length-1]&&(i=i.substr(0,i.length-1)),i):i;const c=t[4]||t[6];if(!s.leadingZeros&&r.length>0&&n&&"."!==o[2])return e;if(!s.leadingZeros&&r.length>0&&!n&&"."!==o[1])return e;{const t=Number(o),i=""+t;return-1!==i.search(/[eE]/)||c?s.eNotation?t:e:-1!==o.indexOf(".")?"0"===i&&""===a||i===a||n&&i==="-"+a?t:e:r?a===i||n+a===i?t:e:o===i||o===n+i?t:e}}return e}var i}},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},5062:e=>{"use strict";e.exports=JSON.parse('{"name":"aws-crt","version":"1.15.18","description":"NodeJS/browser bindings to the aws-c-* libraries","homepage":"https://github.com/awslabs/aws-crt-nodejs","repository":{"type":"git","url":"git+https://github.com/awslabs/aws-crt-nodejs.git"},"contributors":["AWS Common Runtime Team <aws-sdk-common-runtime@amazon.com>"],"license":"Apache-2.0","main":"./dist/index.js","browser":"./dist.browser/browser.js","types":"./dist/index.d.ts","scripts":{"tsc":"node ./scripts/tsc.js","test":"npm run test:native","test:node":"npm run test:native","test:native":"npx jest --runInBand --verbose --config test/native/jest.config.js --forceExit","test:browser":"npx jest --runInBand --verbose --config test/browser/jest.config.js --forceExit","test:browser:ci":"npm run install:puppeteer && npm run test:browser","install:puppeteer":"npm install --save-dev jest-puppeteer puppeteer @types/puppeteer","prepare":"node ./scripts/tsc.js && node ./scripts/install.js","install":"node ./scripts/install.js"},"devDependencies":{"@types/crypto-js":"^3.1.43","@types/jest":"^27.0.1","@types/node":"^10.17.54","@types/prettier":"2.6.0","@types/puppeteer":"^5.4.7","@types/uuid":"^3.4.8","@types/ws":"^7.4.7","aws-sdk":"^2.848.0","cmake-js":"^6.3.2","https-proxy-agent":"^5.0.1","jest":"^27.2.1","jest-puppeteer":"^5.0.4","jest-runtime":"^27.2.1","puppeteer":"^3.3.0","tar":"^6.1.11","ts-jest":"^27.0.5","typedoc":"^0.22.18","typedoc-plugin-merge-modules":"^3.1.0","typescript":"^4.7.4","uuid":"^8.3.2","yargs":"^17.2.1"},"dependencies":{"@aws-sdk/util-utf8-browser":"^3.109.0","@httptoolkit/websocket-stream":"^6.0.0","axios":"^0.24.0","buffer":"^6.0.3","cmake-js":"^6.3.2","crypto-js":"^4.0.0","mqtt":"^4.3.7","process":"^0.11.10","tar":"^6.1.11"}}')}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{default:()=>Cp});var e={};n.r(e),n.d(e,{getUserAgentPrefix:()=>Nt,isVirtualHostableS3Bucket:()=>Ft,parseArn:()=>Lt,partition:()=>It,setPartitionInfo:()=>kt,useDefaultPartitionInfo:()=>Ot});var t,s={};n.r(s),n.d(s,{aws:()=>e,booleanEquals:()=>zt,getAttr:()=>Bt,isSet:()=>Vt,isValidHostLabel:()=>Ut,not:()=>Ht,parseURL:()=>Jt,stringEquals:()=>Yt,substring:()=>Zt,uriEncode:()=>en}),function(e){e.ENV="env",e.CONFIG="shared config entry"}(t||(t={}));const o=(e,t,n)=>{if(t in e){if("true"===e[t])return!0;if("false"===e[t])return!1;throw new Error(`Cannot load ${n} "${t}". Expected "true" or "false", got ${e[t]}.`)}},i={environmentVariableSelector:e=>o(e,"AWS_USE_DUALSTACK_ENDPOINT",t.ENV),configFileSelector:e=>o(e,"use_dualstack_endpoint",t.CONFIG),default:!1},a={environmentVariableSelector:e=>o(e,"AWS_USE_FIPS_ENDPOINT",t.ENV),configFileSelector:e=>o(e,"use_fips_endpoint",t.CONFIG),default:!1},c={environmentVariableSelector:e=>e.AWS_REGION,configFileSelector:e=>e.region,default:()=>{throw new Error("Region is missing")}},u={preferredFile:"credentials"},l=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),d=e=>l(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,p=e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if("string"==typeof t)return d(t);const e=await t();return d(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!l(e)||("function"!=typeof n?Promise.resolve(!!n):n())}}};var h,f;(f=h||(h={}))[f.HEADER=0]="HEADER",f[f.TRAILER=1]="TRAILER";class m{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new m({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce(((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}}),{}))),e}}class g{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}const y="content-length",w={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},_=e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const r=t.request;if(m.isInstance(r)){const{body:e,headers:t}=r;if(e&&-1===Object.keys(t).map((e=>e.toLowerCase())).indexOf(y))try{const t=n(e);r.headers={...r.headers,[y]:String(t)}}catch(e){}}return e({...t,request:r})}),w)}}),v={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},b={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function E(e,t,n){return{applyToStack:r=>{r.add(((e,t)=>(n,r)=>async r=>{const{response:s}=await n(r);try{return{response:s,output:await t(s,e)}}catch(e){if(Object.defineProperty(e,"$response",{value:s}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";e.message+="\n  "+t}throw e}})(e,n),v),r.add(((e,t)=>(n,r)=>async s=>{const o=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");const i=await t(s.input,{...e,endpoint:o});return n({...s,request:i})})(e,t),b)}}}const S=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,x=/(\d+\.){3}\d+/,P=/\.\./,C=(e,t,n)=>{const r=async()=>{const r=n[e]??n[t];return"function"==typeof r?r():r};return"endpoint"===e||"endpoint"===t?async()=>{const e=await r();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:r,path:s}=e;return`${t}//${n}${r?":"+r:""}${s}`}}return e}:r},A=async(e,t,n)=>{const r={},s=t?.getEndpointParameterInstructions?.()||{};for(const[t,o]of Object.entries(s))switch(o.type){case"staticContextParams":r[t]=o.value;break;case"contextParams":r[t]=e[o.name];break;case"clientContextParams":case"builtInParams":r[t]=await C(o.name,t,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return 0===Object.keys(s).length&&Object.assign(r,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(e=>{const[t,n,r,s,o,i]=e.split(":"),a="arn"===t&&e.split(":").length>=6,c=5===[t,n,r,o,i].filter(Boolean).length;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return!!("arn"===t&&n&&r&&o&&i)})(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else n=t,(!S.test(n)||x.test(n)||P.test(n)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);var n;return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(r),r},T={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:b.name},I=(e,t)=>({applyToStack:n=>{n.addRelativeTo((({config:e,instructions:t})=>(n,r)=>async s=>{const o=await(async(e,t,n,r)=>{const s=await A(e,t,n);if("function"!=typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(s,r)})(s.input,{getEndpointParameterInstructions:()=>t},{...e},r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;const i=r.authSchemes?.[0];return i&&(r.signing_region=i.signingRegion,r.signing_service=i.signingName),n({...s})})({config:e,instructions:t}),T)}}),k=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},O=e=>{if("string"==typeof e)return O(new URL(e));const{hostname:t,pathname:n,port:r,protocol:s,search:o}=e;let i;return o&&(i=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,r=null]=n.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:s,path:n,query:i}},N=e=>{const t=e.tls??!0,{endpoint:n}=e,r=null!=n?async()=>(e=>"object"==typeof e?"url"in e?O(e.url):e:O(e))(await k(n)()):void 0,s=!!n;return{...e,endpoint:r,tls:t,isCustomEndpoint:s,useDualstackEndpoint:k(e.useDualstackEndpoint??!1),useFipsEndpoint:k(e.useFipsEndpoint??!1)}},R={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},D=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!m.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]="";else if(!r.headers.host){let e=r.hostname;null!=r.port&&(e+=`:${r.port}`),r.headers.host=e}return t(n)})(e),R)}}),M={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},$=e=>({applyToStack:e=>{e.add(((e,t)=>async n=>{try{const r=await e(n),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=a,l=c??t.inputFilterSensitiveLog,d=u??t.outputFilterSensitiveLog,{$metadata:p,...h}=r.output;return i?.info?.({clientName:s,commandName:o,input:l(n.input),output:d(h),metadata:p}),r}catch(e){const{clientName:r,commandName:s,logger:o,dynamoDbDocumentClientOptions:i={}}=t,{overrideInputFilterSensitiveLog:a}=i,c=a??t.inputFilterSensitiveLog;throw o?.error?.({clientName:r,commandName:s,input:c(n.input),error:e,metadata:e.$metadata}),e}}),M)}}),j="X-Amzn-Trace-Id",q={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},U=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:r}=n;if(!m.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(j))return t(n);const s=process.env.AWS_LAMBDA_FUNCTION_NAME,o=process.env._X_AMZN_TRACE_ID,i=e=>"string"==typeof e&&e.length>0;return i(s)&&i(o)&&(r.headers[j]=o),t({...n,request:r})})(e),q)}});var F,L;(L=F||(F={})).STANDARD="standard",L.ADAPTIVE="adaptive";const z=F.STANDARD,B=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],V=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],H=[500,502,503,504],W=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],K=e=>429===e.$metadata?.httpStatusCode||B.includes(e.name)||1==e.$retryable?.throttling,G=e=>V.includes(e.name)||W.includes(e?.code||"")||H.includes(e.$metadata?.httpStatusCode||0);class Q{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise((e=>setTimeout(e,t)))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),K(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}const X=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>n});class J{constructor(e){this.maxAttempts=e,this.mode=F.STANDARD,this.capacity=500,this.retryBackoffStrategy=(()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return X({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n)){const n=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===n?500:100);const r=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,r):r,o=this.getCapacityCost(n);return this.capacity-=o,X({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,t,n){return e.getRetryCount()<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?10:5}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class Y{constructor(e,t){this.maxAttemptsProvider=e,this.mode=F.ADAPTIVE;const{rateLimiter:n}=t??{};this.rateLimiter=n??new Q,this.standardRetryStrategy=new J(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}const Z="AWS_MAX_ATTEMPTS",ee="max_attempts",te={environmentVariableSelector:e=>{const t=e[Z];if(!t)return;const n=parseInt(t);if(Number.isNaN(n))throw new Error(`Environment variable ${Z} mast be a number, got "${t}"`);return n},configFileSelector:e=>{const t=e[ee];if(!t)return;const n=parseInt(t);if(Number.isNaN(n))throw new Error(`Shared config file entry ${ee} mast be a number, got "${t}"`);return n},default:3},ne=e=>{const{retryStrategy:t}=e,n=k(e.maxAttempts??3);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await k(e.retryMode)()===F.ADAPTIVE?new Y(n):new J(n))}},re={environmentVariableSelector:e=>e.AWS_RETRY_MODE,configFileSelector:e=>e.retry_mode,default:z},se=require("crypto");var oe=n.n(se);const ie=new Uint8Array(256);let ae=ie.length;function ce(){return ae>ie.length-16&&(oe().randomFillSync(ie),ae=0),ie.slice(ae,ae+=16)}const ue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,le=[];for(let e=0;e<256;++e)le.push((e+256).toString(16).substr(1));const de=function(e,t=0){const n=(le[e[t+0]]+le[e[t+1]]+le[e[t+2]]+le[e[t+3]]+"-"+le[e[t+4]]+le[e[t+5]]+"-"+le[e[t+6]]+le[e[t+7]]+"-"+le[e[t+8]]+le[e[t+9]]+"-"+le[e[t+10]]+le[e[t+11]]+le[e[t+12]]+le[e[t+13]]+le[e[t+14]]+le[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&ue.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},pe=function(e,t,n){const r=(e=e||{}).random||(e.rng||ce)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return de(r)},he=e=>{const t={errorType:fe(e)},n=ye(e.$response);return n&&(t.retryAfterHint=n),t},fe=e=>K(e)?"THROTTLING":G(e)?"TRANSIENT":(e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!G(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",me={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ge=e=>({applyToStack:t=>{t.add((e=>(t,n)=>async r=>{let s=await e.retryStrategy();const o=await e.maxAttempts();if(!(e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess)(s))return s?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,r);{let e=await s.acquireInitialRetryToken(n.partition_id),a=new Error,c=0,u=0;const{request:l}=r;for(m.isInstance(l)&&(l.headers["amz-sdk-invocation-id"]=pe());;)try{m.isInstance(l)&&(l.headers["amz-sdk-request"]=`attempt=${c+1}; max=${o}`);const{response:n,output:i}=await t(r);return s.recordSuccess(e),i.$metadata.attempts=c+1,i.$metadata.totalRetryDelay=u,{response:n,output:i}}catch(t){const n=he(t);a=(i=t)instanceof Error?i:i instanceof Object?Object.assign(new Error,i):"string"==typeof i?new Error(i):new Error(`AWS SDK error wrapper for ${i}`);try{e=await s.refreshRetryTokenForRetry(e,n)}catch(e){throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=e.getRetryCount();const r=e.getRetryDelay();u+=r,await new Promise((e=>setTimeout(e,r)))}}var i})(e),me)}}),ye=e=>{if(!g.isInstance(e))return;const t=Object.keys(e.headers).find((e=>"retry-after"===e.toLowerCase()));if(!t)return;const n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(1e3*r)},we=(e,t,n)=>{let r,s,o,i=!1;const a=async()=>{s||(s=e());try{r=await s,o=!0,i=!1}finally{s=void 0}return r};return void 0===t?async e=>(o&&!e?.forceRefresh||(r=await a()),r):async e=>(o&&!e?.forceRefresh||(r=await a()),i?r:n&&!n(r)?(i=!0,r):t(r)?(await a(),r):r)};n(4079);const _e={},ve={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),_e[e]=t,ve[t]=e}function be(e){let t="";for(let n=0;n<e.byteLength;n++)t+=_e[e[n]];return t}class Ee{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&Se(t),new Ee(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&Se(e),parseInt(be(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function Se(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class xe{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const n of Object.keys(e)){const r=this.fromUtf8(n);t.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let r=0;for(const e of t)n.set(e,r),r+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(e.value,3),o;case"string":const i=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);const c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":const u=new Uint8Array(9);return u[0]=8,u.set(Ee.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!Me.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const l=new Uint8Array(17);return l[0]=9,l.set(function(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in ve))throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`);t[n/2]=ve[r]}return t}(e.value.replace(/\-/g,"")),1),l}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const r=e.getUint8(n++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[s]={type:Ce,value:!0};break;case 1:t[s]={type:Ce,value:!1};break;case 2:t[s]={type:Ae,value:e.getInt8(n++)};break;case 3:t[s]={type:Te,value:e.getInt16(n,!1)},n+=2;break;case 4:t[s]={type:Ie,value:e.getInt32(n,!1)},n+=4;break;case 5:t[s]={type:ke,value:new Ee(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const r=e.getUint16(n,!1);n+=2,t[s]={type:Oe,value:new Uint8Array(e.buffer,e.byteOffset+n,r)},n+=r;break;case 7:const o=e.getUint16(n,!1);n+=2,t[s]={type:Ne,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,o))},n+=o;break;case 8:t[s]={type:Re,value:new Date(new Ee(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const i=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[s]={type:De,value:`${be(i.subarray(0,4))}-${be(i.subarray(4,6))}-${be(i.subarray(6,8))}-${be(i.subarray(8,10))}-${be(i.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}var Pe;!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(Pe||(Pe={}));const Ce="boolean",Ae="byte",Te="short",Ie="integer",ke="long",Oe="binary",Ne="string",Re="timestamp",De="uuid",Me=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator;const $e=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),je=require("buffer"),qe=(e,t=0,n=e.byteLength-t)=>{if(!$e(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return je.Buffer.from(e,t,n)},Ue=(e,t)=>{if("string"!=typeof e)throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?je.Buffer.from(e,t):je.Buffer.from(e)},Fe=e=>{const t=Ue(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},Le=e=>"string"==typeof e?Fe(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),ze=e=>qe(e.buffer,e.byteOffset,e.byteLength).toString("utf8"),Be="X-Amz-Date",Ve="X-Amz-Signature",He="X-Amz-Security-Token",We="authorization",Ke=Be.toLowerCase(),Ge=[We,Ke,"date"],Qe=Ve.toLowerCase(),Xe="x-amz-content-sha256",Je=He.toLowerCase(),Ye={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Ze=/^proxy-/,et=/^sec-/,tt="AWS4-HMAC-SHA256",nt="AWS4-HMAC-SHA256-PAYLOAD",rt="aws4_request",st={},ot=[],it=(e,t,n)=>`${e}/${t}/${n}/${rt}`,at=(e,t,n)=>{const r=new e(t);return r.update(Le(n)),r.digest()},ct=({headers:e},t,n)=>{const r={};for(const s of Object.keys(e).sort()){if(null==e[s])continue;const o=s.toLowerCase();(o in Ye||t?.has(o)||Ze.test(o)||et.test(o))&&(!n||n&&!n.has(o))||(r[o]=e[s].trim().replace(/\s+/g," "))}return r},ut=e=>encodeURIComponent(e).replace(/[!'()*]/g,lt),lt=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,dt=async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===Xe)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||$e(t)){const e=new n;return e.update(Le(t)),be(await e.digest())}return"UNSIGNED-PAYLOAD"},pt=({headers:e,query:t,...n})=>({...n,headers:{...e},query:t?ht(t):void 0}),ht=e=>Object.keys(e).reduce(((t,n)=>{const r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}}),{}),ft=e=>{e="function"==typeof e.clone?e.clone():pt(e);for(const t of Object.keys(e.headers))Ge.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};class mt{constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:s,uriEscapePath:o=!0}){this.headerMarshaller=new xe(ze,Fe),this.service=r,this.sha256=s,this.uriEscapePath=o,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=k(n),this.credentialProvider=k(t)}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:i,signingRegion:a,signingService:c}=t,u=await this.credentialProvider();this.validateResolvedCredentials(u);const l=a??await this.regionProvider(),{longDate:d,shortDate:p}=gt(n);if(r>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const h=it(p,l,c??this.service),f=((e,t={})=>{const{headers:n,query:r={}}="function"==typeof e.clone?e.clone():pt(e);for(const e of Object.keys(n)){const s=e.toLowerCase();"x-amz-"!==s.slice(0,6)||t.unhoistableHeaders?.has(s)||(r[e]=n[e],delete n[e])}return{...e,headers:n,query:r}})(ft(e),{unhoistableHeaders:o});u.sessionToken&&(f.query[He]=u.sessionToken),f.query["X-Amz-Algorithm"]=tt,f.query["X-Amz-Credential"]=`${u.accessKeyId}/${h}`,f.query[Be]=d,f.query["X-Amz-Expires"]=r.toString(10);const m=ct(f,s,i);return f.query["X-Amz-SignedHeaders"]=yt(m),f.query[Ve]=await this.getSignature(d,h,this.getSigningKey(u,l,p,c),this.createCanonicalRequest(f,m,await dt(e,this.sha256))),f}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:r,signingRegion:s,signingService:o}){const i=s??await this.regionProvider(),{shortDate:a,longDate:c}=gt(n),u=it(a,i,o??this.service),l=await dt({headers:{},body:t},this.sha256),d=new this.sha256;d.update(e);const p=be(await d.digest()),h=[nt,c,u,r,p,l].join("\n");return this.signString(h,{signingDate:n,signingRegion:i,signingService:o})}async signMessage(e,{signingDate:t=new Date,signingRegion:n,signingService:r}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:n,signingService:r,priorSignature:e.priorSignature}).then((t=>({message:e.message,signature:t})))}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:r}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const o=n??await this.regionProvider(),{shortDate:i}=gt(t),a=new this.sha256(await this.getSigningKey(s,o,i,r));return a.update(Le(e)),be(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:s,signingService:o}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const a=s??await this.regionProvider(),c=ft(e),{longDate:u,shortDate:l}=gt(t),d=it(l,a,o??this.service);c.headers[Ke]=u,i.sessionToken&&(c.headers[Je]=i.sessionToken);const p=await dt(c,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(Xe,c.headers)&&this.applyChecksum&&(c.headers[Xe]=p);const h=ct(c,r,n),f=await this.getSignature(u,d,this.getSigningKey(i,a,l,o),this.createCanonicalRequest(c,h,p));return c.headers[We]=`${tt} Credential=${i.accessKeyId}/${d}, SignedHeaders=${yt(h)}, Signature=${f}`,c}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(({query:e={}})=>{const t=[],n={};for(const r of Object.keys(e).sort()){if(r.toLowerCase()===Qe)continue;t.push(r);const s=e[r];"string"==typeof s?n[r]=`${ut(r)}=${ut(s)}`:Array.isArray(s)&&(n[r]=s.slice(0).sort().reduce(((e,t)=>e.concat([`${ut(r)}=${ut(t)}`])),[]).join("&"))}return t.map((e=>n[e])).filter((e=>e)).join("&")})(e)}\n${r.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${r.join(";")}\n${n}`}async createStringToSign(e,t,n){const r=new this.sha256;r.update(Le(n));const s=await r.digest();return`${tt}\n${e}\n${t}\n${be(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,t,n,r){const s=await this.createStringToSign(e,t,r),o=new this.sha256(await n);return o.update(Le(s)),be(await o.digest())}getSigningKey(e,t,n,r){return(async(e,t,n,r,s)=>{const o=`${n}:${r}:${s}:${be(await at(e,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(o in st)return st[o];for(ot.push(o);ot.length>50;)delete st[ot.shift()];let i=`AWS4${t.secretAccessKey}`;for(const t of[n,r,s,rt])i=await at(e,i,t);return st[o]=i})(this.sha256,e,n,t,r||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const gt=e=>{const t=(n=e,(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e)(n).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");var n;return{longDate:t,shortDate:t.slice(0,8)}},yt=e=>Object.keys(e).sort().join(";"),wt=e=>{const t=e.credentials?_t(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:n=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:s}=e;let o;return o=e.signer?k(e.signer):e.regionInfoProvider?()=>k(e.region)().then((async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t])).then((([r,o])=>{const{signingRegion:i,signingService:a}=r;e.signingRegion=e.signingRegion||i||o,e.signingName=e.signingName||a||e.serviceId;const c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n};return new(e.signerConstructor||mt)(c)})):async r=>{const o=(r=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await k(e.region)(),properties:{}},r)).signingRegion,i=r.signingName;e.signingRegion=e.signingRegion||o,e.signingName=e.signingName||i||e.serviceId;const a={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n};return new(e.signerConstructor||mt)(a)},{...e,systemClockOffset:r,signingEscapePath:n,credentials:t,signer:o}},_t=e=>"function"==typeof e?we(e,(e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5),(e=>void 0!==e.expiration)):k(e),vt=e=>new Date(Date.now()+e),bt=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(vt(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},Et=e=>g.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,St={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},xt=e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async function(r){if(!m.isInstance(r.request))return t(r);const s=n.endpointV2?.properties?.authSchemes?.[0],o="sigv4a"===s?.name?s?.signingRegionSet?.join(","):void 0,i=await e.signer(s),a=await t({...r,request:await i.sign(r.request,{signingDate:vt(e.systemClockOffset),signingRegion:o||n.signing_region,signingService:n.signing_service})}).catch((t=>{const n=t.ServerTime??Et(t.$response);throw n&&(e.systemClockOffset=bt(n,e.systemClockOffset)),t})),c=Et(a.response);return c&&(e.systemClockOffset=bt(c,e.systemClockOffset)),a})(e),St)}});function Pt(e){return{...e,customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent}}const Ct=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}');let At=Ct,Tt="";const It=e=>{const{partitions:t}=At;for(const n of t){const{regions:t,outputs:r}=n;for(const[n,s]of Object.entries(t))if(n===e)return{...r,...s}}for(const n of t){const{regionRegex:t,outputs:r}=n;if(new RegExp(t).test(e))return{...r}}const n=t.find((e=>"aws"===e.id));if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},kt=(e,t="")=>{At=e,Tt=t},Ot=()=>{kt(Ct,"")},Nt=()=>Tt,Rt="endpoints";function Dt(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${Dt(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Dt).join(", ")})`:JSON.stringify(e,null,2)}class Mt extends Error{constructor(e){super(e),this.name="EndpointError"}}const $t=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),jt=e=>$t.test(e)||e.startsWith("[")&&e.endsWith("]"),qt=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Ut=(e,t=!1)=>{if(!t)return qt.test(e);const n=e.split(".");for(const e of n)if(!Ut(e))return!1;return!0},Ft=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!Ft(t))return!1;return!0}return!(!Ut(e)||e.length<3||e.length>63||e!==e.toLowerCase()||jt(e))},Lt=e=>{const t=e.split(":");if(t.length<6)return null;const[n,r,s,o,i,...a]=t;return"arn"!==n||""===r||""===s||""===a[0]?null:{partition:r,service:s,region:o,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}},zt=(e,t)=>e===t,Bt=(e,t)=>(e=>{const t=e.split("."),n=[];for(const r of t){const t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new Mt(`Path: '${e}' does not end with ']'`);const s=r.slice(t+1,-1);if(Number.isNaN(parseInt(s)))throw new Mt(`Invalid array index: '${s}' in path: '${e}'`);0!==t&&n.push(r.slice(0,t)),n.push(s)}else n.push(r)}return n})(t).reduce(((n,r)=>{if("object"!=typeof n)throw new Mt(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]}),e),Vt=e=>null!=e,Ht=e=>!e;var Wt,Kt,Gt,Qt;!function(e){e.HEADER="header",e.QUERY="query"}(Wt||(Wt={})),function(e){e.AAAA="AAAA",e.A="A"}(Kt||(Kt={})),function(e){e.HTTP="http",e.HTTPS="https"}(Gt||(Gt={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(Qt||(Qt={}));const Xt={[Gt.HTTP]:80,[Gt.HTTPS]:443},Jt=e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:r="",path:s="",query:o={}}=e,i=new URL(`${r}//${t}${n?`:${n}`:""}${s}`);return i.search=Object.entries(o).map((([e,t])=>`${e}=${t}`)).join("&"),i}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:r,hostname:s,pathname:o,protocol:i,search:a}=t;if(a)return null;const c=i.slice(0,-1);if(!Object.values(Gt).includes(c))return null;const u=jt(s);return{scheme:c,authority:`${r}${n.includes(`${r}:${Xt[c]}`)||"string"==typeof e&&e.includes(`${r}:${Xt[c]}`)?`:${Xt[c]}`:""}`,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:u}},Yt=(e,t)=>e===t,Zt=(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),en=e=>encodeURIComponent(e).replace(/[!*'()]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),tn=(e,t)=>{const n=[],r={...t.endpointParams,...t.referenceRecord};let s=0;for(;s<e.length;){const t=e.indexOf("{",s);if(-1===t){n.push(e.slice(s));break}n.push(e.slice(s,t));const o=e.indexOf("}",t);if(-1===o){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[o+1]&&(n.push(e.slice(t+1,o)),s=o+2);const i=e.substring(t+1,o);if(i.includes("#")){const[e,t]=i.split("#");n.push(Bt(r[e],t))}else n.push(r[i]);s=o+1}return n.join("")},nn=(e,t,n)=>{if("string"==typeof e)return tn(e,n);if(e.fn)return rn(e,n);if(e.ref)return(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]))(e,n);throw new Mt(`'${t}': ${String(e)} is not a string, function or reference.`)},rn=({fn:e,argv:t},n)=>{const r=t.map((e=>["boolean","number"].includes(typeof e)?e:nn(e,"arg",n)));return e.split(".").reduce(((e,t)=>e[t]),s)(...r)},sn=({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new Mt(`'${e}' is already defined in Reference Record.`);const r=rn(t,n);return n.logger?.debug?.(Rt,`evaluateCondition: ${Dt(t)} = ${Dt(r)}`),{result:""===r||!!r,...null!=e&&{toAssign:{name:e,value:r}}}},on=(e=[],t)=>{const n={};for(const r of e){const{result:e,toAssign:s}=sn(r,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};s&&(n[s.name]=s.value,t.logger?.debug?.(Rt,`assign: ${s.name} := ${Dt(s.value)}`))}return{result:!0,referenceRecord:n}},an=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:r.map((e=>{const r=nn(e,"Header value entry",t);if("string"!=typeof r)throw new Mt(`Header '${n}' value '${r}' is not a string`);return r}))})),{}),cn=(e,t)=>{if(Array.isArray(e))return e.map((e=>cn(e,t)));switch(typeof e){case"string":return tn(e,t);case"object":if(null===e)throw new Mt(`Unexpected endpoint property: ${e}`);return un(e,t);case"boolean":return e;default:throw new Mt("Unexpected endpoint property type: "+typeof e)}},un=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:cn(r,t)})),{}),ln=(e,t)=>{const n=nn(e,"Endpoint URL",t);if("string"==typeof n)try{return new URL(n)}catch(e){throw console.error(`Failed to construct URL with ${n}`,e),e}throw new Mt("Endpoint URL must be a string, got "+typeof n)},dn=(e,t)=>{const{conditions:n,endpoint:r}=e,{result:s,referenceRecord:o}=on(n,t);if(!s)return;const i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:c,headers:u}=r;return t.logger?.debug?.(Rt,`Resolving endpoint from template: ${Dt(r)}`),{...null!=u&&{headers:an(u,i)},...null!=c&&{properties:un(c,i)},url:ln(a,i)}},pn=(e,t)=>{const{conditions:n,error:r}=e,{result:s,referenceRecord:o}=on(n,t);if(s)throw new Mt(nn(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},hn=(e,t)=>{const{conditions:n,rules:r}=e,{result:s,referenceRecord:o}=on(n,t);if(s)return fn(r,{...t,referenceRecord:{...t.referenceRecord,...o}})},fn=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=dn(n,t);if(e)return e}else if("error"===n.type)pn(n,t);else{if("tree"!==n.type)throw new Mt(`Unknown endpoint rule: ${n}`);{const e=hn(n,t);if(e)return e}}throw new Mt("Rules evaluation failed")},mn=(e,t)=>{const{endpointParams:n,logger:r}=t,{parameters:s,rules:o}=e;t.logger?.debug?.(`${Rt} Initial EndpointParams: ${Dt(n)}`);const i=Object.entries(s).filter((([,e])=>null!=e.default)).map((([e,t])=>[e,t.default]));if(i.length>0)for(const[e,t]of i)n[e]=n[e]??t;const a=Object.entries(s).filter((([,e])=>e.required)).map((([e])=>e));for(const e of a)if(null==n[e])throw new Mt(`Missing required parameter: '${e}'`);const c=fn(o,{endpointParams:n,logger:r,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{const e=new URL(t.endpointParams.Endpoint),{protocol:n,port:r}=e;c.url.protocol=n,c.url.port=r}catch(e){}return t.logger?.debug?.(`${Rt} Resolved endpoint: ${Dt(c)}`),c},gn="user-agent",yn="x-amz-user-agent",wn=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,_n=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,vn=e=>{const t=e[0].split("/").map((e=>e.replace(wn,"-"))).join("/"),n=e[1]?.replace(_n,"-"),r=t.indexOf("/"),s=t.substring(0,r);let o=t.substring(r+1);return"api"===s&&(o=o.toLowerCase()),[s,o,n].filter((e=>e&&e.length>0)).reduce(((e,t,n)=>{switch(n){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}}),"")},bn={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},En=e=>({applyToStack:t=>{var n;t.add((n=e,(e,t)=>async r=>{const{request:s}=r;if(!m.isInstance(s))return e(r);const{headers:o}=s,i=t?.userAgent?.map(vn)||[],a=(await n.defaultUserAgentProvider()).map(vn),c=n?.customUserAgent?.map(vn)||[],u=Nt(),l=(u?[u]:[]).concat([...a,...i,...c]).join(" "),d=[...a.filter((e=>e.startsWith("aws-sdk-"))),...c].join(" ");return"browser"!==n.runtime?(d&&(o[yn]=o[yn]?`${o[gn]} ${d}`:d),o[gn]=l):o[yn]=l,e({...r,request:s})}),bn)}});class Sn{trace(){}debug(){}info(){}warn(){}error(){}}const xn=()=>{let e=[],t=[];const n=new Set,r=n=>(e.forEach((e=>{n.add(e.middleware,{...e})})),t.forEach((e=>{n.addRelativeTo(e.middleware,{...e})})),n),s=e=>{const t=[];return e.before.forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...s(e))})),t.push(e),e.after.reverse().forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...s(e))})),t},o=(n=!1)=>{const r=[],o=[],i={};e.forEach((e=>{const t={...e,before:[],after:[]};t.name&&(i[t.name]=t),r.push(t)})),t.forEach((e=>{const t={...e,before:[],after:[]};t.name&&(i[t.name]=t),o.push(t)})),o.forEach((e=>{if(e.toMiddleware){const t=i[e.toMiddleware];if(void 0===t){if(n)return;throw new Error(`${e.toMiddleware} is not found when adding ${e.name||"anonymous"} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));const a=(c=r,c.sort(((e,t)=>Pn[t.step]-Pn[e.step]||Cn[t.priority||"normal"]-Cn[e.priority||"normal"]))).map(s).reduce(((e,t)=>(e.push(...t),e)),[]);var c;return a},i={add:(t,r={})=>{const{name:s,override:o}=r,i={step:"initialize",priority:"normal",middleware:t,...r};if(s){if(n.has(s)){if(!o)throw new Error(`Duplicate middleware name '${s}'`);const t=e.findIndex((e=>e.name===s)),n=e[t];if(n.step!==i.step||n.priority!==i.priority)throw new Error(`"${s}" middleware with ${n.priority} priority in ${n.step} step cannot be overridden by same-name middleware with ${i.priority} priority in ${i.step} step.`);e.splice(t,1)}n.add(s)}e.push(i)},addRelativeTo:(e,r)=>{const{name:s,override:o}=r,i={middleware:e,...r};if(s){if(n.has(s)){if(!o)throw new Error(`Duplicate middleware name '${s}'`);const e=t.findIndex((e=>e.name===s)),n=t[e];if(n.toMiddleware!==i.toMiddleware||n.relation!==i.relation)throw new Error(`"${s}" middleware ${n.relation} "${n.toMiddleware}" middleware cannot be overridden by same-name middleware ${i.relation} "${i.toMiddleware}" middleware.`);t.splice(e,1)}n.add(s)}t.push(i)},clone:()=>r(xn()),use:e=>{e.applyToStack(i)},remove:r=>"string"==typeof r?(r=>{let s=!1;const o=e=>!e.name||e.name!==r||(s=!0,n.delete(r),!1);return e=e.filter(o),t=t.filter(o),s})(r):(r=>{let s=!1;const o=e=>e.middleware!==r||(s=!0,e.name&&n.delete(e.name),!1);return e=e.filter(o),t=t.filter(o),s})(r),removeByTag:r=>{let s=!1;const o=e=>{const{tags:t,name:o}=e;return!t||!t.includes(r)||(o&&n.delete(o),s=!0,!1)};return e=e.filter(o),t=t.filter(o),s},concat:e=>{const t=r(xn());return t.use(e),t},applyToStack:r,identify:()=>o(!0).map((e=>e.name+": "+(e.tags||[]).join(","))),resolve:(e,t)=>{for(const n of o().map((e=>e.middleware)).reverse())e=n(e,t);return e}};return i},Pn={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Cn={high:3,normal:2,low:1};class An{constructor(e){this.middlewareStack=xn(),this.config=e}send(e,t,n){const r="function"!=typeof t?t:void 0,s="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!s)return o(e).then((e=>e.output));o(e).then((e=>s(null,e.output)),(e=>s(e))).catch((()=>{}))}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}class Tn{constructor(){this.middlewareStack=xn()}}const In="***SensitiveInformation***",kn=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&zn.warn(Ln(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},On=Math.ceil(2**127*(2-2**-23)),Nn=e=>Rn(e,32),Rn=(e,t)=>{const n=(e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}})(e);if(void 0!==n&&Dn(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},Dn=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Mn=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},$n=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},jn=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return zn.warn(Ln(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},qn=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Un=e=>{const t=e.match(qn);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Fn=e=>Nn("string"==typeof e?Un(e):e),Ln=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((e=>!e.includes("stackTraceWarning"))).join("\n"),zn={warn:console.warn},Bn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Vn=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Hn=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=Vn.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[n,r,s,o,i,a,c,u,l]=t,d=(e=>(e=>Rn(e,16))("string"==typeof e?Un(e):e))(Zn(r)),p=Xn(s,"month",1,12),h=Xn(o,"day",1,31),f=Wn(d,p,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u});return"Z"!=l.toUpperCase()&&f.setTime(f.getTime()-Yn(l)),f},Wn=(e,t,n,r)=>{const s=t-1;return Gn(e,s,n),new Date(Date.UTC(e,s,n,Xn(r.hours,"hour",0,23),Xn(r.minutes,"minute",0,59),Xn(r.seconds,"seconds",0,60),Jn(r.fractionalMilliseconds)))},Kn=[31,28,31,30,31,30,31,31,30,31,30,31],Gn=(e,t,n)=>{let r=Kn[t];if(1===t&&Qn(e)&&(r=29),n>r)throw new TypeError(`Invalid day for ${Bn[t]} in ${e}: ${n}`)},Qn=e=>e%4==0&&(e%100!=0||e%400==0),Xn=(e,t,n,r)=>{const s=(e=>(e=>Rn(e,8))("string"==typeof e?Un(e):e))(Zn(e));if(s<n||s>r)throw new TypeError(`${t} must be between ${n} and ${r}, inclusive`);return s},Jn=e=>null==e?0:1e3*(e=>(e=>{const t=kn(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>On)throw new TypeError(`Expected 32-bit float, got ${e}`);return t})("string"==typeof e?Un(e):e))("0."+e),Yn=e=>{const t=e[0];let n=1;if("+"==t)n=1;else{if("-"!=t)throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);n=-1}return n*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},Zn=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)};class er extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,er.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const tr=(e,t={})=>{Object.entries(t).filter((([,e])=>void 0!==e)).forEach((([t,n])=>{null!=e[t]&&""!==e[t]||(e[t]=n)}));const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},nr=e=>({output:t,parsedBody:n,errorCode:r})=>{(({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{const s=rr(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new n({name:t?.code||t?.Code||r||o||"UnknownError",$fault:"client",$metadata:s});throw tr(i,t)})({output:t,parsedBody:n,exceptionCtor:e,errorCode:r})},rr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),sr=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};let or=!1;const ir=e=>{e&&!or&&parseInt(e.substring(1,e.indexOf(".")))<14&&(or=!0)};function ar(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}const cr=e=>{const t="#text";for(const n in e)e.hasOwnProperty(n)&&void 0!==e[n][t]?e[n]=e[n][t]:"object"==typeof e[n]&&null!==e[n]&&(e[n]=cr(e[n]));return e},ur=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};function lr(e,t,n){let r,s,o;if(void 0===t&&void 0===n)r={},o=e;else{if(r=e,"function"==typeof t)return s=t,o=n,pr(r,s,o);o=t}for(const e of Object.keys(o))Array.isArray(o[e])?hr(r,null,o,e):r[e]=o[e];return r}ur.prototype=Object.create(String.prototype,{constructor:{value:ur,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(ur,String);const dr=(e,t)=>{const n={};for(const r in t)hr(n,e,t,r);return n},pr=(e,t,n)=>lr(e,Object.entries(n).reduce(((e,[n,r])=>(Array.isArray(r)?e[n]=r:e[n]="function"==typeof r?[t,r()]:[t,r],e)),{})),hr=(e,t,n,r)=>{if(null!==t){let s=n[r];"function"==typeof s&&(s=[,s]);const[o=fr,i=mr,a=r]=s;return void(("function"==typeof o&&o(t[a])||"function"!=typeof o&&o)&&(e[r]=i(t[a])))}let[s,o]=n[r];if("function"==typeof o){let t;const n=void 0===s&&null!=(t=o()),i="function"==typeof s&&!!s(void 0)||"function"!=typeof s&&!!s;n?e[r]=t:i&&(e[r]=o())}else{const t=void 0===s&&null!=o,n="function"==typeof s&&!!s(o)||"function"!=typeof s&&!!s;(t||n)&&(e[r]=o)}},fr=e=>null!=e,mr=e=>e,gr=(e,t,n,r,s,o)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=r();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(s,o?t.split("/").map((e=>ar(e))).join("/"):ar(t))}return e},yr=e=>{if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},wr=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter((e=>null!=e));if("object"==typeof e){const t={};for(const n of Object.keys(e))null!=e[n]&&(t[n]=wr(e[n]));return t}return e};class _r extends er{constructor(e){super(e),Object.setPrototypeOf(this,_r.prototype)}}class vr extends _r{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,vr.prototype)}}class br extends _r{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,br.prototype)}}class Er extends _r{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Er.prototype)}}class Sr extends _r{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,Sr.prototype)}}class xr extends _r{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,xr.prototype)}}class Pr extends _r{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,Pr.prototype)}}class Cr extends _r{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,Cr.prototype)}}const Ar=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:In}}),Tr=e=>({...e,...e.Credentials&&{Credentials:Ar(e.Credentials)}}),Ir=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:In}}),kr=e=>({...e,...e.Credentials&&{Credentials:Ar(e.Credentials)}});var Or;!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(Or||(Or={}));class Nr{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/"}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new Nr({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce(((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}}),{}))),e}}var Rr=n(6932);const Dr=async(e,t)=>{const n=e.body,r=Xr(n.Error,t),s=new vr({$metadata:rs(e),...r});return tr(s,n)},Mr=async(e,t)=>{const n=e.body,r=Jr(n.Error,t),s=new Cr({$metadata:rs(e),...r});return tr(s,n)},$r=async(e,t)=>{const n=e.body,r=Yr(n.Error,t),s=new xr({$metadata:rs(e),...r});return tr(s,n)},jr=async(e,t)=>{const n=e.body,r=Zr(n.Error,t),s=new Pr({$metadata:rs(e),...r});return tr(s,n)},qr=async(e,t)=>{const n=e.body,r=es(n.Error,t),s=new br({$metadata:rs(e),...r});return tr(s,n)},Ur=async(e,t)=>{const n=e.body,r=ts(n.Error,t),s=new Er({$metadata:rs(e),...r});return tr(s,n)},Fr=async(e,t)=>{const n=e.body,r=ns(n.Error,t),s=new Sr({$metadata:rs(e),...r});return tr(s,n)},Lr=(e,t)=>{const n={};if(null!=e.RoleArn&&(n.RoleArn=e.RoleArn),null!=e.RoleSessionName&&(n.RoleSessionName=e.RoleSessionName),null!=e.PolicyArns){const r=Br(e.PolicyArns,t);0===e.PolicyArns?.length&&(n.PolicyArns=[]),Object.entries(r).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}if(null!=e.Policy&&(n.Policy=e.Policy),null!=e.DurationSeconds&&(n.DurationSeconds=e.DurationSeconds),null!=e.Tags){const r=Kr(e.Tags,t);0===e.Tags?.length&&(n.Tags=[]),Object.entries(r).forEach((([e,t])=>{n[`Tags.${e}`]=t}))}if(null!=e.TransitiveTagKeys){const r=Wr(e.TransitiveTagKeys,t);0===e.TransitiveTagKeys?.length&&(n.TransitiveTagKeys=[]),Object.entries(r).forEach((([e,t])=>{n[`TransitiveTagKeys.${e}`]=t}))}return null!=e.ExternalId&&(n.ExternalId=e.ExternalId),null!=e.SerialNumber&&(n.SerialNumber=e.SerialNumber),null!=e.TokenCode&&(n.TokenCode=e.TokenCode),null!=e.SourceIdentity&&(n.SourceIdentity=e.SourceIdentity),n},zr=(e,t)=>{const n={};if(null!=e.RoleArn&&(n.RoleArn=e.RoleArn),null!=e.RoleSessionName&&(n.RoleSessionName=e.RoleSessionName),null!=e.WebIdentityToken&&(n.WebIdentityToken=e.WebIdentityToken),null!=e.ProviderId&&(n.ProviderId=e.ProviderId),null!=e.PolicyArns){const r=Br(e.PolicyArns,t);0===e.PolicyArns?.length&&(n.PolicyArns=[]),Object.entries(r).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}return null!=e.Policy&&(n.Policy=e.Policy),null!=e.DurationSeconds&&(n.DurationSeconds=e.DurationSeconds),n},Br=(e,t)=>{const n={};let r=1;for(const s of e){if(null===s)continue;const e=Vr(s,t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n},Vr=(e,t)=>{const n={};return null!=e.arn&&(n.arn=e.arn),n},Hr=(e,t)=>{const n={};return null!=e.Key&&(n.Key=e.Key),null!=e.Value&&(n.Value=e.Value),n},Wr=(e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=t,r++);return n},Kr=(e,t)=>{const n={};let r=1;for(const t of e){if(null===t)continue;const e=Hr(t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n},Gr=(e,t)=>{const n={};return void 0!==e.AssumedRoleId&&(n.AssumedRoleId=jn(e.AssumedRoleId)),void 0!==e.Arn&&(n.Arn=jn(e.Arn)),n},Qr=(e,t)=>{const n={};return void 0!==e.AccessKeyId&&(n.AccessKeyId=jn(e.AccessKeyId)),void 0!==e.SecretAccessKey&&(n.SecretAccessKey=jn(e.SecretAccessKey)),void 0!==e.SessionToken&&(n.SessionToken=jn(e.SessionToken)),void 0!==e.Expiration&&(n.Expiration=Mn(Hn(e.Expiration))),n},Xr=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},Jr=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},Yr=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},Zr=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},es=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},ts=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},ns=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},rs=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),ss=nr(_r),os=async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(u.hostname=r),void 0!==s&&(u.body=s),new Nr(u)},is={"content-type":"application/x-www-form-urlencoded"},as=(e,t)=>((e,t)=>((e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array))(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>{if(e.length){const t=new Rr.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});t.addEntity("#xD","\r"),t.addEntity("#10","\n");const n=t.parse(e),r="#text",s=Object.keys(n)[0],o=n[s];return o[r]&&(o[s]=o[r],delete o[r]),cr(o)}return{}})),cs=async(e,t)=>{const n=await as(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},us=e=>Object.entries(e).map((([e,t])=>ar(e)+"="+ar(t))).join("&"),ls=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class ds extends Tn{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(E(t,this.serialize,this.deserialize)),this.middlewareStack.use(I(t,ds.getEndpointParameterInstructions())),this.middlewareStack.use(xt(t));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:Tr},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=is;let r;return r=us({...Lr(e,t),Action:"AssumeRole",Version:"2011-06-15"}),os(t,n,"/",void 0,r)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await cs(e.body,t)},r=ls(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Dr(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await qr(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Ur(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Fr(n,t);default:const s=n.body;return ss({output:e,parsedBody:s.Error,errorCode:r})}})(e,t);let n={};return n=((e,t)=>{const n={};return void 0!==e.Credentials&&(n.Credentials=Qr(e.Credentials,t)),void 0!==e.AssumedRoleUser&&(n.AssumedRoleUser=Gr(e.AssumedRoleUser)),void 0!==e.PackedPolicySize&&(n.PackedPolicySize=Fn(e.PackedPolicySize)),void 0!==e.SourceIdentity&&(n.SourceIdentity=jn(e.SourceIdentity)),n})((await as(e.body,t)).AssumeRoleResult,t),{$metadata:rs(e),...n}})(e,t)}}class ps extends Tn{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(E(t,this.serialize,this.deserialize)),this.middlewareStack.use(I(t,ps.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:Ir,outputFilterSensitiveLog:kr},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=is;let r;return r=us({...zr(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),os(t,n,"/",void 0,r)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await cs(e.body,t)},r=ls(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Dr(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Mr(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await $r(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await jr(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await qr(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Ur(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Fr(n,t);default:const s=n.body;return ss({output:e,parsedBody:s.Error,errorCode:r})}})(e,t);let n={};return n=((e,t)=>{const n={};return void 0!==e.Credentials&&(n.Credentials=Qr(e.Credentials,t)),void 0!==e.SubjectFromWebIdentityToken&&(n.SubjectFromWebIdentityToken=jn(e.SubjectFromWebIdentityToken)),void 0!==e.AssumedRoleUser&&(n.AssumedRoleUser=Gr(e.AssumedRoleUser)),void 0!==e.PackedPolicySize&&(n.PackedPolicySize=Fn(e.PackedPolicySize)),void 0!==e.Provider&&(n.Provider=jn(e.Provider)),void 0!==e.Audience&&(n.Audience=jn(e.Audience)),void 0!==e.SourceIdentity&&(n.SourceIdentity=jn(e.SourceIdentity)),n})((await as(e.body,t)).AssumeRoleWithWebIdentityResult,t),{$metadata:rs(e),...n}})(e,t)}}const hs="us-east-1",fs=e=>"function"!=typeof e?void 0===e?hs:e:async()=>{try{return await e()}catch(e){return hs}},ms=(e,t)=>{let n,r;return async(s,o)=>{if(r=s,!n){const{logger:s,region:o,requestHandler:i}=e;n=new t({logger:s,credentialDefaultProvider:()=>async()=>r,region:fs(o||e.region),...i?{requestHandler:i}:{}})}const{Credentials:i}=await n.send(new ds(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},gs=(e,t)=>{let n;return async r=>{if(!n){const{logger:r,region:s,requestHandler:o}=e;n=new t({logger:r,region:fs(s||e.region),...o?{requestHandler:o}:{}})}const{Credentials:s}=await n.send(new ps(r));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}};class ys extends Error{constructor(e,t=!0){super(e),this.tryNextLink=t,this.name="ProviderError",Object.setPrototypeOf(this,ys.prototype)}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}}class ws extends ys{constructor(e,t=!0){super(e,t),this.tryNextLink=t,this.name="CredentialsProviderError",Object.setPrototypeOf(this,ws.prototype)}}const _s=()=>async()=>{const e=process.env.AWS_ACCESS_KEY_ID,t=process.env.AWS_SECRET_ACCESS_KEY,n=process.env.AWS_SESSION_TOKEN,r=process.env.AWS_CREDENTIAL_EXPIRATION;if(e&&t)return{accessKeyId:e,secretAccessKey:t,...n&&{sessionToken:n},...r&&{expiration:new Date(r)}};throw new ws("Unable to find environment variable credentials.")};var vs=n(2037),bs=n(1017);const Es=()=>{const{HOME:e,USERPROFILE:t,HOMEPATH:n,HOMEDRIVE:r=`C:${bs.sep}`}=process.env;return e||t||(n?`${r}${n}`:(0,vs.homedir)())},Ss="AWS_PROFILE",xs=e=>e.profile||process.env[Ss]||"default",Ps=e=>{const t=(0,se.createHash)("sha1").update(e).digest("hex");return(0,bs.join)(Es(),".aws","sso","cache",`${t}.json`)};var Cs=n(7147);const{readFile:As}=Cs.promises,Ts=async e=>{const t=Ps(e),n=await As(t,"utf8");return JSON.parse(n)},Is=()=>process.env.AWS_CONFIG_FILE||(0,bs.join)(Es(),".aws","config"),ks=()=>process.env.AWS_SHARED_CREDENTIALS_FILE||(0,bs.join)(Es(),".aws","credentials"),Os=/^profile\s(["'])?([^\1]+)\1$/,Ns=e=>Object.entries(e).filter((([e])=>Os.test(e))).reduce(((e,[t,n])=>({...e,[Os.exec(t)[2]]:n})),{...e.default&&{default:e.default}}),Rs=["__proto__","profile __proto__"],Ds=e=>{const t={};let n;for(let r of e.split(/\r?\n/))if(r=r.split(/(^|\s)[;#]/)[0].trim(),"["===r[0]&&"]"===r[r.length-1]){if(n=r.substring(1,r.length-1),Rs.includes(n))throw new Error(`Found invalid profile name "${n}"`)}else if(n){const e=r.indexOf("="),s=0,o=r.length-1;if(-1!==e&&e!==s&&e!==o){const[s,o]=[r.substring(0,e).trim(),r.substring(e+1).trim()];t[n]=t[n]||{},t[n][s]=o}}return t},{readFile:Ms}=Cs.promises,$s={},js=(e,t)=>($s[e]&&!t?.ignoreCache||($s[e]=Ms(e,"utf8")),$s[e]),qs=()=>({}),Us=async(e={})=>{const{filepath:t=ks(),configFilepath:n=Is()}=e,r=await Promise.all([js(n,{ignoreCache:e.ignoreCache}).then(Ds).then(Ns).catch(qs),js(t,{ignoreCache:e.ignoreCache}).then(Ds).catch(qs)]);return{configFile:r[0],credentialsFile:r[1]}},Fs=/^sso-session\s(["'])?([^\1]+)\1$/,Ls=e=>Object.entries(e).filter((([e])=>Fs.test(e))).reduce(((e,[t,n])=>({...e,[Fs.exec(t)[2]]:n})),{}),zs=()=>({}),Bs=async(e={})=>js(e.configFilepath??Is()).then(Ds).then(Ls).catch(zs),Vs=async e=>{const t=await Us(e);return((...e)=>{const t={};for(const n of e)for(const[e,r]of Object.entries(n))void 0!==t[e]?Object.assign(t[e],r):t[e]=r;return t})(t.configFile,t.credentialsFile)},Hs=require("url"),Ws=require("http");function Ks(e){return new Promise(((t,n)=>{const r=(0,Ws.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});r.on("error",(e=>{n(Object.assign(new ys("Unable to connect to instance metadata service"),e)),r.destroy()})),r.on("timeout",(()=>{n(new ys("TimeoutError from instance metadata service")),r.destroy()})),r.on("response",(e=>{const{statusCode:s=400}=e;(s<200||300<=s)&&(n(Object.assign(new ys("Error response received from instance metadata service"),{statusCode:s})),r.destroy());const o=[];e.on("data",(e=>{o.push(e)})),e.on("end",(()=>{t(je.Buffer.concat(o)),r.destroy()}))})),r.end()}))}const Gs=e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.AccessKeyId&&"string"==typeof e.SecretAccessKey&&"string"==typeof e.Token&&"string"==typeof e.Expiration,Qs=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),Xs=({maxRetries:e=0,timeout:t=1e3})=>({maxRetries:e,timeout:t}),Js=(e,t)=>{let n=e();for(let r=0;r<t;r++)n=n.catch(e);return n},Ys="AWS_CONTAINER_CREDENTIALS_FULL_URI",Zs="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",eo="AWS_CONTAINER_AUTHORIZATION_TOKEN",to=(e={})=>{const{timeout:t,maxRetries:n}=Xs(e);return()=>Js((async()=>{const e=await oo(),n=JSON.parse(await no(t,e));if(!Gs(n))throw new ws("Invalid response received from instance metadata service.");return Qs(n)}),n)},no=async(e,t)=>(process.env[eo]&&(t.headers={...t.headers,Authorization:process.env[eo]}),(await Ks({...t,timeout:e})).toString()),ro={localhost:!0,"127.0.0.1":!0},so={"http:":!0,"https:":!0},oo=async()=>{if(process.env[Zs])return{hostname:"169.254.170.2",path:process.env[Zs]};if(process.env[Ys]){const e=(0,Hs.parse)(process.env[Ys]);if(!e.hostname||!(e.hostname in ro))throw new ws(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in so))throw new ws(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new ws(`The container metadata credential provider cannot be used unless the ${Zs} or ${Ys} environment variable is set`,!1)};function io(...e){return()=>{let t=Promise.reject(new ys("No providers in chain"));for(const n of e)t=t.catch((e=>{if(e?.tryNextLink)return n();throw e}));return t}}const ao=({environmentVariableSelector:e,configFileSelector:t,default:n},r={})=>{return we(io((s=e,async()=>{try{const e=s(process.env);if(void 0===e)throw new Error;return e}catch(e){throw new ws(e.message||`Cannot load config from environment variables with getter: ${s}`)}}),((e,{preferredFile:t="config",...n}={})=>async()=>{const r=xs(n),{configFile:s,credentialsFile:o}=await Us(n),i=o[r]||{},a=s[r]||{},c="config"===t?{...i,...a}:{...a,...i};try{const t=e(c);if(void 0===t)throw new Error;return t}catch(t){throw new ws(t.message||`Cannot load config for profile ${r} in SDK configuration files with getter: ${e}`)}})(t,r),(e=>{return"function"==typeof e?async()=>await e():(t=e,()=>Promise.resolve(t));var t})(n)));var s};var co;!function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"}(co||(co={}));const uo={environmentVariableSelector:e=>e.AWS_EC2_METADATA_SERVICE_ENDPOINT,configFileSelector:e=>e.ec2_metadata_service_endpoint,default:void 0};var lo;!function(e){e.IPv4="IPv4",e.IPv6="IPv6"}(lo||(lo={}));const po={environmentVariableSelector:e=>e.AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE,configFileSelector:e=>e.ec2_metadata_service_endpoint_mode,default:lo.IPv4},ho=async()=>O(await fo()||await mo()),fo=async()=>ao(uo)(),mo=async()=>{const e=await ao(po)();switch(e){case lo.IPv4:return co.IPv4;case lo.IPv6:return co.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(lo)}`)}},go=(e,t)=>{const n=300+Math.floor(300*Math.random()),r=new Date(Date.now()+1e3*n);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html");const s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:r}},yo="/latest/meta-data/iam/security-credentials/",wo=(e={})=>((e,t={})=>{const n=t?.logger||console;let r;return async()=>{let t;try{t=await e(),t.expiration&&t.expiration.getTime()<Date.now()&&(t=go(t,n))}catch(e){if(!r)throw e;n.warn("Credential renew failed: ",e),t=go(r,n)}return r=t,t}})(_o(e),{logger:e.logger}),_o=e=>{let t=!1;const{timeout:n,maxRetries:r}=Xs(e),s=async(e,n)=>{const r=(await Js((async()=>{let e;try{e=await bo(n)}catch(e){throw 401===e.statusCode&&(t=!1),e}return e}),e)).trim();return Js((async()=>{let e;try{e=await Eo(r,n)}catch(e){throw 401===e.statusCode&&(t=!1),e}return e}),e)};return async()=>{const e=await ho();if(t)return s(r,{...e,timeout:n});{let o;try{o=(await vo({...e,timeout:n})).toString()}catch(o){if(400===o?.statusCode)throw Object.assign(o,{message:"EC2 Metadata token request returned error"});return("TimeoutError"===o.message||[403,404,405].includes(o.statusCode))&&(t=!0),s(r,{...e,timeout:n})}return s(r,{...e,headers:{"x-aws-ec2-metadata-token":o},timeout:n})}}},vo=async e=>Ks({...e,path:"/latest/api/token",method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),bo=async e=>(await Ks({...e,path:yo})).toString(),Eo=async(e,t)=>{const n=JSON.parse((await Ks({...t,path:yo+e})).toString());if(!Gs(n))throw new ws("Invalid response received from instance metadata service.");return Qs(n)},So=require("child_process"),xo=require("util"),Po=(e={})=>async()=>{const t=await Vs(e);return(async(e,t)=>{const n=t[e];if(!t[e])throw new ws(`Profile ${e} could not be found in shared credentials file.`);{const t=n.credential_process;if(void 0===t)throw new ws(`Profile ${e} did not contain credential_process.`);{const n=(0,xo.promisify)(So.exec);try{const{stdout:r}=await n(t);let s;try{s=JSON.parse(r.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return((e,t)=>{if(1!==t.Version)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(void 0===t.AccessKeyId||void 0===t.SecretAccessKey)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){const n=new Date;if(new Date(t.Expiration)<n)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}})(e,s)}catch(e){throw new ws(e.message)}}}})(xs(e),t)},Co=e=>e&&("string"==typeof e.sso_start_url||"string"==typeof e.sso_account_id||"string"==typeof e.sso_session||"string"==typeof e.sso_region||"string"==typeof e.sso_role_name);class Ao{constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update(Le(To(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,se.createHmac)(this.algorithmIdentifier,To(this.secret)):(0,se.createHash)(this.algorithmIdentifier)}}function To(e,t){return je.Buffer.isBuffer(e)?e:"string"==typeof e?Ue(e,t):ArrayBuffer.isView(e)?qe(e.buffer,e.byteOffset,e.byteLength):qe(e)}const Io=require("https"),ko=["ECONNRESET","EPIPE","ETIMEDOUT"],Oo=e=>{const t={};for(const n of Object.keys(e)){const r=e[n];t[n]=Array.isArray(r)?r.join(","):r}return t},No=require("stream");class Ro{constructor(e){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise(((t,n)=>{"function"==typeof e?e().then((e=>{t(this.resolveDefaultConfig(e))})).catch(n):t(this.resolveDefaultConfig(e))}))}resolveDefaultConfig(e){const{requestTimeout:t,connectionTimeout:n,socketTimeout:r,httpAgent:s,httpsAgent:o}=e||{};return{connectionTimeout:n,requestTimeout:t??r,httpAgent:s||new Ws.Agent({keepAlive:!0,maxSockets:50}),httpsAgent:o||new Io.Agent({keepAlive:!0,maxSockets:50})}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:t}={}){return this.config||(this.config=await this.configProvider),new Promise(((n,r)=>{let s;const o=async e=>{await s,r(e)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",void o(e)}const i="https:"===e.protocol,a=function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=ut(n),Array.isArray(r))for(let e=0,s=r.length;e<s;e++)t.push(`${n}=${ut(r[e])}`);else{let e=n;(r||"string"==typeof r)&&(e+=`=${ut(r)}`),t.push(e)}}return t.join("&")}(e.query||{});let c;null==e.username&&null==e.password||(c=`${e.username??""}:${e.password??""}`);let u=e.path;a&&(u+=`?${a}`),e.fragment&&(u+=`#${e.fragment}`);const l={headers:e.headers,host:e.hostname,method:e.method,path:u,port:e.port,agent:i?this.config.httpsAgent:this.config.httpAgent,auth:c},d=(i?Io.request:Ws.request)(l,(e=>{(async e=>{await s,n(e)})({response:new g({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:Oo(e.headers),body:e})})}));d.on("error",(e=>{ko.includes(e.code)?o(Object.assign(e,{name:"TimeoutError"})):o(e)})),((e,t,n=0)=>{if(!n)return;const r=setTimeout((()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${n} ms`),{name:"TimeoutError"}))}),n);e.on("socket",(e=>{e.connecting?e.on("connect",(()=>{clearTimeout(r)})):clearTimeout(r)}))})(d,o,this.config.connectionTimeout),((e,t,n=0)=>{e.setTimeout(n,(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${n} ms`),{name:"TimeoutError"}))}))})(d,o,this.config.requestTimeout),t&&(t.onabort=()=>{d.abort();const e=new Error("Request aborted");e.name="AbortError",o(e)});const p=l.agent;"object"==typeof p&&"keepAlive"in p&&((e,{keepAlive:t,keepAliveMsecs:n})=>{!0===t&&e.on("socket",(e=>{e.setKeepAlive(t,n||0)}))})(d,{keepAlive:p.keepAlive,keepAliveMsecs:p.keepAliveMsecs}),s=async function(e,t,n=1e3){const r=t.headers??{},s=r.Expect||r.expect;let o=-1,i=!1;"100-continue"===s&&await Promise.race([new Promise((e=>{o=Number(setTimeout(e,Math.max(1e3,n)))})),new Promise((t=>{e.on("continue",(()=>{clearTimeout(o),t()})),e.on("error",(()=>{i=!0,clearTimeout(o),t()}))}))]),i||function(e,t){t instanceof No.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}(e,t.body)}(d,e,this.config.requestTimeout)}))}}require("http2"),Symbol.iterator;class Do extends No.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,t,n){this.bufferedBytes.push(e),n()}}const Mo=e=>new Promise(((t,n)=>{const r=new Do;e.pipe(r),e.on("error",(e=>{r.end(),n(e)})),r.on("error",n),r.on("finish",(function(){const e=new Uint8Array(Buffer.concat(this.bufferedBytes));t(e)}))})),$o=e=>{if(!e)return 0;if("string"==typeof e)return Buffer.from(e).length;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;if("string"==typeof e.path||Buffer.isBuffer(e.path))return(0,Cs.lstatSync)(e.path).size;if("number"==typeof e.fd)return(0,Cs.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};var jo=n(7282);const qo=({serviceId:e,clientVersion:t})=>{const r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,vs.platform)()}`,(0,vs.release)()],["lang/js"],["md/nodejs",`${jo.versions.node}`]],s=(()=>{try{return n(8687)?["md/crt-avail"]:null}catch(e){return null}})();s&&r.push(s),e&&r.push([`api/${e}`,t]),jo.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${jo.env.AWS_EXECUTION_ENV}`]);const o=ao({environmentVariableSelector:e=>e.AWS_SDK_UA_APP_ID,configFileSelector:e=>e["sdk-ua-app-id"],default:void 0})();let i;return async()=>{if(!i){const e=await o;i=e?[...r,[`app/${e}`]]:[...r]}return i}},Uo=/^[A-Za-z0-9+/]*={0,2}$/,Fo=e=>{if(3*e.length%4!=0)throw new TypeError("Incorrect padding on base64 string.");if(!Uo.exec(e))throw new TypeError("Invalid base64 string.");const t=Ue(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},Lo=e=>qe(e.buffer,e.byteOffset,e.byteLength).toString("base64"),zo="required",Bo="fn",Vo="argv",Ho="ref",Wo="PartitionResult",Ko="tree",Go="error",Qo="endpoint",Xo={[zo]:!1,type:"String"},Jo={[zo]:!0,default:!1,type:"Boolean"},Yo={[Ho]:"Endpoint"},Zo={[Bo]:"booleanEquals",[Vo]:[{[Ho]:"UseFIPS"},!0]},ei={[Bo]:"booleanEquals",[Vo]:[{[Ho]:"UseDualStack"},!0]},ti={},ni={[Bo]:"booleanEquals",[Vo]:[!0,{[Bo]:"getAttr",[Vo]:[{[Ho]:Wo},"supportsFIPS"]}]},ri={[Bo]:"booleanEquals",[Vo]:[!0,{[Bo]:"getAttr",[Vo]:[{[Ho]:Wo},"supportsDualStack"]}]},si=[Yo],oi=[Zo],ii=[ei],ai={version:"1.0",parameters:{Region:Xo,UseDualStack:Jo,UseFIPS:Jo,Endpoint:Xo},rules:[{conditions:[{[Bo]:"aws.partition",[Vo]:[{[Ho]:"Region"}],assign:Wo}],type:Ko,rules:[{conditions:[{[Bo]:"isSet",[Vo]:si},{[Bo]:"parseURL",[Vo]:si,assign:"url"}],type:Ko,rules:[{conditions:oi,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Go},{type:Ko,rules:[{conditions:ii,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Go},{endpoint:{url:Yo,properties:ti,headers:ti},type:Qo}]}]},{conditions:[Zo,ei],type:Ko,rules:[{conditions:[ni,ri],type:Ko,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ti,headers:ti},type:Qo}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Go}]},{conditions:oi,type:Ko,rules:[{conditions:[ni],type:Ko,rules:[{type:Ko,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ti,headers:ti},type:Qo}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Go}]},{conditions:ii,type:Ko,rules:[{conditions:[ri],type:Ko,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ti,headers:ti},type:Qo}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Go}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:ti,headers:ti},type:Qo}]}]},ci=(e,t={})=>mn(ai,{endpointParams:e,logger:t.logger}),ui="AWS_REGION",li="AWS_DEFAULT_REGION",di=["in-region","cross-region","mobile","standard","legacy"],pi={environmentVariableSelector:e=>e.AWS_DEFAULTS_MODE,configFileSelector:e=>e.defaults_mode,default:"legacy"},hi=({region:e=ao(c),defaultsMode:t=ao(pi)}={})=>we((async()=>{const n="function"==typeof t?await t():t;switch(n?.toLowerCase()){case"auto":return fi(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(n?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${di.join(", ")}, got ${n}`)}})),fi=async e=>{if(e){const t="function"==typeof e?await e():e,n=await mi();return n?t===n?"in-region":"cross-region":"standard"}return"standard"},mi=async()=>{if(process.env.AWS_EXECUTION_ENV&&(process.env[ui]||process.env[li]))return process.env[ui]??process.env[li];if(!process.env.AWS_EC2_METADATA_DISABLED)try{const e=await ho();return(await Ks({...e,path:"/latest/meta-data/placement/region"})).toString()}catch(e){}};class gi extends An{constructor(e){const t=(n=(e=>{ir(process.version);const t=hi(e),n=()=>t().then(sr),r=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Fo,base64Encoder:e?.base64Encoder??Lo,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ci,logger:e?.logger??new Sn,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??O,utf8Decoder:e?.utf8Decoder??Fe,utf8Encoder:e?.utf8Encoder??ze}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??$o,defaultUserAgentProvider:e?.defaultUserAgentProvider??qo({serviceId:r.serviceId,clientVersion:"3.350.0"}),maxAttempts:e?.maxAttempts??ao(te),region:e?.region??ao(c,u),requestHandler:e?.requestHandler??new Ro(n),retryMode:e?.retryMode??ao({...re,default:async()=>(await n()).retryMode||z}),sha256:e?.sha256??Ao.bind(null,"sha256"),streamCollector:e?.streamCollector??Mo,useDualstackEndpoint:e?.useDualstackEndpoint??ao(i),useFipsEndpoint:e?.useFipsEndpoint??ao(a)}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var n;const r=p(t),s=N(r),o=Pt(ne(s));super(o),this.config=o,this.middlewareStack.use(ge(this.config)),this.middlewareStack.use(_(this.config)),this.middlewareStack.use(D(this.config)),this.middlewareStack.use($(this.config)),this.middlewareStack.use(U(this.config)),this.middlewareStack.use(En(this.config))}destroy(){super.destroy()}}class yi extends er{constructor(e){super(e),Object.setPrototypeOf(this,yi.prototype)}}class wi extends yi{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,wi.prototype)}}class _i extends yi{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,_i.prototype)}}class vi extends yi{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,vi.prototype)}}class bi extends yi{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,bi.prototype)}}const Ei=e=>({...e,...e.accessToken&&{accessToken:In}}),Si=e=>({...e,...e.secretAccessKey&&{secretAccessKey:In},...e.sessionToken&&{sessionToken:In}}),xi=e=>({...e,...e.roleCredentials&&{roleCredentials:Si(e.roleCredentials)}}),Pi=nr(yi),Ci=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{message:jn});Object.assign(n,s);const o=new wi({$metadata:ki(e),...n});return tr(o,e.body)},Ai=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{message:jn});Object.assign(n,s);const o=new _i({$metadata:ki(e),...n});return tr(o,e.body)},Ti=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{message:jn});Object.assign(n,s);const o=new vi({$metadata:ki(e),...n});return tr(o,e.body)},Ii=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{message:jn});Object.assign(n,s);const o=new bi({$metadata:ki(e),...n});return tr(o,e.body)},ki=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Oi=e=>!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size),Ni=(e,t)=>((e,t)=>((e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array))(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),Ri=async(e,t)=>{const n=await Ni(e,t);return n.message=n.message??n.Message,n},Di=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,"x-amzn-errortype",Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class Mi extends Tn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(E(t,this.serialize,this.deserialize)),this.middlewareStack.use(I(t,Mi.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:Ei,outputFilterSensitiveLog:xi},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),i=lr({},Oi,{"x-amz-sso_bearer_token":e.accessToken}),a=`${o?.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,c=lr({role_name:[,Mn(e.roleName,"roleName")],account_id:[,Mn(e.accountId,"accountId")]});return new Nr({protocol:r,hostname:n,port:s,method:"GET",headers:i,path:a,query:c,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Ri(e.body,t)},r=Di(e,n.body);switch(r){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Ci(n,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Ai(n,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Ti(n,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Ii(n,t);default:const s=n.body;return Pi({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=lr({$metadata:ki(e)}),r=Mn($n(await Ni(e.body,t)),"body"),s=dr(r,{roleCredentials:wr});return Object.assign(n,s),n})(e,t)}}class $i extends ys{constructor(e,t=!0){super(e,t),this.tryNextLink=t,this.name="TokenProviderError",Object.setPrototypeOf(this,$i.prototype)}}const ji="To refresh this SSO session run 'aws sso login' with the corresponding profile.";class qi extends er{constructor(e){super(e),Object.setPrototypeOf(this,qi.prototype)}}class Ui extends qi{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Ui.prototype),this.error=e.error,this.error_description=e.error_description}}class Fi extends qi{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,Fi.prototype),this.error=e.error,this.error_description=e.error_description}}class Li extends qi{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Li.prototype),this.error=e.error,this.error_description=e.error_description}}class zi extends qi{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,zi.prototype),this.error=e.error,this.error_description=e.error_description}}class Bi extends qi{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,Bi.prototype),this.error=e.error,this.error_description=e.error_description}}class Vi extends qi{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,Vi.prototype),this.error=e.error,this.error_description=e.error_description}}class Hi extends qi{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Hi.prototype),this.error=e.error,this.error_description=e.error_description}}class Wi extends qi{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Wi.prototype),this.error=e.error,this.error_description=e.error_description}}class Ki extends qi{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Ki.prototype),this.error=e.error,this.error_description=e.error_description}}class Gi extends qi{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Gi.prototype),this.error=e.error,this.error_description=e.error_description}}class Qi extends qi{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Qi.prototype),this.error=e.error,this.error_description=e.error_description}}const Xi=nr(qi),Ji=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{error:jn,error_description:jn});Object.assign(n,s);const o=new Ui({$metadata:ca(e),...n});return tr(o,e.body)},Yi=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{error:jn,error_description:jn});Object.assign(n,s);const o=new Fi({$metadata:ca(e),...n});return tr(o,e.body)},Zi=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{error:jn,error_description:jn});Object.assign(n,s);const o=new Li({$metadata:ca(e),...n});return tr(o,e.body)},ea=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{error:jn,error_description:jn});Object.assign(n,s);const o=new zi({$metadata:ca(e),...n});return tr(o,e.body)},ta=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{error:jn,error_description:jn});Object.assign(n,s);const o=new Bi({$metadata:ca(e),...n});return tr(o,e.body)},na=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{error:jn,error_description:jn});Object.assign(n,s);const o=new Vi({$metadata:ca(e),...n});return tr(o,e.body)},ra=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{error:jn,error_description:jn});Object.assign(n,s);const o=new Hi({$metadata:ca(e),...n});return tr(o,e.body)},sa=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{error:jn,error_description:jn});Object.assign(n,s);const o=new Wi({$metadata:ca(e),...n});return tr(o,e.body)},oa=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{error:jn,error_description:jn});Object.assign(n,s);const o=new Ki({$metadata:ca(e),...n});return tr(o,e.body)},ia=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{error:jn,error_description:jn});Object.assign(n,s);const o=new Gi({$metadata:ca(e),...n});return tr(o,e.body)},aa=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{error:jn,error_description:jn});Object.assign(n,s);const o=new Qi({$metadata:ca(e),...n});return tr(o,e.body)},ca=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),ua=(e,t)=>((e,t)=>((e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array))(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),la=async(e,t)=>{const n=await ua(e,t);return n.message=n.message??n.Message,n},da=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,"x-amzn-errortype",Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class pa extends Tn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(E(t,this.serialize,this.deserialize)),this.middlewareStack.use(I(t,pa.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint(),i=`${o?.endsWith("/")?o.slice(0,-1):o||""}/token`;let a;return a=JSON.stringify(dr(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:e=>wr(e)})),new Nr({protocol:r,hostname:n,port:s,method:"POST",headers:{"content-type":"application/json"},path:i,body:a})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await la(e.body,t)},r=da(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Ji(n,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Yi(n,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Zi(n,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await ea(n,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await ta(n,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await na(n,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await ra(n,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await sa(n,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await oa(n,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await ia(n,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await aa(n,t);default:const s=n.body;return Xi({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=lr({$metadata:ca(e)}),r=Mn($n(await ua(e.body,t)),"body"),s=dr(r,{accessToken:jn,expiresIn:Nn,idToken:jn,refreshToken:jn,tokenType:jn});return Object.assign(n,s),n})(e,t)}}const ha="required",fa="fn",ma="argv",ga="ref",ya="PartitionResult",wa="tree",_a="error",va="endpoint",ba={[ha]:!1,type:"String"},Ea={[ha]:!0,default:!1,type:"Boolean"},Sa={[ga]:"Endpoint"},xa={[fa]:"booleanEquals",[ma]:[{[ga]:"UseFIPS"},!0]},Pa={[fa]:"booleanEquals",[ma]:[{[ga]:"UseDualStack"},!0]},Ca={},Aa={[fa]:"booleanEquals",[ma]:[!0,{[fa]:"getAttr",[ma]:[{[ga]:ya},"supportsFIPS"]}]},Ta={[fa]:"booleanEquals",[ma]:[!0,{[fa]:"getAttr",[ma]:[{[ga]:ya},"supportsDualStack"]}]},Ia=[Sa],ka=[xa],Oa=[Pa],Na={version:"1.0",parameters:{Region:ba,UseDualStack:Ea,UseFIPS:Ea,Endpoint:ba},rules:[{conditions:[{[fa]:"aws.partition",[ma]:[{[ga]:"Region"}],assign:ya}],type:wa,rules:[{conditions:[{[fa]:"isSet",[ma]:Ia},{[fa]:"parseURL",[ma]:Ia,assign:"url"}],type:wa,rules:[{conditions:ka,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:_a},{type:wa,rules:[{conditions:Oa,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:_a},{endpoint:{url:Sa,properties:Ca,headers:Ca},type:va}]}]},{conditions:[xa,Pa],type:wa,rules:[{conditions:[Aa,Ta],type:wa,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ca,headers:Ca},type:va}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:_a}]},{conditions:ka,type:wa,rules:[{conditions:[Aa],type:wa,rules:[{type:wa,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ca,headers:Ca},type:va}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:_a}]},{conditions:Oa,type:wa,rules:[{conditions:[Ta],type:wa,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ca,headers:Ca},type:va}]},{error:"DualStack is enabled but this partition does not support DualStack",type:_a}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ca,headers:Ca},type:va}]}]},Ra=(e,t={})=>mn(Na,{endpointParams:e,logger:t.logger});class Da extends An{constructor(e){const t=(n=(e=>{ir(process.version);const t=hi(e),n=()=>t().then(sr),r=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Fo,base64Encoder:e?.base64Encoder??Lo,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Ra,logger:e?.logger??new Sn,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??O,utf8Decoder:e?.utf8Decoder??Fe,utf8Encoder:e?.utf8Encoder??ze}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??$o,defaultUserAgentProvider:e?.defaultUserAgentProvider??qo({serviceId:r.serviceId,clientVersion:"3.350.0"}),maxAttempts:e?.maxAttempts??ao(te),region:e?.region??ao(c,u),requestHandler:e?.requestHandler??new Ro(n),retryMode:e?.retryMode??ao({...re,default:async()=>(await n()).retryMode||z}),sha256:e?.sha256??Ao.bind(null,"sha256"),streamCollector:e?.streamCollector??Mo,useDualstackEndpoint:e?.useDualstackEndpoint??ao(i),useFipsEndpoint:e?.useFipsEndpoint??ao(a)}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var n;const r=p(t),s=N(r),o=Pt(ne(s));super(o),this.config=o,this.middlewareStack.use(ge(this.config)),this.middlewareStack.use(_(this.config)),this.middlewareStack.use(D(this.config)),this.middlewareStack.use($(this.config)),this.middlewareStack.use(U(this.config)),this.middlewareStack.use(En(this.config))}destroy(){super.destroy()}}const Ma={},$a=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new $i(`Token is expired. ${ji}`,!1)},ja=(e,t,n=!1)=>{if(void 0===t)throw new $i(`Value not present for '${e}' in SSO Token${n?". Cannot refresh":""}. ${ji}`,!1)},{writeFile:qa}=Cs.promises,Ua=new Date(0),Fa=(e={})=>async()=>{const t=await Vs(e),n=xs(e),r=t[n];if(!r)throw new $i(`Profile '${n}' could not be found in shared credentials file.`,!1);if(!r.sso_session)throw new $i(`Profile '${n}' is missing required property 'sso_session'.`);const s=r.sso_session,o=(await Bs(e))[s];if(!o)throw new $i(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(const e of["sso_start_url","sso_region"])if(!o[e])throw new $i(`Sso session '${s}' is missing required property '${e}'.`,!1);o.sso_start_url;const i=o.sso_region;let a;try{a=await Ts(s)}catch(e){throw new $i(`The SSO session token associated with profile=${n} was not found or is invalid. ${ji}`,!1)}ja("accessToken",a.accessToken),ja("expiresAt",a.expiresAt);const{accessToken:c,expiresAt:u}=a,l={token:c,expiration:new Date(u)};if(l.expiration.getTime()-Date.now()>3e5)return l;if(Date.now()-Ua.getTime()<3e4)return $a(l),l;ja("clientId",a.clientId,!0),ja("clientSecret",a.clientSecret,!0),ja("refreshToken",a.refreshToken,!0);try{Ua.setTime(Date.now());const e=await((e,t)=>{const n=(e=>{if(Ma[e])return Ma[e];const t=new Da({region:e});return Ma[e]=t,t})(t);return n.send(new pa({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))})(a,i);ja("accessToken",e.accessToken),ja("expiresIn",e.expiresIn);const t=new Date(Date.now()+1e3*e.expiresIn);try{await((e,t)=>{const n=Ps(e),r=JSON.stringify(t,null,2);return qa(n,r)})(s,{...a,accessToken:e.accessToken,expiresAt:t.toISOString(),refreshToken:e.refreshToken})}catch(e){}return{token:e.accessToken,expiration:t}}catch(e){return $a(l),l}},La=!1,za=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,profile:i})=>{let a;const c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{const e=await Fa({profile:i})();a={accessToken:e.token,expiresAt:new Date(e.expiration).toISOString()}}catch(e){throw new ws(e.message,La)}else try{a=await Ts(e)}catch(e){throw new ws(`The SSO session associated with this profile is invalid. ${c}`,La)}if(new Date(a.expiresAt).getTime()-Date.now()<=9e5)throw new ws(`The SSO session associated with this profile has expired. ${c}`,La);const{accessToken:u}=a,l=o||new gi({region:r});let d;try{d=await l.send(new Mi({accountId:n,roleName:s,accessToken:u}))}catch(e){throw ws.from(e,La)}const{roleCredentials:{accessKeyId:p,secretAccessKey:h,sessionToken:f,expiration:m}={}}=d;if(!(p&&h&&f&&m))throw new ws("SSO returns an invalid temporary credential.",La);return{accessKeyId:p,secretAccessKey:h,sessionToken:f,expiration:new Date(m)}},Ba=e=>{const{sso_start_url:t,sso_account_id:n,sso_region:r,sso_role_name:s}=e;if(!(t&&n&&r&&s))throw new ws(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}\nReference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e},Va=(e={})=>async()=>{const{ssoStartUrl:t,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,ssoSession:i}=e,a=xs(e);if(t||n||r||s||i){if(t&&n&&r&&s)return za({ssoStartUrl:t,ssoSession:i,ssoAccountId:n,ssoRegion:r,ssoRoleName:s,ssoClient:o,profile:a});throw new ws('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"')}{const n=(await Vs(e))[a];if(!n)throw new ws(`Profile ${a} was not found.`);if(!Co(n))throw new ws(`Profile ${a} is not configured with SSO credentials.`);if(n?.sso_session){const s=(await Bs(e))[n.sso_session],o=` configurations in profile ${a} and sso-session ${n.sso_session}`;if(r&&r!==s.sso_region)throw new ws("Conflicting SSO region"+o,!1);if(t&&t!==s.sso_start_url)throw new ws("Conflicting SSO start_url"+o,!1);n.sso_region=s.sso_region,n.sso_start_url=s.sso_start_url}const{sso_start_url:s,sso_account_id:i,sso_region:c,sso_role_name:u,sso_session:l}=Ba(n);return za({ssoStartUrl:s,ssoSession:l,ssoAccountId:i,ssoRegion:c,ssoRoleName:u,ssoClient:o,profile:a})}},Ha=e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.aws_access_key_id&&"string"==typeof e.aws_secret_access_key&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,Wa=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token}),Ka=(e={})=>async()=>Ga(e),Ga=e=>{const t=e?.webIdentityTokenFile??process.env.AWS_WEB_IDENTITY_TOKEN_FILE,n=e?.roleArn??process.env.AWS_ROLE_ARN,r=e?.roleSessionName??process.env.AWS_ROLE_SESSION_NAME;if(!t||!n)throw new ws("Web identity configuration not specified");return(e=>()=>{const{roleArn:t,roleSessionName:n,webIdentityToken:r,providerId:s,policyArns:o,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new ws(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:r,ProviderId:s,PolicyArns:o,Policy:i,DurationSeconds:a})})({...e,webIdentityToken:(0,Cs.readFileSync)(t,{encoding:"ascii"}),roleArn:n,roleSessionName:r})()},Qa=async(e,t,n,r={})=>{const s=t[e];if(Object.keys(r).length>0&&Ha(s))return Wa(s);if(o=s,Boolean(o)&&"object"==typeof o&&"string"==typeof o.role_arn&&["undefined","string"].indexOf(typeof o.role_session_name)>-1&&["undefined","string"].indexOf(typeof o.external_id)>-1&&["undefined","string"].indexOf(typeof o.mfa_serial)>-1&&((e=>"string"==typeof e.source_profile&&void 0===e.credential_source)(o)||(e=>"string"==typeof e.credential_source&&void 0===e.source_profile)(o)))return(async(e,t,n,r={})=>{const s=t[e];if(!n.roleAssumer)throw new ws(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);const{source_profile:o}=s;if(o&&o in r)throw new ws(`Detected a cycle attempting to resolve credentials for profile ${xs(n)}. Profiles visited: `+Object.keys(r).join(", "),!1);const i=o?Qa(o,t,n,{...r,[o]:!0}):((e,t)=>{const n={EcsContainer:to,Ec2InstanceMetadata:wo,Environment:_s};if(e in n)return n[e]();throw new ws(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)})(s.credential_source,e)(),a={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:c}=s;if(c){if(!n.mfaCodeProvider)throw new ws(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await n.mfaCodeProvider(c)}const u=await i;return n.roleAssumer(u,a)})(e,t,n,r);var o;if(Ha(s))return Wa(s);if((e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.web_identity_token_file&&"string"==typeof e.role_arn&&["undefined","string"].indexOf(typeof e.role_session_name)>-1)(s))return(async(e,t)=>Ka({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})())(s,n);if((e=>Boolean(e)&&"object"==typeof e&&"string"==typeof e.credential_process)(s))return(async(e,t)=>Po({...e,profile:t})())(n,e);if(Co(s))return(e=>{const{sso_start_url:t,sso_account_id:n,sso_session:r,sso_region:s,sso_role_name:o}=Ba(e);return Va({ssoStartUrl:t,ssoAccountId:n,ssoSession:r,ssoRegion:s,ssoRoleName:o})()})(s);throw new ws(`Profile ${e} could not be found or parsed in shared credentials file.`)},Xa=(e={})=>we(io(...e.profile||process.env[Ss]?[]:[_s()],Va(e),((e={})=>async()=>{const t=await Vs(e);return Qa(xs(e),t,e)})(e),Po(e),Ka(e),(e=>process.env[Zs]||process.env[Ys]?to(e):process.env.AWS_EC2_METADATA_DISABLED?async()=>{throw new ws("EC2 Instance Metadata Service access disabled")}:wo(e))(e),(async()=>{throw new ws("Could not load credentials from any providers",!1)})),(e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5),(e=>void 0!==e.expiration)),Ja="required",Ya="type",Za="fn",ec="argv",tc="ref",nc="booleanEquals",rc="tree",sc="stringEquals",oc="sigv4",ic="us-east-1",ac="endpoint",cc="https://sts.{Region}.{PartitionResult#dnsSuffix}",uc="error",lc="getAttr",dc={[Ja]:!1,[Ya]:"String"},pc={[Ja]:!0,default:!1,[Ya]:"Boolean"},hc={[tc]:"Endpoint"},fc={[Za]:"isSet",[ec]:[{[tc]:"Region"}]},mc={[tc]:"Region"},gc={[Za]:"aws.partition",[ec]:[mc],assign:"PartitionResult"},yc={[tc]:"UseFIPS"},wc={[tc]:"UseDualStack"},_c={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:oc,signingName:"sts",signingRegion:ic}]},headers:{}},vc={},bc={conditions:[{[Za]:sc,[ec]:[mc,"aws-global"]}],[ac]:_c,[Ya]:ac},Ec={[Za]:nc,[ec]:[yc,!0]},Sc={[Za]:nc,[ec]:[wc,!0]},xc={[Za]:nc,[ec]:[!0,{[Za]:lc,[ec]:[{[tc]:"PartitionResult"},"supportsFIPS"]}]},Pc={[tc]:"PartitionResult"},Cc={[Za]:nc,[ec]:[!0,{[Za]:lc,[ec]:[Pc,"supportsDualStack"]}]},Ac=[{[Za]:"isSet",[ec]:[hc]}],Tc=[Ec],Ic=[Sc],kc={version:"1.0",parameters:{Region:dc,UseDualStack:pc,UseFIPS:pc,Endpoint:dc,UseGlobalEndpoint:pc},rules:[{conditions:[{[Za]:nc,[ec]:[{[tc]:"UseGlobalEndpoint"},!0]},{[Za]:"not",[ec]:Ac},fc,gc,{[Za]:nc,[ec]:[yc,!1]},{[Za]:nc,[ec]:[wc,!1]}],[Ya]:rc,rules:[{conditions:[{[Za]:sc,[ec]:[mc,"ap-northeast-1"]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,"ap-south-1"]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,"ap-southeast-1"]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,"ap-southeast-2"]}],endpoint:_c,[Ya]:ac},bc,{conditions:[{[Za]:sc,[ec]:[mc,"ca-central-1"]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,"eu-central-1"]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,"eu-north-1"]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,"eu-west-1"]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,"eu-west-2"]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,"eu-west-3"]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,"sa-east-1"]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,ic]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,"us-east-2"]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,"us-west-1"]}],endpoint:_c,[Ya]:ac},{conditions:[{[Za]:sc,[ec]:[mc,"us-west-2"]}],endpoint:_c,[Ya]:ac},{endpoint:{url:cc,properties:{authSchemes:[{name:oc,signingName:"sts",signingRegion:"{Region}"}]},headers:vc},[Ya]:ac}]},{conditions:Ac,[Ya]:rc,rules:[{conditions:Tc,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Ya]:uc},{[Ya]:rc,rules:[{conditions:Ic,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Ya]:uc},{endpoint:{url:hc,properties:vc,headers:vc},[Ya]:ac}]}]},{[Ya]:rc,rules:[{conditions:[fc],[Ya]:rc,rules:[{conditions:[gc],[Ya]:rc,rules:[{conditions:[Ec,Sc],[Ya]:rc,rules:[{conditions:[xc,Cc],[Ya]:rc,rules:[{[Ya]:rc,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vc,headers:vc},[Ya]:ac}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Ya]:uc}]},{conditions:Tc,[Ya]:rc,rules:[{conditions:[xc],[Ya]:rc,rules:[{[Ya]:rc,rules:[{conditions:[{[Za]:sc,[ec]:["aws-us-gov",{[Za]:lc,[ec]:[Pc,"name"]}]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:vc,headers:vc},[Ya]:ac},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:vc,headers:vc},[Ya]:ac}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[Ya]:uc}]},{conditions:Ic,[Ya]:rc,rules:[{conditions:[Cc],[Ya]:rc,rules:[{[Ya]:rc,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vc,headers:vc},[Ya]:ac}]}]},{error:"DualStack is enabled but this partition does not support DualStack",[Ya]:uc}]},{[Ya]:rc,rules:[bc,{endpoint:{url:cc,properties:vc,headers:vc},[Ya]:ac}]}]}]},{error:"Invalid Configuration: Missing Region",[Ya]:uc}]}]},Oc=(e,t={})=>mn(kc,{endpointParams:e,logger:t.logger});class Nc extends An{constructor(e){const t=(n=(e=>{ir(process.version);const t=hi(e),n=()=>t().then(sr),r=(e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Fo,base64Encoder:e?.base64Encoder??Lo,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Oc,logger:e?.logger??new Sn,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??O,utf8Decoder:e?.utf8Decoder??Fe,utf8Encoder:e?.utf8Encoder??ze}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??$o,credentialDefaultProvider:e?.credentialDefaultProvider??(s=Xa,e=>s({roleAssumer:ms(e,e.stsClientCtor),roleAssumerWithWebIdentity:gs(e,e.stsClientCtor),...e})),defaultUserAgentProvider:e?.defaultUserAgentProvider??qo({serviceId:r.serviceId,clientVersion:"3.350.0"}),maxAttempts:e?.maxAttempts??ao(te),region:e?.region??ao(c,u),requestHandler:e?.requestHandler??new Ro(n),retryMode:e?.retryMode??ao({...re,default:async()=>(await n()).retryMode||z}),sha256:e?.sha256??Ao.bind(null,"sha256"),streamCollector:e?.streamCollector??Mo,useDualstackEndpoint:e?.useDualstackEndpoint??ao(i),useFipsEndpoint:e?.useFipsEndpoint??ao(a)};var s})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,useGlobalEndpoint:n.useGlobalEndpoint??!1,defaultSigningName:"sts"});var n;const r=p(t),s=N(r),o=Pt(((e,{stsClientCtor:t})=>wt({...e,stsClientCtor:t}))(ne(s),{stsClientCtor:Nc}));super(o),this.config=o,this.middlewareStack.use(ge(this.config)),this.middlewareStack.use(_(this.config)),this.middlewareStack.use(D(this.config)),this.middlewareStack.use($(this.config)),this.middlewareStack.use(U(this.config)),this.middlewareStack.use(En(this.config))}destroy(){super.destroy()}}const Rc=(e,t)=>t?class extends e{constructor(e){super(e);for(const e of t)this.middlewareStack.use(e)}}:e,Dc=(e={},t)=>ms(e,Rc(Nc,t)),Mc=(e={},t)=>gs(e,Rc(Nc,t)),$c=e=>t=>e({roleAssumer:Dc(t),roleAssumerWithWebIdentity:Mc(t),...t}),jc="required",qc="fn",Uc="argv",Fc="ref",Lc="isSet",zc="tree",Bc="error",Vc="endpoint",Hc="PartitionResult",Wc="stringEquals",Kc={[jc]:!1,type:"String"},Gc={[jc]:!0,default:!1,type:"Boolean"},Qc={[Fc]:"Endpoint"},Xc={[qc]:"booleanEquals",[Uc]:[{[Fc]:"UseFIPS"},!0]},Jc={[qc]:"booleanEquals",[Uc]:[{[Fc]:"UseDualStack"},!0]},Yc={},Zc={[Fc]:"Region"},eu={[qc]:"booleanEquals",[Uc]:[!0,{[qc]:"getAttr",[Uc]:[{[Fc]:Hc},"supportsFIPS"]}]},tu={[qc]:"booleanEquals",[Uc]:[!0,{[qc]:"getAttr",[Uc]:[{[Fc]:Hc},"supportsDualStack"]}]},nu=[Xc],ru=[Jc],su=[Zc],ou={version:"1.0",parameters:{Region:Kc,UseDualStack:Gc,UseFIPS:Gc,Endpoint:Kc},rules:[{conditions:[{[qc]:Lc,[Uc]:[Qc]}],type:zc,rules:[{conditions:nu,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Bc},{type:zc,rules:[{conditions:ru,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Bc},{endpoint:{url:Qc,properties:Yc,headers:Yc},type:Vc}]}]},{type:zc,rules:[{conditions:[{[qc]:Lc,[Uc]:su}],type:zc,rules:[{conditions:[{[qc]:"aws.partition",[Uc]:su,assign:Hc}],type:zc,rules:[{conditions:[Xc,Jc],type:zc,rules:[{conditions:[eu,tu],type:zc,rules:[{type:zc,rules:[{endpoint:{url:"https://cloudtrail-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Yc,headers:Yc},type:Vc}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Bc}]},{conditions:nu,type:zc,rules:[{conditions:[eu],type:zc,rules:[{type:zc,rules:[{conditions:[{[qc]:Wc,[Uc]:[Zc,"us-gov-east-1"]}],endpoint:{url:"https://cloudtrail.us-gov-east-1.amazonaws.com",properties:Yc,headers:Yc},type:Vc},{conditions:[{[qc]:Wc,[Uc]:[Zc,"us-gov-west-1"]}],endpoint:{url:"https://cloudtrail.us-gov-west-1.amazonaws.com",properties:Yc,headers:Yc},type:Vc},{endpoint:{url:"https://cloudtrail-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Yc,headers:Yc},type:Vc}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Bc}]},{conditions:ru,type:zc,rules:[{conditions:[tu],type:zc,rules:[{type:zc,rules:[{endpoint:{url:"https://cloudtrail.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Yc,headers:Yc},type:Vc}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Bc}]},{type:zc,rules:[{endpoint:{url:"https://cloudtrail.{Region}.{PartitionResult#dnsSuffix}",properties:Yc,headers:Yc},type:Vc}]}]}]},{error:"Invalid Configuration: Missing Region",type:Bc}]}]},iu=(e,t={})=>mn(ou,{endpointParams:e,logger:t.logger});class au extends An{constructor(e){const t=(n=(e=>{ir(process.version);const t=hi(e),n=()=>t().then(sr),r=(e=>({apiVersion:"2013-11-01",base64Decoder:e?.base64Decoder??Fo,base64Encoder:e?.base64Encoder??Lo,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??iu,logger:e?.logger??new Sn,serviceId:e?.serviceId??"CloudTrail",urlParser:e?.urlParser??O,utf8Decoder:e?.utf8Decoder??Fe,utf8Encoder:e?.utf8Encoder??ze}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??$o,credentialDefaultProvider:e?.credentialDefaultProvider??$c(Xa),defaultUserAgentProvider:e?.defaultUserAgentProvider??qo({serviceId:r.serviceId,clientVersion:"3.350.0"}),maxAttempts:e?.maxAttempts??ao(te),region:e?.region??ao(c,u),requestHandler:e?.requestHandler??new Ro(n),retryMode:e?.retryMode??ao({...re,default:async()=>(await n()).retryMode||z}),sha256:e?.sha256??Ao.bind(null,"sha256"),streamCollector:e?.streamCollector??Mo,useDualstackEndpoint:e?.useDualstackEndpoint??ao(i),useFipsEndpoint:e?.useFipsEndpoint??ao(a)}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"cloudtrail"});var n;const r=p(t),s=N(r),o=ne(s),l=Pt(wt(o));super(l),this.config=l,this.middlewareStack.use(ge(this.config)),this.middlewareStack.use(_(this.config)),this.middlewareStack.use(D(this.config)),this.middlewareStack.use($(this.config)),this.middlewareStack.use(U(this.config)),this.middlewareStack.use(xt(this.config)),this.middlewareStack.use(En(this.config))}destroy(){super.destroy()}}class cu extends er{constructor(e){super(e),Object.setPrototypeOf(this,cu.prototype)}}class uu extends cu{constructor(e){super({name:"OperationNotPermittedException",$fault:"client",...e}),this.name="OperationNotPermittedException",this.$fault="client",Object.setPrototypeOf(this,uu.prototype),this.Message=e.Message}}class lu extends cu{constructor(e){super({name:"UnsupportedOperationException",$fault:"client",...e}),this.name="UnsupportedOperationException",this.$fault="client",Object.setPrototypeOf(this,lu.prototype),this.Message=e.Message}}class du extends cu{constructor(e){super({name:"InvalidMaxResultsException",$fault:"client",...e}),this.name="InvalidMaxResultsException",this.$fault="client",Object.setPrototypeOf(this,du.prototype),this.Message=e.Message}}class pu extends cu{constructor(e){super({name:"InvalidNextTokenException",$fault:"client",...e}),this.name="InvalidNextTokenException",this.$fault="client",Object.setPrototypeOf(this,pu.prototype),this.Message=e.Message}}class hu extends cu{constructor(e){super({name:"InvalidTimeRangeException",$fault:"client",...e}),this.name="InvalidTimeRangeException",this.$fault="client",Object.setPrototypeOf(this,hu.prototype),this.Message=e.Message}}class fu extends cu{constructor(e){super({name:"InvalidEventCategoryException",$fault:"client",...e}),this.name="InvalidEventCategoryException",this.$fault="client",Object.setPrototypeOf(this,fu.prototype),this.Message=e.Message}}class mu extends cu{constructor(e){super({name:"InvalidLookupAttributesException",$fault:"client",...e}),this.name="InvalidLookupAttributesException",this.$fault="client",Object.setPrototypeOf(this,mu.prototype),this.Message=e.Message}}const gu=async(e,t)=>{const n=e.body,r=wr(n),s=new fu({$metadata:xu(e),...r});return tr(s,n)},yu=async(e,t)=>{const n=e.body,r=wr(n),s=new mu({$metadata:xu(e),...r});return tr(s,n)},wu=async(e,t)=>{const n=e.body,r=wr(n),s=new du({$metadata:xu(e),...r});return tr(s,n)},_u=async(e,t)=>{const n=e.body,r=wr(n),s=new pu({$metadata:xu(e),...r});return tr(s,n)},vu=async(e,t)=>{const n=e.body,r=wr(n),s=new hu({$metadata:xu(e),...r});return tr(s,n)},bu=async(e,t)=>{const n=e.body,r=wr(n),s=new uu({$metadata:xu(e),...r});return tr(s,n)},Eu=async(e,t)=>{const n=e.body,r=wr(n),s=new lu({$metadata:xu(e),...r});return tr(s,n)},Su=(e,t)=>dr(e,{AccessKeyId:jn,CloudTrailEvent:jn,EventId:jn,EventName:jn,EventSource:jn,EventTime:e=>Mn((e=>{if(null==e)return;let t;if("number"==typeof e)t=e;else{if("string"!=typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=(e=>kn("string"==typeof e?Un(e):e))(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))})(kn(e))),ReadOnly:jn,Resources:wr,Username:jn}),xu=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Pu=nr(cu);const Cu=(e,t)=>((e,t)=>((e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array))(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),Au=async(e,t)=>{const n=await Cu(e,t);return n.message=n.message??n.Message,n},Tu=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,"x-amzn-errortype",Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class Iu extends Tn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(E(t,this.serialize,this.deserialize)),this.middlewareStack.use(I(t,Iu.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"CloudTrailClient",commandName:"LookupEventsCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n={"content-type":"application/x-amz-json-1.1","x-amz-target":`CloudTrail_20131101.${"LookupEvents"}`};let r;return r=JSON.stringify(((e,t)=>dr(e,{EndTime:e=>Math.round(e.getTime()/1e3),EventCategory:[],LookupAttributes:wr,MaxResults:[],NextToken:[],StartTime:e=>Math.round(e.getTime()/1e3)}))(e)),(async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(u.hostname=r),void 0!==s&&(u.body=s),new Nr(u)})(t,n,"/",void 0,r)})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await Au(e.body,t)},r=Tu(e,n.body);switch(r){case"InvalidEventCategoryException":case"com.amazonaws.cloudtrail#InvalidEventCategoryException":throw await gu(n,t);case"InvalidLookupAttributesException":case"com.amazonaws.cloudtrail#InvalidLookupAttributesException":throw await yu(n,t);case"InvalidMaxResultsException":case"com.amazonaws.cloudtrail#InvalidMaxResultsException":throw await wu(n,t);case"InvalidNextTokenException":case"com.amazonaws.cloudtrail#InvalidNextTokenException":throw await _u(n,t);case"InvalidTimeRangeException":case"com.amazonaws.cloudtrail#InvalidTimeRangeException":throw await vu(n,t);case"OperationNotPermittedException":case"com.amazonaws.cloudtrail#OperationNotPermittedException":throw await bu(n,t);case"UnsupportedOperationException":case"com.amazonaws.cloudtrail#UnsupportedOperationException":throw await Eu(n,t);default:const s=n.body;return Pu({output:e,parsedBody:s,errorCode:r})}})(e,t);let n={};return n=((e,t)=>dr(e,{Events:e=>((e,t)=>{const n=(e||[]).filter((e=>null!=e)).map((e=>Su(e)));return n})(e),NextToken:jn}))(await Cu(e.body,t)),{$metadata:xu(e),...n}})(e,t)}}var ku=function(e){var t=JSON.parse(e.CloudTrailEvent).userIdentity.arn.split("/").slice(1),n=t[0],r=t[1];this.iamRole=n,this.stsSession=r,this.eventTime=e.EventTime},Ou=function(){function e(){this.cloudTrailClient=new au({})}return e.prototype.retrieveQuickSightUserEvents=function(e){return t=this,n=void 0,s=function(){var t,n,r,s;return function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(o){switch(o.label){case 0:t=[],n=null,o.label=1;case 1:return r=new Iu({LookupAttributes:[{AttributeKey:"EventSource",AttributeValue:"quicksight.amazonaws.com"}],StartTime:e,NextToken:n}),[4,this.cloudTrailClient.send(r)];case 2:s=o.sent(),n=s.NextToken,s.Events.forEach((function(e){return t.push(new ku(e))})),o.label=3;case 3:if(n)return[3,1];o.label=4;case 4:return[2,t]}}))},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}c((s=s.apply(t,n||[])).next())}));var t,n,r,s},e.prototype.getLastAccessDate=function(e,t){var n=t.filter((function(t){return e.iamRole===t.iamRole&&e.stsSession===t.stsSession}));if(0===n.length)return console.debug("".concat(e.iamRole,"/").concat(e.stsSession," no CloudTrail events found")),new Date(0);var r=n.sort((function(e,t){return e.eventTime<=t.eventTime?1:-1}))[0];return console.debug("".concat(e.iamRole,"/").concat(e.stsSession," latest event: ").concat(JSON.stringify(r,null,1))),r.eventTime},e}();const Nu="required",Ru="fn",Du="argv",Mu="ref",$u="isSet",ju="tree",qu="error",Uu="endpoint",Fu="PartitionResult",Lu="getAttr",zu={[Nu]:!1,type:"String"},Bu={[Nu]:!0,default:!1,type:"Boolean"},Vu={[Mu]:"Endpoint"},Hu={[Ru]:"booleanEquals",[Du]:[{[Mu]:"UseFIPS"},!0]},Wu={[Ru]:"booleanEquals",[Du]:[{[Mu]:"UseDualStack"},!0]},Ku={},Gu={[Ru]:"booleanEquals",[Du]:[!0,{[Ru]:Lu,[Du]:[{[Mu]:Fu},"supportsFIPS"]}]},Qu={[Mu]:Fu},Xu={[Ru]:"booleanEquals",[Du]:[!0,{[Ru]:Lu,[Du]:[Qu,"supportsDualStack"]}]},Ju=[Hu],Yu=[Wu],Zu=[{[Mu]:"Region"}],el={version:"1.0",parameters:{Region:zu,UseDualStack:Bu,UseFIPS:Bu,Endpoint:zu},rules:[{conditions:[{[Ru]:$u,[Du]:[Vu]}],type:ju,rules:[{conditions:Ju,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:qu},{type:ju,rules:[{conditions:Yu,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:qu},{endpoint:{url:Vu,properties:Ku,headers:Ku},type:Uu}]}]},{type:ju,rules:[{conditions:[{[Ru]:$u,[Du]:Zu}],type:ju,rules:[{conditions:[{[Ru]:"aws.partition",[Du]:Zu,assign:Fu}],type:ju,rules:[{conditions:[Hu,Wu],type:ju,rules:[{conditions:[Gu,Xu],type:ju,rules:[{type:ju,rules:[{endpoint:{url:"https://monitoring-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ku,headers:Ku},type:Uu}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:qu}]},{conditions:Ju,type:ju,rules:[{conditions:[Gu],type:ju,rules:[{type:ju,rules:[{conditions:[{[Ru]:"stringEquals",[Du]:["aws-us-gov",{[Ru]:Lu,[Du]:[Qu,"name"]}]}],endpoint:{url:"https://monitoring.{Region}.amazonaws.com",properties:Ku,headers:Ku},type:Uu},{endpoint:{url:"https://monitoring-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ku,headers:Ku},type:Uu}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:qu}]},{conditions:Yu,type:ju,rules:[{conditions:[Xu],type:ju,rules:[{type:ju,rules:[{endpoint:{url:"https://monitoring.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ku,headers:Ku},type:Uu}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:qu}]},{type:ju,rules:[{endpoint:{url:"https://monitoring.{Region}.{PartitionResult#dnsSuffix}",properties:Ku,headers:Ku},type:Uu}]}]}]},{error:"Invalid Configuration: Missing Region",type:qu}]}]},tl=(e,t={})=>mn(el,{endpointParams:e,logger:t.logger});class nl extends An{constructor(e){const t=(n=(e=>{ir(process.version);const t=hi(e),n=()=>t().then(sr),r=(e=>({apiVersion:"2010-08-01",base64Decoder:e?.base64Decoder??Fo,base64Encoder:e?.base64Encoder??Lo,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??tl,logger:e?.logger??new Sn,serviceId:e?.serviceId??"CloudWatch",urlParser:e?.urlParser??O,utf8Decoder:e?.utf8Decoder??Fe,utf8Encoder:e?.utf8Encoder??ze}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??$o,credentialDefaultProvider:e?.credentialDefaultProvider??$c(Xa),defaultUserAgentProvider:e?.defaultUserAgentProvider??qo({serviceId:r.serviceId,clientVersion:"3.350.0"}),maxAttempts:e?.maxAttempts??ao(te),region:e?.region??ao(c,u),requestHandler:e?.requestHandler??new Ro(n),retryMode:e?.retryMode??ao({...re,default:async()=>(await n()).retryMode||z}),sha256:e?.sha256??Ao.bind(null,"sha256"),streamCollector:e?.streamCollector??Mo,useDualstackEndpoint:e?.useDualstackEndpoint??ao(i),useFipsEndpoint:e?.useFipsEndpoint??ao(a)}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"monitoring"});var n;const r=p(t),s=N(r),o=ne(s),l=Pt(wt(o));super(l),this.config=l,this.middlewareStack.use(ge(this.config)),this.middlewareStack.use(_(this.config)),this.middlewareStack.use(D(this.config)),this.middlewareStack.use($(this.config)),this.middlewareStack.use(U(this.config)),this.middlewareStack.use(xt(this.config)),this.middlewareStack.use(En(this.config))}destroy(){super.destroy()}}class rl extends er{constructor(e){super(e),Object.setPrototypeOf(this,rl.prototype)}}class sl extends rl{constructor(e){super({name:"InternalServiceFault",$fault:"server",...e}),this.name="InternalServiceFault",this.$fault="server",Object.setPrototypeOf(this,sl.prototype),this.Message=e.Message}}class ol extends rl{constructor(e){super({name:"InvalidParameterCombinationException",$fault:"client",...e}),this.name="InvalidParameterCombinationException",this.$fault="client",Object.setPrototypeOf(this,ol.prototype)}}class il extends rl{constructor(e){super({name:"InvalidParameterValueException",$fault:"client",...e}),this.name="InvalidParameterValueException",this.$fault="client",Object.setPrototypeOf(this,il.prototype)}}class al extends rl{constructor(e){super({name:"MissingRequiredParameterException",$fault:"client",...e}),this.name="MissingRequiredParameterException",this.$fault="client",Object.setPrototypeOf(this,al.prototype)}}const cl=async(e,t)=>{const n=e.body,r=yl(n.Error,t),s=new sl({$metadata:bl(e),...r});return tr(s,n)},ul=async(e,t)=>{const n=e.body,r=wl(n.Error,t),s=new ol({$metadata:bl(e),...r});return tr(s,n)},ll=async(e,t)=>{const n=e.body,r=_l(n.Error,t),s=new il({$metadata:bl(e),...r});return tr(s,n)},dl=async(e,t)=>{const n=e.body,r=vl(n.Error,t),s=new al({$metadata:bl(e),...r});return tr(s,n)},pl=(e,t)=>{const n={};return null!=e.Name&&(n.Name=e.Name),null!=e.Value&&(n.Value=e.Value),n},hl=(e,t)=>{const n={};if(null!=e.MetricName&&(n.MetricName=e.MetricName),null!=e.Dimensions){const t=((e,t)=>{const n={};let r=1;for(const t of e){if(null===t)continue;const e=pl(t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n})(e.Dimensions);0===e.Dimensions?.length&&(n.Dimensions=[]),Object.entries(t).forEach((([e,t])=>{n[`Dimensions.${e}`]=t}))}if(null!=e.Timestamp&&(n.Timestamp=e.Timestamp.toISOString().split(".")[0]+"Z"),null!=e.Value&&(n.Value=yr(e.Value)),null!=e.StatisticValues){const r=ml(e.StatisticValues,t);Object.entries(r).forEach((([e,t])=>{n[`StatisticValues.${e}`]=t}))}if(null!=e.Values){const r=gl(e.Values,t);0===e.Values?.length&&(n.Values=[]),Object.entries(r).forEach((([e,t])=>{n[`Values.${e}`]=t}))}if(null!=e.Counts){const t=((e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=yr(t),r++);return n})(e.Counts);0===e.Counts?.length&&(n.Counts=[]),Object.entries(t).forEach((([e,t])=>{n[`Counts.${e}`]=t}))}return null!=e.Unit&&(n.Unit=e.Unit),null!=e.StorageResolution&&(n.StorageResolution=e.StorageResolution),n},fl=(e,t)=>{const n={};if(null!=e.Namespace&&(n.Namespace=e.Namespace),null!=e.MetricData){const r=((e,t)=>{const n={};let r=1;for(const s of e){if(null===s)continue;const e=hl(s,t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n})(e.MetricData,t);0===e.MetricData?.length&&(n.MetricData=[]),Object.entries(r).forEach((([e,t])=>{n[`MetricData.${e}`]=t}))}return n},ml=(e,t)=>{const n={};return null!=e.SampleCount&&(n.SampleCount=yr(e.SampleCount)),null!=e.Sum&&(n.Sum=yr(e.Sum)),null!=e.Minimum&&(n.Minimum=yr(e.Minimum)),null!=e.Maximum&&(n.Maximum=yr(e.Maximum)),n},gl=(e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=yr(t),r++);return n},yl=(e,t)=>{const n={};return void 0!==e.Message&&(n.Message=jn(e.Message)),n},wl=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},_l=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},vl=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},bl=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),El=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),Sl=nr(rl),xl={"content-type":"application/x-www-form-urlencoded"},Pl=async(e,t)=>{const n=await((e,t)=>((e,t)=>El(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>{if(e.length){const t=new Rr.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});t.addEntity("#xD","\r"),t.addEntity("#10","\n");const n=t.parse(e),r="#text",s=Object.keys(n)[0],o=n[s];return o[r]&&(o[s]=o[r],delete o[r]),cr(o)}return{}})))(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},Cl=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class Al extends Tn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(E(t,this.serialize,this.deserialize)),this.middlewareStack.use(I(t,Al.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"CloudWatchClient",commandName:"PutMetricDataCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=xl;let r;return s={...fl(e,t),Action:"PutMetricData",Version:"2010-08-01"},r=Object.entries(s).map((([e,t])=>ar(e)+"="+ar(t))).join("&"),(async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(u.hostname=r),void 0!==s&&(u.body=s),new Nr(u)})(t,n,"/",void 0,r);var s})(e,t)}deserialize(e,t){return(async(e,t)=>e.statusCode>=300?(async(e,t)=>{const n={...e,body:await Pl(e.body,t)},r=Cl(e,n.body);switch(r){case"InternalServiceError":case"com.amazonaws.cloudwatch#InternalServiceFault":throw await cl(n,t);case"InvalidParameterCombination":case"com.amazonaws.cloudwatch#InvalidParameterCombinationException":throw await ul(n,t);case"InvalidParameterValue":case"com.amazonaws.cloudwatch#InvalidParameterValueException":throw await ll(n,t);case"MissingParameter":case"com.amazonaws.cloudwatch#MissingRequiredParameterException":throw await dl(n,t);default:const s=n.body;return Sl({output:e,parsedBody:s.Error,errorCode:r})}})(e,t):(await El(e.body,t),{$metadata:bl(e)}))(e,t)}}var Tl=function(){function e(){this.metricData=[],this.cloudWatchClient=new nl({})}return e.prototype.queueMetric=function(e){this.metricData.push(e)},e.prototype.emitQueuedMetrics=function(){return e=this,t=void 0,r=function(){var e;return function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(t){switch(t.label){case 0:return e=new Al({Namespace:process.env.AWS_LAMBDA_FUNCTION_NAME,MetricData:this.metricData}),console.debug("Emitting metrics:\n".concat(JSON.stringify(e.input,null,2))),[4,this.cloudWatchClient.send(e)];case 1:return t.sent(),this.metricData=[],[2]}}))},new((n=void 0)||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},e}();const Il="required",kl="fn",Ol="argv",Nl="ref",Rl="PartitionResult",Dl="tree",Ml="error",$l="endpoint",jl={[Il]:!1,type:"String"},ql={[Il]:!0,default:!1,type:"Boolean"},Ul={[Nl]:"Endpoint"},Fl={[kl]:"booleanEquals",[Ol]:[{[Nl]:"UseFIPS"},!0]},Ll={[kl]:"booleanEquals",[Ol]:[{[Nl]:"UseDualStack"},!0]},zl={},Bl={[kl]:"booleanEquals",[Ol]:[!0,{[kl]:"getAttr",[Ol]:[{[Nl]:Rl},"supportsFIPS"]}]},Vl={[kl]:"booleanEquals",[Ol]:[!0,{[kl]:"getAttr",[Ol]:[{[Nl]:Rl},"supportsDualStack"]}]},Hl=[Ul],Wl=[Fl],Kl=[Ll],Gl={version:"1.0",parameters:{Region:jl,UseDualStack:ql,UseFIPS:ql,Endpoint:jl},rules:[{conditions:[{[kl]:"aws.partition",[Ol]:[{[Nl]:"Region"}],assign:Rl}],type:Dl,rules:[{conditions:[{[kl]:"isSet",[Ol]:Hl},{[kl]:"parseURL",[Ol]:Hl,assign:"url"}],type:Dl,rules:[{conditions:Wl,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ml},{type:Dl,rules:[{conditions:Kl,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ml},{endpoint:{url:Ul,properties:zl,headers:zl},type:$l}]}]},{conditions:[Fl,Ll],type:Dl,rules:[{conditions:[Bl,Vl],type:Dl,rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zl,headers:zl},type:$l}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ml}]},{conditions:Wl,type:Dl,rules:[{conditions:[Bl],type:Dl,rules:[{type:Dl,rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:zl,headers:zl},type:$l}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Ml}]},{conditions:Kl,type:Dl,rules:[{conditions:[Vl],type:Dl,rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zl,headers:zl},type:$l}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Ml}]},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:zl,headers:zl},type:$l}]}]},Ql=(e,t={})=>mn(Gl,{endpointParams:e,logger:t.logger});class Xl extends An{constructor(e){const t=(n=(e=>{ir(process.version);const t=hi(e),n=()=>t().then(sr),r=(e=>({apiVersion:"2010-12-01",base64Decoder:e?.base64Decoder??Fo,base64Encoder:e?.base64Encoder??Lo,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Ql,logger:e?.logger??new Sn,serviceId:e?.serviceId??"SES",urlParser:e?.urlParser??O,utf8Decoder:e?.utf8Decoder??Fe,utf8Encoder:e?.utf8Encoder??ze}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??$o,credentialDefaultProvider:e?.credentialDefaultProvider??$c(Xa),defaultUserAgentProvider:e?.defaultUserAgentProvider??qo({serviceId:r.serviceId,clientVersion:"3.350.0"}),maxAttempts:e?.maxAttempts??ao(te),region:e?.region??ao(c,u),requestHandler:e?.requestHandler??new Ro(n),retryMode:e?.retryMode??ao({...re,default:async()=>(await n()).retryMode||z}),sha256:e?.sha256??Ao.bind(null,"sha256"),streamCollector:e?.streamCollector??Mo,useDualstackEndpoint:e?.useDualstackEndpoint??ao(i),useFipsEndpoint:e?.useFipsEndpoint??ao(a)}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"ses"});var n;const r=p(t),s=N(r),o=ne(s),l=Pt(wt(o));super(l),this.config=l,this.middlewareStack.use(ge(this.config)),this.middlewareStack.use(_(this.config)),this.middlewareStack.use(D(this.config)),this.middlewareStack.use($(this.config)),this.middlewareStack.use(U(this.config)),this.middlewareStack.use(xt(this.config)),this.middlewareStack.use(En(this.config))}destroy(){super.destroy()}}class Jl extends er{constructor(e){super(e),Object.setPrototypeOf(this,Jl.prototype)}}class Yl extends Jl{constructor(e){super({name:"AccountSendingPausedException",$fault:"client",...e}),this.name="AccountSendingPausedException",this.$fault="client",Object.setPrototypeOf(this,Yl.prototype)}}class Zl extends Jl{constructor(e){super({name:"ConfigurationSetDoesNotExistException",$fault:"client",...e}),this.name="ConfigurationSetDoesNotExistException",this.$fault="client",Object.setPrototypeOf(this,Zl.prototype),this.ConfigurationSetName=e.ConfigurationSetName}}class ed extends Jl{constructor(e){super({name:"ConfigurationSetSendingPausedException",$fault:"client",...e}),this.name="ConfigurationSetSendingPausedException",this.$fault="client",Object.setPrototypeOf(this,ed.prototype),this.ConfigurationSetName=e.ConfigurationSetName}}class td extends Jl{constructor(e){super({name:"MailFromDomainNotVerifiedException",$fault:"client",...e}),this.name="MailFromDomainNotVerifiedException",this.$fault="client",Object.setPrototypeOf(this,td.prototype)}}class nd extends Jl{constructor(e){super({name:"MessageRejected",$fault:"client",...e}),this.name="MessageRejected",this.$fault="client",Object.setPrototypeOf(this,nd.prototype)}}const rd=async(e,t)=>{const n=e.body,r=pd(n.Error,t),s=new Yl({$metadata:yd(e),...r});return tr(s,n)},sd=async(e,t)=>{const n=e.body,r=hd(n.Error,t),s=new Zl({$metadata:yd(e),...r});return tr(s,n)},od=async(e,t)=>{const n=e.body,r=fd(n.Error,t),s=new ed({$metadata:yd(e),...r});return tr(s,n)},id=async(e,t)=>{const n=e.body,r=md(n.Error,t),s=new td({$metadata:yd(e),...r});return tr(s,n)},ad=async(e,t)=>{const n=e.body,r=gd(n.Error,t),s=new nd({$metadata:yd(e),...r});return tr(s,n)},cd=(e,t)=>{const n={};let r=1;for(const t of e)null!==t&&(n[`member.${r}`]=t,r++);return n},ud=(e,t)=>{const n={};return null!=e.Data&&(n.Data=e.Data),null!=e.Charset&&(n.Charset=e.Charset),n},ld=(e,t)=>{const n={};return null!=e.Name&&(n.Name=e.Name),null!=e.Value&&(n.Value=e.Value),n},dd=(e,t)=>{const n={};if(null!=e.Source&&(n.Source=e.Source),null!=e.Destination){const t=((e,t)=>{const n={};if(null!=e.ToAddresses){const t=cd(e.ToAddresses);0===e.ToAddresses?.length&&(n.ToAddresses=[]),Object.entries(t).forEach((([e,t])=>{n[`ToAddresses.${e}`]=t}))}if(null!=e.CcAddresses){const t=cd(e.CcAddresses);0===e.CcAddresses?.length&&(n.CcAddresses=[]),Object.entries(t).forEach((([e,t])=>{n[`CcAddresses.${e}`]=t}))}if(null!=e.BccAddresses){const t=cd(e.BccAddresses);0===e.BccAddresses?.length&&(n.BccAddresses=[]),Object.entries(t).forEach((([e,t])=>{n[`BccAddresses.${e}`]=t}))}return n})(e.Destination);Object.entries(t).forEach((([e,t])=>{n[`Destination.${e}`]=t}))}if(null!=e.Message){const t=((e,t)=>{const n={};if(null!=e.Subject){const t=ud(e.Subject);Object.entries(t).forEach((([e,t])=>{n[`Subject.${e}`]=t}))}if(null!=e.Body){const t=((e,t)=>{const n={};if(null!=e.Text){const t=ud(e.Text);Object.entries(t).forEach((([e,t])=>{n[`Text.${e}`]=t}))}if(null!=e.Html){const t=ud(e.Html);Object.entries(t).forEach((([e,t])=>{n[`Html.${e}`]=t}))}return n})(e.Body);Object.entries(t).forEach((([e,t])=>{n[`Body.${e}`]=t}))}return n})(e.Message);Object.entries(t).forEach((([e,t])=>{n[`Message.${e}`]=t}))}if(null!=e.ReplyToAddresses){const t=cd(e.ReplyToAddresses);0===e.ReplyToAddresses?.length&&(n.ReplyToAddresses=[]),Object.entries(t).forEach((([e,t])=>{n[`ReplyToAddresses.${e}`]=t}))}if(null!=e.ReturnPath&&(n.ReturnPath=e.ReturnPath),null!=e.SourceArn&&(n.SourceArn=e.SourceArn),null!=e.ReturnPathArn&&(n.ReturnPathArn=e.ReturnPathArn),null!=e.Tags){const t=((e,t)=>{const n={};let r=1;for(const t of e){if(null===t)continue;const e=ld(t);Object.entries(e).forEach((([e,t])=>{n[`member.${r}.${e}`]=t})),r++}return n})(e.Tags);0===e.Tags?.length&&(n.Tags=[]),Object.entries(t).forEach((([e,t])=>{n[`Tags.${e}`]=t}))}return null!=e.ConfigurationSetName&&(n.ConfigurationSetName=e.ConfigurationSetName),n},pd=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},hd=(e,t)=>{const n={};return void 0!==e.ConfigurationSetName&&(n.ConfigurationSetName=jn(e.ConfigurationSetName)),void 0!==e.message&&(n.message=jn(e.message)),n},fd=(e,t)=>{const n={};return void 0!==e.ConfigurationSetName&&(n.ConfigurationSetName=jn(e.ConfigurationSetName)),void 0!==e.message&&(n.message=jn(e.message)),n},md=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},gd=(e,t)=>{const n={};return void 0!==e.message&&(n.message=jn(e.message)),n},yd=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),wd=nr(Jl),_d={"content-type":"application/x-www-form-urlencoded"},vd=(e,t)=>((e,t)=>((e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array))(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>{if(e.length){const t=new Rr.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});t.addEntity("#xD","\r"),t.addEntity("#10","\n");const n=t.parse(e),r="#text",s=Object.keys(n)[0],o=n[s];return o[r]&&(o[s]=o[r],delete o[r]),cr(o)}return{}})),bd=async(e,t)=>{const n=await vd(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},Ed=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class Sd extends Tn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(E(t,this.serialize,this.deserialize)),this.middlewareStack.use(I(t,Sd.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"SESClient",commandName:"SendEmailCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const n=_d;let r;return s={...dd(e),Action:"SendEmail",Version:"2010-12-01"},r=Object.entries(s).map((([e,t])=>ar(e)+"="+ar(t))).join("&"),(async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==r&&(u.hostname=r),void 0!==s&&(u.body=s),new Nr(u)})(t,n,"/",void 0,r);var s})(e,t)}deserialize(e,t){return(async(e,t)=>{if(e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await bd(e.body,t)},r=Ed(e,n.body);switch(r){case"AccountSendingPausedException":case"com.amazonaws.ses#AccountSendingPausedException":throw await rd(n,t);case"ConfigurationSetDoesNotExist":case"com.amazonaws.ses#ConfigurationSetDoesNotExistException":throw await sd(n,t);case"ConfigurationSetSendingPausedException":case"com.amazonaws.ses#ConfigurationSetSendingPausedException":throw await od(n,t);case"MailFromDomainNotVerifiedException":case"com.amazonaws.ses#MailFromDomainNotVerifiedException":throw await id(n,t);case"MessageRejected":case"com.amazonaws.ses#MessageRejected":throw await ad(n,t);default:const s=n.body;return wd({output:e,parsedBody:s.Error,errorCode:r})}})(e,t);let n={};return n=((e,t)=>{const n={};return void 0!==e.MessageId&&(n.MessageId=jn(e.MessageId)),n})((await vd(e.body,t)).SendEmailResult),{$metadata:yd(e),...n}})(e,t)}}var xd,Pd=function(){function e(){this.sesClient=new Xl({}),this.noLastAccessDate=new Date(0).toLocaleString()}return e.prototype.notifyUser=function(e){return t=this,n=void 0,s=function(){var t,n,r,s;return function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(o){switch(o.label){case 0:return console.debug("Notifying ".concat(JSON.stringify(e,null,1))),t=e.lastAccess.toLocaleString()===this.noLastAccessDate?"not in the last ".concat(process.env.deleteDays," days"):e.lastAccess.toLocaleDateString(),n="I: QuickSight user ".concat(e.username," in account ").concat(process.env.accountAlias," will be deleted"),r='In order to <a href="https://aws.amazon.com/quicksight/pricing/">control costs ($24/month/user)</a>,\n    your AWS QuickSight user \''.concat(e.username,"' \n    will be deleted when you have not accessed QuickSight in ").concat(process.env.deleteDays," days. \n    CloudTrail records indicate that your last access was ").concat(t,".<br /><br />\n    \n    You can keep your user by logging in and taking actions in QuickSight. \n    Alternatively, you can do nothing, and your user will be automatically deleted. \n    Never fear, you simply log back into QuickSight and enter your e-mail, and your user gets recreated. \n    No dashboards or other resources will be deleted at this time (we may clean those up in the future, with notification, of course).<br /><br />\n    \n    Account Number: ").concat(process.env.awsAccountId,"<br />\n    Account Alias: ").concat(process.env.accountAlias,"<br />\n    Assumed Role: ").concat(e.iamRole,"<br />\n    Email: ").concat(e.email,'<br /><br />\n  \n    For further assistance, contact <a href="mailto:').concat(process.env.contact,'">').concat(process.env.contact,"</a>. Thank you and have a fantastically fun-filled day .\n    "),s=new Sd({Source:"".concat(process.env.accountAlias," Cloud Account Administrator<").concat(process.env.from,">"),Destination:{ToAddresses:[e.email],CcAddresses:JSON.parse(process.env.cc)},ReplyToAddresses:[process.env.replyTo],SourceArn:process.env.sesArn,Message:{Subject:{Data:n},Body:{Html:{Data:r}}}}),[4,this.sesClient.send(s)];case 1:return o.sent(),[2]}}))},new((r=void 0)||(r=Promise))((function(e,o){function i(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}c((s=s.apply(t,n||[])).next())}));var t,n,r,s},e}(),Cd=function(e){this.arn=e.Arn,this.email=e.Email,this.role=xd[e.Role],this.username=e.UserName,this.invalid="N/A"===this.username;var t=this.username.split("/"),n=t[0],r=t[1];this.iamRole=n,this.stsSession=r};!function(e){e.READER="READER",e.AUTHOR="AUTHOR",e.ADMIN="ADMIN"}(xd||(xd={}));const Ad="required",Td="fn",Id="argv",kd="ref",Od="isSet",Nd="tree",Rd="error",Dd="endpoint",Md="PartitionResult",$d={[Ad]:!1,type:"String"},jd={[Ad]:!0,default:!1,type:"Boolean"},qd={[kd]:"Endpoint"},Ud={[Td]:"booleanEquals",[Id]:[{[kd]:"UseFIPS"},!0]},Fd={[Td]:"booleanEquals",[Id]:[{[kd]:"UseDualStack"},!0]},Ld={},zd={[Td]:"booleanEquals",[Id]:[!0,{[Td]:"getAttr",[Id]:[{[kd]:Md},"supportsFIPS"]}]},Bd={[Td]:"booleanEquals",[Id]:[!0,{[Td]:"getAttr",[Id]:[{[kd]:Md},"supportsDualStack"]}]},Vd=[Ud],Hd=[Fd],Wd=[{[kd]:"Region"}],Kd={version:"1.0",parameters:{Region:$d,UseDualStack:jd,UseFIPS:jd,Endpoint:$d},rules:[{conditions:[{[Td]:Od,[Id]:[qd]}],type:Nd,rules:[{conditions:Vd,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Rd},{type:Nd,rules:[{conditions:Hd,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Rd},{endpoint:{url:qd,properties:Ld,headers:Ld},type:Dd}]}]},{type:Nd,rules:[{conditions:[{[Td]:Od,[Id]:Wd}],type:Nd,rules:[{conditions:[{[Td]:"aws.partition",[Id]:Wd,assign:Md}],type:Nd,rules:[{conditions:[Ud,Fd],type:Nd,rules:[{conditions:[zd,Bd],type:Nd,rules:[{type:Nd,rules:[{endpoint:{url:"https://quicksight-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ld,headers:Ld},type:Dd}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Rd}]},{conditions:Vd,type:Nd,rules:[{conditions:[zd],type:Nd,rules:[{type:Nd,rules:[{endpoint:{url:"https://quicksight-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ld,headers:Ld},type:Dd}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Rd}]},{conditions:Hd,type:Nd,rules:[{conditions:[Bd],type:Nd,rules:[{type:Nd,rules:[{endpoint:{url:"https://quicksight.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ld,headers:Ld},type:Dd}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Rd}]},{type:Nd,rules:[{endpoint:{url:"https://quicksight.{Region}.{PartitionResult#dnsSuffix}",properties:Ld,headers:Ld},type:Dd}]}]}]},{error:"Invalid Configuration: Missing Region",type:Rd}]}]},Gd=(e,t={})=>mn(Kd,{endpointParams:e,logger:t.logger});class Qd extends An{constructor(e){const t=(n=(e=>{ir(process.version);const t=hi(e),n=()=>t().then(sr),r=(e=>({apiVersion:"2018-04-01",base64Decoder:e?.base64Decoder??Fo,base64Encoder:e?.base64Encoder??Lo,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Gd,logger:e?.logger??new Sn,serviceId:e?.serviceId??"QuickSight",urlParser:e?.urlParser??O,utf8Decoder:e?.utf8Decoder??Fe,utf8Encoder:e?.utf8Encoder??ze}))(e);return{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??$o,credentialDefaultProvider:e?.credentialDefaultProvider??$c(Xa),defaultUserAgentProvider:e?.defaultUserAgentProvider??qo({serviceId:r.serviceId,clientVersion:"3.350.0"}),maxAttempts:e?.maxAttempts??ao(te),region:e?.region??ao(c,u),requestHandler:e?.requestHandler??new Ro(n),retryMode:e?.retryMode??ao({...re,default:async()=>(await n()).retryMode||z}),sha256:e?.sha256??Ao.bind(null,"sha256"),streamCollector:e?.streamCollector??Mo,useDualstackEndpoint:e?.useDualstackEndpoint??ao(i),useFipsEndpoint:e?.useFipsEndpoint??ao(a)}})(e),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"quicksight"});var n;const r=p(t),s=N(r),o=ne(s),l=Pt(wt(o));super(l),this.config=l,this.middlewareStack.use(ge(this.config)),this.middlewareStack.use(_(this.config)),this.middlewareStack.use(D(this.config)),this.middlewareStack.use($(this.config)),this.middlewareStack.use(U(this.config)),this.middlewareStack.use(xt(this.config)),this.middlewareStack.use(En(this.config))}destroy(){super.destroy()}}class Xd extends er{constructor(e){super(e),Object.setPrototypeOf(this,Xd.prototype)}}class Jd extends Xd{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Jd.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}var Yd,Zd,ep;!function(e){e.visit=(e,t)=>void 0!==e.AmazonElasticsearchParameters?t.AmazonElasticsearchParameters(e.AmazonElasticsearchParameters):void 0!==e.AthenaParameters?t.AthenaParameters(e.AthenaParameters):void 0!==e.AuroraParameters?t.AuroraParameters(e.AuroraParameters):void 0!==e.AuroraPostgreSqlParameters?t.AuroraPostgreSqlParameters(e.AuroraPostgreSqlParameters):void 0!==e.AwsIotAnalyticsParameters?t.AwsIotAnalyticsParameters(e.AwsIotAnalyticsParameters):void 0!==e.JiraParameters?t.JiraParameters(e.JiraParameters):void 0!==e.MariaDbParameters?t.MariaDbParameters(e.MariaDbParameters):void 0!==e.MySqlParameters?t.MySqlParameters(e.MySqlParameters):void 0!==e.OracleParameters?t.OracleParameters(e.OracleParameters):void 0!==e.PostgreSqlParameters?t.PostgreSqlParameters(e.PostgreSqlParameters):void 0!==e.PrestoParameters?t.PrestoParameters(e.PrestoParameters):void 0!==e.RdsParameters?t.RdsParameters(e.RdsParameters):void 0!==e.RedshiftParameters?t.RedshiftParameters(e.RedshiftParameters):void 0!==e.S3Parameters?t.S3Parameters(e.S3Parameters):void 0!==e.ServiceNowParameters?t.ServiceNowParameters(e.ServiceNowParameters):void 0!==e.SnowflakeParameters?t.SnowflakeParameters(e.SnowflakeParameters):void 0!==e.SparkParameters?t.SparkParameters(e.SparkParameters):void 0!==e.SqlServerParameters?t.SqlServerParameters(e.SqlServerParameters):void 0!==e.TeradataParameters?t.TeradataParameters(e.TeradataParameters):void 0!==e.TwitterParameters?t.TwitterParameters(e.TwitterParameters):void 0!==e.AmazonOpenSearchParameters?t.AmazonOpenSearchParameters(e.AmazonOpenSearchParameters):void 0!==e.ExasolParameters?t.ExasolParameters(e.ExasolParameters):void 0!==e.DatabricksParameters?t.DatabricksParameters(e.DatabricksParameters):t._(e.$unknown[0],e.$unknown[1])}(Yd||(Yd={}));class tp extends Xd{constructor(e){super({name:"InternalFailureException",$fault:"server",...e}),this.name="InternalFailureException",this.$fault="server",Object.setPrototypeOf(this,tp.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}class np extends Xd{constructor(e){super({name:"InvalidParameterValueException",$fault:"client",...e}),this.name="InvalidParameterValueException",this.$fault="client",Object.setPrototypeOf(this,np.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}class rp extends Xd{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,rp.prototype),this.Message=e.Message,this.ResourceType=e.ResourceType,this.RequestId=e.RequestId}}class sp extends Xd{constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),this.name="ThrottlingException",this.$fault="client",Object.setPrototypeOf(this,sp.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}class op extends Xd{constructor(e){super({name:"ResourceUnavailableException",$fault:"server",...e}),this.name="ResourceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,op.prototype),this.Message=e.Message,this.ResourceType=e.ResourceType,this.RequestId=e.RequestId}}class ip extends Xd{constructor(e){super({name:"PreconditionNotMetException",$fault:"client",...e}),this.name="PreconditionNotMetException",this.$fault="client",Object.setPrototypeOf(this,ip.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}(Zd||(Zd={})).visit=(e,t)=>void 0!==e.ProjectOperation?t.ProjectOperation(e.ProjectOperation):void 0!==e.FilterOperation?t.FilterOperation(e.FilterOperation):void 0!==e.CreateColumnsOperation?t.CreateColumnsOperation(e.CreateColumnsOperation):void 0!==e.RenameColumnOperation?t.RenameColumnOperation(e.RenameColumnOperation):void 0!==e.CastColumnTypeOperation?t.CastColumnTypeOperation(e.CastColumnTypeOperation):void 0!==e.TagColumnOperation?t.TagColumnOperation(e.TagColumnOperation):void 0!==e.UntagColumnOperation?t.UntagColumnOperation(e.UntagColumnOperation):void 0!==e.OverrideDatasetParameterOperation?t.OverrideDatasetParameterOperation(e.OverrideDatasetParameterOperation):t._(e.$unknown[0],e.$unknown[1]),function(e){e.visit=(e,t)=>void 0!==e.RelationalTable?t.RelationalTable(e.RelationalTable):void 0!==e.CustomSql?t.CustomSql(e.CustomSql):void 0!==e.S3Source?t.S3Source(e.S3Source):t._(e.$unknown[0],e.$unknown[1])}(ep||(ep={}));class ap extends Xd{constructor(e){super({name:"InvalidNextTokenException",$fault:"client",...e}),this.name="InvalidNextTokenException",this.$fault="client",Object.setPrototypeOf(this,ap.prototype),this.Message=e.Message,this.RequestId=e.RequestId}}const cp=nr(Xd),up=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{Message:jn,RequestId:jn});Object.assign(n,s);const o=new Jd({$metadata:yp(e),...n});return tr(o,e.body)},lp=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{Message:jn,RequestId:jn});Object.assign(n,s);const o=new tp({$metadata:yp(e),...n});return tr(o,e.body)},dp=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{Message:jn,RequestId:jn});Object.assign(n,s);const o=new ap({$metadata:yp(e),...n});return tr(o,e.body)},pp=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{Message:jn,RequestId:jn});Object.assign(n,s);const o=new np({$metadata:yp(e),...n});return tr(o,e.body)},hp=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{Message:jn,RequestId:jn});Object.assign(n,s);const o=new ip({$metadata:yp(e),...n});return tr(o,e.body)},fp=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{Message:jn,RequestId:jn,ResourceType:jn});Object.assign(n,s);const o=new rp({$metadata:yp(e),...n});return tr(o,e.body)},mp=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{Message:jn,RequestId:jn,ResourceType:jn});Object.assign(n,s);const o=new op({$metadata:yp(e),...n});return tr(o,e.body)},gp=async(e,t)=>{const n=lr({}),r=e.body,s=dr(r,{Message:jn,RequestId:jn});Object.assign(n,s);const o=new sp({$metadata:yp(e),...n});return tr(o,e.body)},yp=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),wp=(e,t)=>((e,t)=>((e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array))(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>e.length?JSON.parse(e):{})),_p=async(e,t)=>{const n=await wp(e,t);return n.message=n.message??n.Message,n},vp=(e,t)=>{const n=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,"x-amzn-errortype",Object.keys(s).find((e=>e.toLowerCase()==="x-amzn-errortype".toLowerCase())));var s;return void 0!==r?n(e.headers[r]):void 0!==t.code?n(t.code):void 0!==t.__type?n(t.__type):void 0};class bp extends Tn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(E(t,this.serialize,this.deserialize)),this.middlewareStack.use(I(t,bp.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"QuickSightClient",commandName:"ListUsersCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint();let i=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AwsAccountId}/namespaces/{Namespace}/users`;i=gr(i,e,"AwsAccountId",(()=>e.AwsAccountId),"{AwsAccountId}",!1),i=gr(i,e,"Namespace",(()=>e.Namespace),"{Namespace}",!1);const a=lr({"next-token":[,e.NextToken],"max-results":[()=>void 0!==e.MaxResults,()=>e.MaxResults.toString()]});return new Nr({protocol:r,hostname:n,port:s,method:"GET",headers:{},path:i,query:a,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await _p(e.body,t)},r=vp(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.quicksight#AccessDeniedException":throw await up(n,t);case"InternalFailureException":case"com.amazonaws.quicksight#InternalFailureException":throw await lp(n,t);case"InvalidNextTokenException":case"com.amazonaws.quicksight#InvalidNextTokenException":throw await dp(n,t);case"InvalidParameterValueException":case"com.amazonaws.quicksight#InvalidParameterValueException":throw await pp(n,t);case"PreconditionNotMetException":case"com.amazonaws.quicksight#PreconditionNotMetException":throw await hp(n,t);case"ResourceNotFoundException":case"com.amazonaws.quicksight#ResourceNotFoundException":throw await fp(n,t);case"ResourceUnavailableException":case"com.amazonaws.quicksight#ResourceUnavailableException":throw await mp(n,t);case"ThrottlingException":case"com.amazonaws.quicksight#ThrottlingException":throw await gp(n,t);default:const s=n.body;return cp({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=lr({$metadata:yp(e)}),r=Mn($n(await wp(e.body,t)),"body"),s=dr(r,{NextToken:jn,RequestId:jn,UserList:wr});return Object.assign(n,s),lr(n,{Status:[,e.statusCode]}),n})(e,t)}}class Ep extends Tn{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){this.middlewareStack.use(E(t,this.serialize,this.deserialize)),this.middlewareStack.use(I(t,Ep.getEndpointParameterInstructions()));const r=e.concat(this.middlewareStack),{logger:s}=t,o={logger:s,clientName:"QuickSightClient",commandName:"DeleteUserCommand",inputFilterSensitiveLog:e=>e,outputFilterSensitiveLog:e=>e},{requestHandler:i}=t;return r.resolve((e=>i.handle(e.request,n||{})),o)}serialize(e,t){return(async(e,t)=>{const{hostname:n,protocol:r="https",port:s,path:o}=await t.endpoint();let i=`${o?.endsWith("/")?o.slice(0,-1):o||""}/accounts/{AwsAccountId}/namespaces/{Namespace}/users/{UserName}`;return i=gr(i,e,"UserName",(()=>e.UserName),"{UserName}",!1),i=gr(i,e,"AwsAccountId",(()=>e.AwsAccountId),"{AwsAccountId}",!1),i=gr(i,e,"Namespace",(()=>e.Namespace),"{Namespace}",!1),new Nr({protocol:r,hostname:n,port:s,method:"DELETE",headers:{},path:i,body:void 0})})(e,t)}deserialize(e,t){return(async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return(async(e,t)=>{const n={...e,body:await _p(e.body,t)},r=vp(e,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.quicksight#AccessDeniedException":throw await up(n,t);case"InternalFailureException":case"com.amazonaws.quicksight#InternalFailureException":throw await lp(n,t);case"InvalidParameterValueException":case"com.amazonaws.quicksight#InvalidParameterValueException":throw await pp(n,t);case"PreconditionNotMetException":case"com.amazonaws.quicksight#PreconditionNotMetException":throw await hp(n,t);case"ResourceNotFoundException":case"com.amazonaws.quicksight#ResourceNotFoundException":throw await fp(n,t);case"ResourceUnavailableException":case"com.amazonaws.quicksight#ResourceUnavailableException":throw await mp(n,t);case"ThrottlingException":case"com.amazonaws.quicksight#ThrottlingException":throw await gp(n,t);default:const s=n.body;return cp({output:e,parsedBody:s,errorCode:r})}})(e,t);const n=lr({$metadata:yp(e)}),r=Mn($n(await wp(e.body,t)),"body"),s=dr(r,{RequestId:jn});return Object.assign(n,s),lr(n,{Status:[,e.statusCode]}),n})(e,t)}}var Sp=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},xp=function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Pp=function(){function e(){this.awsAccountId=process.env.awsAccountId,this.quickSightClient=new Qd({})}return e.prototype.retrieveUsers=function(){return Sp(this,void 0,void 0,(function(){var t,n,r,s;return xp(this,(function(o){switch(o.label){case 0:t=[],n="",o.label=1;case 1:return r=new bp({AwsAccountId:this.awsAccountId,Namespace:e.namespace,NextToken:n}),[4,this.quickSightClient.send(r)];case 2:s=o.sent(),n=s.NextToken,s.UserList.forEach((function(e){return t.push(new Cd(e))})),o.label=3;case 3:if(n)return[3,1];o.label=4;case 4:return[2,t]}}))}))},e.prototype.deleteUser=function(t){return Sp(this,void 0,void 0,(function(){var n;return xp(this,(function(r){switch(r.label){case 0:return console.debug("Deleting ".concat(JSON.stringify(t,null,1))),n=new Ep({AwsAccountId:this.awsAccountId,Namespace:e.namespace,UserName:t.username}),[4,this.quickSightClient.send(n)];case 1:return r.sent(),[2]}}))}))},e.namespace="default",e}();const Cp=function(){return e=void 0,t=void 0,r=function(){var e,t,n,r,s,o,i,a,c,u,l,d,p,h,f,m,g,y,w,_;return function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(v){switch(v.label){case 0:return e=process.env,t=e.deleteDays,n=e.notifyDays,r="true"===process.env.enableNotification,s=new Date,o=new Date,s.setDate(s.getDate()-parseInt(t)),o.setDate(o.getDate()-parseInt(n)),console.info("Notifying users with last access date on: ".concat(o.toLocaleDateString()," (").concat(n," days ago).")),console.info("Deleting users with last access date on or before: ".concat(s.toLocaleDateString()," (").concat(t," days ago).")),console.info("Notification enabled? ".concat(r,".")),i=new Pp,a=new Ou,c=new Pd,u=new Tl,[4,i.retrieveUsers()];case 1:return l=v.sent(),[4,a.retrieveQuickSightUserEvents(s)];case 2:for(d=v.sent(),p=0,h=l;p<h.length;p++)(_=h[p]).lastAccess=a.getLastAccessDate(_,d);console.debug("QuickSight Users:\n".concat(JSON.stringify(l,null,2))),u.queueMetric({MetricName:"PriorQuickSightUsersCount",Value:l.length}),f=0,m=0,g=0,y=0,w=l,v.label=3;case 3:return y<w.length?(_=w[y]).invalid?(console.warn("Invalid user: ".concat(JSON.stringify(_))),f++,[3,8]):[3,4]:[3,9];case 4:return _.lastAccess<s?(m++,[4,i.deleteUser(_)]):[3,6];case 5:return v.sent(),[3,8];case 6:return r&&_.role!==xd.READER&&_.lastAccess.toLocaleDateString()===o.toLocaleDateString()?(g++,[4,c.notifyUser(_)]):[3,8];case 7:v.sent(),v.label=8;case 8:return y++,[3,3];case 9:return u.queueMetric({MetricName:"InvalidUsersCount",Value:f}),u.queueMetric({MetricName:"UsersDeletedCount",Value:m}),u.queueMetric({MetricName:"NotificationsSentCount",Value:g}),u.queueMetric({MetricName:"RemainingQuickSightUsersCount",Value:l.length-m}),[4,u.emitQueuedMetrics()];case 10:return v.sent(),[2]}}))},new((n=void 0)||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r}})(),module.exports=r})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxXQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxVQUFZLFdBQVksV0FDcEMsV0FBWSxXQUFZLFNBQVksV0FDcEMsV0FBWSxXQUFZLFNBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFdBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFVBQVksV0FDcEMsV0FBWSxXQUFZLFdBQVksU0FDcEMsV0FBWSxXQUFZLFdBQVksU0FDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksV0FDcEMsV0FBWSxXQUFZLFdBQVksU0FDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVksVUFDcEMsV0FBWSxXQUFZLFdBQVks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WUFBWSxDQUFFekIsV0FBWSxnQ0FBaUMxZ0IsTUFBTzhxQixFQUFnQmhqRixPQUFTdWtGLElBQ2xILEdBQU1KLEVBQXVCNUosb0NBQTdCLDhCQXZEYyxrUkF3RGQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL2NyYzMyL2J1aWxkL2F3c19jcmMzMi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL2NyYzMyL2J1aWxkL2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1jcnlwdG8vY3JjMzIvbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL3V0aWwvYnVpbGQvY29udmVydFRvQnVmZmVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1jcnlwdG8vdXRpbC9idWlsZC9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3MtY3J5cHRvL3V0aWwvYnVpbGQvaXNFbXB0eURhdGEuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLWNyeXB0by91dGlsL2J1aWxkL251bVRvVWludDguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLWNyeXB0by91dGlsL2J1aWxkL3VpbnQzMkFycmF5RnJvbS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtdXRmOC1icm93c2VyL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLXV0ZjgtYnJvd3Nlci9kaXN0LWVzL3doYXR3Z0VuY29kaW5nQXBpLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC11dGY4LWJyb3dzZXIvZGlzdC1lcy9wdXJlSnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvY29tbW9uL2F3c19pb3Rfc2hhcmVkLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L2NvbW1vbi9jYW5jZWwuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvY29tbW9uL2V2ZW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L2NvbW1vbi9odHRwLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L2NvbW1vbi9pby5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9jb21tb24vbXF0dC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9jb21tb24vbXF0dDUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvY29tbW9uL21xdHQ1X3BhY2tldC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9jb21tb24vbXF0dF9zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvY29tbW9uL3BsYXRmb3JtLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L2NvbW1vbi9wcm9taXNlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L2NvbW1vbi9yZXNvdXJjZV9zYWZldHkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlL2F1dGguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlL2F3c19pb3QuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlL2F3c19pb3RfbXF0dDUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlL2JpbmRpbmcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlL2NoZWNrc3Vtcy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9uYXRpdmUvY3J0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9jcnlwdG8uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlL2Vycm9yLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9ldmVudHN0cmVhbS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2F3cy1jcnQvZGlzdC9uYXRpdmUvZXZlbnRzdHJlYW1fdXRpbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlL2h0dHAuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlL2lvLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9pb3QuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlL21xdHQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlL21xdHQ1LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvYXdzLWNydC9kaXN0L25hdGl2ZS9uYXRpdmVfcmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9hd3MtY3J0L2Rpc3QvbmF0aXZlLyBzeW5jIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvZmFzdC14bWwtcGFyc2VyL3NyYy9meHAuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9mYXN0LXhtbC1wYXJzZXIvc3JjL3ZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2Zhc3QteG1sLXBhcnNlci9zcmMveG1sYnVpbGRlci9qc29uMnhtbC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2Zhc3QteG1sLXBhcnNlci9zcmMveG1sYnVpbGRlci9vcmRlcmVkSnMyWG1sLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvZmFzdC14bWwtcGFyc2VyL3NyYy94bWxwYXJzZXIvRG9jVHlwZVJlYWRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2Zhc3QteG1sLXBhcnNlci9zcmMveG1scGFyc2VyL09wdGlvbnNCdWlsZGVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvZmFzdC14bWwtcGFyc2VyL3NyYy94bWxwYXJzZXIvT3JkZXJlZE9ialBhcnNlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2Zhc3QteG1sLXBhcnNlci9zcmMveG1scGFyc2VyL1hNTFBhcnNlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2Zhc3QteG1sLXBhcnNlci9zcmMveG1scGFyc2VyL25vZGUyanNvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL2Zhc3QteG1sLXBhcnNlci9zcmMveG1scGFyc2VyL3htbE5vZGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9zdHJudW0vc3RybnVtLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImV2ZW50c1wiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImZzXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwib3NcIiIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwicHJvY2Vzc1wiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1jb25maWctcHJvdmlkZXIvZGlzdC1lcy9ib29sZWFuU2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jb25maWctcmVzb2x2ZXIvZGlzdC1lcy9lbmRwb2ludHNDb25maWcvTm9kZVVzZUR1YWxzdGFja0VuZHBvaW50Q29uZmlnT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NvbmZpZy1yZXNvbHZlci9kaXN0LWVzL2VuZHBvaW50c0NvbmZpZy9Ob2RlVXNlRmlwc0VuZHBvaW50Q29uZmlnT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NvbmZpZy1yZXNvbHZlci9kaXN0LWVzL3JlZ2lvbkNvbmZpZy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jb25maWctcmVzb2x2ZXIvZGlzdC1lcy9yZWdpb25Db25maWcvaXNGaXBzUmVnaW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY29uZmlnLXJlc29sdmVyL2Rpc3QtZXMvcmVnaW9uQ29uZmlnL2dldFJlYWxSZWdpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jb25maWctcmVzb2x2ZXIvZGlzdC1lcy9yZWdpb25Db25maWcvcmVzb2x2ZVJlZ2lvbkNvbmZpZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Byb3RvY29sLWh0dHAvZGlzdC1lcy9GaWVsZFBvc2l0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvcHJvdG9jb2wtaHR0cC9kaXN0LWVzL2h0dHBSZXF1ZXN0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvcHJvdG9jb2wtaHR0cC9kaXN0LWVzL2h0dHBSZXNwb25zZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtY29udGVudC1sZW5ndGgvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2VyZGUvZGlzdC1lcy9zZXJkZVBsdWdpbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2VyZGUvZGlzdC1lcy9kZXNlcmlhbGl6ZXJNaWRkbGV3YXJlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zZXJkZS9kaXN0LWVzL3NlcmlhbGl6ZXJNaWRkbGV3YXJlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1lbmRwb2ludC9kaXN0LWVzL3NlcnZpY2UtY3VzdG9taXphdGlvbnMvczMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLWVuZHBvaW50L2Rpc3QtZXMvYWRhcHRvcnMvY3JlYXRlQ29uZmlnVmFsdWVQcm92aWRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtZW5kcG9pbnQvZGlzdC1lcy9hZGFwdG9ycy9nZXRFbmRwb2ludEZyb21JbnN0cnVjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLWVuZHBvaW50L2Rpc3QtZXMvZ2V0RW5kcG9pbnRQbHVnaW4uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLWVuZHBvaW50L2Rpc3QtZXMvZW5kcG9pbnRNaWRkbGV3YXJlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1taWRkbGV3YXJlL2Rpc3QtZXMvbm9ybWFsaXplUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91cmwtcGFyc2VyL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9xdWVyeXN0cmluZy1wYXJzZXIvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtZW5kcG9pbnQvZGlzdC1lcy9yZXNvbHZlRW5kcG9pbnRDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLWVuZHBvaW50L2Rpc3QtZXMvYWRhcHRvcnMvdG9FbmRwb2ludFYxLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1ob3N0LWhlYWRlci9kaXN0LWVzL2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1sb2dnZXIvZGlzdC1lcy9sb2dnZXJNaWRkbGV3YXJlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1yZWN1cnNpb24tZGV0ZWN0aW9uL2Rpc3QtZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLXJldHJ5L2Rpc3QtZXMvY29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc2VydmljZS1lcnJvci1jbGFzc2lmaWNhdGlvbi9kaXN0LWVzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NlcnZpY2UtZXJyb3ItY2xhc3NpZmljYXRpb24vZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtcmV0cnkvZGlzdC1lcy9EZWZhdWx0UmF0ZUxpbWl0ZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLXJldHJ5L2Rpc3QtZXMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1yZXRyeS9kaXN0LWVzL2RlZmF1bHRSZXRyeVRva2VuLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1yZXRyeS9kaXN0LWVzL1N0YW5kYXJkUmV0cnlTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtcmV0cnkvZGlzdC1lcy9kZWZhdWx0UmV0cnlCYWNrb2ZmU3RyYXRlZ3kuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLXJldHJ5L2Rpc3QtZXMvQWRhcHRpdmVSZXRyeVN0cmF0ZWd5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1yZXRyeS9kaXN0LWVzL2NvbmZpZ3VyYXRpb25zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcImNyeXB0b1wiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3JuZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9yZWdleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmFsaWRhdGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXJldHJ5L2Rpc3QtZXMvcmV0cnlNaWRkbGV3YXJlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1yZXRyeS9kaXN0LWVzL3V0aWwuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9wcm9wZXJ0eS1wcm92aWRlci9kaXN0LWVzL21lbW9pemUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWhleC1lbmNvZGluZy9kaXN0LWVzL2luZGV4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvZXZlbnRzdHJlYW0tY29kZWMvZGlzdC1lcy9JbnQ2NC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2V2ZW50c3RyZWFtLWNvZGVjL2Rpc3QtZXMvSGVhZGVyTWFyc2hhbGxlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2V2ZW50c3RyZWFtLWNvZGVjL2Rpc3QtZXMvTWVzc2FnZURlY29kZXJTdHJlYW0uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9ldmVudHN0cmVhbS1jb2RlYy9kaXN0LWVzL01lc3NhZ2VFbmNvZGVyU3RyZWFtLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvZXZlbnRzdHJlYW0tY29kZWMvZGlzdC1lcy9TbWl0aHlNZXNzYWdlRGVjb2RlclN0cmVhbS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2V2ZW50c3RyZWFtLWNvZGVjL2Rpc3QtZXMvU21pdGh5TWVzc2FnZUVuY29kZXJTdHJlYW0uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9pcy1hcnJheS1idWZmZXIvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJidWZmZXJcIiIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtYnVmZmVyLWZyb20vZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtdXRmOC9kaXN0LWVzL2Zyb21VdGY4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC11dGY4L2Rpc3QtZXMvdG9VaW50OEFycmF5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC11dGY4L2Rpc3QtZXMvdG9VdGY4LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc2lnbmF0dXJlLXY0L2Rpc3QtZXMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc2lnbmF0dXJlLXY0L2Rpc3QtZXMvY3JlZGVudGlhbERlcml2YXRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zaWduYXR1cmUtdjQvZGlzdC1lcy9nZXRDYW5vbmljYWxIZWFkZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC11cmktZXNjYXBlL2Rpc3QtZXMvZXNjYXBlLXVyaS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NpZ25hdHVyZS12NC9kaXN0LWVzL2dldFBheWxvYWRIYXNoLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc2lnbmF0dXJlLXY0L2Rpc3QtZXMvY2xvbmVSZXF1ZXN0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc2lnbmF0dXJlLXY0L2Rpc3QtZXMvcHJlcGFyZVJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zaWduYXR1cmUtdjQvZGlzdC1lcy9TaWduYXR1cmVWNC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NpZ25hdHVyZS12NC9kaXN0LWVzL21vdmVIZWFkZXJzVG9RdWVyeS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NpZ25hdHVyZS12NC9kaXN0LWVzL2hlYWRlclV0aWwuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zaWduYXR1cmUtdjQvZGlzdC1lcy9nZXRDYW5vbmljYWxRdWVyeS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NpZ25hdHVyZS12NC9kaXN0LWVzL3V0aWxEYXRlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS1zaWduaW5nL2Rpc3QtZXMvYXdzQXV0aENvbmZpZ3VyYXRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNpZ25pbmcvZGlzdC1lcy91dGlscy9nZXRTa2V3Q29ycmVjdGVkRGF0ZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2lnbmluZy9kaXN0LWVzL3V0aWxzL2dldFVwZGF0ZWRTeXN0ZW1DbG9ja09mZnNldC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtc2lnbmluZy9kaXN0LWVzL3V0aWxzL2lzQ2xvY2tTa2V3ZWQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNpZ25pbmcvZGlzdC1lcy9hd3NBdXRoTWlkZGxld2FyZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL21pZGRsZXdhcmUtdXNlci1hZ2VudC9kaXN0LWVzL2NvbmZpZ3VyYXRpb25zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvYXdzL3BhcnRpdGlvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvZGVidWcvZGVidWdJZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvZGVidWcvdG9EZWJ1Z1N0cmluZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdHlwZXMvRW5kcG9pbnRFcnJvci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL2lzSXBBZGRyZXNzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvaXNWYWxpZEhvc3RMYWJlbC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL2F3cy9pc1ZpcnR1YWxIb3N0YWJsZVMzQnVja2V0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvYXdzL3BhcnNlQXJuLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy9saWIvYm9vbGVhbkVxdWFscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL2dldEF0dHIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9nZXRBdHRyUGF0aExpc3QuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9pc1NldC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL25vdC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3R5cGVzL2Rpc3QtZXMvYXV0aC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3R5cGVzL2Rpc3QtZXMvZG5zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdHlwZXMvZGlzdC1lcy9lbmRwb2ludC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3R5cGVzL2Rpc3QtZXMvdHJhbnNmZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL2xpYi9wYXJzZVVSTC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL3N0cmluZ0VxdWFscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL3N1YnN0cmluZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvbGliL3VyaUVuY29kZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvZXZhbHVhdGVUZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvZXZhbHVhdGVFeHByZXNzaW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9nZXRSZWZlcmVuY2VWYWx1ZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvY2FsbEZ1bmN0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9ldmFsdWF0ZUNvbmRpdGlvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvZXZhbHVhdGVDb25kaXRpb25zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9nZXRFbmRwb2ludEhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2dldEVuZHBvaW50UHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2dldEVuZHBvaW50UHJvcGVydGllcy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvZ2V0RW5kcG9pbnRVcmwuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWVuZHBvaW50cy9kaXN0LWVzL3V0aWxzL2V2YWx1YXRlRW5kcG9pbnRSdWxlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1lbmRwb2ludHMvZGlzdC1lcy91dGlscy9ldmFsdWF0ZUVycm9yUnVsZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvZXZhbHVhdGVUcmVlUnVsZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvdXRpbHMvZXZhbHVhdGVSdWxlcy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzL2Rpc3QtZXMvcmVzb2x2ZUVuZHBvaW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS11c2VyLWFnZW50L2Rpc3QtZXMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbWlkZGxld2FyZS11c2VyLWFnZW50L2Rpc3QtZXMvdXNlci1hZ2VudC1taWRkbGV3YXJlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc21pdGh5LWNsaWVudC9kaXN0LWVzL05vT3BMb2dnZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXN0YWNrL2Rpc3QtZXMvTWlkZGxld2FyZVN0YWNrLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc21pdGh5LWNsaWVudC9kaXN0LWVzL2NsaWVudC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NtaXRoeS1jbGllbnQvZGlzdC1lcy9jb21tYW5kLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc21pdGh5LWNsaWVudC9kaXN0LWVzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NtaXRoeS1jbGllbnQvZGlzdC1lcy9wYXJzZS11dGlscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NtaXRoeS1jbGllbnQvZGlzdC1lcy9kYXRlLXV0aWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc21pdGh5LWNsaWVudC9kaXN0LWVzL2V4Y2VwdGlvbnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zbWl0aHktY2xpZW50L2Rpc3QtZXMvZGVmYXVsdC1lcnJvci1oYW5kbGVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc21pdGh5LWNsaWVudC9kaXN0LWVzL2RlZmF1bHRzLW1vZGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zbWl0aHktY2xpZW50L2Rpc3QtZXMvZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NtaXRoeS1jbGllbnQvZGlzdC1lcy9leHRlbmRlZC1lbmNvZGUtdXJpLWNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NtaXRoeS1jbGllbnQvZGlzdC1lcy9nZXQtdmFsdWUtZnJvbS10ZXh0LW5vZGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zbWl0aHktY2xpZW50L2Rpc3QtZXMvbGF6eS1qc29uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc21pdGh5LWNsaWVudC9kaXN0LWVzL29iamVjdC1tYXBwaW5nLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc21pdGh5LWNsaWVudC9kaXN0LWVzL3Jlc29sdmUtcGF0aC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NtaXRoeS1jbGllbnQvZGlzdC1lcy9zZXItdXRpbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zbWl0aHktY2xpZW50L2Rpc3QtZXMvc2VyZGUtanNvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zdHMvZGlzdC1lcy9tb2RlbHMvU1RTU2VydmljZUV4Y2VwdGlvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zdHMvZGlzdC1lcy9tb2RlbHMvbW9kZWxzXzAuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9Ac21pdGh5L3Byb3RvY29sLWh0dHAvZGlzdC1lcy90eXBlcy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0BzbWl0aHkvcHJvdG9jb2wtaHR0cC9kaXN0LWVzL2h0dHBSZXF1ZXN0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL3Byb3RvY29scy9Bd3NfcXVlcnkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3RzL2Rpc3QtZXMvY29tbWFuZHMvQXNzdW1lUm9sZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3RzL2Rpc3QtZXMvY29tbWFuZHMvQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3RzL2Rpc3QtZXMvZGVmYXVsdFN0c1JvbGVBc3N1bWVycy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyL2Rpc3QtZXMvUHJvdmlkZXJFcnJvci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyL2Rpc3QtZXMvQ3JlZGVudGlhbHNQcm92aWRlckVycm9yLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1lbnYvZGlzdC1lcy9mcm9tRW52LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc2hhcmVkLWluaS1maWxlLWxvYWRlci9kaXN0LWVzL2dldEhvbWVEaXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvZ2V0UHJvZmlsZU5hbWUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvZ2V0U1NPVG9rZW5GaWxlcGF0aC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9nZXRTU09Ub2tlbkZyb21GaWxlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc2hhcmVkLWluaS1maWxlLWxvYWRlci9kaXN0LWVzL2dldENvbmZpZ0ZpbGVwYXRoLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc2hhcmVkLWluaS1maWxlLWxvYWRlci9kaXN0LWVzL2dldENyZWRlbnRpYWxzRmlsZXBhdGguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvZ2V0UHJvZmlsZURhdGEuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvcGFyc2VJbmkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvc2x1cnBGaWxlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc2hhcmVkLWluaS1maWxlLWxvYWRlci9kaXN0LWVzL2xvYWRTaGFyZWRDb25maWdGaWxlcy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9nZXRTc29TZXNzaW9uRGF0YS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3NoYXJlZC1pbmktZmlsZS1sb2FkZXIvZGlzdC1lcy9sb2FkU3NvU2Vzc2lvbkRhdGEuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyL2Rpc3QtZXMvcGFyc2VLbm93bkZpbGVzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvc2hhcmVkLWluaS1maWxlLWxvYWRlci9kaXN0LWVzL21lcmdlQ29uZmlnRmlsZXMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwidXJsXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiaHR0cFwiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzL2Rpc3QtZXMvcmVtb3RlUHJvdmlkZXIvaHR0cFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy9yZW1vdGVQcm92aWRlci9JbWRzQ3JlZGVudGlhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy9yZW1vdGVQcm92aWRlci9SZW1vdGVQcm92aWRlckluaXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy9yZW1vdGVQcm92aWRlci9yZXRyeS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL2Zyb21Db250YWluZXJNZXRhZGF0YS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyL2Rpc3QtZXMvY2hhaW4uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9ub2RlLWNvbmZpZy1wcm92aWRlci9kaXN0LWVzL2Zyb21FbnYuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9ub2RlLWNvbmZpZy1wcm92aWRlci9kaXN0LWVzL2NvbmZpZ0xvYWRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL25vZGUtY29uZmlnLXByb3ZpZGVyL2Rpc3QtZXMvZnJvbVNoYXJlZENvbmZpZ0ZpbGVzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbm9kZS1jb25maWctcHJvdmlkZXIvZGlzdC1lcy9mcm9tU3RhdGljLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvcHJvcGVydHktcHJvdmlkZXIvZGlzdC1lcy9mcm9tU3RhdGljLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzL2Rpc3QtZXMvY29uZmlnL0VuZHBvaW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzL2Rpc3QtZXMvY29uZmlnL0VuZHBvaW50Q29uZmlnT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL2NvbmZpZy9FbmRwb2ludE1vZGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy9jb25maWcvRW5kcG9pbnRNb2RlQ29uZmlnT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL3V0aWxzL2dldEluc3RhbmNlTWV0YWRhdGFFbmRwb2ludC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kcy9kaXN0LWVzL3V0aWxzL2dldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzL2Rpc3QtZXMvZnJvbUluc3RhbmNlTWV0YWRhdGEuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWltZHMvZGlzdC1lcy91dGlscy9zdGF0aWNTdGFiaWxpdHlQcm92aWRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJjaGlsZF9wcm9jZXNzXCIiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwidXRpbFwiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1wcm9jZXNzL2Rpc3QtZXMvZnJvbVByb2Nlc3MuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXByb2Nlc3MvZGlzdC1lcy9yZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1wcm9jZXNzL2Rpc3QtZXMvZ2V0VmFsaWRhdGVkUHJvY2Vzc0NyZWRlbnRpYWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1zc28vZGlzdC1lcy9pc1Nzb1Byb2ZpbGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9oYXNoLW5vZGUvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJodHRwc1wiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbm9kZS1odHRwLWhhbmRsZXIvZGlzdC1lcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9ub2RlLWh0dHAtaGFuZGxlci9kaXN0LWVzL2dldC10cmFuc2Zvcm1lZC1oZWFkZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInN0cmVhbVwiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbm9kZS1odHRwLWhhbmRsZXIvZGlzdC1lcy9ub2RlLWh0dHAtaGFuZGxlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3F1ZXJ5c3RyaW5nLWJ1aWxkZXIvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvc2V0LWNvbm5lY3Rpb24tdGltZW91dC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvc2V0LXNvY2tldC10aW1lb3V0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbm9kZS1odHRwLWhhbmRsZXIvZGlzdC1lcy9zZXQtc29ja2V0LWtlZXAtYWxpdmUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9ub2RlLWh0dHAtaGFuZGxlci9kaXN0LWVzL3dyaXRlLXJlcXVlc3QtYm9keS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJodHRwMlwiIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvbm9kZS1odHRwLWhhbmRsZXIvZGlzdC1lcy9ub2RlLWh0dHAyLWNvbm5lY3Rpb24tcG9vbC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL25vZGUtaHR0cC1oYW5kbGVyL2Rpc3QtZXMvc3RyZWFtLWNvbGxlY3Rvci9jb2xsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9ub2RlLWh0dHAtaGFuZGxlci9kaXN0LWVzL3N0cmVhbS1jb2xsZWN0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWJvZHktbGVuZ3RoLW5vZGUvZGlzdC1lcy9jYWxjdWxhdGVCb2R5TGVuZ3RoLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC11c2VyLWFnZW50LW5vZGUvZGlzdC1lcy9pcy1jcnQtYXZhaWxhYmxlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC11c2VyLWFnZW50LW5vZGUvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtYmFzZTY0L2Rpc3QtZXMvZnJvbUJhc2U2NC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtYmFzZTY0L2Rpc3QtZXMvdG9CYXNlNjQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvZW5kcG9pbnQvcnVsZXNldC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28vZGlzdC1lcy9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdXRpbC1kZWZhdWx0cy1tb2RlLW5vZGUvZGlzdC1lcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay91dGlsLWRlZmF1bHRzLW1vZGUtbm9kZS9kaXN0LWVzL2RlZmF1bHRzTW9kZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3V0aWwtZGVmYXVsdHMtbW9kZS1ub2RlL2Rpc3QtZXMvcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28vZGlzdC1lcy9TU09DbGllbnQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby9kaXN0LWVzL3J1bnRpbWVDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvcnVudGltZUNvbmZpZy5zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvbW9kZWxzL1NTT1NlcnZpY2VFeGNlcHRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvL2Rpc3QtZXMvbW9kZWxzL21vZGVsc18wLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby9kaXN0LWVzL3Byb3RvY29scy9Bd3NfcmVzdEpzb24xLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby9kaXN0LWVzL2NvbW1hbmRzL0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9wcm9wZXJ0eS1wcm92aWRlci9kaXN0LWVzL1Rva2VuUHJvdmlkZXJFcnJvci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Rva2VuLXByb3ZpZGVycy9kaXN0LWVzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28tb2lkYy9kaXN0LWVzL21vZGVscy9TU09PSURDU2VydmljZUV4Y2VwdGlvbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28tb2lkYy9kaXN0LWVzL21vZGVscy9tb2RlbHNfMC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28tb2lkYy9kaXN0LWVzL3Byb3RvY29scy9Bd3NfcmVzdEpzb24xLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby1vaWRjL2Rpc3QtZXMvY29tbWFuZHMvQ3JlYXRlVG9rZW5Db21tYW5kLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby1vaWRjL2Rpc3QtZXMvZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby1vaWRjL2Rpc3QtZXMvZW5kcG9pbnQvcnVsZXNldC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28tb2lkYy9kaXN0LWVzL2VuZHBvaW50L2VuZHBvaW50UmVzb2x2ZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3NvLW9pZGMvZGlzdC1lcy9TU09PSURDQ2xpZW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNzby1vaWRjL2Rpc3QtZXMvcnVudGltZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zc28tb2lkYy9kaXN0LWVzL3J1bnRpbWVDb25maWcuc2hhcmVkLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdG9rZW4tcHJvdmlkZXJzL2Rpc3QtZXMvZ2V0U3NvT2lkY0NsaWVudC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Rva2VuLXByb3ZpZGVycy9kaXN0LWVzL3ZhbGlkYXRlVG9rZW5FeHBpcnkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay90b2tlbi1wcm92aWRlcnMvZGlzdC1lcy92YWxpZGF0ZVRva2VuS2V5LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvdG9rZW4tcHJvdmlkZXJzL2Rpc3QtZXMvd3JpdGVTU09Ub2tlblRvRmlsZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL3Rva2VuLXByb3ZpZGVycy9kaXN0LWVzL2Zyb21Tc28uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay90b2tlbi1wcm92aWRlcnMvZGlzdC1lcy9nZXROZXdTc29PaWRjVG9rZW4uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXNzby9kaXN0LWVzL3Jlc29sdmVTU09DcmVkZW50aWFscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItc3NvL2Rpc3QtZXMvdmFsaWRhdGVTc29Qcm9maWxlLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1zc28vZGlzdC1lcy9mcm9tU1NPLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkvZGlzdC1lcy9yZXNvbHZlU3RhdGljQ3JlZGVudGlhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXdlYi1pZGVudGl0eS9kaXN0LWVzL2Zyb21Ub2tlbkZpbGUuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXdlYi1pZGVudGl0eS9kaXN0LWVzL2Zyb21XZWJUb2tlbi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pL2Rpc3QtZXMvcmVzb2x2ZVByb2ZpbGVEYXRhLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkvZGlzdC1lcy9yZXNvbHZlQXNzdW1lUm9sZUNyZWRlbnRpYWxzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmkvZGlzdC1lcy9yZXNvbHZlQ3JlZGVudGlhbFNvdXJjZS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pL2Rpc3QtZXMvcmVzb2x2ZVdlYklkZW50aXR5Q3JlZGVudGlhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWluaS9kaXN0LWVzL3Jlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLWluaS9kaXN0LWVzL3Jlc29sdmVTc29DcmVkZW50aWFscy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItbm9kZS9kaXN0LWVzL2RlZmF1bHRQcm92aWRlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW5pL2Rpc3QtZXMvZnJvbUluaS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItbm9kZS9kaXN0LWVzL3JlbW90ZVByb3ZpZGVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL2VuZHBvaW50L3J1bGVzZXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3RzL2Rpc3QtZXMvZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlci5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zdHMvZGlzdC1lcy9TVFNDbGllbnQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3RzL2Rpc3QtZXMvZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXN0cy9kaXN0LWVzL3J1bnRpbWVDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc3RzL2Rpc3QtZXMvcnVudGltZUNvbmZpZy5zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9taWRkbGV3YXJlLXNkay1zdHMvZGlzdC1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zdHMvZGlzdC1lcy9kZWZhdWx0Um9sZUFzc3VtZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9lbmRwb2ludC9ydWxlc2V0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9DbG91ZFRyYWlsQ2xpZW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbC9kaXN0LWVzL3J1bnRpbWVDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbC9kaXN0LWVzL3J1bnRpbWVDb25maWcuc2hhcmVkLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9tb2RlbHMvQ2xvdWRUcmFpbFNlcnZpY2VFeGNlcHRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbC9kaXN0LWVzL21vZGVscy9tb2RlbHNfMC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHRyYWlsL2Rpc3QtZXMvcHJvdG9jb2xzL0F3c19qc29uMV8xLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwvZGlzdC1lcy9jb21tYW5kcy9Mb29rdXBFdmVudHNDb21tYW5kLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9zcmMvQ2xvdWRUcmFpbFVzZXJFdmVudC50cyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vc3JjL0Nsb3VkVHJhaWxVc2VyRXZlbnRNYW5hZ2VyLnRzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnMuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR3YXRjaC9kaXN0LWVzL2VuZHBvaW50L3J1bGVzZXQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR3YXRjaC9kaXN0LWVzL2VuZHBvaW50L2VuZHBvaW50UmVzb2x2ZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR3YXRjaC9kaXN0LWVzL0Nsb3VkV2F0Y2hDbGllbnQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR3YXRjaC9kaXN0LWVzL3J1bnRpbWVDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR3YXRjaC9kaXN0LWVzL3J1bnRpbWVDb25maWcuc2hhcmVkLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LWNsb3Vkd2F0Y2gvZGlzdC1lcy9tb2RlbHMvQ2xvdWRXYXRjaFNlcnZpY2VFeGNlcHRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtY2xvdWR3YXRjaC9kaXN0LWVzL21vZGVscy9tb2RlbHNfMC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHdhdGNoL2Rpc3QtZXMvcHJvdG9jb2xzL0F3c19xdWVyeS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1jbG91ZHdhdGNoL2Rpc3QtZXMvY29tbWFuZHMvUHV0TWV0cmljRGF0YUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL3NyYy9DbG91ZFdhdGNoTWV0cmljQ2xpZW50LnRzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNlcy9kaXN0LWVzL2VuZHBvaW50L0VuZHBvaW50UGFyYW1ldGVycy5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1zZXMvZGlzdC1lcy9lbmRwb2ludC9ydWxlc2V0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNlcy9kaXN0LWVzL2VuZHBvaW50L2VuZHBvaW50UmVzb2x2ZXIuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc2VzL2Rpc3QtZXMvU0VTQ2xpZW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNlcy9kaXN0LWVzL3J1bnRpbWVDb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc2VzL2Rpc3QtZXMvcnVudGltZUNvbmZpZy5zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc2VzL2Rpc3QtZXMvbW9kZWxzL1NFU1NlcnZpY2VFeGNlcHRpb24uanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc2VzL2Rpc3QtZXMvbW9kZWxzL21vZGVsc18wLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXNlcy9kaXN0LWVzL3Byb3RvY29scy9Bd3NfcXVlcnkuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtc2VzL2Rpc3QtZXMvY29tbWFuZHMvU2VuZEVtYWlsQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vc3JjL1F1aWNrU2lnaHRVc2VyLnRzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9zcmMvTm90aWZpY2F0aW9uTWFuYWdlci50cyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQvZGlzdC1lcy9lbmRwb2ludC9ydWxlc2V0LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQvZGlzdC1lcy9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQvZGlzdC1lcy9RdWlja1NpZ2h0Q2xpZW50LmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQvZGlzdC1lcy9ydW50aW1lQ29uZmlnLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQvZGlzdC1lcy9ydW50aW1lQ29uZmlnLnNoYXJlZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvbW9kZWxzL1F1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQvZGlzdC1lcy9tb2RlbHMvbW9kZWxzXzAuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL25vZGVfbW9kdWxlcy9AYXdzLXNkay9jbGllbnQtcXVpY2tzaWdodC9kaXN0LWVzL21vZGVscy9tb2RlbHNfMi5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvbW9kZWxzL21vZGVsc18zLmpzIiwid2VicGFjazovL3RlcnJhZm9ybS1hd3MtcXVpY2tzaWdodC11c2VyLWNsZWFudXAvLi9ub2RlX21vZHVsZXMvQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQvZGlzdC1lcy9wcm90b2NvbHMvQXdzX3Jlc3RKc29uMS5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvY29tbWFuZHMvTGlzdFVzZXJzQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly90ZXJyYWZvcm0tYXdzLXF1aWNrc2lnaHQtdXNlci1jbGVhbnVwLy4vbm9kZV9tb2R1bGVzL0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0L2Rpc3QtZXMvY29tbWFuZHMvRGVsZXRlVXNlckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL3NyYy9RdWlja1NpZ2h0VXNlck1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vdGVycmFmb3JtLWF3cy1xdWlja3NpZ2h0LXVzZXItY2xlYW51cC8uL3NyYy9wcnVuZVF1aWNrU2lnaHRVc2Vycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCBBbWF6b24uY29tIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Bd3NDcmMzMiA9IHZvaWQgMDtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHV0aWxfMSA9IHJlcXVpcmUoXCJAYXdzLWNyeXB0by91dGlsXCIpO1xudmFyIGluZGV4XzEgPSByZXF1aXJlKFwiLi9pbmRleFwiKTtcbnZhciBBd3NDcmMzMiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBd3NDcmMzMigpIHtcbiAgICAgICAgdGhpcy5jcmMzMiA9IG5ldyBpbmRleF8xLkNyYzMyKCk7XG4gICAgfVxuICAgIEF3c0NyYzMyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAodG9IYXNoKSB7XG4gICAgICAgIGlmICgoMCwgdXRpbF8xLmlzRW1wdHlEYXRhKSh0b0hhc2gpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmNyYzMyLnVwZGF0ZSgoMCwgdXRpbF8xLmNvbnZlcnRUb0J1ZmZlcikodG9IYXNoKSk7XG4gICAgfTtcbiAgICBBd3NDcmMzMi5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHNsaWJfMS5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0c2xpYl8xLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCAoMCwgdXRpbF8xLm51bVRvVWludDgpKHRoaXMuY3JjMzIuZGlnZXN0KCkpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEF3c0NyYzMyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jcmMzMiA9IG5ldyBpbmRleF8xLkNyYzMyKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQXdzQ3JjMzI7XG59KCkpO1xuZXhwb3J0cy5Bd3NDcmMzMiA9IEF3c0NyYzMyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXdzX2NyYzMyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Bd3NDcmMzMiA9IGV4cG9ydHMuQ3JjMzIgPSBleHBvcnRzLmNyYzMyID0gdm9pZCAwO1xudmFyIHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG52YXIgdXRpbF8xID0gcmVxdWlyZShcIkBhd3MtY3J5cHRvL3V0aWxcIik7XG5mdW5jdGlvbiBjcmMzMihkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBDcmMzMigpLnVwZGF0ZShkYXRhKS5kaWdlc3QoKTtcbn1cbmV4cG9ydHMuY3JjMzIgPSBjcmMzMjtcbnZhciBDcmMzMiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDcmMzMigpIHtcbiAgICAgICAgdGhpcy5jaGVja3N1bSA9IDB4ZmZmZmZmZmY7XG4gICAgfVxuICAgIENyYzMyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGRhdGFfMSA9IHRzbGliXzEuX192YWx1ZXMoZGF0YSksIGRhdGFfMV8xID0gZGF0YV8xLm5leHQoKTsgIWRhdGFfMV8xLmRvbmU7IGRhdGFfMV8xID0gZGF0YV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBieXRlID0gZGF0YV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja3N1bSA9XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmNoZWNrc3VtID4+PiA4KSBeIGxvb2t1cFRhYmxlWyh0aGlzLmNoZWNrc3VtIF4gYnl0ZSkgJiAweGZmXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFfMV8xICYmICFkYXRhXzFfMS5kb25lICYmIChfYSA9IGRhdGFfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBDcmMzMi5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuY2hlY2tzdW0gXiAweGZmZmZmZmZmKSA+Pj4gMDtcbiAgICB9O1xuICAgIHJldHVybiBDcmMzMjtcbn0oKSk7XG5leHBvcnRzLkNyYzMyID0gQ3JjMzI7XG4vLyBwcmV0dGllci1pZ25vcmVcbnZhciBhX2xvb2tVcFRhYmxlID0gW1xuICAgIDB4MDAwMDAwMDAsIDB4NzcwNzMwOTYsIDB4RUUwRTYxMkMsIDB4OTkwOTUxQkEsXG4gICAgMHgwNzZEQzQxOSwgMHg3MDZBRjQ4RiwgMHhFOTYzQTUzNSwgMHg5RTY0OTVBMyxcbiAgICAweDBFREI4ODMyLCAweDc5RENCOEE0LCAweEUwRDVFOTFFLCAweDk3RDJEOTg4LFxuICAgIDB4MDlCNjRDMkIsIDB4N0VCMTdDQkQsIDB4RTdCODJEMDcsIDB4OTBCRjFEOTEsXG4gICAgMHgxREI3MTA2NCwgMHg2QUIwMjBGMiwgMHhGM0I5NzE0OCwgMHg4NEJFNDFERSxcbiAgICAweDFBREFENDdELCAweDZERERFNEVCLCAweEY0RDRCNTUxLCAweDgzRDM4NUM3LFxuICAgIDB4MTM2Qzk4NTYsIDB4NjQ2QkE4QzAsIDB4RkQ2MkY5N0EsIDB4OEE2NUM5RUMsXG4gICAgMHgxNDAxNUM0RiwgMHg2MzA2NkNEOSwgMHhGQTBGM0Q2MywgMHg4RDA4MERGNSxcbiAgICAweDNCNkUyMEM4LCAweDRDNjkxMDVFLCAweEQ1NjA0MUU0LCAweEEyNjc3MTcyLFxuICAgIDB4M0MwM0U0RDEsIDB4NEIwNEQ0NDcsIDB4RDIwRDg1RkQsIDB4QTUwQUI1NkIsXG4gICAgMHgzNUI1QThGQSwgMHg0MkIyOTg2QywgMHhEQkJCQzlENiwgMHhBQ0JDRjk0MCxcbiAgICAweDMyRDg2Q0UzLCAweDQ1REY1Qzc1LCAweERDRDYwRENGLCAweEFCRDEzRDU5LFxuICAgIDB4MjZEOTMwQUMsIDB4NTFERTAwM0EsIDB4QzhENzUxODAsIDB4QkZEMDYxMTYsXG4gICAgMHgyMUI0RjRCNSwgMHg1NkIzQzQyMywgMHhDRkJBOTU5OSwgMHhCOEJEQTUwRixcbiAgICAweDI4MDJCODlFLCAweDVGMDU4ODA4LCAweEM2MENEOUIyLCAweEIxMEJFOTI0LFxuICAgIDB4MkY2RjdDODcsIDB4NTg2ODRDMTEsIDB4QzE2MTFEQUIsIDB4QjY2NjJEM0QsXG4gICAgMHg3NkRDNDE5MCwgMHgwMURCNzEwNiwgMHg5OEQyMjBCQywgMHhFRkQ1MTAyQSxcbiAgICAweDcxQjE4NTg5LCAweDA2QjZCNTFGLCAweDlGQkZFNEE1LCAweEU4QjhENDMzLFxuICAgIDB4NzgwN0M5QTIsIDB4MEYwMEY5MzQsIDB4OTYwOUE4OEUsIDB4RTEwRTk4MTgsXG4gICAgMHg3RjZBMERCQiwgMHgwODZEM0QyRCwgMHg5MTY0NkM5NywgMHhFNjYzNUMwMSxcbiAgICAweDZCNkI1MUY0LCAweDFDNkM2MTYyLCAweDg1NjUzMEQ4LCAweEYyNjIwMDRFLFxuICAgIDB4NkMwNjk1RUQsIDB4MUIwMUE1N0IsIDB4ODIwOEY0QzEsIDB4RjUwRkM0NTcsXG4gICAgMHg2NUIwRDlDNiwgMHgxMkI3RTk1MCwgMHg4QkJFQjhFQSwgMHhGQ0I5ODg3QyxcbiAgICAweDYyREQxRERGLCAweDE1REEyRDQ5LCAweDhDRDM3Q0YzLCAweEZCRDQ0QzY1LFxuICAgIDB4NERCMjYxNTgsIDB4M0FCNTUxQ0UsIDB4QTNCQzAwNzQsIDB4RDRCQjMwRTIsXG4gICAgMHg0QURGQTU0MSwgMHgzREQ4OTVENywgMHhBNEQxQzQ2RCwgMHhEM0Q2RjRGQixcbiAgICAweDQzNjlFOTZBLCAweDM0NkVEOUZDLCAweEFENjc4ODQ2LCAweERBNjBCOEQwLFxuICAgIDB4NDQwNDJENzMsIDB4MzMwMzFERTUsIDB4QUEwQTRDNUYsIDB4REQwRDdDQzksXG4gICAgMHg1MDA1NzEzQywgMHgyNzAyNDFBQSwgMHhCRTBCMTAxMCwgMHhDOTBDMjA4NixcbiAgICAweDU3NjhCNTI1LCAweDIwNkY4NUIzLCAweEI5NjZENDA5LCAweENFNjFFNDlGLFxuICAgIDB4NUVERUY5MEUsIDB4MjlEOUM5OTgsIDB4QjBEMDk4MjIsIDB4QzdEN0E4QjQsXG4gICAgMHg1OUIzM0QxNywgMHgyRUI0MEQ4MSwgMHhCN0JENUMzQiwgMHhDMEJBNkNBRCxcbiAgICAweEVEQjg4MzIwLCAweDlBQkZCM0I2LCAweDAzQjZFMjBDLCAweDc0QjFEMjlBLFxuICAgIDB4RUFENTQ3MzksIDB4OUREMjc3QUYsIDB4MDREQjI2MTUsIDB4NzNEQzE2ODMsXG4gICAgMHhFMzYzMEIxMiwgMHg5NDY0M0I4NCwgMHgwRDZENkEzRSwgMHg3QTZBNUFBOCxcbiAgICAweEU0MEVDRjBCLCAweDkzMDlGRjlELCAweDBBMDBBRTI3LCAweDdEMDc5RUIxLFxuICAgIDB4RjAwRjkzNDQsIDB4ODcwOEEzRDIsIDB4MUUwMUYyNjgsIDB4NjkwNkMyRkUsXG4gICAgMHhGNzYyNTc1RCwgMHg4MDY1NjdDQiwgMHgxOTZDMzY3MSwgMHg2RTZCMDZFNyxcbiAgICAweEZFRDQxQjc2LCAweDg5RDMyQkUwLCAweDEwREE3QTVBLCAweDY3REQ0QUNDLFxuICAgIDB4RjlCOURGNkYsIDB4OEVCRUVGRjksIDB4MTdCN0JFNDMsIDB4NjBCMDhFRDUsXG4gICAgMHhENkQ2QTNFOCwgMHhBMUQxOTM3RSwgMHgzOEQ4QzJDNCwgMHg0RkRGRjI1MixcbiAgICAweEQxQkI2N0YxLCAweEE2QkM1NzY3LCAweDNGQjUwNkRELCAweDQ4QjIzNjRCLFxuICAgIDB4RDgwRDJCREEsIDB4QUYwQTFCNEMsIDB4MzYwMzRBRjYsIDB4NDEwNDdBNjAsXG4gICAgMHhERjYwRUZDMywgMHhBODY3REY1NSwgMHgzMTZFOEVFRiwgMHg0NjY5QkU3OSxcbiAgICAweENCNjFCMzhDLCAweEJDNjY4MzFBLCAweDI1NkZEMkEwLCAweDUyNjhFMjM2LFxuICAgIDB4Q0MwQzc3OTUsIDB4QkIwQjQ3MDMsIDB4MjIwMjE2QjksIDB4NTUwNTI2MkYsXG4gICAgMHhDNUJBM0JCRSwgMHhCMkJEMEIyOCwgMHgyQkI0NUE5MiwgMHg1Q0IzNkEwNCxcbiAgICAweEMyRDdGRkE3LCAweEI1RDBDRjMxLCAweDJDRDk5RThCLCAweDVCREVBRTFELFxuICAgIDB4OUI2NEMyQjAsIDB4RUM2M0YyMjYsIDB4NzU2QUEzOUMsIDB4MDI2RDkzMEEsXG4gICAgMHg5QzA5MDZBOSwgMHhFQjBFMzYzRiwgMHg3MjA3Njc4NSwgMHgwNTAwNTcxMyxcbiAgICAweDk1QkY0QTgyLCAweEUyQjg3QTE0LCAweDdCQjEyQkFFLCAweDBDQjYxQjM4LFxuICAgIDB4OTJEMjhFOUIsIDB4RTVENUJFMEQsIDB4N0NEQ0VGQjcsIDB4MEJEQkRGMjEsXG4gICAgMHg4NkQzRDJENCwgMHhGMUQ0RTI0MiwgMHg2OEREQjNGOCwgMHgxRkRBODM2RSxcbiAgICAweDgxQkUxNkNELCAweEY2QjkyNjVCLCAweDZGQjA3N0UxLCAweDE4Qjc0Nzc3LFxuICAgIDB4ODgwODVBRTYsIDB4RkYwRjZBNzAsIDB4NjYwNjNCQ0EsIDB4MTEwMTBCNUMsXG4gICAgMHg4RjY1OUVGRiwgMHhGODYyQUU2OSwgMHg2MTZCRkZEMywgMHgxNjZDQ0Y0NSxcbiAgICAweEEwMEFFMjc4LCAweEQ3MEREMkVFLCAweDRFMDQ4MzU0LCAweDM5MDNCM0MyLFxuICAgIDB4QTc2NzI2NjEsIDB4RDA2MDE2RjcsIDB4NDk2OTQ3NEQsIDB4M0U2RTc3REIsXG4gICAgMHhBRUQxNkE0QSwgMHhEOUQ2NUFEQywgMHg0MERGMEI2NiwgMHgzN0Q4M0JGMCxcbiAgICAweEE5QkNBRTUzLCAweERFQkI5RUM1LCAweDQ3QjJDRjdGLCAweDMwQjVGRkU5LFxuICAgIDB4QkRCREYyMUMsIDB4Q0FCQUMyOEEsIDB4NTNCMzkzMzAsIDB4MjRCNEEzQTYsXG4gICAgMHhCQUQwMzYwNSwgMHhDREQ3MDY5MywgMHg1NERFNTcyOSwgMHgyM0Q5NjdCRixcbiAgICAweEIzNjY3QTJFLCAweEM0NjE0QUI4LCAweDVENjgxQjAyLCAweDJBNkYyQjk0LFxuICAgIDB4QjQwQkJFMzcsIDB4QzMwQzhFQTEsIDB4NUEwNURGMUIsIDB4MkQwMkVGOEQsXG5dO1xudmFyIGxvb2t1cFRhYmxlID0gKDAsIHV0aWxfMS51aW50MzJBcnJheUZyb20pKGFfbG9va1VwVGFibGUpO1xudmFyIGF3c19jcmMzMl8xID0gcmVxdWlyZShcIi4vYXdzX2NyYzMyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQXdzQ3JjMzJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGF3c19jcmMzMl8xLkF3c0NyYzMyOyB9IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgQW1hem9uLmNvbSBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29udmVydFRvQnVmZmVyID0gdm9pZCAwO1xudmFyIHV0aWxfdXRmOF9icm93c2VyXzEgPSByZXF1aXJlKFwiQGF3cy1zZGsvdXRpbC11dGY4LWJyb3dzZXJcIik7XG4vLyBRdWljayBwb2x5ZmlsbFxudmFyIGZyb21VdGY4ID0gdHlwZW9mIEJ1ZmZlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBCdWZmZXIuZnJvbVxuICAgID8gZnVuY3Rpb24gKGlucHV0KSB7IHJldHVybiBCdWZmZXIuZnJvbShpbnB1dCwgXCJ1dGY4XCIpOyB9XG4gICAgOiB1dGlsX3V0ZjhfYnJvd3Nlcl8xLmZyb21VdGY4O1xuZnVuY3Rpb24gY29udmVydFRvQnVmZmVyKGRhdGEpIHtcbiAgICAvLyBBbHJlYWR5IGEgVWludDgsIGRvIG5vdGhpbmdcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZnJvbVV0ZjgoZGF0YSk7XG4gICAgfVxuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcoZGF0YSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCAvIFVpbnQ4QXJyYXkuQllURVNfUEVSX0VMRU1FTlQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG59XG5leHBvcnRzLmNvbnZlcnRUb0J1ZmZlciA9IGNvbnZlcnRUb0J1ZmZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnZlcnRUb0J1ZmZlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCBBbWF6b24uY29tIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51aW50MzJBcnJheUZyb20gPSBleHBvcnRzLm51bVRvVWludDggPSBleHBvcnRzLmlzRW1wdHlEYXRhID0gZXhwb3J0cy5jb252ZXJ0VG9CdWZmZXIgPSB2b2lkIDA7XG52YXIgY29udmVydFRvQnVmZmVyXzEgPSByZXF1aXJlKFwiLi9jb252ZXJ0VG9CdWZmZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb252ZXJ0VG9CdWZmZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbnZlcnRUb0J1ZmZlcl8xLmNvbnZlcnRUb0J1ZmZlcjsgfSB9KTtcbnZhciBpc0VtcHR5RGF0YV8xID0gcmVxdWlyZShcIi4vaXNFbXB0eURhdGFcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJpc0VtcHR5RGF0YVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaXNFbXB0eURhdGFfMS5pc0VtcHR5RGF0YTsgfSB9KTtcbnZhciBudW1Ub1VpbnQ4XzEgPSByZXF1aXJlKFwiLi9udW1Ub1VpbnQ4XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibnVtVG9VaW50OFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVtVG9VaW50OF8xLm51bVRvVWludDg7IH0gfSk7XG52YXIgdWludDMyQXJyYXlGcm9tXzEgPSByZXF1aXJlKFwiLi91aW50MzJBcnJheUZyb21cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ1aW50MzJBcnJheUZyb21cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVpbnQzMkFycmF5RnJvbV8xLnVpbnQzMkFycmF5RnJvbTsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20gSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzRW1wdHlEYXRhID0gdm9pZCAwO1xuZnVuY3Rpb24gaXNFbXB0eURhdGEoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZGF0YS5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIHJldHVybiBkYXRhLmJ5dGVMZW5ndGggPT09IDA7XG59XG5leHBvcnRzLmlzRW1wdHlEYXRhID0gaXNFbXB0eURhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0VtcHR5RGF0YS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCBBbWF6b24uY29tIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5udW1Ub1VpbnQ4ID0gdm9pZCAwO1xuZnVuY3Rpb24gbnVtVG9VaW50OChudW0pIHtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAobnVtICYgMHhmZjAwMDAwMCkgPj4gMjQsXG4gICAgICAgIChudW0gJiAweDAwZmYwMDAwKSA+PiAxNixcbiAgICAgICAgKG51bSAmIDB4MDAwMGZmMDApID4+IDgsXG4gICAgICAgIG51bSAmIDB4MDAwMDAwZmYsXG4gICAgXSk7XG59XG5leHBvcnRzLm51bVRvVWludDggPSBudW1Ub1VpbnQ4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bnVtVG9VaW50OC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCBBbWF6b24uY29tIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51aW50MzJBcnJheUZyb20gPSB2b2lkIDA7XG4vLyBJRSAxMSBkb2VzIG5vdCBzdXBwb3J0IEFycmF5LmZyb20sIHNvIHdlIGRvIGl0IG1hbnVhbGx5XG5mdW5jdGlvbiB1aW50MzJBcnJheUZyb20oYV9sb29rVXBUYWJsZSkge1xuICAgIGlmICghVWludDMyQXJyYXkuZnJvbSkge1xuICAgICAgICB2YXIgcmV0dXJuX2FycmF5ID0gbmV3IFVpbnQzMkFycmF5KGFfbG9va1VwVGFibGUubGVuZ3RoKTtcbiAgICAgICAgdmFyIGFfaW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoYV9pbmRleCA8IGFfbG9va1VwVGFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm5fYXJyYXlbYV9pbmRleF0gPSBhX2xvb2tVcFRhYmxlW2FfaW5kZXhdO1xuICAgICAgICAgICAgYV9pbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5fYXJyYXk7XG4gICAgfVxuICAgIHJldHVybiBVaW50MzJBcnJheS5mcm9tKGFfbG9va1VwVGFibGUpO1xufVxuZXhwb3J0cy51aW50MzJBcnJheUZyb20gPSB1aW50MzJBcnJheUZyb207XG4vLyMgc291cmNlTWFwcGluZ1VSTD11aW50MzJBcnJheUZyb20uanMubWFwIiwiaW1wb3J0IHsgZnJvbVV0ZjggYXMganNGcm9tVXRmOCwgdG9VdGY4IGFzIGpzVG9VdGY4IH0gZnJvbSBcIi4vcHVyZUpzXCI7XG5pbXBvcnQgeyBmcm9tVXRmOCBhcyB0ZXh0RW5jb2RlckZyb21VdGY4LCB0b1V0ZjggYXMgdGV4dEVuY29kZXJUb1V0ZjggfSBmcm9tIFwiLi93aGF0d2dFbmNvZGluZ0FwaVwiO1xuZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gKGlucHV0KSA9PiB0eXBlb2YgVGV4dEVuY29kZXIgPT09IFwiZnVuY3Rpb25cIiA/IHRleHRFbmNvZGVyRnJvbVV0ZjgoaW5wdXQpIDoganNGcm9tVXRmOChpbnB1dCk7XG5leHBvcnQgY29uc3QgdG9VdGY4ID0gKGlucHV0KSA9PiB0eXBlb2YgVGV4dERlY29kZXIgPT09IFwiZnVuY3Rpb25cIiA/IHRleHRFbmNvZGVyVG9VdGY4KGlucHV0KSA6IGpzVG9VdGY4KGlucHV0KTtcbiIsImV4cG9ydCBmdW5jdGlvbiBmcm9tVXRmOChpbnB1dCkge1xuICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoaW5wdXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvVXRmOChpbnB1dCkge1xuICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiKS5kZWNvZGUoaW5wdXQpO1xufVxuIiwiZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgYnl0ZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gaW5wdXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAodmFsdWUgPCAweDgwKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA8IDB4ODAwKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKCh2YWx1ZSA+PiA2KSB8IDBiMTEwMDAwMDAsICh2YWx1ZSAmIDBiMTExMTExKSB8IDBiMTAwMDAwMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGkgKyAxIDwgaW5wdXQubGVuZ3RoICYmICh2YWx1ZSAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiAoaW5wdXQuY2hhckNvZGVBdChpICsgMSkgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN1cnJvZ2F0ZVBhaXIgPSAweDEwMDAwICsgKCh2YWx1ZSAmIDBiMTExMTExMTExMSkgPDwgMTApICsgKGlucHV0LmNoYXJDb2RlQXQoKytpKSAmIDBiMTExMTExMTExMSk7XG4gICAgICAgICAgICBieXRlcy5wdXNoKChzdXJyb2dhdGVQYWlyID4+IDE4KSB8IDBiMTExMTAwMDAsICgoc3Vycm9nYXRlUGFpciA+PiAxMikgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwLCAoKHN1cnJvZ2F0ZVBhaXIgPj4gNikgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwLCAoc3Vycm9nYXRlUGFpciAmIDBiMTExMTExKSB8IDBiMTAwMDAwMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnl0ZXMucHVzaCgodmFsdWUgPj4gMTIpIHwgMGIxMTEwMDAwMCwgKCh2YWx1ZSA+PiA2KSAmIDBiMTExMTExKSB8IDBiMTAwMDAwMDAsICh2YWx1ZSAmIDBiMTExMTExKSB8IDBiMTAwMDAwMDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBVaW50OEFycmF5LmZyb20oYnl0ZXMpO1xufTtcbmV4cG9ydCBjb25zdCB0b1V0ZjggPSAoaW5wdXQpID0+IHtcbiAgICBsZXQgZGVjb2RlZCA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJ5dGUgPSBpbnB1dFtpXTtcbiAgICAgICAgaWYgKGJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBkZWNvZGVkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoMGIxMTAwMDAwMCA8PSBieXRlICYmIGJ5dGUgPCAwYjExMTAwMDAwKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0Qnl0ZSA9IGlucHV0WysraV07XG4gICAgICAgICAgICBkZWNvZGVkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChieXRlICYgMGIxMTExMSkgPDwgNikgfCAobmV4dEJ5dGUgJiAwYjExMTExMSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKDBiMTExMTAwMDAgPD0gYnl0ZSAmJiBieXRlIDwgMGIxMDExMDExMDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1cnJvZ2F0ZVBhaXIgPSBbYnl0ZSwgaW5wdXRbKytpXSwgaW5wdXRbKytpXSwgaW5wdXRbKytpXV07XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVkID0gXCIlXCIgKyBzdXJyb2dhdGVQYWlyLm1hcCgoYnl0ZVZhbHVlKSA9PiBieXRlVmFsdWUudG9TdHJpbmcoMTYpKS5qb2luKFwiJVwiKTtcbiAgICAgICAgICAgIGRlY29kZWQgKz0gZGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVjb2RlZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYnl0ZSAmIDBiMTExMSkgPDwgMTIpIHwgKChpbnB1dFsrK2ldICYgMGIxMTExMTEpIDw8IDYpIHwgKGlucHV0WysraV0gJiAwYjExMTExMSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZWNvZGVkO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5leHRyYWN0UmVnaW9uRnJvbUVuZHBvaW50ID0gZXhwb3J0cy5idWlsZE1xdHQ1RmluYWxVc2VybmFtZSA9IGV4cG9ydHMucG9wdWxhdGVfdXNlcm5hbWVfc3RyaW5nX3dpdGhfY3VzdG9tX2F1dGhvcml6ZXIgPSBleHBvcnRzLmlzX3N0cmluZ19hbmRfbm90X2VtcHR5ID0gZXhwb3J0cy5hZGRfdG9fdXNlcm5hbWVfcGFyYW1ldGVyID0gdm9pZCAwO1xuLyoqXG4gKlxuICogQSBtb2R1bGUgY29udGFpbmluZyBtaXNjZWxsYW5lb3VzIGZ1bmN0aW9uYWxpdHkgdGhhdCBpcyBzaGFyZWQgYWNyb3NzIGJvdGggbmF0aXZlIGFuZCBicm93c2VyIGZvciBhd3NfaW90XG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKiBAbW9kdWxlIGF3c19pb3RcbiAqL1xuY29uc3QgcGxhdGZvcm0gPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vcGxhdGZvcm1cIikpO1xuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB0byBhZGQgcGFyYW1ldGVycyB0byB0aGUgdXNlcm5hbWUgaW4gd2l0aF9jdXN0b21fYXV0aG9yaXplciBmdW5jdGlvblxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBhZGRfdG9fdXNlcm5hbWVfcGFyYW1ldGVyKGN1cnJlbnRfdXNlcm5hbWUsIHBhcmFtZXRlcl92YWx1ZSwgcGFyYW1ldGVyX3ByZV90ZXh0KSB7XG4gICAgbGV0IHJldHVybl9zdHJpbmcgPSBjdXJyZW50X3VzZXJuYW1lO1xuICAgIGlmIChyZXR1cm5fc3RyaW5nLmluZGV4T2YoXCI/XCIpICE9IC0xKSB7XG4gICAgICAgIHJldHVybl9zdHJpbmcgKz0gXCImXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm5fc3RyaW5nICs9IFwiP1wiO1xuICAgIH1cbiAgICBpZiAocGFyYW1ldGVyX3ZhbHVlLmluZGV4T2YocGFyYW1ldGVyX3ByZV90ZXh0KSAhPSAtMSkge1xuICAgICAgICByZXR1cm4gcmV0dXJuX3N0cmluZyArIHBhcmFtZXRlcl92YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiByZXR1cm5fc3RyaW5nICsgcGFyYW1ldGVyX3ByZV90ZXh0ICsgcGFyYW1ldGVyX3ZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydHMuYWRkX3RvX3VzZXJuYW1lX3BhcmFtZXRlciA9IGFkZF90b191c2VybmFtZV9wYXJhbWV0ZXI7XG4vKipcbiAqIEEgaGVscGVyIGZ1bmN0aW9uIHRvIHNlZSBpZiBhIHN0cmluZyBpcyBub3QgbnVsbCwgaXMgZGVmaW5lZCwgYW5kIGlzIG5vdCBhbiBlbXB0eSBzdHJpbmdcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gaXNfc3RyaW5nX2FuZF9ub3RfZW1wdHkoaXRlbSkge1xuICAgIHJldHVybiBpdGVtICE9IHVuZGVmaW5lZCAmJiB0eXBlb2YgKGl0ZW0pID09ICdzdHJpbmcnICYmIGl0ZW0gIT0gXCJcIjtcbn1cbmV4cG9ydHMuaXNfc3RyaW5nX2FuZF9ub3RfZW1wdHkgPSBpc19zdHJpbmdfYW5kX25vdF9lbXB0eTtcbi8qKlxuICogQSBoZWxwZXIgZnVuY3Rpb24gdG8gcG9wdWxhdGUgdGhlIHVzZXJuYW1lIHdpdGggdGhlIEN1c3RvbSBBdXRob3JpemVyIGZpZWxkc1xuICogQHBhcmFtIGN1cnJlbnRfdXNlcm5hbWUgdGhlIGN1cnJlbnQgdXNlcm5hbWVcbiAqIEBwYXJhbSBpbnB1dF91c2VybmFtZSB0aGUgdXNlcm5hbWUgdG8gYWRkIC0gY2FuIGJlIGFuIGVtcHR5IHN0cmluZyB0byBza2lwXG4gKiBAcGFyYW0gaW5wdXRfYXV0aG9yaXplciB0aGUgbmFtZSBvZiB0aGUgYXV0aG9yaXplciB0byBhZGQgLSBjYW4gYmUgYW4gZW1wdHkgc3RyaW5nIHRvIHNraXBcbiAqIEBwYXJhbSBpbnB1dF9zaWduYXR1cmUgdGhlIG5hbWUgb2YgdGhlIHNpZ25hdHVyZSB0byBhZGQgLSBjYW4gYmUgYW4gZW1wdHkgc3RyaW5nIHRvIHNraXBcbiAqIEBwYXJhbSBpbnB1dF9idWlsZGVyX3VzZXJuYW1lIHRoZSB1c2VybmFtZSBmcm9tIHRoZSBNUVRUIGJ1aWxkZXJcbiAqIEBwYXJhbSBpbnB1dF90b2tlbl9rZXlfbmFtZSB0aGUgdG9rZW4ga2V5IG5hbWVcbiAqIEBwYXJhbSBpbnB1dF90b2tlbl92YWx1ZSB0aGUgdG9rZW4ga2V5IHZhbHVlXG4gKiBAcmV0dXJucyBUaGUgZmluaXNoZWQgdXNlcm5hbWUgd2l0aCB0aGUgYWRkaXRpb25zIGFkZGVkIHRvIGl0XG4gKlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHBvcHVsYXRlX3VzZXJuYW1lX3N0cmluZ193aXRoX2N1c3RvbV9hdXRob3JpemVyKGN1cnJlbnRfdXNlcm5hbWUsIGlucHV0X3VzZXJuYW1lLCBpbnB1dF9hdXRob3JpemVyLCBpbnB1dF9zaWduYXR1cmUsIGlucHV0X2J1aWxkZXJfdXNlcm5hbWUsIGlucHV0X3Rva2VuX2tleV9uYW1lLCBpbnB1dF90b2tlbl92YWx1ZSkge1xuICAgIGxldCB1c2VybmFtZV9zdHJpbmcgPSBcIlwiO1xuICAgIGlmIChjdXJyZW50X3VzZXJuYW1lKSB7XG4gICAgICAgIHVzZXJuYW1lX3N0cmluZyArPSBjdXJyZW50X3VzZXJuYW1lO1xuICAgIH1cbiAgICBpZiAoaXNfc3RyaW5nX2FuZF9ub3RfZW1wdHkoaW5wdXRfdXNlcm5hbWUpID09IGZhbHNlKSB7XG4gICAgICAgIGlmIChpc19zdHJpbmdfYW5kX25vdF9lbXB0eShpbnB1dF9idWlsZGVyX3VzZXJuYW1lKSAmJiBpbnB1dF9idWlsZGVyX3VzZXJuYW1lKSB7XG4gICAgICAgICAgICB1c2VybmFtZV9zdHJpbmcgKz0gaW5wdXRfYnVpbGRlcl91c2VybmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdXNlcm5hbWVfc3RyaW5nICs9IGlucHV0X3VzZXJuYW1lO1xuICAgIH1cbiAgICBpZiAoaXNfc3RyaW5nX2FuZF9ub3RfZW1wdHkoaW5wdXRfYXV0aG9yaXplcikgJiYgaW5wdXRfYXV0aG9yaXplcikge1xuICAgICAgICB1c2VybmFtZV9zdHJpbmcgPSBhZGRfdG9fdXNlcm5hbWVfcGFyYW1ldGVyKHVzZXJuYW1lX3N0cmluZywgaW5wdXRfYXV0aG9yaXplciwgXCJ4LWFtei1jdXN0b21hdXRob3JpemVyLW5hbWU9XCIpO1xuICAgIH1cbiAgICBpZiAoaXNfc3RyaW5nX2FuZF9ub3RfZW1wdHkoaW5wdXRfc2lnbmF0dXJlKSAmJiBpbnB1dF9zaWduYXR1cmUpIHtcbiAgICAgICAgdXNlcm5hbWVfc3RyaW5nID0gYWRkX3RvX3VzZXJuYW1lX3BhcmFtZXRlcih1c2VybmFtZV9zdHJpbmcsIGlucHV0X3NpZ25hdHVyZSwgXCJ4LWFtei1jdXN0b21hdXRob3JpemVyLXNpZ25hdHVyZT1cIik7XG4gICAgICAgIGlmICgoaXNfc3RyaW5nX2FuZF9ub3RfZW1wdHkoaW5wdXRfdG9rZW5fa2V5X25hbWUpICYmIGlucHV0X3Rva2VuX2tleV9uYW1lKSB8fCAoaXNfc3RyaW5nX2FuZF9ub3RfZW1wdHkoaW5wdXRfdG9rZW5fdmFsdWUpICYmIGlucHV0X3Rva2VuX3ZhbHVlKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJXYXJuaW5nOiBTaWduZWQgY3VzdG9tIGF1dGhvcml6ZXJzIHdpdGggc2lnbmF0dXJlIHdpbGwgbm90IHdvcmsgd2l0aG91dCBhIHRva2VuIGtleSBuYW1lIGFuZCBcIiArXG4gICAgICAgICAgICAgICAgXCJ0b2tlbiB2YWx1ZS4gWW91ciBjb25uZWN0aW9uIG1heSBiZSByZWplY3RlZC9zdGFsbGVkIG9uIHRoZSBJb1QgQ29yZSBzaWRlIGR1ZSB0byB0aGlzLiBQbGVhc2UgXCIgK1xuICAgICAgICAgICAgICAgIFwic2V0IHRoZSB0b2tlbiBrZXkgbmFtZSBhbmQgdG9rZW4gdmFsdWUgdG8gY29ubmVjdCB0byBhIHNpZ25lZCBjdXN0b20gYXV0aG9yaXplci5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzX3N0cmluZ19hbmRfbm90X2VtcHR5KGlucHV0X3NpZ25hdHVyZSkgfHwgaXNfc3RyaW5nX2FuZF9ub3RfZW1wdHkoaW5wdXRfdG9rZW5fdmFsdWUpIHx8IGlzX3N0cmluZ19hbmRfbm90X2VtcHR5KGlucHV0X3Rva2VuX2tleV9uYW1lKSkge1xuICAgICAgICBpZiAoIWlucHV0X3Rva2VuX3ZhbHVlIHx8ICFpbnB1dF90b2tlbl9rZXlfbmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVG9rZW4tYmFzZWQgY3VzdG9tIGF1dGhlbnRpY2F0aW9uIHJlcXVpcmVzIGFsbCB0b2tlbi1yZWxhdGVkIHByb3BlcnRpZXMgdG8gYmUgc2V0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHVzZXJuYW1lX3N0cmluZyA9IGFkZF90b191c2VybmFtZV9wYXJhbWV0ZXIodXNlcm5hbWVfc3RyaW5nLCBpbnB1dF90b2tlbl92YWx1ZSwgaW5wdXRfdG9rZW5fa2V5X25hbWUgKyBcIj1cIik7XG4gICAgfVxuICAgIHJldHVybiB1c2VybmFtZV9zdHJpbmc7XG59XG5leHBvcnRzLnBvcHVsYXRlX3VzZXJuYW1lX3N0cmluZ193aXRoX2N1c3RvbV9hdXRob3JpemVyID0gcG9wdWxhdGVfdXNlcm5hbWVfc3RyaW5nX3dpdGhfY3VzdG9tX2F1dGhvcml6ZXI7XG47XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBhZGRQYXJhbShwYXJhbU5hbWUsIHBhcmFtVmFsdWUsIHBhcmFtU2V0KSB7XG4gICAgaWYgKHBhcmFtVmFsdWUpIHtcbiAgICAgICAgcGFyYW1TZXQucHVzaChbcGFyYW1OYW1lLCBwYXJhbVZhbHVlXSk7XG4gICAgfVxufVxuLyoqXG4gKiBCdWlsZHMgdGhlIGZpbmFsIHZhbHVlIGZvciB0aGUgQ09OTkVDVCBwYWNrZXQncyB1c2VybmFtZSBwcm9wZXJ0eSBiYXNlZCBvbiBBV1MgSW9UIGN1c3RvbSBhdXRoIGNvbmZpZ3VyYXRpb25cbiAqIGFuZCBTREsgbWV0cmljcyBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSBjdXN0b21BdXRoQ29uZmlnIGludGVuZGVkIEFXUyBJb1QgY3VzdG9tIGF1dGggY2xpZW50IGNvbmZpZ3VyYXRpb25cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gYnVpbGRNcXR0NUZpbmFsVXNlcm5hbWUoY3VzdG9tQXV0aENvbmZpZykge1xuICAgIGxldCBwYXRoID0gXCJcIjtcbiAgICBsZXQgcGFyYW1MaXN0ID0gW107XG4gICAgaWYgKGN1c3RvbUF1dGhDb25maWcpIHtcbiAgICAgICAgLyogSWYgd2UncmUgdXNpbmcgdG9rZW4tc2lnbmluZyBhdXRoZW50aWNhdGlvbiwgdGhlbiBhbGwgdG9rZW4gcHJvcGVydGllcyBtdXN0IGJlIHNldCAqL1xuICAgICAgICBsZXQgdXNpbmdTaWduaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChjdXN0b21BdXRoQ29uZmlnLnRva2VuVmFsdWUgfHwgY3VzdG9tQXV0aENvbmZpZy50b2tlbktleU5hbWUgfHwgY3VzdG9tQXV0aENvbmZpZy50b2tlblNpZ25hdHVyZSkge1xuICAgICAgICAgICAgdXNpbmdTaWduaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghY3VzdG9tQXV0aENvbmZpZy50b2tlblZhbHVlIHx8ICFjdXN0b21BdXRoQ29uZmlnLnRva2VuS2V5TmFtZSB8fCAhY3VzdG9tQXV0aENvbmZpZy50b2tlblNpZ25hdHVyZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRva2VuLWJhc2VkIGN1c3RvbSBhdXRoZW50aWNhdGlvbiByZXF1aXJlcyBhbGwgdG9rZW4tcmVsYXRlZCBwcm9wZXJ0aWVzIHRvIGJlIHNldFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgdXNlcm5hbWUgPSBjdXN0b21BdXRoQ29uZmlnLnVzZXJuYW1lO1xuICAgICAgICBsZXQgcGF0aFNwbGl0ID0gKHVzZXJuYW1lICE9PSBudWxsICYmIHVzZXJuYW1lICE9PSB2b2lkIDAgPyB1c2VybmFtZSA6IFwiXCIpLnNwbGl0KFwiP1wiKTtcbiAgICAgICAgbGV0IHBhcmFtcyA9IHBhdGhTcGxpdC5zbGljZSgxKTtcbiAgICAgICAgcGF0aCA9IHBhdGhTcGxpdFswXTtcbiAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDdXN0b20gYXV0aCB1c2VybmFtZSBwcm9wZXJ0eSB2YWx1ZSBpcyBpbnZhbGlkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgcGFyYW1zWzBdLnNwbGl0KFwiJlwiKS5mb3JFYWNoKChrZXlWYWx1ZSwgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGxldCBrdlBhaXIgPSBrZXlWYWx1ZS5zcGxpdChcIj1cIik7XG4gICAgICAgICAgICAgICAgcGFyYW1MaXN0LnB1c2goW2t2UGFpclswXSwgKF9hID0ga3ZQYWlyWzFdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBcIlwiXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBhZGRQYXJhbShcIngtYW16LWN1c3RvbWF1dGhvcml6ZXItbmFtZVwiLCBjdXN0b21BdXRoQ29uZmlnLmF1dGhvcml6ZXJOYW1lLCBwYXJhbUxpc3QpO1xuICAgICAgICBpZiAodXNpbmdTaWduaW5nKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHZlcmlmaWVkIGVhcmxpZXJcbiAgICAgICAgICAgIGFkZFBhcmFtKGN1c3RvbUF1dGhDb25maWcudG9rZW5LZXlOYW1lLCBjdXN0b21BdXRoQ29uZmlnLnRva2VuVmFsdWUsIHBhcmFtTGlzdCk7XG4gICAgICAgICAgICBhZGRQYXJhbShcIngtYW16LWN1c3RvbWF1dGhvcml6ZXItc2lnbmF0dXJlXCIsIGN1c3RvbUF1dGhDb25maWcudG9rZW5TaWduYXR1cmUsIHBhcmFtTGlzdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFyYW1MaXN0LnB1c2goW1wiU0RLXCIsIFwiTm9kZUpTdjJcIl0pO1xuICAgIHBhcmFtTGlzdC5wdXNoKFtcIlZlcnNpb25cIiwgcGxhdGZvcm0uY3J0X3ZlcnNpb24oKV0pO1xuICAgIHJldHVybiAocGF0aCAhPT0gbnVsbCAmJiBwYXRoICE9PSB2b2lkIDAgPyBwYXRoIDogXCJcIikgKyBcIj9cIiArIHBhcmFtTGlzdC5tYXAoKHZhbHVlKSA9PiBgJHt2YWx1ZVswXX09JHt2YWx1ZVsxXX1gKS5qb2luKFwiJlwiKTtcbn1cbmV4cG9ydHMuYnVpbGRNcXR0NUZpbmFsVXNlcm5hbWUgPSBidWlsZE1xdHQ1RmluYWxVc2VybmFtZTtcbi8qKlxuICogQXR0ZW1wdHMgdG8gZGV0ZXJtaW5lIHRoZSBBV1MgcmVnaW9uIGFzc29jaWF0ZWQgd2l0aCBhbiBlbmRwb2ludC5cbiAqXG4gKiBAcGFyYW0gZW5kcG9pbnQgZW5kcG9pbnQgdG8gY29tcHV0ZSB0aGUgcmVnaW9uIGZvclxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBleHRyYWN0UmVnaW9uRnJvbUVuZHBvaW50KGVuZHBvaW50KSB7XG4gICAgY29uc3QgcmVnZXhwUmVnaW9uID0gL15bXFx3XFwtXStcXC5bXFx3XFwtXStcXC4oW1xcdytcXC1dKylcXC4vO1xuICAgIGNvbnN0IG1hdGNoID0gZW5kcG9pbnQubWF0Y2gocmVnZXhwUmVnaW9uKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoWzFdO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBV1MgcmVnaW9uIGNvdWxkIG5vdCBiZSBleHRyYWN0ZWQgZnJvbSBlbmRwb2ludC4gIFVzZSAncmVnaW9uJyBwcm9wZXJ0eSBvbiBXZWJzb2NrZXRDb25maWcgdG8gc2V0IG1hbnVhbGx5LlwiKTtcbn1cbmV4cG9ydHMuZXh0cmFjdFJlZ2lvbkZyb21FbmRwb2ludCA9IGV4dHJhY3RSZWdpb25Gcm9tRW5kcG9pbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hd3NfaW90X3NoYXJlZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubmV3Q2FuY2VsbGFibGVQcm9taXNlRnJvbU5leHRFdmVudCA9IGV4cG9ydHMuQ2FuY2VsQ29udHJvbGxlciA9IGV4cG9ydHMuRVZFTlRfTkFNRSA9IHZvaWQgMDtcbi8qKlxuICpcbiAqIEEgbW9kdWxlIGNvbnRhaW5pbmcgc3VwcG9ydCBmb3IgY2FuY2VsbGluZyBhc3luY2hyb25vdXMgb3BlcmF0aW9uc1xuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICogQG1vZHVsZSBjYW5jZWxcbiAqL1xuY29uc3QgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xuY29uc3QgcHJvbWlzZSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9wcm9taXNlXCIpKTtcbmV4cG9ydHMuRVZFTlRfTkFNRSA9ICdjYW5jZWxsZWQnO1xuLyoqXG4gKiBDUlQgaW1wbGVtZW50YXRpb24gb2YgdGhlIElDYW5jZWxDb250cm9sbGVyIGludGVyZmFjZVxuICovXG5jbGFzcyBDYW5jZWxDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsbGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZW1pdHRlckZhY3RvcnkpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdHRlciA9IG9wdGlvbnMuZW1pdHRlckZhY3RvcnkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdHRlciA9IG5ldyBldmVudHNfMS5FdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGFsbCBhc3luY2hyb25vdXMgb3BlcmF0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhpcyBjb250cm9sbGVyXG4gICAgICovXG4gICAgY2FuY2VsKCkge1xuICAgICAgICBpZiAoIXRoaXMuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIuZW1pdChleHBvcnRzLkVWRU5UX05BTUUpO1xuICAgICAgICAgICAgdGhpcy5lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyhleHBvcnRzLkVWRU5UX05BTUUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGUgY29udHJvbGxlciBpcyBpbiB0aGUgY2FuY2VsbGVkIHN0YXRlXG4gICAgICovXG4gICAgaGFzQmVlbkNhbmNlbGxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FuY2VsbGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB0byBiZSBub3RpZmllZCB3aGVuIGNhbmNlbCgpIGlzIGludm9rZWQgZXh0ZXJuYWxseS4gIEluIGdlbmVyYWwsIHRoZSBjYWxsYmFja1xuICAgICAqIHdpbGwgY2FuY2VsIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24gYnkgcmVqZWN0aW5nIHRoZSBhc3NvY2lhdGVkIHByb21pc2UuXG4gICAgICpcbiAgICAgKiBJTVBPUlRBTlQ6IFRoZSBsaXN0ZW5lciBpcyBpbnZva2VkIHN5bmNocm9ub3VzbHkgaWYgdGhlIGNvbnRyb2xsZXIgaGFzIGFscmVhZHkgYmVlbiBjYW5jZWxsZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgLSBmdW5jdGlvbiB0byBpbnZva2Ugb24gY2FuY2VsOyBpbnZva2VkIHN5bmNocm9ub3VzbHkgaWYgdGhlIGNvbnRyb2xsZXIgaGFzIGJlZW4gY2FuY2VsbGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHVuZGVmaW5lZCBpZiB0aGUgY29udHJvbGxlciBoYXMgYWxyZWFkeSBiZWVuIGNhbmNlbGxlZCwgb3RoZXJ3aXNlIGEgZnVuY3Rpb24gb2JqZWN0IHdob3NlIGludm9jYXRpb25cbiAgICAgKiB3aWxsIHJlbW92ZSB0aGUgbGlzdGVuZXIgZnJvbSB0aGUgY29udHJvbGxlcidzIGV2ZW50IGVtaXR0ZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdHRlci5vbihleHBvcnRzLkVWRU5UX05BTUUsIGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHsgdGhpcy5lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV4cG9ydHMuRVZFTlRfTkFNRSwgbGlzdGVuZXIpOyB9O1xuICAgIH1cbn1cbmV4cG9ydHMuQ2FuY2VsQ29udHJvbGxlciA9IENhbmNlbENvbnRyb2xsZXI7XG4vKipcbiAqIENyZWF0ZXMgYSBwcm9taXNlIHRoYXQgY2FuIGJlIHJlamVjdGVkIGJ5IGEgQ2FuY2VsQ29udHJvbGxlciBhbmQgcmVzb2x2ZWQgYnkgdGhlIHJlY2VpcHQgb2YgYW4gZXZlbnQgZnJvbSBhblxuICogRXZlbnRFbWl0dGVyLlxuICpcbiAqIEBwYXJhbSBjb25maWcgcHJvbWlzZSBjcmVhdGlvbiBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIG5ld0NhbmNlbGxhYmxlUHJvbWlzZUZyb21OZXh0RXZlbnQoY29uZmlnKSB7XG4gICAgbGV0IG9uRXZlbnQgPSB1bmRlZmluZWQ7XG4gICAgbGV0IGNhbmNlbFJlbW92ZUxpc3RlbmVyID0gdW5kZWZpbmVkO1xuICAgIGxldCBsaWZ0ZWRQcm9taXNlID0gcHJvbWlzZS5uZXdMaWZ0ZWRQcm9taXNlKCk7XG4gICAgb25FdmVudCA9IChldmVudERhdGEpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChjb25maWcuZXZlbnREYXRhVHJhbnNmb3JtZXIpIHtcbiAgICAgICAgICAgICAgICBsaWZ0ZWRQcm9taXNlLnJlc29sdmUoY29uZmlnLmV2ZW50RGF0YVRyYW5zZm9ybWVyKGV2ZW50RGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlmdGVkUHJvbWlzZS5yZXNvbHZlKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgbGlmdGVkUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uZmlnLmVtaXR0ZXIuYWRkTGlzdGVuZXIoY29uZmlnLmV2ZW50TmFtZSwgb25FdmVudCk7XG4gICAgaWYgKGNvbmZpZy5jYW5jZWxDb250cm9sbGVyKSB7XG4gICAgICAgIGNhbmNlbFJlbW92ZUxpc3RlbmVyID0gY29uZmlnLmNhbmNlbENvbnRyb2xsZXIuYWRkTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgICAgICAgbGlmdGVkUHJvbWlzZS5yZWplY3QoY29uZmlnLmNhbmNlbE1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2UubWFrZVNlbGZDbGVhbmluZ1Byb21pc2UobGlmdGVkUHJvbWlzZS5wcm9taXNlLCAoKSA9PiB7XG4gICAgICAgIGlmIChvbkV2ZW50KSB7XG4gICAgICAgICAgICBjb25maWcuZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihjb25maWcuZXZlbnROYW1lLCBvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FuY2VsUmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGNhbmNlbFJlbW92ZUxpc3RlbmVyKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMubmV3Q2FuY2VsbGFibGVQcm9taXNlRnJvbU5leHRFdmVudCA9IG5ld0NhbmNlbGxhYmxlUHJvbWlzZUZyb21OZXh0RXZlbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW5jZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CdWZmZXJlZEV2ZW50RW1pdHRlciA9IHZvaWQgMDtcbi8qKlxuICogTW9kdWxlIGZvciBiYXNlIHR5cGVzIHJlbGF0ZWQgdG8gZXZlbnQgZW1pc3Npb25cbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgZXZlbnRcbiAqL1xuY29uc3QgZXZlbnRzXzEgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY2xhc3MgQnVmZmVyZWRFdmVudCB7XG4gICAgY29uc3RydWN0b3IoZXZlbnQsIGFyZ3MpIHtcbiAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgIH1cbn1cbi8qKlxuICogUHJvdmlkZXMgYnVmZmVyZWQgZXZlbnQgZW1pdHRpbmcgc2VtYW50aWNzLCBzaW1pbGFyIHRvIG1hbnkgTm9kZS1zdHlsZSBzdHJlYW1zLlxuICogU3ViY2xhc3NlcyB3aWxsIG92ZXJyaWRlIEV2ZW50RW1pdHRlci5vbigpIGFuZCB0cmlnZ2VyIHVuY29ya2luZy5cbiAqIE5PVEU6IEl0IGlzIEhJR0hMWSByZWNvbW1lbmRlZCB0aGF0IHVuY29ya2luZyBzaG91bGQgYWx3YXlzIGJlIGRvbmUgdmlhXG4gKiBgYGBwcm9jZXNzLm5leHRUaWNrKClgYGAsIG5vdCBkdXJpbmcgdGhlIEV2ZW50RW1pdHRlci5vbigpIGNhbGwuXG4gKlxuICogU2VlIGFsc286IFtOb2RlIHdyaXRhYmxlIHN0cmVhbXNdKGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvc3RyZWFtLmh0bWwjc3RyZWFtX3dyaXRhYmxlX2NvcmspXG4gKlxuICogQGNhdGVnb3J5IEV2ZW50c1xuICovXG5jbGFzcyBCdWZmZXJlZEV2ZW50RW1pdHRlciBleHRlbmRzIGV2ZW50c18xLkV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29ya2VkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcmNlcyBhbGwgd3JpdHRlbiBldmVudHMgdG8gYmUgYnVmZmVyZWQgaW4gbWVtb3J5LiBUaGUgYnVmZmVyZWQgZGF0YSB3aWxsIGJlXG4gICAgICogZmx1c2hlZCB3aGVuIHtAbGluayBCdWZmZXJlZEV2ZW50RW1pdHRlci51bmNvcmt9IGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBjb3JrKCkge1xuICAgICAgICB0aGlzLmNvcmtlZCA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsdXNoZXMgYWxsIGRhdGEgYnVmZmVyZWQgc2luY2Uge0BsaW5rIEJ1ZmZlcmVkRXZlbnRFbWl0dGVyLmNvcmt9IHdhcyBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBOT1RFOiBJdCBpcyBISUdITFkgcmVjb21tZW5kZWQgdGhhdCB1bmNvcmtpbmcgc2hvdWxkIGFsd2F5cyBiZSBkb25lIHZpYVxuICAgICAqIGBgYCBwcm9jZXNzLm5leHRUaWNrYGBgLCBub3QgZHVyaW5nIHRoZSBgYGBFdmVudEVtaXR0ZXIub24oKWBgYCBjYWxsLlxuICAgICAqL1xuICAgIHVuY29yaygpIHtcbiAgICAgICAgdGhpcy5jb3JrZWQgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKHRoaXMuZXZlbnRRdWV1ZSkge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmV2ZW50UXVldWU7XG4gICAgICAgICAgICBzdXBlci5lbWl0KGV2ZW50LmV2ZW50LCAuLi5ldmVudC5hcmdzKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRRdWV1ZSA9IHRoaXMuZXZlbnRRdWV1ZS5uZXh0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN5bmNocm9ub3VzbHkgY2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIHRoZSBldmVudCBrZXkgc3VwcGxpZWRcbiAgICAgKiBpbiByZWdpc3RyYXRpb24gb3JkZXIuIElmIHRoZSB7QGxpbmsgQnVmZmVyZWRFdmVudEVtaXR0ZXJ9IGlzIGN1cnJlbnRseSBjb3JrZWQsXG4gICAgICogdGhlIGV2ZW50IHdpbGwgYmUgYnVmZmVyZWQgdW50aWwge0BsaW5rIEJ1ZmZlcmVkRXZlbnRFbWl0dGVyLnVuY29ya30gaXMgY2FsbGVkLlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAgKiBAcGFyYW0gYXJncyBFdmVudCBwYXlsb2FkXG4gICAgICovXG4gICAgZW1pdChldmVudCwgLi4uYXJncykge1xuICAgICAgICBpZiAodGhpcy5jb3JrZWQpIHtcbiAgICAgICAgICAgIC8vIHF1ZXVlIHJlcXVlc3RzIGluIG9yZGVyXG4gICAgICAgICAgICBsZXQgbGFzdCA9IHRoaXMubGFzdFF1ZXVlZEV2ZW50O1xuICAgICAgICAgICAgdGhpcy5sYXN0UXVldWVkRXZlbnQgPSBuZXcgQnVmZmVyZWRFdmVudChldmVudCwgYXJncyk7XG4gICAgICAgICAgICBpZiAobGFzdCkge1xuICAgICAgICAgICAgICAgIGxhc3QubmV4dCA9IHRoaXMubGFzdFF1ZXVlZEV2ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudFF1ZXVlID0gdGhpcy5sYXN0UXVldWVkRXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aCA+IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgIH1cbn1cbmV4cG9ydHMuQnVmZmVyZWRFdmVudEVtaXR0ZXIgPSBCdWZmZXJlZEV2ZW50RW1pdHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbW1vbkh0dHBQcm94eU9wdGlvbnMgPSBleHBvcnRzLkh0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZSA9IGV4cG9ydHMuSHR0cFZlcnNpb24gPSB2b2lkIDA7XG4vKipcbiAqXG4gKiBBIG1vZHVsZSBjb250YWluaW5nIHN1cHBvcnQgZm9yIGNyZWF0aW5nIGh0dHAgY29ubmVjdGlvbnMgYW5kIG1ha2luZyByZXF1ZXN0cyBvbiB0aGVtLlxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICogQG1vZHVsZSBodHRwXG4gKi9cbi8qKlxuICogSFRUUCBwcm90b2NvbCB2ZXJzaW9uXG4gKlxuICogQGNhdGVnb3J5IEhUVFBcbiAqL1xudmFyIEh0dHBWZXJzaW9uO1xuKGZ1bmN0aW9uIChIdHRwVmVyc2lvbikge1xuICAgIEh0dHBWZXJzaW9uW0h0dHBWZXJzaW9uW1wiVW5rbm93blwiXSA9IDBdID0gXCJVbmtub3duXCI7XG4gICAgLyoqIEhUVFAvMS4wICovXG4gICAgSHR0cFZlcnNpb25bSHR0cFZlcnNpb25bXCJIdHRwMV8wXCJdID0gMV0gPSBcIkh0dHAxXzBcIjtcbiAgICAvKiogSFRUUC8xLjEgKi9cbiAgICBIdHRwVmVyc2lvbltIdHRwVmVyc2lvbltcIkh0dHAxXzFcIl0gPSAyXSA9IFwiSHR0cDFfMVwiO1xuICAgIC8qKiBIVFRQLzIgKi9cbiAgICBIdHRwVmVyc2lvbltIdHRwVmVyc2lvbltcIkh0dHAyXCJdID0gM10gPSBcIkh0dHAyXCI7XG59KShIdHRwVmVyc2lvbiA9IGV4cG9ydHMuSHR0cFZlcnNpb24gfHwgKGV4cG9ydHMuSHR0cFZlcnNpb24gPSB7fSkpO1xuLyoqXG4gKiBQcm94eSBhdXRoZW50aWNhdGlvbiB0eXBlc1xuICpcbiAqIEBjYXRlZ29yeSBIVFRQXG4gKi9cbnZhciBIdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGU7XG4oZnVuY3Rpb24gKEh0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZSkge1xuICAgIC8qKlxuICAgICAqIE5vIHRvLXByb3h5IGF1dGhlbnRpY2F0aW9uIGxvZ2ljXG4gICAgICovXG4gICAgSHR0cFByb3h5QXV0aGVudGljYXRpb25UeXBlW0h0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZVtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xuICAgIC8qKlxuICAgICAqIFVzZSBiYXNpYyBhdXRoZW50aWNhdGlvbiAodXNlci9wYXNzKS4gIFN1cHBseSB0aGVzZSB2YWx1ZXMgaW4ge0BsaW5rIEh0dHBQcm94eU9wdGlvbnN9XG4gICAgICovXG4gICAgSHR0cFByb3h5QXV0aGVudGljYXRpb25UeXBlW0h0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZVtcIkJhc2ljXCJdID0gMV0gPSBcIkJhc2ljXCI7XG59KShIdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGUgPSBleHBvcnRzLkh0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZSB8fCAoZXhwb3J0cy5IdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGUgPSB7fSkpO1xuO1xuLyoqXG4gKiBPcHRpb25zIHVzZWQgd2hlbiBjb25uZWN0aW5nIHRvIGFuIEhUVFAgZW5kcG9pbnQgdmlhIGEgcHJveHlcbiAqXG4gKiBAY2F0ZWdvcnkgSFRUUFxuICovXG5jbGFzcyBDb21tb25IdHRwUHJveHlPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBob3N0X25hbWUgZW5kcG9pbnQgb2YgdGhlIHByb3h5IHRvIHVzZVxuICAgICAqIEBwYXJhbSBwb3J0IHBvcnQgb2YgcHJveHkgdG8gdXNlXG4gICAgICogQHBhcmFtIGF1dGhfbWV0aG9kIHR5cGUgb2YgYXV0aGVudGljYXRpb24gdG8gdXNlIHdpdGggdGhlIHByb3h5XG4gICAgICogQHBhcmFtIGF1dGhfdXNlcm5hbWUgKGJhc2ljIGF1dGhlbnRpY2F0aW9uIG9ubHkpIHByb3h5IHVzZXJuYW1lXG4gICAgICogQHBhcmFtIGF1dGhfcGFzc3dvcmQgKGJhc2ljIGF1dGhlbnRpY2F0aW9uIG9ubHkpIHBhc3N3b3JkIGFzc29jaWF0ZWQgd2l0aCB0aGUgdXNlcm5hbWVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihob3N0X25hbWUsIHBvcnQsIGF1dGhfbWV0aG9kID0gSHR0cFByb3h5QXV0aGVudGljYXRpb25UeXBlLk5vbmUsIGF1dGhfdXNlcm5hbWUsIGF1dGhfcGFzc3dvcmQpIHtcbiAgICAgICAgdGhpcy5ob3N0X25hbWUgPSBob3N0X25hbWU7XG4gICAgICAgIHRoaXMucG9ydCA9IHBvcnQ7XG4gICAgICAgIHRoaXMuYXV0aF9tZXRob2QgPSBhdXRoX21ldGhvZDtcbiAgICAgICAgdGhpcy5hdXRoX3VzZXJuYW1lID0gYXV0aF91c2VybmFtZTtcbiAgICAgICAgdGhpcy5hdXRoX3Bhc3N3b3JkID0gYXV0aF9wYXNzd29yZDtcbiAgICB9XG59XG5leHBvcnRzLkNvbW1vbkh0dHBQcm94eU9wdGlvbnMgPSBDb21tb25IdHRwUHJveHlPcHRpb25zO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNvY2tldERvbWFpbiA9IGV4cG9ydHMuU29ja2V0VHlwZSA9IGV4cG9ydHMuVGxzVmVyc2lvbiA9IHZvaWQgMDtcbi8qKlxuICpcbiAqIEEgbW9kdWxlIGNvbnRhaW5pbmcgYSBncmFiIGJhZyBvZiBzdXBwb3J0IGZvciBjb3JlIG5ldHdvcmsgSS9PIGZ1bmN0aW9uYWxpdHksIGluY2x1ZGluZyBzb2NrZXRzLCBUTFMsIEROUywgbG9nZ2luZyxcbiAqIGVycm9yIGhhbmRsaW5nLCBzdHJlYW1zLCBhbmQgY29ubmVjdGlvbiAtPiB0aHJlYWQgbWFwcGluZy5cbiAqXG4gKiBDYXRlZ29yaWVzIGluY2x1ZGU6XG4gKiAtIE5ldHdvcms6IHNvY2tldCBjb25maWd1cmF0aW9uXG4gKiAtIFRMUzogdGxzIGNvbmZpZ3VyYXRpb25cbiAqIC0gTG9nZ2luZzogbG9nZ2luZyBjb250cm9scyBhbmQgY29uZmlndXJhdGlvblxuICogLSBJTzogZXZlcnl0aGluZyBlbHNlXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKiBAbW9kdWxlIGlvXG4gKi9cbi8qKlxuICogVExTIFZlcnNpb25cbiAqXG4gKiBAY2F0ZWdvcnkgVExTXG4gKi9cbnZhciBUbHNWZXJzaW9uO1xuKGZ1bmN0aW9uIChUbHNWZXJzaW9uKSB7XG4gICAgVGxzVmVyc2lvbltUbHNWZXJzaW9uW1wiU1NMdjNcIl0gPSAwXSA9IFwiU1NMdjNcIjtcbiAgICBUbHNWZXJzaW9uW1Rsc1ZlcnNpb25bXCJUTFN2MVwiXSA9IDFdID0gXCJUTFN2MVwiO1xuICAgIFRsc1ZlcnNpb25bVGxzVmVyc2lvbltcIlRMU3YxXzFcIl0gPSAyXSA9IFwiVExTdjFfMVwiO1xuICAgIFRsc1ZlcnNpb25bVGxzVmVyc2lvbltcIlRMU3YxXzJcIl0gPSAzXSA9IFwiVExTdjFfMlwiO1xuICAgIFRsc1ZlcnNpb25bVGxzVmVyc2lvbltcIlRMU3YxXzNcIl0gPSA0XSA9IFwiVExTdjFfM1wiO1xuICAgIFRsc1ZlcnNpb25bVGxzVmVyc2lvbltcIkRlZmF1bHRcIl0gPSAxMjhdID0gXCJEZWZhdWx0XCI7XG59KShUbHNWZXJzaW9uID0gZXhwb3J0cy5UbHNWZXJzaW9uIHx8IChleHBvcnRzLlRsc1ZlcnNpb24gPSB7fSkpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgTmV0d29ya1xuICovXG52YXIgU29ja2V0VHlwZTtcbihmdW5jdGlvbiAoU29ja2V0VHlwZSkge1xuICAgIC8qKlxuICAgICAqIEEgc3RyZWFtaW5nIHNvY2tldCBzZW5kcyByZWxpYWJsZSBtZXNzYWdlcyBvdmVyIGEgdHdvLXdheSBjb25uZWN0aW9uLlxuICAgICAqIFRoaXMgbWVhbnMgVENQIHdoZW4gdXNlZCB3aXRoIHtAbGluayBTb2NrZXREb21haW4uSVBWNH0ve0BsaW5rIFNvY2tldERvbWFpbi5JUFY2fSxcbiAgICAgKiBhbmQgVW5peCBkb21haW4gc29ja2V0cyB3aGVuIHVzZWQgd2l0aCB7QGxpbmsgU29ja2V0RG9tYWluLkxPQ0FMIH1cbiAgICAgICovXG4gICAgU29ja2V0VHlwZVtTb2NrZXRUeXBlW1wiU1RSRUFNXCJdID0gMF0gPSBcIlNUUkVBTVwiO1xuICAgIC8qKlxuICAgICAqIEEgZGF0YWdyYW0gc29ja2V0IGlzIGNvbm5lY3Rpb25sZXNzIGFuZCBzZW5kcyB1bnJlbGlhYmxlIG1lc3NhZ2VzLlxuICAgICAqIFRoaXMgbWVhbnMgVURQIHdoZW4gdXNlZCB3aXRoIHtAbGluayBTb2NrZXREb21haW4uSVBWNH0ve0BsaW5rIFNvY2tldERvbWFpbi5JUFY2fS5cbiAgICAgKiB7QGxpbmsgU29ja2V0RG9tYWluLkxPQ0FMfSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHtAbGluayBER1JBTX1cbiAgICAgKi9cbiAgICBTb2NrZXRUeXBlW1NvY2tldFR5cGVbXCJER1JBTVwiXSA9IDFdID0gXCJER1JBTVwiO1xufSkoU29ja2V0VHlwZSA9IGV4cG9ydHMuU29ja2V0VHlwZSB8fCAoZXhwb3J0cy5Tb2NrZXRUeXBlID0ge30pKTtcbi8qKlxuICogQGNhdGVnb3J5IE5ldHdvcmtcbiAqL1xudmFyIFNvY2tldERvbWFpbjtcbihmdW5jdGlvbiAoU29ja2V0RG9tYWluKSB7XG4gICAgLyoqIElQdjQgc29ja2V0cyAqL1xuICAgIFNvY2tldERvbWFpbltTb2NrZXREb21haW5bXCJJUFY0XCJdID0gMF0gPSBcIklQVjRcIjtcbiAgICAvKiogSVB2NiBzb2NrZXRzICovXG4gICAgU29ja2V0RG9tYWluW1NvY2tldERvbWFpbltcIklQVjZcIl0gPSAxXSA9IFwiSVBWNlwiO1xuICAgIC8qKiBVTklYIGRvbWFpbiBzb2NrZXQvV2luZG93cyBuYW1lZCBwaXBlcyAqL1xuICAgIFNvY2tldERvbWFpbltTb2NrZXREb21haW5bXCJMT0NBTFwiXSA9IDJdID0gXCJMT0NBTFwiO1xufSkoU29ja2V0RG9tYWluID0gZXhwb3J0cy5Tb2NrZXREb21haW4gfHwgKGV4cG9ydHMuU29ja2V0RG9tYWluID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlvLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuREVGQVVMVF9SRUNPTk5FQ1RfTUlOX1NFQyA9IGV4cG9ydHMuREVGQVVMVF9SRUNPTk5FQ1RfTUFYX1NFQyA9IGV4cG9ydHMuTXF0dFdpbGwgPSBleHBvcnRzLlFvUyA9IHZvaWQgMDtcbi8qKlxuICpcbiAqIEEgbW9kdWxlIGNvbnRhaW5pbmcgc3VwcG9ydCBmb3IgbXF0dCBjb25uZWN0aW9uIGVzdGFibGlzaG1lbnQgYW5kIG9wZXJhdGlvbnMuXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKiBAbW9kdWxlIG1xdHRcbiAqL1xuLyoqXG4gKiBRdWFsaXR5IG9mIHNlcnZpY2UgY29udHJvbCBmb3IgbXF0dCBwdWJsaXNoIG9wZXJhdGlvbnNcbiAqXG4gKiBAY2F0ZWdvcnkgTVFUVFxuICovXG52YXIgUW9TO1xuKGZ1bmN0aW9uIChRb1MpIHtcbiAgICAvKipcbiAgICAgKiBRb1MgMCAtIEF0IG1vc3Qgb25jZSBkZWxpdmVyeVxuICAgICAqIFRoZSBtZXNzYWdlIGlzIGRlbGl2ZXJlZCBhY2NvcmRpbmcgdG8gdGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgdW5kZXJseWluZyBuZXR3b3JrLlxuICAgICAqIE5vIHJlc3BvbnNlIGlzIHNlbnQgYnkgdGhlIHJlY2VpdmVyIGFuZCBubyByZXRyeSBpcyBwZXJmb3JtZWQgYnkgdGhlIHNlbmRlci5cbiAgICAgKiBUaGUgbWVzc2FnZSBhcnJpdmVzIGF0IHRoZSByZWNlaXZlciBlaXRoZXIgb25jZSBvciBub3QgYXQgYWxsLlxuICAgICAqL1xuICAgIFFvU1tRb1NbXCJBdE1vc3RPbmNlXCJdID0gMF0gPSBcIkF0TW9zdE9uY2VcIjtcbiAgICAvKipcbiAgICAgKiBRb1MgMSAtIEF0IGxlYXN0IG9uY2UgZGVsaXZlcnlcbiAgICAgKiBUaGlzIHF1YWxpdHkgb2Ygc2VydmljZSBlbnN1cmVzIHRoYXQgdGhlIG1lc3NhZ2UgYXJyaXZlcyBhdCB0aGUgcmVjZWl2ZXIgYXQgbGVhc3Qgb25jZS5cbiAgICAgKi9cbiAgICBRb1NbUW9TW1wiQXRMZWFzdE9uY2VcIl0gPSAxXSA9IFwiQXRMZWFzdE9uY2VcIjtcbiAgICAvKipcbiAgICAgKiBRb1MgMiAtIEV4YWN0bHkgb25jZSBkZWxpdmVyeVxuXG4gICAgICogVGhpcyBpcyB0aGUgaGlnaGVzdCBxdWFsaXR5IG9mIHNlcnZpY2UsIGZvciB1c2Ugd2hlbiBuZWl0aGVyIGxvc3Mgbm9yXG4gICAgICogZHVwbGljYXRpb24gb2YgbWVzc2FnZXMgYXJlIGFjY2VwdGFibGUuIFRoZXJlIGlzIGFuIGluY3JlYXNlZCBvdmVyaGVhZFxuICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHF1YWxpdHkgb2Ygc2VydmljZS5cblxuICAgICAqIE5vdGUgdGhhdCwgd2hpbGUgdGhpcyBjbGllbnQgc3VwcG9ydHMgUW9TIDIsIHRoZSBBV1MgSW9UIENvcmUgc2VydmljZVxuICAgICAqIGRvZXMgbm90IHN1cHBvcnQgUW9TIDIgYXQgdGltZSBvZiB3cml0aW5nIChNYXkgMjAyMCkuXG4gICAgICovXG4gICAgUW9TW1FvU1tcIkV4YWN0bHlPbmNlXCJdID0gMl0gPSBcIkV4YWN0bHlPbmNlXCI7XG59KShRb1MgPSBleHBvcnRzLlFvUyB8fCAoZXhwb3J0cy5Rb1MgPSB7fSkpO1xuLyoqXG4gKiBBIFdpbGwgbWVzc2FnZSBpcyBwdWJsaXNoZWQgYnkgdGhlIHNlcnZlciBpZiBhIGNsaWVudCBpcyBsb3N0IHVuZXhwZWN0ZWRseS5cbiAqXG4gKiBUaGUgV2lsbCBtZXNzYWdlIGlzIHN0b3JlZCBvbiB0aGUgc2VydmVyIHdoZW4gYSBjbGllbnQgY29ubmVjdHMuXG4gKiBJdCBpcyBwdWJsaXNoZWQgaWYgdGhlIGNsaWVudCBjb25uZWN0aW9uIGlzIGxvc3Qgd2l0aG91dCB0aGUgc2VydmVyXG4gKiByZWNlaXZpbmcgYSBESVNDT05ORUNUIHBhY2tldC5cbiAqXG4gKiBbTVFUVCAtIDMuMS4yIC0gOF1cbiAqXG4gKiBAY2F0ZWdvcnkgTVFUVFxuICovXG5jbGFzcyBNcXR0V2lsbCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRvcGljIHRvIHB1Ymxpc2ggV2lsbCBtZXNzYWdlIG9uLiAqL1xuICAgIHRvcGljLCBcbiAgICAvKiogUW9TIHVzZWQgd2hlbiBwdWJsaXNoaW5nIHRoZSBXaWxsIG1lc3NhZ2UuICovXG4gICAgcW9zLCBcbiAgICAvKiogQ29udGVudCBvZiBXaWxsIG1lc3NhZ2UuICovXG4gICAgcGF5bG9hZCwgXG4gICAgLyoqIFdoZXRoZXIgdGhlIFdpbGwgbWVzc2FnZSBpcyB0byBiZSByZXRhaW5lZCB3aGVuIGl0IGlzIHB1Ymxpc2hlZC4gKi9cbiAgICByZXRhaW4gPSBmYWxzZSkge1xuICAgICAgICB0aGlzLnRvcGljID0gdG9waWM7XG4gICAgICAgIHRoaXMucW9zID0gcW9zO1xuICAgICAgICB0aGlzLnBheWxvYWQgPSBwYXlsb2FkO1xuICAgICAgICB0aGlzLnJldGFpbiA9IHJldGFpbjtcbiAgICB9XG59XG5leHBvcnRzLk1xdHRXaWxsID0gTXF0dFdpbGw7XG4vKipcbiAqIENvbnN0IHZhbHVlIGZvciBtYXggcmVjb25uZWN0aW9uIGJhY2sgb2ZmIHRpbWVcbiAqXG4gKiBAY2F0ZWdvcnkgTVFUVFxuICovXG5leHBvcnRzLkRFRkFVTFRfUkVDT05ORUNUX01BWF9TRUMgPSAxMjg7XG4vKipcbiAqIENvbnN0IHZhbHVlIGZvciBtaW4gcmVjb25uZWN0aW9uIGJhY2sgb2ZmIHRpbWVcbiAqXG4gKiBAY2F0ZWdvcnkgTVFUVFxuICovXG5leHBvcnRzLkRFRkFVTFRfUkVDT05ORUNUX01JTl9TRUMgPSAxO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXF0dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJldHJ5Sml0dGVyVHlwZSA9IGV4cG9ydHMuQ2xpZW50U2Vzc2lvbkJlaGF2aW9yID0gdm9pZCAwO1xuLyoqXG4gKiBDb250cm9scyBob3cgdGhlIE1RVFQ1IGNsaWVudCBzaG91bGQgYmVoYXZlIHdpdGggcmVzcGVjdCB0byBNUVRUIHNlc3Npb25zLlxuICovXG52YXIgQ2xpZW50U2Vzc2lvbkJlaGF2aW9yO1xuKGZ1bmN0aW9uIChDbGllbnRTZXNzaW9uQmVoYXZpb3IpIHtcbiAgICAvKiogTWFwcyB0byBDbGVhbiAqL1xuICAgIENsaWVudFNlc3Npb25CZWhhdmlvcltDbGllbnRTZXNzaW9uQmVoYXZpb3JbXCJEZWZhdWx0XCJdID0gMF0gPSBcIkRlZmF1bHRcIjtcbiAgICAvKipcbiAgICAgKiBBbHdheXMgYXNrIGZvciBhIGNsZWFuIHNlc3Npb24gd2hlbiBjb25uZWN0aW5nXG4gICAgICovXG4gICAgQ2xpZW50U2Vzc2lvbkJlaGF2aW9yW0NsaWVudFNlc3Npb25CZWhhdmlvcltcIkNsZWFuXCJdID0gMV0gPSBcIkNsZWFuXCI7XG4gICAgLyoqXG4gICAgICogQWx3YXlzIGF0dGVtcHQgdG8gcmVqb2luIGFuIGV4aXN0aW5nIHNlc3Npb24gYWZ0ZXIgYW4gaW5pdGlhbCBjb25uZWN0aW9uIHN1Y2Nlc3MuXG4gICAgICpcbiAgICAgKiBTZXNzaW9uIHJlam9pbiByZXF1aXJlcyBhbiBhcHByb3ByaWF0ZSBub24temVybyBzZXNzaW9uIGV4cGlyeSBpbnRlcnZhbCBpbiB0aGUgY2xpZW50J3MgQ09OTkVDVCBvcHRpb25zLlxuICAgICAqL1xuICAgIENsaWVudFNlc3Npb25CZWhhdmlvcltDbGllbnRTZXNzaW9uQmVoYXZpb3JbXCJSZWpvaW5Qb3N0U3VjY2Vzc1wiXSA9IDJdID0gXCJSZWpvaW5Qb3N0U3VjY2Vzc1wiO1xuICAgIC8qKlxuICAgICAqIEFsd2F5cyBhdHRlbXB0IHRvIHJlam9pbiBhbiBleGlzdGluZyBzZXNzaW9uLiAgU2luY2UgdGhlIGNsaWVudCBkb2VzIG5vdCB5ZXQgc3VwcG9ydCBkdXJhYmxlIHNlc3Npb24gcGVyc2lzdGVuY2UsXG4gICAgICogdGhpcyBvcHRpb24gaXMgbm90IGd1YXJhbnRlZWQgdG8gYmUgc3BlYyBjb21wbGlhbnQgYmVjYXVzZSBhbnkgdW5hY2tub3dsZWRnZWQgcW9zMSBwdWJsaXNoZXMgKHdoaWNoIGFyZVxuICAgICAqIHBhcnQgb2YgdGhlIGNsaWVudCBzZXNzaW9uIHN0YXRlKSB3aWxsIG5vdCBiZSBwcmVzZW50IG9uIHRoZSBpbml0aWFsIGNvbm5lY3Rpb24uICBVbnRpbCB3ZSBzdXBwb3J0XG4gICAgICogZHVyYWJsZSBzZXNzaW9uIHJlc3VtcHRpb24sIHRoaXMgb3B0aW9uIGlzIHRlY2huaWNhbGx5IHNwZWMtYnJlYWtpbmcsIGJ1dCB1c2VmdWwuXG4gICAgICovXG4gICAgQ2xpZW50U2Vzc2lvbkJlaGF2aW9yW0NsaWVudFNlc3Npb25CZWhhdmlvcltcIlJlam9pbkFsd2F5c1wiXSA9IDNdID0gXCJSZWpvaW5BbHdheXNcIjtcbn0pKENsaWVudFNlc3Npb25CZWhhdmlvciA9IGV4cG9ydHMuQ2xpZW50U2Vzc2lvbkJlaGF2aW9yIHx8IChleHBvcnRzLkNsaWVudFNlc3Npb25CZWhhdmlvciA9IHt9KSk7XG4vKipcbiAqIENvbnRyb2xzIGhvdyB0aGUgcmVjb25uZWN0IGRlbGF5IGlzIG1vZGlmaWVkIGluIG9yZGVyIHRvIHNtb290aCBvdXQgdGhlIGRpc3RyaWJ1dGlvbiBvZiByZWNvbm5lY3Rpb24gYXR0ZW1wdFxuICogdGltZXBvaW50cyBmb3IgYSBsYXJnZSBzZXQgb2YgcmVjb25uZWN0aW5nIGNsaWVudHMuXG4gKlxuICogU2VlIFtFeHBvbmVudGlhbCBCYWNrb2ZmIGFuZCBKaXR0ZXJdKGh0dHBzOi8vYXdzLmFtYXpvbi5jb20vYmxvZ3MvYXJjaGl0ZWN0dXJlL2V4cG9uZW50aWFsLWJhY2tvZmYtYW5kLWppdHRlci8pXG4gKi9cbnZhciBSZXRyeUppdHRlclR5cGU7XG4oZnVuY3Rpb24gKFJldHJ5Sml0dGVyVHlwZSkge1xuICAgIC8qKlxuICAgICAqIE1hcHMgdG8gRnVsbFxuICAgICAqL1xuICAgIFJldHJ5Sml0dGVyVHlwZVtSZXRyeUppdHRlclR5cGVbXCJEZWZhdWx0XCJdID0gMF0gPSBcIkRlZmF1bHRcIjtcbiAgICAvKipcbiAgICAgKiBEbyBub3QgcGVyZm9ybSBhbnkgcmFuZG9taXphdGlvbiBvbiB0aGUgcmVjb25uZWN0IGRlbGF5OlxuICAgICAqIGBgYE5leHRSZWNvbm5lY3REZWxheSA9IEN1cnJlbnRFeHBvbmVudGlhbEJhY2tvZmZWYWx1ZWBgYFxuICAgICAqL1xuICAgIFJldHJ5Sml0dGVyVHlwZVtSZXRyeUppdHRlclR5cGVbXCJOb25lXCJdID0gMV0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiBGdWxseSByYW5kb20gYmV0d2VlbiBubyBkZWxheSBhbmQgdGhlIGN1cnJlbnQgZXhwb25lbnRpYWwgYmFja29mZiB2YWx1ZS5cbiAgICAgKiBgYGBOZXh0UmVjb25uZWN0RGVsYXkgPSBSYW5kb20oMCwgQ3VycmVudEV4cG9uZW50aWFsQmFja29mZlZhbHVlKWBgYFxuICAgICAqL1xuICAgIFJldHJ5Sml0dGVyVHlwZVtSZXRyeUppdHRlclR5cGVbXCJGdWxsXCJdID0gMl0gPSBcIkZ1bGxcIjtcbiAgICAvKipcbiAgICAgKiBgYGBOZXh0UmVjb25uZWN0RGVsYXkgPSBNaW4oTWF4UmVjb25uZWN0RGVsYXksIFJhbmRvbShNaW5SZWNvbm5lY3REZWxheSwgMyAqIEN1cnJlbnRSZWNvbm5lY3REZWxheSlgYGBcbiAgICAgKi9cbiAgICBSZXRyeUppdHRlclR5cGVbUmV0cnlKaXR0ZXJUeXBlW1wiRGVjb3JyZWxhdGVkXCJdID0gM10gPSBcIkRlY29ycmVsYXRlZFwiO1xufSkoUmV0cnlKaXR0ZXJUeXBlID0gZXhwb3J0cy5SZXRyeUppdHRlclR5cGUgfHwgKGV4cG9ydHMuUmV0cnlKaXR0ZXJUeXBlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1xdHQ1LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGFja2V0VHlwZSA9IGV4cG9ydHMuUmV0YWluSGFuZGxpbmdUeXBlID0gZXhwb3J0cy5Rb1MgPSBleHBvcnRzLlBheWxvYWRGb3JtYXRJbmRpY2F0b3IgPSBleHBvcnRzLmlzU3VjY2Vzc2Z1bFB1YmFja1JlYXNvbkNvZGUgPSBleHBvcnRzLlB1YmFja1JlYXNvbkNvZGUgPSBleHBvcnRzLmlzU3VjY2Vzc2Z1bFVuc3ViYWNrUmVhc29uQ29kZSA9IGV4cG9ydHMuVW5zdWJhY2tSZWFzb25Db2RlID0gZXhwb3J0cy5pc1N1Y2Nlc3NmdWxTdWJhY2tSZWFzb25Db2RlID0gZXhwb3J0cy5TdWJhY2tSZWFzb25Db2RlID0gZXhwb3J0cy5pc1N1Y2Nlc3NmdWxEaXNjb25uZWN0UmVhc29uQ29kZSA9IGV4cG9ydHMuRGlzY29ubmVjdFJlYXNvbkNvZGUgPSBleHBvcnRzLmlzU3VjY2Vzc2Z1bENvbm5lY3RSZWFzb25Db2RlID0gZXhwb3J0cy5Db25uZWN0UmVhc29uQ29kZSA9IHZvaWQgMDtcbi8qKlxuICogU2VydmVyIHJldHVybiBjb2RlIGZvciBjb25uZWN0IGF0dGVtcHRzLlxuICpcbiAqIEVudW0gdmFsdWVzIG1hdGNoIFtNUVRUNSBzcGVjXShodHRwczovL2RvY3Mub2FzaXMtb3Blbi5vcmcvbXF0dC9tcXR0L3Y1LjAvb3MvbXF0dC12NS4wLW9zLmh0bWwjX1RvYzM5MDEwNzkpIGVuY29kaW5nIHZhbHVlcy5cbiAqL1xudmFyIENvbm5lY3RSZWFzb25Db2RlO1xuKGZ1bmN0aW9uIChDb25uZWN0UmVhc29uQ29kZSkge1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgYWNjZXB0ZWQuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJTdWNjZXNzXCJdID0gMF0gPSBcIlN1Y2Nlc3NcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzZXJ2ZXIgaGFzIGEgZmFpbHVyZSBidXQgZG9lcyBub3Qgd2FudCB0byBzcGVjaWZ5IGEgcmVhc29uIG9yIG5vbmVcbiAgICAgKiBvZiB0aGUgb3RoZXIgcmVhc29uIGNvZGVzIGFwcGx5LlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiVW5zcGVjaWZpZWRFcnJvclwiXSA9IDEyOF0gPSBcIlVuc3BlY2lmaWVkRXJyb3JcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIGRhdGEgaW4gdGhlIENPTk5FQ1QgcGFja2V0IGNvdWxkIG5vdCBiZSBjb3JyZWN0bHkgcGFyc2VkIGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJNYWxmb3JtZWRQYWNrZXRcIl0gPSAxMjldID0gXCJNYWxmb3JtZWRQYWNrZXRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIGRhdGEgaW4gdGhlIENPTk5FQ1QgcGFja2V0IGRvZXMgbm90IGNvbmZvcm0gdG8gdGhlIE1RVFQ1IHNwZWNpZmljYXRpb24gcmVxdWlyZW1lbnRzLlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiUHJvdG9jb2xFcnJvclwiXSA9IDEzMF0gPSBcIlByb3RvY29sRXJyb3JcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBDT05ORUNUIHBhY2tldCBpcyB2YWxpZCBidXQgd2FzIG5vdCBhY2NlcHRlZCBieSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiSW1wbGVtZW50YXRpb25TcGVjaWZpY0Vycm9yXCJdID0gMTMxXSA9IFwiSW1wbGVtZW50YXRpb25TcGVjaWZpY0Vycm9yXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgTVFUVDUgcHJvdG9jb2wgdmVyc2lvbiBzcGVjaWZpZWQgaW4gdGhlIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJVbnN1cHBvcnRlZFByb3RvY29sVmVyc2lvblwiXSA9IDEzMl0gPSBcIlVuc3VwcG9ydGVkUHJvdG9jb2xWZXJzaW9uXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgY2xpZW50IGlkZW50aWZpZXIgaW4gdGhlIENPTk5FQ1QgcGFja2V0IGlzIGEgdmFsaWQgc3RyaW5nIGJ1dCBub3Qgb25lIHRoYXRcbiAgICAgKiBpcyBhbGxvd2VkIG9uIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJDbGllbnRJZGVudGlmaWVyTm90VmFsaWRcIl0gPSAxMzNdID0gXCJDbGllbnRJZGVudGlmaWVyTm90VmFsaWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzZXJ2ZXIgZG9lcyBub3QgYWNjZXB0IHRoZSB1c2VybmFtZSBhbmQvb3IgcGFzc3dvcmQgc3BlY2lmaWVkIGJ5IHRoZSBjbGllbnRcbiAgICAgKiBpbiB0aGUgY29ubmVjdGlvbiBwYWNrZXQuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJCYWRVc2VybmFtZU9yUGFzc3dvcmRcIl0gPSAxMzRdID0gXCJCYWRVc2VybmFtZU9yUGFzc3dvcmRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBjbGllbnQgaXMgbm90IGF1dGhvcml6ZWQgdG8gY29ubmVjdCB0byB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiTm90QXV0aG9yaXplZFwiXSA9IDEzNV0gPSBcIk5vdEF1dGhvcml6ZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBNUVRUNSBzZXJ2ZXIgaXMgbm90IGF2YWlsYWJsZS5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIlNlcnZlclVuYXZhaWxhYmxlXCJdID0gMTM2XSA9IFwiU2VydmVyVW5hdmFpbGFibGVcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzZXJ2ZXIgaXMgdG9vIGJ1c3kgdG8gbWFrZSBhIGNvbm5lY3Rpb24uIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgdGhlIGNsaWVudCB0cnkgYWdhaW4gbGF0ZXIuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJTZXJ2ZXJCdXN5XCJdID0gMTM3XSA9IFwiU2VydmVyQnVzeVwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIGNsaWVudCBoYXMgYmVlbiBiYW5uZWQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIkJhbm5lZFwiXSA9IDEzOF0gPSBcIkJhbm5lZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIGF1dGhlbnRpY2F0aW9uIG1ldGhvZCB1c2VkIGluIHRoZSBjb25uZWN0aW9uIGlzIGVpdGhlciBub3Qgc3VwcG9ydGVkIG9uIHRoZSBzZXJ2ZXIgb3IgaXQgZG9lc1xuICAgICAqIG5vdCBtYXRjaCB0aGUgYXV0aGVudGljYXRpb24gbWV0aG9kIGN1cnJlbnRseSBpbiB1c2UgaW4gdGhlIENPTk5FQ1QgcGFja2V0LlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiQmFkQXV0aGVudGljYXRpb25NZXRob2RcIl0gPSAxNDBdID0gXCJCYWRBdXRoZW50aWNhdGlvbk1ldGhvZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIFdpbGwgdG9waWMgbmFtZSBzZW50IGluIHRoZSBjb25uZWN0aW9uIHBhY2tldCBpcyBjb3JyZWN0bHkgZm9ybWVkLCBidXQgaXMgbm90IGFjY2VwdGVkIGJ5XG4gICAgICogdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIlRvcGljTmFtZUludmFsaWRcIl0gPSAxNDRdID0gXCJUb3BpY05hbWVJbnZhbGlkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBwYWNrZXQgZXhjZWVkZWQgdGhlIG1heGltdW0gcGVybWlzc2libGUgc2l6ZSBvbiB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiUGFja2V0VG9vTGFyZ2VcIl0gPSAxNDldID0gXCJQYWNrZXRUb29MYXJnZVwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHF1b3RhIGxpbWl0cyBzZXQgb24gdGhlIHNlcnZlciBoYXZlIGJlZW4gbWV0IGFuZC9vciBleGNlZWRlZC5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIlF1b3RhRXhjZWVkZWRcIl0gPSAxNTFdID0gXCJRdW90YUV4Y2VlZGVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgV2lsbCBwYXlsb2FkIGluIHRoZSBDT05ORUNUIHBhY2tldCBkb2VzIG5vdCBtYXRjaCB0aGUgc3BlY2lmaWVkIHBheWxvYWQgZm9ybWF0IGluZGljYXRvci5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIlBheWxvYWRGb3JtYXRJbnZhbGlkXCJdID0gMTUzXSA9IFwiUGF5bG9hZEZvcm1hdEludmFsaWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzZXJ2ZXIgZG9lcyBub3QgcmV0YWluIG1lc3NhZ2VzIGJ1dCB0aGUgY29ubmVjdGlvbiBwYWNrZXQgb24gdGhlIGNsaWVudCBoYWQgV2lsbCByZXRhaW4gZW5hYmxlZC5cbiAgICAgKi9cbiAgICBDb25uZWN0UmVhc29uQ29kZVtDb25uZWN0UmVhc29uQ29kZVtcIlJldGFpbk5vdFN1cHBvcnRlZFwiXSA9IDE1NF0gPSBcIlJldGFpbk5vdFN1cHBvcnRlZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBRT1Mgc2V0dGluZyBpbiB0aGUgV2lsbCBRT1MgaW4gdGhlIGNvbm5lY3Rpb24gcGFja2V0LlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiUW9zTm90U3VwcG9ydGVkXCJdID0gMTU1XSA9IFwiUW9zTm90U3VwcG9ydGVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc2VydmVyIGlzIHRlbGxpbmcgdGhlIGNsaWVudCB0byB0ZW1wb3JhcmlseSB1c2UgYW5vdGhlciBzZXJ2ZXIgaW5zdGVhZCBvZiB0aGUgb25lIHRoZXlcbiAgICAgKiBhcmUgdHJ5aW5nIHRvIGNvbm5lY3QgdG8uXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJVc2VBbm90aGVyU2VydmVyXCJdID0gMTU2XSA9IFwiVXNlQW5vdGhlclNlcnZlclwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHNlcnZlciBpcyB0ZWxsaW5nIHRoZSBjbGllbnQgdG8gcGVybWFuZW50bHkgdXNlIGFub3RoZXIgc2VydmVyIGluc3RlYWQgb2YgdGhlIG9uZSB0aGV5XG4gICAgICogYXJlIHRyeWluZyB0byBjb25uZWN0IHRvLlxuICAgICAqL1xuICAgIENvbm5lY3RSZWFzb25Db2RlW0Nvbm5lY3RSZWFzb25Db2RlW1wiU2VydmVyTW92ZWRcIl0gPSAxNTddID0gXCJTZXJ2ZXJNb3ZlZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHNlcnZlciBjb25uZWN0aW9uIHJhdGUgbGltaXQgaGFzIGJlZW4gZXhjZWVkZWQuXG4gICAgICovXG4gICAgQ29ubmVjdFJlYXNvbkNvZGVbQ29ubmVjdFJlYXNvbkNvZGVbXCJDb25uZWN0aW9uUmF0ZUV4Y2VlZGVkXCJdID0gMTU5XSA9IFwiQ29ubmVjdGlvblJhdGVFeGNlZWRlZFwiO1xufSkoQ29ubmVjdFJlYXNvbkNvZGUgPSBleHBvcnRzLkNvbm5lY3RSZWFzb25Db2RlIHx8IChleHBvcnRzLkNvbm5lY3RSZWFzb25Db2RlID0ge30pKTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIHJlYXNvbiBjb2RlIHJlcHJlc2VudHMgYSBzdWNjZXNzZnVsIGNvbm5lY3Qgb3BlcmF0aW9uXG4gKlxuICogQHBhcmFtIHJlYXNvbkNvZGUgcmVhc29uIGNvZGUgdG8gY2hlY2sgc3VjY2VzcyBmb3JcbiAqL1xuZnVuY3Rpb24gaXNTdWNjZXNzZnVsQ29ubmVjdFJlYXNvbkNvZGUocmVhc29uQ29kZSkge1xuICAgIHJldHVybiByZWFzb25Db2RlIDwgMTI4O1xufVxuZXhwb3J0cy5pc1N1Y2Nlc3NmdWxDb25uZWN0UmVhc29uQ29kZSA9IGlzU3VjY2Vzc2Z1bENvbm5lY3RSZWFzb25Db2RlO1xuLyoqXG4gKiBSZWFzb24gY29kZSBpbnNpZGUgRElTQ09OTkVDVCBwYWNrZXRzLiAgSGVscHMgZGV0ZXJtaW5lIHdoeSBhIGNvbm5lY3Rpb24gd2FzIHRlcm1pbmF0ZWQuXG4gKlxuICogRW51bSB2YWx1ZXMgbWF0Y2ggW01RVFQ1IHNwZWNdKGh0dHBzOi8vZG9jcy5vYXNpcy1vcGVuLm9yZy9tcXR0L21xdHQvdjUuMC9vcy9tcXR0LXY1LjAtb3MuaHRtbCNfVG9jMzkwMTIwOCkgZW5jb2RpbmcgdmFsdWVzLlxuICovXG52YXIgRGlzY29ubmVjdFJlYXNvbkNvZGU7XG4oZnVuY3Rpb24gKERpc2Nvbm5lY3RSZWFzb25Db2RlKSB7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgcmVtb3RlIGVuZHBvaW50IHdpc2hlcyB0byBkaXNjb25uZWN0IG5vcm1hbGx5LiBXaWxsIG5vdCB0cmlnZ2VyIHRoZSBwdWJsaXNoIG9mIGEgV2lsbCBtZXNzYWdlIGlmIGFcbiAgICAgKiBXaWxsIG1lc3NhZ2Ugd2FzIGNvbmZpZ3VyZWQgb24gdGhlIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIk5vcm1hbERpc2Nvbm5lY3Rpb25cIl0gPSAwXSA9IFwiTm9ybWFsRGlzY29ubmVjdGlvblwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhhdCB0aGUgY2xpZW50IHdhbnRzIHRvIGRpc2Nvbm5lY3QgYnV0IHJlcXVpcmVzIHRoYXQgdGhlIHNlcnZlciBwdWJsaXNoIHRoZSBXaWxsIG1lc3NhZ2UgY29uZmlndXJlZFxuICAgICAqIG9uIHRoZSBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogTWF5IG9ubHkgYmUgc2VudCBieSB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiRGlzY29ubmVjdFdpdGhXaWxsTWVzc2FnZVwiXSA9IDRdID0gXCJEaXNjb25uZWN0V2l0aFdpbGxNZXNzYWdlXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkIGJ1dCB0aGUgc2VuZGVyIGRvZXMgbm90IHdhbnQgdG8gc3BlY2lmeSBhIHJlYXNvbiBvciBub25lXG4gICAgICogb2YgdGhlIG90aGVyIHJlYXNvbiBjb2RlcyBhcHBseS5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIlVuc3BlY2lmaWVkRXJyb3JcIl0gPSAxMjhdID0gXCJVbnNwZWNpZmllZEVycm9yXCI7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoZSByZW1vdGUgZW5kcG9pbnQgcmVjZWl2ZWQgYSBwYWNrZXQgdGhhdCBkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSBNUVRUIHNwZWNpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJNYWxmb3JtZWRQYWNrZXRcIl0gPSAxMjldID0gXCJNYWxmb3JtZWRQYWNrZXRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIGFuIHVuZXhwZWN0ZWQgb3Igb3V0LW9mLW9yZGVyIHBhY2tldCB3YXMgcmVjZWl2ZWQgYnkgdGhlIHJlbW90ZSBlbmRwb2ludC5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIlByb3RvY29sRXJyb3JcIl0gPSAxMzBdID0gXCJQcm90b2NvbEVycm9yXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiBhIHZhbGlkIHBhY2tldCB3YXMgcmVjZWl2ZWQgYnkgdGhlIHJlbW90ZSBlbmRwb2ludCwgYnV0IGNvdWxkIG5vdCBiZSBwcm9jZXNzZWQgYnkgdGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJJbXBsZW1lbnRhdGlvblNwZWNpZmljRXJyb3JcIl0gPSAxMzFdID0gXCJJbXBsZW1lbnRhdGlvblNwZWNpZmljRXJyb3JcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSByZW1vdGUgZW5kcG9pbnQgcmVjZWl2ZWQgYSBwYWNrZXQgdGhhdCByZXByZXNlbnRlZCBhbiBvcGVyYXRpb24gdGhhdCB3YXMgbm90IGF1dGhvcml6ZWQgd2l0aGluXG4gICAgICogdGhlIGN1cnJlbnQgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIE1heSBvbmx5IGJlIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIk5vdEF1dGhvcml6ZWRcIl0gPSAxMzVdID0gXCJOb3RBdXRob3JpemVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc2VydmVyIGlzIGJ1c3kgYW5kIGNhbm5vdCBjb250aW51ZSBwcm9jZXNzaW5nIHBhY2tldHMgZnJvbSB0aGUgY2xpZW50LlxuICAgICAqXG4gICAgICogTWF5IG9ubHkgYmUgc2VudCBieSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiU2VydmVyQnVzeVwiXSA9IDEzN10gPSBcIlNlcnZlckJ1c3lcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzZXJ2ZXIgaXMgc2h1dHRpbmcgZG93bi5cbiAgICAgKlxuICAgICAqIE1heSBvbmx5IGJlIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIlNlcnZlclNodXR0aW5nRG93blwiXSA9IDEzOV0gPSBcIlNlcnZlclNodXR0aW5nRG93blwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHNlcnZlciBjbG9zZXMgdGhlIGNvbm5lY3Rpb24gYmVjYXVzZSBubyBwYWNrZXQgZnJvbSB0aGUgY2xpZW50IGhhcyBiZWVuIHJlY2VpdmVkIGluXG4gICAgICogMS41IHRpbWVzIHRoZSBLZWVwQWxpdmUgdGltZSBzZXQgd2hlbiB0aGUgY29ubmVjdGlvbiB3YXMgZXN0YWJsaXNoZWQuXG4gICAgICpcbiAgICAgKiBNYXkgb25seSBiZSBzZW50IGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJLZWVwQWxpdmVUaW1lb3V0XCJdID0gMTQxXSA9IFwiS2VlcEFsaXZlVGltZW91dFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHNlcnZlciBoYXMgZXN0YWJsaXNoZWQgYW5vdGhlciBjb25uZWN0aW9uIHdpdGggdGhlIHNhbWUgY2xpZW50IElEIGFzIGEgY2xpZW50J3MgY3VycmVudFxuICAgICAqIGNvbm5lY3Rpb24sIGNhdXNpbmcgdGhlIGN1cnJlbnQgY2xpZW50IHRvIGJlY29tZSBkaXNjb25uZWN0ZWQuXG4gICAgICpcbiAgICAgKiBNYXkgb25seSBiZSBzZW50IGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJTZXNzaW9uVGFrZW5PdmVyXCJdID0gMTQyXSA9IFwiU2Vzc2lvblRha2VuT3ZlclwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHRvcGljIGZpbHRlciBuYW1lIGlzIGNvcnJlY3RseSBmb3JtZWQgYnV0IG5vdCBhY2NlcHRlZCBieSB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogTWF5IG9ubHkgYmUgc2VudCBieSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiVG9waWNGaWx0ZXJJbnZhbGlkXCJdID0gMTQzXSA9IFwiVG9waWNGaWx0ZXJJbnZhbGlkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0b3BpYyBuYW1lIGlzIGNvcnJlY3RseSBmb3JtZWQsIGJ1dCBpcyBub3QgYWNjZXB0ZWQuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJUb3BpY05hbWVJbnZhbGlkXCJdID0gMTQ0XSA9IFwiVG9waWNOYW1lSW52YWxpZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHJlbW90ZSBlbmRwb2ludCByZWFjaGVkIGEgc3RhdGUgd2hlcmUgdGhlcmUgd2VyZSBtb3JlIGluLXByb2dyZXNzIFFvUzErIHB1Ymxpc2hlcyB0aGVuIHRoZVxuICAgICAqIGxpbWl0IGl0IGVzdGFibGlzaGVkIGZvciBpdHNlbGYgd2hlbiB0aGUgY29ubmVjdGlvbiB3YXMgb3BlbmVkLlxuICAgICAqXG4gICAgICogTWF5IGJlIHNlbnQgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiUmVjZWl2ZU1heGltdW1FeGNlZWRlZFwiXSA9IDE0N10gPSBcIlJlY2VpdmVNYXhpbXVtRXhjZWVkZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSByZW1vdGUgZW5kcG9pbnQgcmVjZWl2ZXMgYSBQVUJMSVNIIHBhY2tldCB0aGF0IGNvbnRhaW5lZCBhIHRvcGljIGFsaWFzIGdyZWF0ZXIgdGhhbiB0aGVcbiAgICAgKiBtYXhpbXVtIHRvcGljIGFsaWFzIGxpbWl0IHRoYXQgaXQgZXN0YWJsaXNoZWQgZm9yIGl0c2VsZiB3aGVuIHRoZSBjb25uZWN0aW9uIHdhcyBvcGVuZWQuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJUb3BpY0FsaWFzSW52YWxpZFwiXSA9IDE0OF0gPSBcIlRvcGljQWxpYXNJbnZhbGlkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgcmVtb3RlIGVuZHBvaW50IHJlY2VpdmVkIGEgcGFja2V0IHdob3NlIHNpemUgd2FzIGdyZWF0ZXIgdGhhbiB0aGUgbWF4aW11bSBwYWNrZXQgc2l6ZSBsaW1pdFxuICAgICAqIGl0IGVzdGFibGlzaGVkIGZvciBpdHNlbGYgd2hlbiB0aGUgY29ubmVjdGlvbiB3YXMgb3BlbmVkLlxuICAgICAqXG4gICAgICogTWF5IGJlIHNlbnQgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiUGFja2V0VG9vTGFyZ2VcIl0gPSAxNDldID0gXCJQYWNrZXRUb29MYXJnZVwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHJlbW90ZSBlbmRwb2ludCdzIGluY29taW5nIGRhdGEgcmF0ZSB3YXMgdG9vIGhpZ2guXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJNZXNzYWdlUmF0ZVRvb0hpZ2hcIl0gPSAxNTBdID0gXCJNZXNzYWdlUmF0ZVRvb0hpZ2hcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIGFuIGludGVybmFsIHF1b3RhIG9mIHRoZSByZW1vdGUgZW5kcG9pbnQgd2FzIGV4Y2VlZGVkLlxuICAgICAqXG4gICAgICogTWF5IGJlIHNlbnQgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiUXVvdGFFeGNlZWRlZFwiXSA9IDE1MV0gPSBcIlF1b3RhRXhjZWVkZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQgZHVlIHRvIGFuIGFkbWluaXN0cmF0aXZlIGFjdGlvbi5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIkFkbWluaXN0cmF0aXZlQWN0aW9uXCJdID0gMTUyXSA9IFwiQWRtaW5pc3RyYXRpdmVBY3Rpb25cIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSByZW1vdGUgZW5kcG9pbnQgcmVjZWl2ZWQgYSBwYWNrZXQgd2hlcmUgcGF5bG9hZCBmb3JtYXQgZGlkIG5vdCBtYXRjaCB0aGUgZm9ybWF0IHNwZWNpZmllZFxuICAgICAqIGJ5IHRoZSBwYXlsb2FkIGZvcm1hdCBpbmRpY2F0b3IuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJQYXlsb2FkRm9ybWF0SW52YWxpZFwiXSA9IDE1M10gPSBcIlBheWxvYWRGb3JtYXRJbnZhbGlkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgcmV0YWluZWQgbWVzc2FnZXMuXG4gICAgICpcbiAgICAgKiBNYXkgb25seSBiZSBzZW50IGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJSZXRhaW5Ob3RTdXBwb3J0ZWRcIl0gPSAxNTRdID0gXCJSZXRhaW5Ob3RTdXBwb3J0ZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBjbGllbnQgc2VuZHMgYSBRT1MgdGhhdCBpcyBncmVhdGVyIHRoYW4gdGhlIG1heGltdW0gUU9TIGVzdGFibGlzaGVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gd2FzXG4gICAgICogb3BlbmVkLlxuICAgICAqXG4gICAgICogTWF5IG9ubHkgYmUgc2VudCBieSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiUW9zTm90U3VwcG9ydGVkXCJdID0gMTU1XSA9IFwiUW9zTm90U3VwcG9ydGVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgYnkgdGhlIHNlcnZlciB0byB0ZWxsIHRoZSBjbGllbnQgdG8gdGVtcG9yYXJpbHkgdXNlIGEgZGlmZmVyZW50IHNlcnZlci5cbiAgICAgKlxuICAgICAqIE1heSBvbmx5IGJlIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIlVzZUFub3RoZXJTZXJ2ZXJcIl0gPSAxNTZdID0gXCJVc2VBbm90aGVyU2VydmVyXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgYnkgdGhlIHNlcnZlciB0byB0ZWxsIHRoZSBjbGllbnQgdG8gcGVybWFuZW50bHkgdXNlIGEgZGlmZmVyZW50IHNlcnZlci5cbiAgICAgKlxuICAgICAqIE1heSBvbmx5IGJlIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIlNlcnZlck1vdmVkXCJdID0gMTU3XSA9IFwiU2VydmVyTW92ZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCBieSB0aGUgc2VydmVyIHRvIHRlbGwgdGhlIGNsaWVudCB0aGF0IHNoYXJlZCBzdWJzY3JpcHRpb25zIGFyZSBub3Qgc3VwcG9ydGVkIG9uIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBNYXkgb25seSBiZSBzZW50IGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJTaGFyZWRTdWJzY3JpcHRpb25zTm90U3VwcG9ydGVkXCJdID0gMTU4XSA9IFwiU2hhcmVkU3Vic2NyaXB0aW9uc05vdFN1cHBvcnRlZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHNlcnZlciBkaXNjb25uZWN0cyB0aGUgY2xpZW50IGR1ZSB0byB0aGUgY29ubmVjdGlvbiByYXRlIGJlaW5nIHRvbyBoaWdoLlxuICAgICAqXG4gICAgICogTWF5IG9ubHkgYmUgc2VudCBieSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiQ29ubmVjdGlvblJhdGVFeGNlZWRlZFwiXSA9IDE1OV0gPSBcIkNvbm5lY3Rpb25SYXRlRXhjZWVkZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCBieSB0aGUgc2VydmVyIHdoZW4gdGhlIG1heGltdW0gY29ubmVjdGlvbiB0aW1lIGF1dGhvcml6ZWQgZm9yIHRoZSBjb25uZWN0aW9uIHdhcyBleGNlZWRlZC5cbiAgICAgKlxuICAgICAqIE1heSBvbmx5IGJlIHNlbnQgYnkgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBEaXNjb25uZWN0UmVhc29uQ29kZVtEaXNjb25uZWN0UmVhc29uQ29kZVtcIk1heGltdW1Db25uZWN0VGltZVwiXSA9IDE2MF0gPSBcIk1heGltdW1Db25uZWN0VGltZVwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIgd2hlbiBpdCByZWNlaXZlZCBhIFNVQlNDUklCRSBwYWNrZXQgd2l0aCBhIHN1YnNjcmlwdGlvbiBpZGVudGlmaWVyLCBidXQgdGhlIHNlcnZlciBkb2VzXG4gICAgICogbm90IHN1cHBvcnQgc3Vic2NyaXB0aW9uIGlkZW50aWZpZXJzLlxuICAgICAqXG4gICAgICogTWF5IG9ubHkgYmUgc2VudCBieSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIERpc2Nvbm5lY3RSZWFzb25Db2RlW0Rpc2Nvbm5lY3RSZWFzb25Db2RlW1wiU3Vic2NyaXB0aW9uSWRlbnRpZmllcnNOb3RTdXBwb3J0ZWRcIl0gPSAxNjFdID0gXCJTdWJzY3JpcHRpb25JZGVudGlmaWVyc05vdFN1cHBvcnRlZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIgd2hlbiBpdCByZWNlaXZlZCBhIFNVQlNDUklCRSBwYWNrZXQgd2l0aCBhIHdpbGRjYXJkIHRvcGljIGZpbHRlciwgYnV0IHRoZSBzZXJ2ZXIgZG9lc1xuICAgICAqIG5vdCBzdXBwb3J0IHdpbGRjYXJkIHRvcGljIGZpbHRlcnMuXG4gICAgICpcbiAgICAgKiBNYXkgb25seSBiZSBzZW50IGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgRGlzY29ubmVjdFJlYXNvbkNvZGVbRGlzY29ubmVjdFJlYXNvbkNvZGVbXCJXaWxkY2FyZFN1YnNjcmlwdGlvbnNOb3RTdXBwb3J0ZWRcIl0gPSAxNjJdID0gXCJXaWxkY2FyZFN1YnNjcmlwdGlvbnNOb3RTdXBwb3J0ZWRcIjtcbn0pKERpc2Nvbm5lY3RSZWFzb25Db2RlID0gZXhwb3J0cy5EaXNjb25uZWN0UmVhc29uQ29kZSB8fCAoZXhwb3J0cy5EaXNjb25uZWN0UmVhc29uQ29kZSA9IHt9KSk7XG4vKipcbiAqIERldGVybWluZXMgaWYgYSByZWFzb24gY29kZSByZXByZXNlbnRzIGEgc3VjY2Vzc2Z1bCBkaXNjb25uZWN0IG9wZXJhdGlvblxuICpcbiAqIEBwYXJhbSByZWFzb25Db2RlIHJlYXNvbiBjb2RlIHRvIGNoZWNrIHN1Y2Nlc3MgZm9yXG4gKi9cbmZ1bmN0aW9uIGlzU3VjY2Vzc2Z1bERpc2Nvbm5lY3RSZWFzb25Db2RlKHJlYXNvbkNvZGUpIHtcbiAgICByZXR1cm4gcmVhc29uQ29kZSA8IDEyODtcbn1cbmV4cG9ydHMuaXNTdWNjZXNzZnVsRGlzY29ubmVjdFJlYXNvbkNvZGUgPSBpc1N1Y2Nlc3NmdWxEaXNjb25uZWN0UmVhc29uQ29kZTtcbi8qKlxuICogUmVhc29uIGNvZGVzIGluc2lkZSBTVUJBQ0sgcGFja2V0IHBheWxvYWRzIHRoYXQgc3BlY2lmeSB0aGUgcmVzdWx0cyBmb3IgZWFjaCBzdWJzY3JpcHRpb24gaW4gdGhlIGFzc29jaWF0ZWRcbiAqIFNVQlNDUklCRSBwYWNrZXQuXG4gKlxuICogRW51bSB2YWx1ZXMgbWF0Y2ggW01RVFQ1IHNwZWNdKGh0dHBzOi8vZG9jcy5vYXNpcy1vcGVuLm9yZy9tcXR0L21xdHQvdjUuMC9vcy9tcXR0LXY1LjAtb3MuaHRtbCNfVG9jMzkwMTE3OCkgZW5jb2RpbmcgdmFsdWVzLlxuICovXG52YXIgU3ViYWNrUmVhc29uQ29kZTtcbihmdW5jdGlvbiAoU3ViYWNrUmVhc29uQ29kZSkge1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHN1YnNjcmlwdGlvbiB3YXMgYWNjZXB0ZWQgYW5kIHRoZSBtYXhpbXVtIFFPUyBzZW50IHdpbGwgYmUgUU9TIDAuXG4gICAgICovXG4gICAgU3ViYWNrUmVhc29uQ29kZVtTdWJhY2tSZWFzb25Db2RlW1wiR3JhbnRlZFFvUzBcIl0gPSAwXSA9IFwiR3JhbnRlZFFvUzBcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzdWJzY3JpcHRpb24gd2FzIGFjY2VwdGVkIGFuZCB0aGUgbWF4aW11bSBRT1Mgc2VudCB3aWxsIGJlIFFPUyAxLlxuICAgICAqL1xuICAgIFN1YmFja1JlYXNvbkNvZGVbU3ViYWNrUmVhc29uQ29kZVtcIkdyYW50ZWRRb1MxXCJdID0gMV0gPSBcIkdyYW50ZWRRb1MxXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc3Vic2NyaXB0aW9uIHdhcyBhY2NlcHRlZCBhbmQgdGhlIG1heGltdW0gUU9TIHNlbnQgd2lsbCBiZSBRT1MgMi5cbiAgICAgKi9cbiAgICBTdWJhY2tSZWFzb25Db2RlW1N1YmFja1JlYXNvbkNvZGVbXCJHcmFudGVkUW9TMlwiXSA9IDJdID0gXCJHcmFudGVkUW9TMlwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCBidXQgdGhlIHNlbmRlciBkb2VzIG5vdCB3YW50IHRvIHNwZWNpZnkgYSByZWFzb24gb3Igbm9uZVxuICAgICAqIG9mIHRoZSBvdGhlciByZWFzb24gY29kZXMgYXBwbHkuXG4gICAgICovXG4gICAgU3ViYWNrUmVhc29uQ29kZVtTdWJhY2tSZWFzb25Db2RlW1wiVW5zcGVjaWZpZWRFcnJvclwiXSA9IDEyOF0gPSBcIlVuc3BlY2lmaWVkRXJyb3JcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzdWJzY3JpcHRpb24gd2FzIHZhbGlkIGJ1dCB0aGUgc2VydmVyIGRpZCBub3QgYWNjZXB0IGl0LlxuICAgICAqL1xuICAgIFN1YmFja1JlYXNvbkNvZGVbU3ViYWNrUmVhc29uQ29kZVtcIkltcGxlbWVudGF0aW9uU3BlY2lmaWNFcnJvclwiXSA9IDEzMV0gPSBcIkltcGxlbWVudGF0aW9uU3BlY2lmaWNFcnJvclwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIGNsaWVudCB3YXMgbm90IGF1dGhvcml6ZWQgdG8gbWFrZSB0aGUgc3Vic2NyaXB0aW9uIG9uIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgU3ViYWNrUmVhc29uQ29kZVtTdWJhY2tSZWFzb25Db2RlW1wiTm90QXV0aG9yaXplZFwiXSA9IDEzNV0gPSBcIk5vdEF1dGhvcml6ZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzdWJzY3JpcHRpb24gdG9waWMgZmlsdGVyIHdhcyBjb3JyZWN0bHkgZm9ybWVkIGJ1dCBub3QgYWxsb3dlZCBmb3IgdGhlIGNsaWVudC5cbiAgICAgKi9cbiAgICBTdWJhY2tSZWFzb25Db2RlW1N1YmFja1JlYXNvbkNvZGVbXCJUb3BpY0ZpbHRlckludmFsaWRcIl0gPSAxNDNdID0gXCJUb3BpY0ZpbHRlckludmFsaWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBwYWNrZXQgaWRlbnRpZmllciB3YXMgYWxyZWFkeSBpbiB1c2Ugb24gdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBTdWJhY2tSZWFzb25Db2RlW1N1YmFja1JlYXNvbkNvZGVbXCJQYWNrZXRJZGVudGlmaWVySW5Vc2VcIl0gPSAxNDVdID0gXCJQYWNrZXRJZGVudGlmaWVySW5Vc2VcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIGEgc3Vic2NyaWJlLXJlbGF0ZWQgcXVvdGEgc2V0IG9uIHRoZSBzZXJ2ZXIgd2FzIGV4Y2VlZGVkLlxuICAgICAqL1xuICAgIFN1YmFja1JlYXNvbkNvZGVbU3ViYWNrUmVhc29uQ29kZVtcIlF1b3RhRXhjZWVkZWRcIl0gPSAxNTFdID0gXCJRdW90YUV4Y2VlZGVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgc3Vic2NyaXB0aW9uJ3MgdG9waWMgZmlsdGVyIHdhcyBhIHNoYXJlZCBzdWJzY3JpcHRpb24gYW5kIHRoZSBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAqIHNoYXJlZCBzdWJzY3JpcHRpb25zLlxuICAgICAqL1xuICAgIFN1YmFja1JlYXNvbkNvZGVbU3ViYWNrUmVhc29uQ29kZVtcIlNoYXJlZFN1YnNjcmlwdGlvbnNOb3RTdXBwb3J0ZWRcIl0gPSAxNThdID0gXCJTaGFyZWRTdWJzY3JpcHRpb25zTm90U3VwcG9ydGVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgU1VCU0NSSUJFIHBhY2tldCBjb250YWluZWQgYSBzdWJzY3JpcHRpb24gaWRlbnRpZmllciBhbmQgdGhlIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICogc3Vic2NyaXB0aW9uIGlkZW50aWZpZXJzLlxuICAgICAqL1xuICAgIFN1YmFja1JlYXNvbkNvZGVbU3ViYWNrUmVhc29uQ29kZVtcIlN1YnNjcmlwdGlvbklkZW50aWZpZXJzTm90U3VwcG9ydGVkXCJdID0gMTYxXSA9IFwiU3Vic2NyaXB0aW9uSWRlbnRpZmllcnNOb3RTdXBwb3J0ZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBzdWJzY3JpcHRpb24ncyB0b3BpYyBmaWx0ZXIgY29udGFpbnMgYSB3aWxkY2FyZCBidXQgdGhlIHNlcnZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICogd2lsZGNhcmQgc3Vic2NyaXB0aW9ucy5cbiAgICAgKi9cbiAgICBTdWJhY2tSZWFzb25Db2RlW1N1YmFja1JlYXNvbkNvZGVbXCJXaWxkY2FyZFN1YnNjcmlwdGlvbnNOb3RTdXBwb3J0ZWRcIl0gPSAxNjJdID0gXCJXaWxkY2FyZFN1YnNjcmlwdGlvbnNOb3RTdXBwb3J0ZWRcIjtcbn0pKFN1YmFja1JlYXNvbkNvZGUgPSBleHBvcnRzLlN1YmFja1JlYXNvbkNvZGUgfHwgKGV4cG9ydHMuU3ViYWNrUmVhc29uQ29kZSA9IHt9KSk7XG4vKipcbiAqIERldGVybWluZXMgaWYgYSByZWFzb24gY29kZSByZXByZXNlbnRzIGEgc3VjY2Vzc2Z1bCBzdWJzY3JpYmUgb3BlcmF0aW9uXG4gKlxuICogQHBhcmFtIHJlYXNvbkNvZGUgcmVhc29uIGNvZGUgdG8gY2hlY2sgc3VjY2VzcyBmb3JcbiAqL1xuZnVuY3Rpb24gaXNTdWNjZXNzZnVsU3ViYWNrUmVhc29uQ29kZShyZWFzb25Db2RlKSB7XG4gICAgcmV0dXJuIHJlYXNvbkNvZGUgPCAxMjg7XG59XG5leHBvcnRzLmlzU3VjY2Vzc2Z1bFN1YmFja1JlYXNvbkNvZGUgPSBpc1N1Y2Nlc3NmdWxTdWJhY2tSZWFzb25Db2RlO1xuLyoqXG4gKiBSZWFzb24gY29kZXMgaW5zaWRlIFVOU1VCQUNLIHBhY2tldCBwYXlsb2FkcyB0aGF0IHNwZWNpZnkgdGhlIHJlc3VsdHMgZm9yIGVhY2ggdG9waWMgZmlsdGVyIGluIHRoZSBhc3NvY2lhdGVkXG4gKiBVTlNVQlNDUklCRSBwYWNrZXQuXG4gKlxuICogRW51bSB2YWx1ZXMgbWF0Y2ggW01RVFQ1IHNwZWNdKGh0dHBzOi8vZG9jcy5vYXNpcy1vcGVuLm9yZy9tcXR0L21xdHQvdjUuMC9vcy9tcXR0LXY1LjAtb3MuaHRtbCNfVG9jMzkwMTE5NCkgZW5jb2RpbmcgdmFsdWVzLlxuICovXG52YXIgVW5zdWJhY2tSZWFzb25Db2RlO1xuKGZ1bmN0aW9uIChVbnN1YmFja1JlYXNvbkNvZGUpIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSB1bnN1YnNjcmliZSB3YXMgc3VjY2Vzc2Z1bCBhbmQgdGhlIGNsaWVudCBpcyBubyBsb25nZXIgc3Vic2NyaWJlZCB0byB0aGUgdG9waWMgZmlsdGVyIG9uIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgVW5zdWJhY2tSZWFzb25Db2RlW1Vuc3ViYWNrUmVhc29uQ29kZVtcIlN1Y2Nlc3NcIl0gPSAwXSA9IFwiU3VjY2Vzc1wiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHRvcGljIGZpbHRlciBkaWQgbm90IG1hdGNoIG9uZSBvZiB0aGUgY2xpZW50J3MgZXhpc3Rpbmcgc3Vic2NyaXB0aW9ucyBvbiB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIFVuc3ViYWNrUmVhc29uQ29kZVtVbnN1YmFja1JlYXNvbkNvZGVbXCJOb1N1YnNjcmlwdGlvbkV4aXN0ZWRcIl0gPSAxN10gPSBcIk5vU3Vic2NyaXB0aW9uRXhpc3RlZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHVuc3Vic2NyaWJlIG9mIHRoZSB0b3BpYyBmaWx0ZXIgd2FzIG5vdCBhY2NlcHRlZCBhbmQgdGhlIHNlcnZlciBkb2VzIG5vdCB3YW50IHRvIHNwZWNpZnkgYVxuICAgICAqIHJlYXNvbiBvciBub25lIG9mIHRoZSBvdGhlciByZWFzb24gY29kZXMgYXBwbHkuXG4gICAgICovXG4gICAgVW5zdWJhY2tSZWFzb25Db2RlW1Vuc3ViYWNrUmVhc29uQ29kZVtcIlVuc3BlY2lmaWVkRXJyb3JcIl0gPSAxMjhdID0gXCJVbnNwZWNpZmllZEVycm9yXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgdG9waWMgZmlsdGVyIHdhcyB2YWxpZCBidXQgdGhlIHNlcnZlciBkb2VzIG5vdCBhY2NlcHQgYW4gdW5zdWJzY3JpYmUgZm9yIGl0LlxuICAgICAqL1xuICAgIFVuc3ViYWNrUmVhc29uQ29kZVtVbnN1YmFja1JlYXNvbkNvZGVbXCJJbXBsZW1lbnRhdGlvblNwZWNpZmljRXJyb3JcIl0gPSAxMzFdID0gXCJJbXBsZW1lbnRhdGlvblNwZWNpZmljRXJyb3JcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSBjbGllbnQgd2FzIG5vdCBhdXRob3JpemVkIHRvIHVuc3Vic2NyaWJlIGZyb20gdGhhdCB0b3BpYyBmaWx0ZXIgb24gdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBVbnN1YmFja1JlYXNvbkNvZGVbVW5zdWJhY2tSZWFzb25Db2RlW1wiTm90QXV0aG9yaXplZFwiXSA9IDEzNV0gPSBcIk5vdEF1dGhvcml6ZWRcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSB0b3BpYyBmaWx0ZXIgd2FzIGNvcnJlY3RseSBmb3JtZWQgYnV0IGlzIG5vdCBhbGxvd2VkIGZvciB0aGUgY2xpZW50IG9uIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgVW5zdWJhY2tSZWFzb25Db2RlW1Vuc3ViYWNrUmVhc29uQ29kZVtcIlRvcGljRmlsdGVySW52YWxpZFwiXSA9IDE0M10gPSBcIlRvcGljRmlsdGVySW52YWxpZFwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIHBhY2tldCBpZGVudGlmaWVyIHdhcyBhbHJlYWR5IGluIHVzZSBvbiB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIFVuc3ViYWNrUmVhc29uQ29kZVtVbnN1YmFja1JlYXNvbkNvZGVbXCJQYWNrZXRJZGVudGlmaWVySW5Vc2VcIl0gPSAxNDVdID0gXCJQYWNrZXRJZGVudGlmaWVySW5Vc2VcIjtcbn0pKFVuc3ViYWNrUmVhc29uQ29kZSA9IGV4cG9ydHMuVW5zdWJhY2tSZWFzb25Db2RlIHx8IChleHBvcnRzLlVuc3ViYWNrUmVhc29uQ29kZSA9IHt9KSk7XG4vKipcbiAqIERldGVybWluZXMgaWYgYSByZWFzb24gY29kZSByZXByZXNlbnRzIGEgc3VjY2Vzc2Z1bCB1bnN1YnNjcmliZSBvcGVyYXRpb25cbiAqXG4gKiBAcGFyYW0gcmVhc29uQ29kZSByZWFzb24gY29kZSB0byBjaGVjayBzdWNjZXNzIGZvclxuICovXG5mdW5jdGlvbiBpc1N1Y2Nlc3NmdWxVbnN1YmFja1JlYXNvbkNvZGUocmVhc29uQ29kZSkge1xuICAgIHJldHVybiByZWFzb25Db2RlIDwgMTI4O1xufVxuZXhwb3J0cy5pc1N1Y2Nlc3NmdWxVbnN1YmFja1JlYXNvbkNvZGUgPSBpc1N1Y2Nlc3NmdWxVbnN1YmFja1JlYXNvbkNvZGU7XG4vKipcbiAqIFJlYXNvbiBjb2RlIGluc2lkZSBQVUJBQ0sgcGFja2V0cyB0aGF0IGluZGljYXRlcyB0aGUgcmVzdWx0IG9mIHRoZSBhc3NvY2lhdGVkIFBVQkxJU0ggcmVxdWVzdC5cbiAqXG4gKiBFbnVtIHZhbHVlcyBtYXRjaCBbTVFUVDUgc3BlY10oaHR0cHM6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL21xdHQvbXF0dC92NS4wL29zL21xdHQtdjUuMC1vcy5odG1sI19Ub2MzOTAxMTI0KSBlbmNvZGluZyB2YWx1ZXMuXG4gKi9cbnZhciBQdWJhY2tSZWFzb25Db2RlO1xuKGZ1bmN0aW9uIChQdWJhY2tSZWFzb25Db2RlKSB7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgKFFvUyAxKSBwdWJsaXNoIHdhcyBhY2NlcHRlZCBieSB0aGUgcmVjaXBpZW50LlxuICAgICAqXG4gICAgICogTWF5IGJlIHNlbnQgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIFB1YmFja1JlYXNvbkNvZGVbUHViYWNrUmVhc29uQ29kZVtcIlN1Y2Nlc3NcIl0gPSAwXSA9IFwiU3VjY2Vzc1wiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIChRb1MgMSkgcHVibGlzaCB3YXMgYWNjZXB0ZWQgYnV0IHRoZXJlIHdlcmUgbm8gbWF0Y2hpbmcgc3Vic2NyaWJlcnMuXG4gICAgICpcbiAgICAgKiBNYXkgb25seSBiZSBzZW50IGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgUHViYWNrUmVhc29uQ29kZVtQdWJhY2tSZWFzb25Db2RlW1wiTm9NYXRjaGluZ1N1YnNjcmliZXJzXCJdID0gMTZdID0gXCJOb01hdGNoaW5nU3Vic2NyaWJlcnNcIjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5lZCB3aGVuIHRoZSAoUW9TIDEpIHB1Ymxpc2ggd2FzIG5vdCBhY2NlcHRlZCBhbmQgdGhlIHJlY2VpdmVyIGRvZXMgbm90IHdhbnQgdG8gc3BlY2lmeSBhIHJlYXNvbiBvciBub25lXG4gICAgICogb2YgdGhlIG90aGVyIHJlYXNvbiBjb2RlcyBhcHBseS5cbiAgICAgKlxuICAgICAqIE1heSBiZSBzZW50IGJ5IHRoZSBjbGllbnQgb3IgdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBQdWJhY2tSZWFzb25Db2RlW1B1YmFja1JlYXNvbkNvZGVbXCJVbnNwZWNpZmllZEVycm9yXCJdID0gMTI4XSA9IFwiVW5zcGVjaWZpZWRFcnJvclwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIChRb1MgMSkgcHVibGlzaCB3YXMgdmFsaWQgYnV0IHRoZSByZWNlaXZlciB3YXMgbm90IHdpbGxpbmcgdG8gYWNjZXB0IGl0LlxuICAgICAqXG4gICAgICogTWF5IGJlIHNlbnQgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIFB1YmFja1JlYXNvbkNvZGVbUHViYWNrUmVhc29uQ29kZVtcIkltcGxlbWVudGF0aW9uU3BlY2lmaWNFcnJvclwiXSA9IDEzMV0gPSBcIkltcGxlbWVudGF0aW9uU3BlY2lmaWNFcnJvclwiO1xuICAgIC8qKlxuICAgICAqIFJldHVybmVkIHdoZW4gdGhlIChRb1MgMSkgcHVibGlzaCB3YXMgbm90IGF1dGhvcml6ZWQgYnkgdGhlIHJlY2VpdmVyLlxuICAgICAqXG4gICAgICogTWF5IGJlIHNlbnQgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIFB1YmFja1JlYXNvbkNvZGVbUHViYWNrUmVhc29uQ29kZVtcIk5vdEF1dGhvcml6ZWRcIl0gPSAxMzVdID0gXCJOb3RBdXRob3JpemVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgdG9waWMgbmFtZSB3YXMgdmFsaWQgYnV0IHRoZSByZWNlaXZlciB3YXMgbm90IHdpbGxpbmcgdG8gYWNjZXB0IGl0LlxuICAgICAqXG4gICAgICogTWF5IGJlIHNlbnQgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIFB1YmFja1JlYXNvbkNvZGVbUHViYWNrUmVhc29uQ29kZVtcIlRvcGljTmFtZUludmFsaWRcIl0gPSAxNDRdID0gXCJUb3BpY05hbWVJbnZhbGlkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgcGFja2V0IGlkZW50aWZpZXIgdXNlZCBpbiB0aGUgYXNzb2NpYXRlZCBQVUJMSVNIIHdhcyBhbHJlYWR5IGluIHVzZS5cbiAgICAgKiBUaGlzIGNhbiBpbmRpY2F0ZSBhIG1pc21hdGNoIGluIHRoZSBzZXNzaW9uIHN0YXRlIGJldHdlZW4gY2xpZW50IGFuZCBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgUHViYWNrUmVhc29uQ29kZVtQdWJhY2tSZWFzb25Db2RlW1wiUGFja2V0SWRlbnRpZmllckluVXNlXCJdID0gMTQ1XSA9IFwiUGFja2V0SWRlbnRpZmllckluVXNlXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgYXNzb2NpYXRlZCBQVUJMSVNIIGZhaWxlZCBiZWNhdXNlIGFuIGludGVybmFsIHF1b3RhIG9uIHRoZSByZWNpcGllbnQgd2FzIGV4Y2VlZGVkLlxuICAgICAqXG4gICAgICogTWF5IGJlIHNlbnQgYnkgdGhlIGNsaWVudCBvciB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIFB1YmFja1JlYXNvbkNvZGVbUHViYWNrUmVhc29uQ29kZVtcIlF1b3RhRXhjZWVkZWRcIl0gPSAxNTFdID0gXCJRdW90YUV4Y2VlZGVkXCI7XG4gICAgLyoqXG4gICAgICogUmV0dXJuZWQgd2hlbiB0aGUgUFVCTElTSCBwYWNrZXQncyBwYXlsb2FkIGZvcm1hdCBkaWQgbm90IG1hdGNoIGl0cyBwYXlsb2FkIGZvcm1hdCBpbmRpY2F0b3IgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBNYXkgYmUgc2VudCBieSB0aGUgY2xpZW50IG9yIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgUHViYWNrUmVhc29uQ29kZVtQdWJhY2tSZWFzb25Db2RlW1wiUGF5bG9hZEZvcm1hdEludmFsaWRcIl0gPSAxNTNdID0gXCJQYXlsb2FkRm9ybWF0SW52YWxpZFwiO1xufSkoUHViYWNrUmVhc29uQ29kZSA9IGV4cG9ydHMuUHViYWNrUmVhc29uQ29kZSB8fCAoZXhwb3J0cy5QdWJhY2tSZWFzb25Db2RlID0ge30pKTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIHJlYXNvbiBjb2RlIHJlcHJlc2VudHMgYSBzdWNjZXNzZnVsIFFvUyAxIHB1Ymxpc2ggb3BlcmF0aW9uXG4gKlxuICogQHBhcmFtIHJlYXNvbkNvZGUgcmVhc29uIGNvZGUgdG8gY2hlY2sgc3VjY2VzcyBmb3JcbiAqL1xuZnVuY3Rpb24gaXNTdWNjZXNzZnVsUHViYWNrUmVhc29uQ29kZShyZWFzb25Db2RlKSB7XG4gICAgcmV0dXJuIHJlYXNvbkNvZGUgPCAxMjg7XG59XG5leHBvcnRzLmlzU3VjY2Vzc2Z1bFB1YmFja1JlYXNvbkNvZGUgPSBpc1N1Y2Nlc3NmdWxQdWJhY2tSZWFzb25Db2RlO1xuLyoqXG4gKiBPcHRpb25hbCBwcm9wZXJ0eSBkZXNjcmliaW5nIGEgUFVCTElTSCBwYXlsb2FkJ3MgZm9ybWF0LlxuICpcbiAqIEVudW0gdmFsdWVzIG1hdGNoIFtNUVRUNSBzcGVjXShodHRwczovL2RvY3Mub2FzaXMtb3Blbi5vcmcvbXF0dC9tcXR0L3Y1LjAvb3MvbXF0dC12NS4wLW9zLmh0bWwjX1RvYzM5MDExMTEpIGVuY29kaW5nIHZhbHVlcy5cbiAqL1xudmFyIFBheWxvYWRGb3JtYXRJbmRpY2F0b3I7XG4oZnVuY3Rpb24gKFBheWxvYWRGb3JtYXRJbmRpY2F0b3IpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcGF5bG9hZCBpcyBhcmJpdHJhcnkgYmluYXJ5IGRhdGFcbiAgICAgKi9cbiAgICBQYXlsb2FkRm9ybWF0SW5kaWNhdG9yW1BheWxvYWRGb3JtYXRJbmRpY2F0b3JbXCJCeXRlc1wiXSA9IDBdID0gXCJCeXRlc1wiO1xuICAgIC8qKlxuICAgICAqIFRoZSBwYXlsb2FkIGlzIGEgd2VsbC1mb3JtZWQgdXRmLTggc3RyaW5nIHZhbHVlLlxuICAgICAqL1xuICAgIFBheWxvYWRGb3JtYXRJbmRpY2F0b3JbUGF5bG9hZEZvcm1hdEluZGljYXRvcltcIlV0ZjhcIl0gPSAxXSA9IFwiVXRmOFwiO1xufSkoUGF5bG9hZEZvcm1hdEluZGljYXRvciA9IGV4cG9ydHMuUGF5bG9hZEZvcm1hdEluZGljYXRvciB8fCAoZXhwb3J0cy5QYXlsb2FkRm9ybWF0SW5kaWNhdG9yID0ge30pKTtcbi8qKlxuICogTVFUVCBtZXNzYWdlIGRlbGl2ZXJ5IHF1YWxpdHkgb2Ygc2VydmljZS5cbiAqXG4gKiBFbnVtIHZhbHVlcyBtYXRjaCBbTVFUVDUgc3BlY10oaHR0cHM6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL21xdHQvbXF0dC92NS4wL29zL21xdHQtdjUuMC1vcy5odG1sI19Ub2MzOTAxMjM0KSBlbmNvZGluZyB2YWx1ZXMuXG4gKi9cbnZhciBRb1M7XG4oZnVuY3Rpb24gKFFvUykge1xuICAgIC8qKlxuICAgICAqIFRoZSBtZXNzYWdlIGlzIGRlbGl2ZXJlZCBhY2NvcmRpbmcgdG8gdGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgdW5kZXJseWluZyBuZXR3b3JrLiBObyByZXNwb25zZSBpcyBzZW50IGJ5IHRoZVxuICAgICAqIHJlY2VpdmVyIGFuZCBubyByZXRyeSBpcyBwZXJmb3JtZWQgYnkgdGhlIHNlbmRlci4gVGhlIG1lc3NhZ2UgYXJyaXZlcyBhdCB0aGUgcmVjZWl2ZXIgZWl0aGVyIG9uY2Ugb3Igbm90IGF0IGFsbC5cbiAgICAgKi9cbiAgICBRb1NbUW9TW1wiQXRNb3N0T25jZVwiXSA9IDBdID0gXCJBdE1vc3RPbmNlXCI7XG4gICAgLyoqXG4gICAgICogQSBsZXZlbCBvZiBzZXJ2aWNlIHRoYXQgZW5zdXJlcyB0aGF0IHRoZSBtZXNzYWdlIGFycml2ZXMgYXQgdGhlIHJlY2VpdmVyIGF0IGxlYXN0IG9uY2UuXG4gICAgICovXG4gICAgUW9TW1FvU1tcIkF0TGVhc3RPbmNlXCJdID0gMV0gPSBcIkF0TGVhc3RPbmNlXCI7XG4gICAgLyoqXG4gICAgICogQSBsZXZlbCBvZiBzZXJ2aWNlIHRoYXQgZW5zdXJlcyB0aGF0IHRoZSBtZXNzYWdlIGFycml2ZXMgYXQgdGhlIHJlY2VpdmVyIGV4YWN0bHkgb25jZS5cbiAgICAgKi9cbiAgICBRb1NbUW9TW1wiRXhhY3RseU9uY2VcIl0gPSAyXSA9IFwiRXhhY3RseU9uY2VcIjtcbn0pKFFvUyA9IGV4cG9ydHMuUW9TIHx8IChleHBvcnRzLlFvUyA9IHt9KSk7XG4vKipcbiAqIENvbmZpZ3VyZXMgaG93IHJldGFpbmVkIG1lc3NhZ2VzIHNob3VsZCBiZSBoYW5kbGVkIHdoZW4gc3Vic2NyaWJpbmcgd2l0aCBhIHRvcGljIGZpbHRlciB0aGF0IG1hdGNoZXMgdG9waWNzIHdpdGhcbiAqIGFzc29jaWF0ZWQgcmV0YWluZWQgbWVzc2FnZXMuXG4gKlxuICogRW51bSB2YWx1ZXMgbWF0Y2ggW01RVFQ1IHNwZWNdKGh0dHBzOi8vZG9jcy5vYXNpcy1vcGVuLm9yZy9tcXR0L21xdHQvdjUuMC9vcy9tcXR0LXY1LjAtb3MuaHRtbCNfVG9jMzkwMTE2OSkgZW5jb2RpbmcgdmFsdWVzLlxuICovXG52YXIgUmV0YWluSGFuZGxpbmdUeXBlO1xuKGZ1bmN0aW9uIChSZXRhaW5IYW5kbGluZ1R5cGUpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgc2VydmVyIHNob3VsZCBhbHdheXMgc2VuZCBhbGwgcmV0YWluZWQgbWVzc2FnZXMgb24gdG9waWNzIHRoYXQgbWF0Y2ggYSBzdWJzY3JpcHRpb24ncyBmaWx0ZXIuXG4gICAgICovXG4gICAgUmV0YWluSGFuZGxpbmdUeXBlW1JldGFpbkhhbmRsaW5nVHlwZVtcIlNlbmRPblN1YnNjcmliZVwiXSA9IDBdID0gXCJTZW5kT25TdWJzY3JpYmVcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgc2VydmVyIHNob3VsZCBzZW5kIHJldGFpbmVkIG1lc3NhZ2VzIG9uIHRvcGljcyB0aGF0IG1hdGNoIHRoZSBzdWJzY3JpcHRpb24ncyBmaWx0ZXIsIGJ1dCBvbmx5IGZvciB0aGVcbiAgICAgKiBmaXJzdCBtYXRjaGluZyBzdWJzY3JpcHRpb24sIHBlciBzZXNzaW9uLlxuICAgICAqL1xuICAgIFJldGFpbkhhbmRsaW5nVHlwZVtSZXRhaW5IYW5kbGluZ1R5cGVbXCJTZW5kT25TdWJzY3JpYmVJZk5ld1wiXSA9IDFdID0gXCJTZW5kT25TdWJzY3JpYmVJZk5ld1wiO1xuICAgIC8qKlxuICAgICAqIFN1YnNjcmlwdGlvbnMgbXVzdCBub3QgdHJpZ2dlciBhbnkgcmV0YWluZWQgbWVzc2FnZSBwdWJsaXNoZXMgZnJvbSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIFJldGFpbkhhbmRsaW5nVHlwZVtSZXRhaW5IYW5kbGluZ1R5cGVbXCJEb250U2VuZFwiXSA9IDJdID0gXCJEb250U2VuZFwiO1xufSkoUmV0YWluSGFuZGxpbmdUeXBlID0gZXhwb3J0cy5SZXRhaW5IYW5kbGluZ1R5cGUgfHwgKGV4cG9ydHMuUmV0YWluSGFuZGxpbmdUeXBlID0ge30pKTtcbi8qKlxuICogUGFja2V0IHR5cGUgaW5kaWNhdG9yIHRoYXQgYWxsb3dzIGZvciBiYXNpYyBwb2x5bW9ycGhpc20gd2l0aCB1c2VyLXJlY2VpdmVkIHBhY2tldHMuICBFbnVtIHZhbHVlc1xuICogbWF0Y2ggdGhlIG1xdHQgc3BlYydzIFtwYWNrZXQgdHlwZSBlbmNvZGluZ10oaHR0cHM6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL21xdHQvbXF0dC92NS4wL29zL21xdHQtdjUuMC1vcy5odG1sI19Ub2MzOTAxMDIyKSB2YWx1ZXMuXG4gKi9cbnZhciBQYWNrZXRUeXBlO1xuKGZ1bmN0aW9uIChQYWNrZXRUeXBlKSB7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQ29ubmVjdFwiXSA9IDFdID0gXCJDb25uZWN0XCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQ29ubmFja1wiXSA9IDJdID0gXCJDb25uYWNrXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiUHVibGlzaFwiXSA9IDNdID0gXCJQdWJsaXNoXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiUHViYWNrXCJdID0gNF0gPSBcIlB1YmFja1wiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIlB1YnJlY1wiXSA9IDVdID0gXCJQdWJyZWNcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJQdWJyZWxcIl0gPSA2XSA9IFwiUHVicmVsXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiUHViY29tcFwiXSA9IDddID0gXCJQdWJjb21wXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiU3Vic2NyaWJlXCJdID0gOF0gPSBcIlN1YnNjcmliZVwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIlN1YmFja1wiXSA9IDldID0gXCJTdWJhY2tcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJVbnN1YnNjcmliZVwiXSA9IDEwXSA9IFwiVW5zdWJzY3JpYmVcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJVbnN1YmFja1wiXSA9IDExXSA9IFwiVW5zdWJhY2tcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJQaW5ncmVxXCJdID0gMTJdID0gXCJQaW5ncmVxXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiUGluZ3Jlc3BcIl0gPSAxM10gPSBcIlBpbmdyZXNwXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiRGlzY29ubmVjdFwiXSA9IDE0XSA9IFwiRGlzY29ubmVjdFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkF1dGhcIl0gPSAxNV0gPSBcIkF1dGhcIjtcbn0pKFBhY2tldFR5cGUgPSBleHBvcnRzLlBhY2tldFR5cGUgfHwgKGV4cG9ydHMuUGFja2V0VHlwZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tcXR0NV9wYWNrZXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ERUZBVUxUX0tFRVBfQUxJVkUgPSBleHBvcnRzLm5vcm1hbGl6ZV9wYXlsb2FkID0gdm9pZCAwO1xuLyoqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqL1xuLyoqXG4gKiBDb252ZXJ0cyBwYXlsb2FkIHRvIEJ1ZmZlciBvciBzdHJpbmcgcmVnYXJkbGVzcyBvZiB0aGUgc3VwcGxpZWQgdHlwZVxuICogQHBhcmFtIHBheWxvYWQgVGhlIHBheWxvYWQgdG8gY29udmVydFxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZV9wYXlsb2FkKHBheWxvYWQpIHtcbiAgICBpZiAocGF5bG9hZCBpbnN0YW5jZW9mIEJ1ZmZlcikge1xuICAgICAgICAvLyBwYXNzIEJ1ZmZlciB0aHJvdWdoXG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIHBhc3Mgc3RyaW5nIHRocm91Z2hcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfVxuICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcocGF5bG9hZCkpIHtcbiAgICAgICAgLy8gcmV0dXJuIEJ1ZmZlciB3aXRoIHZpZXcgdXBvbiB0aGUgc2FtZSBieXRlcyAobm8gY29weSlcbiAgICAgICAgY29uc3QgdmlldyA9IHBheWxvYWQ7XG4gICAgICAgIHJldHVybiBCdWZmZXIuZnJvbSh2aWV3LmJ1ZmZlciwgdmlldy5ieXRlT2Zmc2V0LCB2aWV3LmJ5dGVMZW5ndGgpO1xuICAgIH1cbiAgICBpZiAocGF5bG9hZCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIC8vIHJldHVybiBCdWZmZXIgd2l0aCB2aWV3IHVwb24gdGhlIHNhbWUgYnl0ZXMgKG5vIGNvcHkpXG4gICAgICAgIHJldHVybiBCdWZmZXIuZnJvbShwYXlsb2FkKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXlsb2FkID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBDb252ZXJ0IE9iamVjdCB0byBKU09OIHN0cmluZ1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCk7XG4gICAgfVxuICAgIGlmICghcGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInBheWxvYWQgcGFyYW1ldGVyIG11c3QgYmUgYSBzdHJpbmcsIG9iamVjdCwgb3IgRGF0YVZpZXcuXCIpO1xufVxuZXhwb3J0cy5ub3JtYWxpemVfcGF5bG9hZCA9IG5vcm1hbGl6ZV9wYXlsb2FkO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0cy5ERUZBVUxUX0tFRVBfQUxJVkUgPSAxMjAwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXF0dF9zaGFyZWQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcnRfdmVyc2lvbiA9IGV4cG9ydHMucGFja2FnZV9pbmZvID0gZXhwb3J0cy5pc19icm93c2VyID0gZXhwb3J0cy5pc19ub2RlanMgPSB2b2lkIDA7XG4vKipcbiAqXG4gKiBBIG1vZHVsZSBjb250YWluaW5nIG1pc2NlbGxhbmVvdXMgcGxhdGZvcm0tcmVsYXRlZCBxdWVyaWVzXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKiBAbW9kdWxlIHBsYXRmb3JtXG4gKiBAbWVyZ2VUYXJnZXRcbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBzY3JpcHQgaXMgcnVubmluZyB1bmRlciBub2RlanNcbiAqXG4gKiBAY2F0ZWdvcnkgU3lzdGVtXG4gKi9cbmZ1bmN0aW9uIGlzX25vZGVqcygpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZSAhPT0gJ3VuZGVmaW5lZCcpO1xufVxuZXhwb3J0cy5pc19ub2RlanMgPSBpc19ub2RlanM7XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHNjcmlwdCBpcyBydW5uaW5nIGluIGEgYnJvd3NlclxuICpcbiAqIEBjYXRlZ29yeSBTeXN0ZW1cbiAqL1xuZnVuY3Rpb24gaXNfYnJvd3NlcigpIHtcbiAgICByZXR1cm4gIWlzX25vZGVqcygpO1xufVxuZXhwb3J0cy5pc19icm93c2VyID0gaXNfYnJvd3Nlcjtcbi8qKlxuICogUmV0dXJucyB0aGUgcGFja2FnZSBpbmZvcm1hdGlvbiBmb3IgYXdzLWNydC1ub2RlanNcbiAqXG4gKiBAY2F0ZWdvcnkgU3lzdGVtXG4gKi9cbmZ1bmN0aW9uIHBhY2thZ2VfaW5mbygpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwa2cgPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKTtcbiAgICAgICAgcmV0dXJuIHBrZztcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogJ2F3cy1jcnQtbm9kZWpzJyxcbiAgICAgICAgICAgIHZlcnNpb246ICdVTktOT1dOJ1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMucGFja2FnZV9pbmZvID0gcGFja2FnZV9pbmZvO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBBV1MgQ1JUIHZlcnNpb25cbiAqXG4gKiBAY2F0ZWdvcnkgU3lzdGVtXG4gKi9cbmZ1bmN0aW9uIGNydF92ZXJzaW9uKCkge1xuICAgIGNvbnN0IHBrZyA9IHBhY2thZ2VfaW5mbygpO1xuICAgIHJldHVybiBwa2cudmVyc2lvbjtcbn1cbmV4cG9ydHMuY3J0X3ZlcnNpb24gPSBjcnRfdmVyc2lvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsYXRmb3JtLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubmV3TGlmdGVkUHJvbWlzZSA9IGV4cG9ydHMubWFrZVNlbGZDbGVhbmluZ1Byb21pc2UgPSB2b2lkIDA7XG4vKipcbiAqIEEgaGVscGVyIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBwcm9taXNlIGFuZCBjcmVhdGVzIGEgd3JhcHBlciBwcm9taXNlIHRoYXQgaW52b2tlcyBhIGNsZWFudXAgZnVuY3Rpb24gd2hlbiB0aGUgaW5uZXJcbiAqIHByb21pc2UgaXMgY29tcGxldGVkIGZvciBhbnkgcmVhc29uLiAgVGhlIHByaW1hcnkgdXNlIGlzIHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMgcmVsYXRlZCB0byBwcm9taXNlIGNvbXBsZXRpb25cbiAqIHdoZW4gdGhlIHByb21pc2UgYWN0dWFsbHkgY29tcGxldGVzLiAgVGhpcyBhbGxvd3MgdXMgdG8ga2VlcCB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBvbiBhIENhbmNlbENvbnRyb2xsZXIgYm91bmRlZCBieVxuICogdGhlIG51bWJlciBvZiBpbmNvbXBsZXRlIHByb21pc2VzIGFzc29jaWF0ZWQgd2l0aCBpdC4gIElmIHdlIGRpZG4ndCBjbGVhbiB1cCwgdGhlIGxpc3RlbmVyIHNldCB3b3VsZCBncm93XG4gKiB3aXRob3V0IGxpbWl0LlxuICpcbiAqIEZvciBjYW5jZWxsYXRpb24sIHRoaXMgbGVhZHMgdG8gYW4gaW50ZXJuYWwgdXNhZ2UgcGF0dGVybiB0aGF0IGlzIHN0cm9uZ2x5IHJlY29tbWVuZGVkOlxuICpcbiAqIGBgYFxuICogYXN5bmMgZG9Tb21ldGhpbmdDYW5jZWxsYWJsZSguLi4pIDogUHJvbWlzZTwuLi4+IHtcbiAqICAgIHJlbW92ZUxpc3RlbmVyRnVuY3RvciA9IHVuZGVmaW5lZDtcbiAqXG4gKiAgICBpbm5lclByb21pc2UgPSBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gKiAgICAgICAuLi5cbiAqXG4gKiAgICAgICBjYW5jZWxMaXN0ZW5lckZ1bmN0aW9uID0gKCkgPT4geyBjbGVhbiB1cCBhbmQgcmVqZWN0IGlubmVyUHJvbWlzZSB9O1xuICogICAgICAgcmVtb3ZlTGlzdGVuZXJGdW5jdG9yID0gY2FuY2VsQ29udHJvbGxlci5hZGRMaXN0ZW5lcihjYW5jZWxMaXN0ZW5lckZ1bmN0aW9uKTtcbiAqXG4gKiAgICAgICAuLi5cbiAqICAgIH1cbiAqXG4gKiAgICByZXR1cm4gbWFrZVNlbGZDbGVhbmluZ1Byb21pc2UoaW5uZXJQcm9taXNlLCByZW1vdmVMaXN0ZW5lckZ1bmN0b3IpO1xuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHByb21pc2UgcHJvbWlzZSB0byB3cmFwIHdpdGggYXV0b21hdGljIGNsZWFudXBcbiAqIEBwYXJhbSBjbGVhbmVyIGNsZWFuZXIgZnVuY3Rpb24gdG8gaW52b2tlIHdoZW4gdGhlIHByb21pc2UgaXMgY29tcGxldGVkXG4gKlxuICogQHJldHVybiBhIHByb21pc2Ugd2l0aCBtYXRjaGluZyByZXN1bHQvZXJyLCB0aGF0IGludm9rZXMgdGhlIGNsZWFuZXIgZnVuY3Rpb24gb24gaW5uZXIgcHJvbWlzZSBjb21wbGV0aW9uXG4gKi9cbmZ1bmN0aW9uIG1ha2VTZWxmQ2xlYW5pbmdQcm9taXNlKHByb21pc2UsIGNsZWFuZXIpIHtcbiAgICBpZiAoIWNsZWFuZXIpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlLmZpbmFsbHkoKCkgPT4geyBjbGVhbmVyKCk7IH0pO1xufVxuZXhwb3J0cy5tYWtlU2VsZkNsZWFuaW5nUHJvbWlzZSA9IG1ha2VTZWxmQ2xlYW5pbmdQcm9taXNlO1xuLyoqXG4gKiBGYWN0b3J5IGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIG5ldyBMaWZ0ZWRQcm9taXNlXG4gKlxuICogQHBhcmFtIHByb21pc2VCb2R5IG9wdGlvbmFsIGJvZHkgZnVuY3Rpb24gdG8gaW52b2tlIGFzIHBhcnQgb2YgcHJvbWlzZSBjcmVhdGlvblxuICpcbiAqIEByZXR1cm4gYSBwcm9taXNlIHdob3NlIHJlc29sdmUgYW5kIHJlamVjdCBtZXRob2RzIGhhdmUgYmVlbiBsaWZ0ZWQgb3V0IG9mIHRoZSBpbnRlcm5hbCBib2R5IGZ1bmN0aW9uIGFuZCBtYWRlXG4gKiBhdmFpbGFibGUgdG8gZXh0ZXJuYWwgYWN0b3JzXG4gKi9cbmZ1bmN0aW9uIG5ld0xpZnRlZFByb21pc2UocHJvbWlzZUJvZHkpIHtcbiAgICBsZXQgbG9jYWxSZXNvbHZlID0gdW5kZWZpbmVkO1xuICAgIGxldCBsb2NhbFJlamVjdCA9IHVuZGVmaW5lZDtcbiAgICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbG9jYWxSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgbG9jYWxSZWplY3QgPSByZWplY3Q7XG4gICAgfSk7XG4gICAgaWYgKCFsb2NhbFJlc29sdmUgfHwgIWxvY2FsUmVqZWN0KSB7XG4gICAgICAgIC8vIHNob3VsZCBuZXZlciBoYXBwZW5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGJpbmQgcmVzb2x2ZSBhbmQgcmVqZWN0IHdoZW4gbWFraW5nIGxpZnRlZCBwcm9taXNlXCIpO1xuICAgIH1cbiAgICBpZiAocHJvbWlzZUJvZHkpIHtcbiAgICAgICAgcHJvbWlzZUJvZHkobG9jYWxSZXNvbHZlLCBsb2NhbFJlamVjdCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgICAgIHJlc29sdmU6IGxvY2FsUmVzb2x2ZSxcbiAgICAgICAgcmVqZWN0OiBsb2NhbFJlamVjdFxuICAgIH07XG59XG5leHBvcnRzLm5ld0xpZnRlZFByb21pc2UgPSBuZXdMaWZ0ZWRQcm9taXNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbWlzZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXNpbmcgPSB2b2lkIDA7XG4vKipcbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHJlc291cmNlIGluIGFuIGFzeW5jIGNvbnRleHQuIFRoaXMgd2lsbCBtYWtlIHN1cmUgdGhlXG4gKiByZXNvdXJjZXMgYXJlIGNsZWFuZWQgdXAgYmVmb3JlIHJldHVybmluZy5cbiAqXG4gKiBFeGFtcGxlOlxuICogYGBgXG4gKiBhd2FpdCB1c2luZyhyZXMgPSBuZXcgU29tZVJlc291cmNlKCksIGFzeW5jIChyZXMpID0+ICB7XG4gKiAgICAgcmVzLmRvX3RoZV90aGluZygpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAY2F0ZWdvcnkgU3lzdGVtXG4gKi9cbmZ1bmN0aW9uIHVzaW5nKHJlc291cmNlLCBmdW5jKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHlpZWxkIGZ1bmMocmVzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgcmVzb3VyY2UuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy51c2luZyA9IHVzaW5nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2Vfc2FmZXR5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DcnRFcnJvciA9IGV4cG9ydHMucmVzb3VyY2Vfc2FmZXR5ID0gZXhwb3J0cy5wcm9taXNlID0gZXhwb3J0cy5wbGF0Zm9ybSA9IGV4cG9ydHMubXF0dDUgPSBleHBvcnRzLm1xdHQgPSBleHBvcnRzLmlvdCA9IGV4cG9ydHMuaW8gPSBleHBvcnRzLmh0dHAgPSBleHBvcnRzLmV2ZW50c3RyZWFtID0gZXhwb3J0cy5jcnQgPSBleHBvcnRzLmNyeXB0byA9IGV4cG9ydHMuY2hlY2tzdW1zID0gZXhwb3J0cy5jYW5jZWwgPSBleHBvcnRzLmF1dGggPSB2b2lkIDA7XG4vLyBUaGlzIGlzIHRoZSBlbnRyeSBwb2ludCBmb3IgdGhlIEFXUyBDUlQgbm9kZWpzIG5hdGl2ZSBsaWJyYXJpZXNcbi8qIGNvbW1vbiBsaWJzICovXG5jb25zdCBjYW5jZWwgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vY29tbW9uL2NhbmNlbFwiKSk7XG5leHBvcnRzLmNhbmNlbCA9IGNhbmNlbDtcbmNvbnN0IHBsYXRmb3JtID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbW1vbi9wbGF0Zm9ybVwiKSk7XG5leHBvcnRzLnBsYXRmb3JtID0gcGxhdGZvcm07XG5jb25zdCBwcm9taXNlID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbW1vbi9wcm9taXNlXCIpKTtcbmV4cG9ydHMucHJvbWlzZSA9IHByb21pc2U7XG5jb25zdCByZXNvdXJjZV9zYWZldHkgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vY29tbW9uL3Jlc291cmNlX3NhZmV0eVwiKSk7XG5leHBvcnRzLnJlc291cmNlX3NhZmV0eSA9IHJlc291cmNlX3NhZmV0eTtcbi8qIG5vZGUgc3BlY2lmaWMgbGlicyAqL1xuY29uc3QgYXV0aCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9uYXRpdmUvYXV0aFwiKSk7XG5leHBvcnRzLmF1dGggPSBhdXRoO1xuY29uc3QgY2hlY2tzdW1zID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL25hdGl2ZS9jaGVja3N1bXNcIikpO1xuZXhwb3J0cy5jaGVja3N1bXMgPSBjaGVja3N1bXM7XG5jb25zdCBjcnQgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vbmF0aXZlL2NydFwiKSk7XG5leHBvcnRzLmNydCA9IGNydDtcbmNvbnN0IGNyeXB0byA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9uYXRpdmUvY3J5cHRvXCIpKTtcbmV4cG9ydHMuY3J5cHRvID0gY3J5cHRvO1xuY29uc3QgZXZlbnRzdHJlYW0gPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vbmF0aXZlL2V2ZW50c3RyZWFtXCIpKTtcbmV4cG9ydHMuZXZlbnRzdHJlYW0gPSBldmVudHN0cmVhbTtcbmNvbnN0IGh0dHAgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vbmF0aXZlL2h0dHBcIikpO1xuZXhwb3J0cy5odHRwID0gaHR0cDtcbmNvbnN0IGlvID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL25hdGl2ZS9pb1wiKSk7XG5leHBvcnRzLmlvID0gaW87XG5jb25zdCBpb3QgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vbmF0aXZlL2lvdFwiKSk7XG5leHBvcnRzLmlvdCA9IGlvdDtcbmNvbnN0IG1xdHQgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vbmF0aXZlL21xdHRcIikpO1xuZXhwb3J0cy5tcXR0ID0gbXF0dDtcbmNvbnN0IG1xdHQ1ID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL25hdGl2ZS9tcXR0NVwiKSk7XG5leHBvcnRzLm1xdHQ1ID0gbXF0dDU7XG5jb25zdCBlcnJvcl8xID0gcmVxdWlyZShcIi4vbmF0aXZlL2Vycm9yXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ3J0RXJyb3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVycm9yXzEuQ3J0RXJyb3I7IH0gfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYXdzX3ZlcmlmeV9zaWd2NGFfc2lnbmluZyA9IGV4cG9ydHMuYXdzX3NpZ25fcmVxdWVzdCA9IGV4cG9ydHMuQXdzU2lnbmVkQm9keUhlYWRlclR5cGUgPSBleHBvcnRzLkF3c1NpZ25lZEJvZHlWYWx1ZSA9IGV4cG9ydHMuQXdzU2lnbmF0dXJlVHlwZSA9IGV4cG9ydHMuQXdzU2lnbmluZ0FsZ29yaXRobSA9IGV4cG9ydHMuQXdzQ3JlZGVudGlhbHNQcm92aWRlciA9IHZvaWQgMDtcbmNvbnN0IGJpbmRpbmdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9iaW5kaW5nXCIpKTtcbmNvbnN0IGVycm9yXzEgPSByZXF1aXJlKFwiLi9lcnJvclwiKTtcbmNvbnN0IGlvXzEgPSByZXF1aXJlKFwiLi9pb1wiKTtcbi8qKlxuICogQ3JlZGVudGlhbHMgcHJvdmlkZXJzIHNvdXJjZSB0aGUgQXdzQ3JlZGVudGlhbHMgbmVlZGVkIHRvIHNpZ24gYW4gYXV0aGVudGljYXRlZCBBV1MgcmVxdWVzdC5cbiAqXG4gKiBXZSBkb24ndCBjdXJyZW50bHkgZXhwb3NlIGFuIGludGVyZmFjZSBmb3IgZmV0Y2hpbmcgY3JlZGVudGlhbHMgZnJvbSBKYXZhc2NyaXB0LlxuICpcbiAqIEBjYXRlZ29yeSBBdXRoXG4gKi9cbi8qIFN1YmNsYXNzIGZvciB0aGUgcHVycG9zZSBvZiBleHBvc2luZyBhIG5vbi1OYXRpdmVIYW5kbGUgYmFzZWQgQVBJICovXG5jbGFzcyBBd3NDcmVkZW50aWFsc1Byb3ZpZGVyIGV4dGVuZHMgYmluZGluZ18xLmRlZmF1bHQuQXdzQ3JlZGVudGlhbHNQcm92aWRlciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBkZWZhdWx0IGNyZWRlbnRpYWxzIHByb3ZpZGVyIHRvIGJlIHVzZWQgaW50ZXJuYWxseSBmb3IgQVdTIGNyZWRlbnRpYWxzIHJlc29sdXRpb246XG4gICAgICpcbiAgICAgKiAgIFRoZSBDUlQncyBkZWZhdWx0IHByb3ZpZGVyIGNoYWluIGN1cnJlbnRseSBzb3VyY2VzIGluIHRoaXMgb3JkZXI6XG4gICAgICpcbiAgICAgKiAgICAgMS4gRW52aXJvbm1lbnRcbiAgICAgKiAgICAgMi4gUHJvZmlsZVxuICAgICAqICAgICAzLiAoY29uZGl0aW9uYWwsIG9mZiBieSBkZWZhdWx0KSBFQ1NcbiAgICAgKiAgICAgNC4gKGNvbmRpdGlvbmFsLCBvbiBieSBkZWZhdWx0KSBFQzIgSW5zdGFuY2UgTWV0YWRhdGFcbiAgICAgKlxuICAgICAqIEBwYXJhbSBib290c3RyYXAgKG9wdGlvbmFsKSBjbGllbnQgYm9vdHN0cmFwIHRvIGJlIHVzZWQgdG8gZXN0YWJsaXNoIGFueSByZXF1aXJlZCBuZXR3b3JrIGNvbm5lY3Rpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBjcmVkZW50aWFscyBwcm92aWRlciB1c2luZyBkZWZhdWx0IGNyZWRlbnRpYWxzIHJlc29sdXRpb24gcnVsZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3RGVmYXVsdChib290c3RyYXAgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLm5ld0RlZmF1bHQoYm9vdHN0cmFwICE9IG51bGwgPyBib290c3RyYXAubmF0aXZlX2hhbmRsZSgpIDogbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY3JlZGVudGlhbHMgcHJvdmlkZXIgdGhhdCByZXR1cm5zIGEgZml4ZWQgc2V0IG9mIGNyZWRlbnRpYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFjY2Vzc19rZXkgYWNjZXNzIGtleSB0byB1c2UgaW4gdGhlIHN0YXRpYyBjcmVkZW50aWFsc1xuICAgICAqIEBwYXJhbSBzZWNyZXRfa2V5IHNlY3JldCBrZXkgdG8gdXNlIGluIHRoZSBzdGF0aWMgY3JlZGVudGlhbHNcbiAgICAgKiBAcGFyYW0gc2Vzc2lvbl90b2tlbiAob3B0aW9uYWwpIHNlc3Npb24gdG9rZW4gdG8gdXNlIGluIHRoZSBzdGF0aWMgY3JlZGVudGlhbHNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgbmV3IGNyZWRlbnRpYWxzIHByb3ZpZGVyIHRoYXQgd2lsbCByZXR1cm4gYSBmaXhlZCBzZXQgb2YgQVdTIGNyZWRlbnRpYWxzXG4gICAgICovXG4gICAgc3RhdGljIG5ld1N0YXRpYyhhY2Nlc3Nfa2V5LCBzZWNyZXRfa2V5LCBzZXNzaW9uX3Rva2VuKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5uZXdTdGF0aWMoYWNjZXNzX2tleSwgc2VjcmV0X2tleSwgc2Vzc2lvbl90b2tlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY3JlZGVudGlhbHMgcHJvdmlkZXIgdGhhdCBzb3VyY2VzIGNyZWRlbnRpYWxzIGZyb20gdGhlIEFXUyBDb2duaXRvIElkZW50aXR5IHNlcnZpY2UgdmlhIHRoZVxuICAgICAqIEdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHkgaHR0cCBBUEkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZmlnIHByb3ZpZGVyIGNvbmZpZ3VyYXRpb24gbmVjZXNzYXJ5IHRvIG1ha2UgR2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eSB3ZWIgcmVxdWVzdHNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgbmV3IGNyZWRlbnRpYWxzIHByb3ZpZGVyIHRoYXQgcmV0dXJucyBjcmVkZW50aWFscyBzb3VyY2VkIGZyb20gdGhlIEFXUyBDb2duaXRvIElkZW50aXR5IHNlcnZpY2VcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3Q29nbml0byhjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyA9PSBudWxsIHx8IGNvbmZpZyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKFwiQXdzQ3JlZGVudGlhbHNQcm92aWRlciBuZXdDb2duaXRvOiBDb2duaXRvIGNvbmZpZyBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIubmV3Q29nbml0byhjb25maWcsIGNvbmZpZy50bHNDb250ZXh0ICE9IG51bGwgPyBjb25maWcudGxzQ29udGV4dC5uYXRpdmVfaGFuZGxlKCkgOiBuZXcgaW9fMS5DbGllbnRUbHNDb250ZXh0KCkubmF0aXZlX2hhbmRsZSgpLCBjb25maWcuYm9vdHN0cmFwICE9IG51bGwgPyBjb25maWcuYm9vdHN0cmFwLm5hdGl2ZV9oYW5kbGUoKSA6IG51bGwsIGNvbmZpZy5odHRwUHJveHlPcHRpb25zID8gY29uZmlnLmh0dHBQcm94eU9wdGlvbnMuY3JlYXRlX25hdGl2ZV9oYW5kbGUoKSA6IG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNyZWRlbnRpYWxzIHByb3ZpZGVyIHRoYXQgc291cmNlcyBjcmVkZW50aWFscyBmcm9tIHRoZSB0aGUgWDUwOSBzZXJ2aWNlIG9uIEFXUyBJb1QgQ29yZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb25maWcgcHJvdmlkZXIgY29uZmlndXJhdGlvbiBuZWNlc3NhcnkgdG8gc291cmNlIGNyZWRlbnRpYWxzIHZpYSBYNTA5XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBjcmVkZW50aWFscyBwcm92aWRlciB0aGF0IHJldHVybnMgY3JlZGVudGlhbHMgc291cmNlZCBmcm9tIHRoZSBBV1MgWDUwOSBzZXJ2aWNlXG4gICAgICovXG4gICAgc3RhdGljIG5ld1g1MDkoY29uZmlnKSB7XG4gICAgICAgIGlmIChjb25maWcgPT0gbnVsbCB8fCBjb25maWcgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihcIkF3c0NyZWRlbnRpYWxzUHJvdmlkZXIgbmV3WDUwOTogWDUwOSBjb25maWcgbm90IGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLm5ld1g1MDkoY29uZmlnLCBjb25maWcudGxzQ29udGV4dC5uYXRpdmVfaGFuZGxlKCksIGNvbmZpZy5odHRwUHJveHlPcHRpb25zID8gY29uZmlnLmh0dHBQcm94eU9wdGlvbnMuY3JlYXRlX25hdGl2ZV9oYW5kbGUoKSA6IG51bGwpO1xuICAgIH1cbn1cbmV4cG9ydHMuQXdzQ3JlZGVudGlhbHNQcm92aWRlciA9IEF3c0NyZWRlbnRpYWxzUHJvdmlkZXI7XG4vKipcbiAqIEFXUyBzaWduaW5nIGFsZ29yaXRobSBlbnVtZXJhdGlvbi5cbiAqXG4gKiBAY2F0ZWdvcnkgQXV0aFxuICovXG52YXIgQXdzU2lnbmluZ0FsZ29yaXRobTtcbihmdW5jdGlvbiAoQXdzU2lnbmluZ0FsZ29yaXRobSkge1xuICAgIC8qKiBVc2UgdGhlIEF3cyBzaWduYXR1cmUgdmVyc2lvbiA0IHNpZ25pbmcgcHJvY2VzcyB0byBzaWduIHRoZSByZXF1ZXN0ICovXG4gICAgQXdzU2lnbmluZ0FsZ29yaXRobVtBd3NTaWduaW5nQWxnb3JpdGhtW1wiU2lnVjRcIl0gPSAwXSA9IFwiU2lnVjRcIjtcbiAgICAvKiogVXNlIHRoZSBBd3Mgc2lnbmF0dXJlIHZlcnNpb24gNCBBc3ltbWV0cmljIHNpZ25pbmcgcHJvY2VzcyB0byBzaWduIHRoZSByZXF1ZXN0ICovXG4gICAgQXdzU2lnbmluZ0FsZ29yaXRobVtBd3NTaWduaW5nQWxnb3JpdGhtW1wiU2lnVjRBc3ltbWV0cmljXCJdID0gMV0gPSBcIlNpZ1Y0QXN5bW1ldHJpY1wiO1xufSkoQXdzU2lnbmluZ0FsZ29yaXRobSA9IGV4cG9ydHMuQXdzU2lnbmluZ0FsZ29yaXRobSB8fCAoZXhwb3J0cy5Bd3NTaWduaW5nQWxnb3JpdGhtID0ge30pKTtcbi8qKlxuICogQVdTIHNpZ25hdHVyZSB0eXBlIGVudW1lcmF0aW9uLlxuICpcbiAqIEBjYXRlZ29yeSBBdXRoXG4gKi9cbnZhciBBd3NTaWduYXR1cmVUeXBlO1xuKGZ1bmN0aW9uIChBd3NTaWduYXR1cmVUeXBlKSB7XG4gICAgLyoqIFNpZ24gYW4gaHR0cCByZXF1ZXN0IGFuZCBhcHBseSB0aGUgc2lnbmluZyByZXN1bHRzIGFzIGhlYWRlcnMgKi9cbiAgICBBd3NTaWduYXR1cmVUeXBlW0F3c1NpZ25hdHVyZVR5cGVbXCJIdHRwUmVxdWVzdFZpYUhlYWRlcnNcIl0gPSAwXSA9IFwiSHR0cFJlcXVlc3RWaWFIZWFkZXJzXCI7XG4gICAgLyoqIFNpZ24gYW4gaHR0cCByZXF1ZXN0IGFuZCBhcHBseSB0aGUgc2lnbmluZyByZXN1bHRzIGFzIHF1ZXJ5IHBhcmFtcyAqL1xuICAgIEF3c1NpZ25hdHVyZVR5cGVbQXdzU2lnbmF0dXJlVHlwZVtcIkh0dHBSZXF1ZXN0VmlhUXVlcnlQYXJhbXNcIl0gPSAxXSA9IFwiSHR0cFJlcXVlc3RWaWFRdWVyeVBhcmFtc1wiO1xuICAgIC8qKiBTaWduIGFuIGh0dHAgcmVxdWVzdCBwYXlsb2FkIGNodW5rICovXG4gICAgQXdzU2lnbmF0dXJlVHlwZVtBd3NTaWduYXR1cmVUeXBlW1wiSHR0cFJlcXVlc3RDaHVua1wiXSA9IDJdID0gXCJIdHRwUmVxdWVzdENodW5rXCI7XG4gICAgLyoqIFNpZ24gYW4gZXZlbnQgc3RyZWFtIGV2ZW50ICovXG4gICAgQXdzU2lnbmF0dXJlVHlwZVtBd3NTaWduYXR1cmVUeXBlW1wiSHR0cFJlcXVlc3RFdmVudFwiXSA9IDNdID0gXCJIdHRwUmVxdWVzdEV2ZW50XCI7XG59KShBd3NTaWduYXR1cmVUeXBlID0gZXhwb3J0cy5Bd3NTaWduYXR1cmVUeXBlIHx8IChleHBvcnRzLkF3c1NpZ25hdHVyZVR5cGUgPSB7fSkpO1xuLyoqXG4gKiBWYWx1ZXMgZm9yIHVzZSB3aXRoIHtAbGluayBBd3NTaWduaW5nQ29uZmlnLnNpZ25lZF9ib2R5X3ZhbHVlfS5cbiAqXG4gKiBTb21lIHNlcnZpY2VzIHVzZSBzcGVjaWFsIHZhbHVlcyAoZS5nLiAnVU5TSUdORUQtUEFZTE9BRCcpIHdoZW4gdGhlIGJvZHlcbiAqIGlzIG5vdCBiZWluZyBzaWduZWQgaW4gdGhlIHVzdWFsIHdheS5cbiAqXG4gKiBAY2F0ZWdvcnkgQXV0aFxuICovXG52YXIgQXdzU2lnbmVkQm9keVZhbHVlO1xuKGZ1bmN0aW9uIChBd3NTaWduZWRCb2R5VmFsdWUpIHtcbiAgICAvKiogVXNlIHRoZSBTSEEtMjU2IG9mIHRoZSBlbXB0eSBzdHJpbmcgYXMgdGhlIGNhbm9uaWNhbCByZXF1ZXN0IHBheWxvYWQgdmFsdWUgKi9cbiAgICBBd3NTaWduZWRCb2R5VmFsdWVbXCJFbXB0eVNoYTI1NlwiXSA9IFwiZTNiMGM0NDI5OGZjMWMxNDlhZmJmNGM4OTk2ZmI5MjQyN2FlNDFlNDY0OWI5MzRjYTQ5NTk5MWI3ODUyYjg1NVwiO1xuICAgIC8qKiBVc2UgdGhlIGxpdGVyYWwgc3RyaW5nICdVTlNJR05FRC1QQVlMT0FEJyBhcyB0aGUgY2Fub25pY2FsIHJlcXVlc3QgcGF5bG9hZCB2YWx1ZSAgKi9cbiAgICBBd3NTaWduZWRCb2R5VmFsdWVbXCJVbnNpZ25lZFBheWxvYWRcIl0gPSBcIlVOU0lHTkVELVBBWUxPQURcIjtcbiAgICAvKiogVXNlIHRoZSBsaXRlcmFsIHN0cmluZyAnU1RSRUFNSU5HLUFXUzQtSE1BQy1TSEEyNTYtUEFZTE9BRCcgYXMgdGhlIGNhbm9uaWNhbCByZXF1ZXN0IHBheWxvYWQgdmFsdWUgICovXG4gICAgQXdzU2lnbmVkQm9keVZhbHVlW1wiU3RyZWFtaW5nQXdzNEhtYWNTaGEyNTZQYXlsb2FkXCJdID0gXCJTVFJFQU1JTkctQVdTNC1ITUFDLVNIQTI1Ni1QQVlMT0FEXCI7XG4gICAgLyoqIFVzZSB0aGUgbGl0ZXJhbCBzdHJpbmcgJ1NUUkVBTUlORy1BV1M0LUhNQUMtU0hBMjU2LUVWRU5UUycgYXMgdGhlIGNhbm9uaWNhbCByZXF1ZXN0IHBheWxvYWQgdmFsdWUgICovXG4gICAgQXdzU2lnbmVkQm9keVZhbHVlW1wiU3RyZWFtaW5nQXdzNEhtYWNTaGEyNTZFdmVudHNcIl0gPSBcIlNUUkVBTUlORy1BV1M0LUhNQUMtU0hBMjU2LUVWRU5UU1wiO1xufSkoQXdzU2lnbmVkQm9keVZhbHVlID0gZXhwb3J0cy5Bd3NTaWduZWRCb2R5VmFsdWUgfHwgKGV4cG9ydHMuQXdzU2lnbmVkQm9keVZhbHVlID0ge30pKTtcbi8qKlxuICogQVdTIHNpZ25lZCBib2R5IGhlYWRlciBlbnVtZXJhdGlvbi5cbiAqXG4gKiBAY2F0ZWdvcnkgQXV0aFxuICovXG52YXIgQXdzU2lnbmVkQm9keUhlYWRlclR5cGU7XG4oZnVuY3Rpb24gKEF3c1NpZ25lZEJvZHlIZWFkZXJUeXBlKSB7XG4gICAgLyoqIERvIG5vdCBhZGQgYSBoZWFkZXIgY29udGFpbmluZyB0aGUgY2Fub25pY2FsIHJlcXVlc3QgcGF5bG9hZCB2YWx1ZSAqL1xuICAgIEF3c1NpZ25lZEJvZHlIZWFkZXJUeXBlW0F3c1NpZ25lZEJvZHlIZWFkZXJUeXBlW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgLyoqIEFkZCB0aGUgWC1BbXotQ29udGVudC1TaGEyNTYgaGVhZGVyIHdpdGggdGhlIGNhbm9uaWNhbCByZXF1ZXN0IHBheWxvYWQgdmFsdWUgKi9cbiAgICBBd3NTaWduZWRCb2R5SGVhZGVyVHlwZVtBd3NTaWduZWRCb2R5SGVhZGVyVHlwZVtcIlhBbXpDb250ZW50U2hhMjU2XCJdID0gMV0gPSBcIlhBbXpDb250ZW50U2hhMjU2XCI7XG59KShBd3NTaWduZWRCb2R5SGVhZGVyVHlwZSA9IGV4cG9ydHMuQXdzU2lnbmVkQm9keUhlYWRlclR5cGUgfHwgKGV4cG9ydHMuQXdzU2lnbmVkQm9keUhlYWRlclR5cGUgPSB7fSkpO1xuLyoqXG4gKiBQZXJmb3JtIEFXUyBIVFRQIHJlcXVlc3Qgc2lnbmluZy5cbiAqXG4gKiBUaGUge0BsaW5rIEh0dHBSZXF1ZXN0fSBpcyB0cmFuc2Zvcm1lZCBhc3luY2hyb25vdXNseSxcbiAqIGFjY29yZGluZyB0byB0aGUge0BsaW5rIEF3c1NpZ25pbmdDb25maWd9LlxuICpcbiAqIFdoZW4gc2lnbmluZzpcbiAqICAxLiAgSXQgaXMgZ29vZCBwcmFjdGljZSB0byB1c2UgYSBuZXcgY29uZmlnIGZvciBlYWNoIHNpZ25hdHVyZSxcbiAqICAgICAgb3IgdGhlIGRhdGUgbWlnaHQgZ2V0IHRvbyBvbGQuXG4gKlxuICogIDIuICBEbyBub3QgYWRkIHRoZSBmb2xsb3dpbmcgaGVhZGVycyB0byByZXF1ZXN0cyBiZWZvcmUgc2lnbmluZywgdGhleSBtYXkgYmUgYWRkZWQgYnkgdGhlIHNpZ25lcjpcbiAqICAgICAgeC1hbXotY29udGVudC1zaGEyNTYsXG4gKiAgICAgIFgtQW16LURhdGUsXG4gKiAgICAgIEF1dGhvcml6YXRpb25cbiAqXG4gKiAgMy4gIERvIG5vdCBhZGQgdGhlIGZvbGxvd2luZyBxdWVyeSBwYXJhbXMgdG8gcmVxdWVzdHMgYmVmb3JlIHNpZ25pbmcsIHRoZXkgbWF5IGJlIGFkZGVkIGJ5IHRoZSBzaWduZXI6XG4gKiAgICAgIFgtQW16LVNpZ25hdHVyZSxcbiAqICAgICAgWC1BbXotRGF0ZSxcbiAqICAgICAgWC1BbXotQ3JlZGVudGlhbCxcbiAqICAgICAgWC1BbXotQWxnb3JpdGhtLFxuICogICAgICBYLUFtei1TaWduZWRIZWFkZXJzXG4gKiBAcGFyYW0gcmVxdWVzdCBUaGUgSFRUUCByZXF1ZXN0IHRvIHNpZ24uXG4gKiBAcGFyYW0gY29uZmlnIENvbmZpZ3VyYXRpb24gZm9yIHNpZ25pbmcuXG4gKiBAcmV0dXJucyBBIHByb21pc2Ugd2hvc2UgcmVzdWx0IHdpbGwgYmUgdGhlIHNpZ25lZFxuICogICAgICAge0BsaW5rIEh0dHBSZXF1ZXN0fS4gVGhlIGZ1dHVyZSB3aWxsIGNvbnRhaW4gYW4gZXhjZXB0aW9uXG4gKiAgICAgICBpZiB0aGUgc2lnbmluZyBwcm9jZXNzIGZhaWxzLlxuICpcbiAqIEBjYXRlZ29yeSBBdXRoXG4gKi9cbmZ1bmN0aW9uIGF3c19zaWduX3JlcXVlc3QocmVxdWVzdCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLyogTm90ZTogaWYgdGhlIGJvZHkgb2YgcmVxdWVzdCBoYXMgbm90IGZ1bGx5IGxvYWRlZCwgaXQgd2lsbCBsZWFkIHRvIGFuIGVuZGxlc3MgbG9vcC5cbiAgICAgICAgICAgICAgICAgKiBVc2VyIHNob3VsZCBzZXQgdGhlIHNpZ25lZF9ib2R5X3ZhbHVlIG9mIGNvbmZpZyB0byBwcmV2ZW50IHRoaXMgZW5kbGVzcyBsb29wIGluIHRoaXMgY2FzZSAqL1xuICAgICAgICAgICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0LmF3c19zaWduX3JlcXVlc3QocmVxdWVzdCwgY29uZmlnLCAoZXJyb3JfY29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JfY29kZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcXVlc3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBlcnJvcl8xLkNydEVycm9yKGVycm9yX2NvZGUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmF3c19zaWduX3JlcXVlc3QgPSBhd3Nfc2lnbl9yZXF1ZXN0O1xuLyoqXG4gKlxuICogQGludGVybmFsXG4gKlxuICogVGVzdCBvbmx5LlxuICogVmVyaWZpZXM6XG4gKiAgKDEpIFRoZSBjYW5vbmljYWwgcmVxdWVzdCBnZW5lcmF0ZWQgZHVyaW5nIHNpZ3Y0YSBzaWduaW5nIG9mIHRoZSByZXF1ZXN0IG1hdGNoZXMgd2hhdCBpcyBwYXNzZWQgaW5cbiAqICAoMikgVGhlIHNpZ25hdHVyZSBwYXNzZWQgaW4gaXMgYSB2YWxpZCBFQ0RTQSBzaWduYXR1cmUgb2YgdGhlIGhhc2hlZCBzdHJpbmctdG8tc2lnbiBkZXJpdmVkIGZyb20gdGhlXG4gKiAgY2Fub25pY2FsIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0gcmVxdWVzdCBUaGUgSFRUUCByZXF1ZXN0IHRvIHNpZ24uXG4gKiBAcGFyYW0gY29uZmlnIENvbmZpZ3VyYXRpb24gZm9yIHNpZ25pbmcuXG4gKiBAcGFyYW0gZXhwZWN0ZWRfY2Fub25pY2FsX3JlcXVlc3QgU3RyaW5nIHR5cGUgb2YgZXhwZWN0ZWQgY2Fub25pY2FsIHJlcXVlc3QuIFJlZmVyIHRvIFhYWChsaW5rIHRvIGRvYz8pXG4gKiBAcGFyYW0gc2lnbmF0dXJlIFRoZSBnZW5lcmF0ZWQgc2lnbmF0dXJlIHN0cmluZyBmcm9tIHtAbGluayBhd3Nfc2lnbl9yZXF1ZXN0fSwgd2hpY2ggaXMgdmVyaWZpZWQgaGVyZS5cbiAqIEBwYXJhbSBlY2Nfa2V5X3B1Yl94IHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIHB1YmxpYyBwYXJ0IG9mIHRoZSBlY2Mga2V5IHRvIHZlcmlmeSB0aGUgc2lnbmF0dXJlLlxuICogQHBhcmFtIGVjY19rZXlfcHViX3kgdGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgcHVibGljIHBhcnQgb2YgdGhlIGVjYyBrZXkgdG8gdmVyaWZ5IHRoZSBzaWduYXR1cmVcbiAqIEByZXR1cm5zIFRydWUsIGlmIHRoZSB2ZXJpZmljYXRpb24gc3VjY2VlZC4gT3RoZXJ3aXNlLCBmYWxzZS5cbiAqL1xuZnVuY3Rpb24gYXdzX3ZlcmlmeV9zaWd2NGFfc2lnbmluZyhyZXF1ZXN0LCBjb25maWcsIGV4cGVjdGVkX2Nhbm9uaWNhbF9yZXF1ZXN0LCBzaWduYXR1cmUsIGVjY19rZXlfcHViX3gsIGVjY19rZXlfcHViX3kpIHtcbiAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQuYXdzX3ZlcmlmeV9zaWd2NGFfc2lnbmluZyhyZXF1ZXN0LCBjb25maWcsIGV4cGVjdGVkX2Nhbm9uaWNhbF9yZXF1ZXN0LCBzaWduYXR1cmUsIGVjY19rZXlfcHViX3gsIGVjY19rZXlfcHViX3kpO1xufVxuZXhwb3J0cy5hd3NfdmVyaWZ5X3NpZ3Y0YV9zaWduaW5nID0gYXdzX3ZlcmlmeV9zaWd2NGFfc2lnbmluZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dGguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXdzSW90TXF0dENvbm5lY3Rpb25Db25maWdCdWlsZGVyID0gdm9pZCAwO1xuY29uc3QgbXF0dF8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9tcXR0XCIpO1xuY29uc3QgaW8gPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vaW9cIikpO1xuY29uc3QgaW9fMSA9IHJlcXVpcmUoXCIuL2lvXCIpO1xuY29uc3QgcGxhdGZvcm0gPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4uL2NvbW1vbi9wbGF0Zm9ybVwiKSk7XG5jb25zdCBlcnJvcl8xID0gcmVxdWlyZShcIi4vZXJyb3JcIik7XG5jb25zdCBhdXRoXzEgPSByZXF1aXJlKFwiLi9hdXRoXCIpO1xuY29uc3QgaW90X3NoYXJlZCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi4vY29tbW9uL2F3c19pb3Rfc2hhcmVkXCIpKTtcbi8qKlxuICogQnVpbGRlciBmdW5jdGlvbnMgdG8gY3JlYXRlIGEge0BsaW5rIE1xdHRDb25uZWN0aW9uQ29uZmlnfSB3aGljaCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZVxuICogYSB7QGxpbmsgTXF0dENsaWVudENvbm5lY3Rpb259LCBjb25maWd1cmVkIGZvciB1c2Ugd2l0aCBBV1MgSW9ULlxuICpcbiAqIEBjYXRlZ29yeSBJb1RcbiAqL1xuY2xhc3MgQXdzSW90TXF0dENvbm5lY3Rpb25Db25maWdCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0bHNfY3R4X29wdGlvbnMpIHtcbiAgICAgICAgdGhpcy50bHNfY3R4X29wdGlvbnMgPSB0bHNfY3R4X29wdGlvbnM7XG4gICAgICAgIHRoaXMucGFyYW1zID0ge1xuICAgICAgICAgICAgY2xpZW50X2lkOiAnJyxcbiAgICAgICAgICAgIGhvc3RfbmFtZTogJycsXG4gICAgICAgICAgICBzb2NrZXRfb3B0aW9uczogbmV3IGlvLlNvY2tldE9wdGlvbnMoKSxcbiAgICAgICAgICAgIHBvcnQ6IDg4ODMsXG4gICAgICAgICAgICB1c2Vfd2Vic29ja2V0OiBmYWxzZSxcbiAgICAgICAgICAgIGNsZWFuX3Nlc3Npb246IGZhbHNlLFxuICAgICAgICAgICAga2VlcF9hbGl2ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgd2lsbDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdXNlcm5hbWU6IFwiXCIsXG4gICAgICAgICAgICBwYXNzd29yZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdGxzX2N0eDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcmVjb25uZWN0X21pbl9zZWM6IG1xdHRfMS5ERUZBVUxUX1JFQ09OTkVDVF9NSU5fU0VDLFxuICAgICAgICAgICAgcmVjb25uZWN0X21heF9zZWM6IG1xdHRfMS5ERUZBVUxUX1JFQ09OTkVDVF9NQVhfU0VDXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaXNfdXNpbmdfY3VzdG9tX2F1dGhvcml6ZXIgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGJ1aWxkZXIgd2l0aCBtVExTIGZpbGUgcGF0aHNcbiAgICAgKiBAcGFyYW0gY2VydF9wYXRoIC0gUGF0aCB0byBjZXJ0aWZpY2F0ZSwgaW4gUEVNIGZvcm1hdFxuICAgICAqIEBwYXJhbSBrZXlfcGF0aCAtIFBhdGggdG8gcHJpdmF0ZSBrZXksIGluIFBFTSBmb3JtYXRcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3X210bHNfYnVpbGRlcl9mcm9tX3BhdGgoY2VydF9wYXRoLCBrZXlfcGF0aCkge1xuICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBBd3NJb3RNcXR0Q29ubmVjdGlvbkNvbmZpZ0J1aWxkZXIoaW9fMS5UbHNDb250ZXh0T3B0aW9ucy5jcmVhdGVfY2xpZW50X3dpdGhfbXRsc19mcm9tX3BhdGgoY2VydF9wYXRoLCBrZXlfcGF0aCkpO1xuICAgICAgICBidWlsZGVyLnBhcmFtcy5wb3J0ID0gODg4MztcbiAgICAgICAgaWYgKGlvLmlzX2FscG5fYXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgIGJ1aWxkZXIudGxzX2N0eF9vcHRpb25zLmFscG5fbGlzdC51bnNoaWZ0KCd4LWFtem4tbXF0dC1jYScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgYnVpbGRlciB3aXRoIG1UTFMgY2VydCBwYWlyIGluIG1lbW9yeVxuICAgICAqIEBwYXJhbSBjZXJ0IC0gQ2VydGlmaWNhdGUsIGluIFBFTSBmb3JtYXRcbiAgICAgKiBAcGFyYW0gcHJpdmF0ZV9rZXkgLSBQcml2YXRlIGtleSwgaW4gUEVNIGZvcm1hdFxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdfbXRsc19idWlsZGVyKGNlcnQsIHByaXZhdGVfa2V5KSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHRDb25uZWN0aW9uQ29uZmlnQnVpbGRlcihpb18xLlRsc0NvbnRleHRPcHRpb25zLmNyZWF0ZV9jbGllbnRfd2l0aF9tdGxzKGNlcnQsIHByaXZhdGVfa2V5KSk7XG4gICAgICAgIGJ1aWxkZXIucGFyYW1zLnBvcnQgPSA4ODgzO1xuICAgICAgICBpZiAoaW8uaXNfYWxwbl9hdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgYnVpbGRlci50bHNfY3R4X29wdGlvbnMuYWxwbl9saXN0LnVuc2hpZnQoJ3gtYW16bi1tcXR0LWNhJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBidWlsZGVyIHdpdGggbVRMUyB1c2luZyBhIFBLQ1MjMTEgbGlicmFyeSBmb3IgcHJpdmF0ZSBrZXkgb3BlcmF0aW9ucy5cbiAgICAgKlxuICAgICAqIE5PVEU6IFRoaXMgY29uZmlndXJhdGlvbiBvbmx5IHdvcmtzIG9uIFVuaXggZGV2aWNlcy5cbiAgICAgKiBAcGFyYW0gcGtjczExX29wdGlvbnMgLSBQS0NTIzExIG9wdGlvbnMuXG4gICAgICovXG4gICAgc3RhdGljIG5ld19tdGxzX3BrY3MxMV9idWlsZGVyKHBrY3MxMV9vcHRpb25zKSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHRDb25uZWN0aW9uQ29uZmlnQnVpbGRlcihpb18xLlRsc0NvbnRleHRPcHRpb25zLmNyZWF0ZV9jbGllbnRfd2l0aF9tdGxzX3BrY3MxMShwa2NzMTFfb3B0aW9ucykpO1xuICAgICAgICBidWlsZGVyLnBhcmFtcy5wb3J0ID0gODg4MztcbiAgICAgICAgaWYgKGlvLmlzX2FscG5fYXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgIGJ1aWxkZXIudGxzX2N0eF9vcHRpb25zLmFscG5fbGlzdC51bnNoaWZ0KCd4LWFtem4tbXF0dC1jYScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgYnVpbGRlciB3aXRoIG1UTFMgdXNpbmcgYSBQS0NTIzEyIGZpbGUgZm9yIHByaXZhdGUga2V5IG9wZXJhdGlvbnMuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGlzIGNvbmZpZ3VyYXRpb24gb25seSB3b3JrcyBvbiBNYWNPUyBkZXZpY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBrY3MxMl9vcHRpb25zIC0gVGhlIFBLQ1MjMTIgb3B0aW9ucyB0byB1c2UgaW4gdGhlIGJ1aWxkZXIuXG4gICAgICovXG4gICAgc3RhdGljIG5ld19tdGxzX3BrY3MxMl9idWlsZGVyKHBrY3MxMl9vcHRpb25zKSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHRDb25uZWN0aW9uQ29uZmlnQnVpbGRlcihpb18xLlRsc0NvbnRleHRPcHRpb25zLmNyZWF0ZV9jbGllbnRfd2l0aF9tdGxzX3BrY3MxMl9mcm9tX3BhdGgocGtjczEyX29wdGlvbnMucGtjczEyX2ZpbGUsIHBrY3MxMl9vcHRpb25zLnBrY3MxMl9wYXNzd29yZCkpO1xuICAgICAgICBidWlsZGVyLnBhcmFtcy5wb3J0ID0gODg4MztcbiAgICAgICAgaWYgKGlvLmlzX2FscG5fYXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgIGJ1aWxkZXIudGxzX2N0eF9vcHRpb25zLmFscG5fbGlzdC51bnNoaWZ0KCd4LWFtem4tbXF0dC1jYScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgYnVpbGRlciB3aXRoIG1UTFMgdXNpbmcgYSBjZXJ0aWZpY2F0ZSBpbiBhIFdpbmRvd3MgY2VydGlmaWNhdGUgc3RvcmUuXG4gICAgICpcbiAgICAgKiBOT1RFOiBUaGlzIGNvbmZpZ3VyYXRpb24gb25seSB3b3JrcyBvbiBXaW5kb3dzIGRldmljZXMuXG4gICAgICogQHBhcmFtIGNlcnRpZmljYXRlX3BhdGggLSBQYXRoIHRvIGNlcnRpZmljYXRlIGluIGEgV2luZG93cyBjZXJ0aWZpY2F0ZSBzdG9yZS5cbiAgICAgKiAgICAgIFRoZSBwYXRoIG11c3QgdXNlIGJhY2tzbGFzaGVzIGFuZCBlbmQgd2l0aCB0aGUgY2VydGlmaWNhdGUncyB0aHVtYnByaW50LlxuICAgICAqICAgICAgRXhhbXBsZTogYEN1cnJlbnRVc2VyXFxNWVxcQTExRjhBOUI1REY1Qjk4QkEzNTA4RkJDQTU3NUQwOTU3MEUwRDJDNmBcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3X210bHNfd2luZG93c19jZXJ0X3N0b3JlX3BhdGhfYnVpbGRlcihjZXJ0aWZpY2F0ZV9wYXRoKSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHRDb25uZWN0aW9uQ29uZmlnQnVpbGRlcihpb18xLlRsc0NvbnRleHRPcHRpb25zLmNyZWF0ZV9jbGllbnRfd2l0aF9tdGxzX3dpbmRvd3NfY2VydF9zdG9yZV9wYXRoKGNlcnRpZmljYXRlX3BhdGgpKTtcbiAgICAgICAgYnVpbGRlci5wYXJhbXMucG9ydCA9IDg4ODM7XG4gICAgICAgIGlmIChpby5pc19hbHBuX2F2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICBidWlsZGVyLnRsc19jdHhfb3B0aW9ucy5hbHBuX2xpc3QudW5zaGlmdCgneC1hbXpuLW1xdHQtY2EnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBidWlsZGVyIHdpdGggZGVmYXVsdCBUbHMgb3B0aW9ucy4gVGhpcyByZXF1aXJlcyBzZXR0aW5nIHRoZSBjb25uZWN0aW9uIGRldGFpbHMgbWFudWFsbHkuXG4gICAgICovXG4gICAgc3RhdGljIG5ld19kZWZhdWx0X2J1aWxkZXIoKSB7XG4gICAgICAgIGxldCBjdHhfb3B0aW9ucyA9IG5ldyBpby5UbHNDb250ZXh0T3B0aW9ucygpO1xuICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBBd3NJb3RNcXR0Q29ubmVjdGlvbkNvbmZpZ0J1aWxkZXIoY3R4X29wdGlvbnMpO1xuICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gICAgc3RhdGljIG5ld193ZWJzb2NrZXRfYnVpbGRlciguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5ld193aXRoX3dlYnNvY2tldHMoLi4uYXJncyk7XG4gICAgfVxuICAgIHN0YXRpYyBjb25maWd1cmVfd2Vic29ja2V0X2hhbmRzaGFrZShidWlsZGVyLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoYnVpbGRlciA9PSBudWxsIHx8IGJ1aWxkZXIgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoXCJBd3NJb3RNcXR0Q29ubmVjdGlvbkNvbmZpZ0J1aWxkZXIgY29uZmlndXJlX3dlYnNvY2tldF9oYW5kc2hha2U6IGJ1aWxkZXIgbm90IGRlZmluZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWlsZGVyLnBhcmFtcy53ZWJzb2NrZXRfaGFuZHNoYWtlX3RyYW5zZm9ybSA9IChyZXF1ZXN0LCBkb25lKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmluZ19jb25maWcgPSAoX2IgPSAoX2EgPSBvcHRpb25zLmNyZWF0ZV9zaWduaW5nX2NvbmZpZykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob3B0aW9ucykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHtcbiAgICAgICAgICAgICAgICAgICAgYWxnb3JpdGhtOiBhdXRoXzEuQXdzU2lnbmluZ0FsZ29yaXRobS5TaWdWNCxcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlX3R5cGU6IGF1dGhfMS5Bd3NTaWduYXR1cmVUeXBlLkh0dHBSZXF1ZXN0VmlhUXVlcnlQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBvcHRpb25zLmNyZWRlbnRpYWxzX3Byb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICByZWdpb246IG9wdGlvbnMucmVnaW9uLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlOiAoX2MgPSBvcHRpb25zLnNlcnZpY2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFwiaW90ZGV2aWNlZ2F0ZXdheVwiLFxuICAgICAgICAgICAgICAgICAgICBzaWduZWRfYm9keV92YWx1ZTogYXV0aF8xLkF3c1NpZ25lZEJvZHlWYWx1ZS5FbXB0eVNoYTI1NixcbiAgICAgICAgICAgICAgICAgICAgb21pdF9zZXNzaW9uX3Rva2VuOiB0cnVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgKDAsIGF1dGhfMS5hd3Nfc2lnbl9yZXF1ZXN0KShyZXF1ZXN0LCBzaWduaW5nX2NvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIGVycm9yXzEuQ3J0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoZXJyb3IuZXJyb3JfY29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lKDMpOyAvKiBUT0RPOiBBV1NfRVJST1JfVU5LTk9XTiAqL1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZXMgdGhlIGNvbm5lY3Rpb24gdG8gdXNlIE1RVFQgb3ZlciB3ZWJzb2NrZXRzLiBGb3JjZXMgdGhlIHBvcnQgdG8gNDQzLlxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdfd2l0aF93ZWJzb2NrZXRzKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHRsc19jdHhfb3B0aW9ucyA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50bHNfY3R4X29wdGlvbnM7XG4gICAgICAgIGlmICghdGxzX2N0eF9vcHRpb25zKSB7XG4gICAgICAgICAgICB0bHNfY3R4X29wdGlvbnMgPSBuZXcgaW9fMS5UbHNDb250ZXh0T3B0aW9ucygpO1xuICAgICAgICAgICAgdGxzX2N0eF9vcHRpb25zLmFscG5fbGlzdCA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHRDb25uZWN0aW9uQ29uZmlnQnVpbGRlcih0bHNfY3R4X29wdGlvbnMpO1xuICAgICAgICBidWlsZGVyLnBhcmFtcy51c2Vfd2Vic29ja2V0ID0gdHJ1ZTtcbiAgICAgICAgYnVpbGRlci5wYXJhbXMucHJveHlfb3B0aW9ucyA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wcm94eV9vcHRpb25zO1xuICAgICAgICBpZiAoYnVpbGRlci50bHNfY3R4X29wdGlvbnMpIHtcbiAgICAgICAgICAgIGJ1aWxkZXIucGFyYW1zLnBvcnQgPSA0NDM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25maWd1cmVfd2Vic29ja2V0X2hhbmRzaGFrZShidWlsZGVyLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvciBBUEkgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBicm93c2VyIHZlcnNpb24uIEFsaWFzIGZvciB7QGxpbmsgbmV3X3dpdGhfd2Vic29ja2V0c30uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIG5ldyB3ZWJzb2NrZXQgY29ubmVjdGlvbiBidWlsZGVyIG9iamVjdCB3aXRoIGRlZmF1bHQgVExTIGNvbmZpZ3VyYXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3X2J1aWxkZXJfZm9yX3dlYnNvY2tldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV3X3dpdGhfd2Vic29ja2V0cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIGRlZmF1bHQgc3lzdGVtIHRydXN0IHN0b3JlLlxuICAgICAqIEBwYXJhbSBjYV9kaXJwYXRoIC0gT25seSB1c2VkIG9uIFVuaXgtc3R5bGUgc3lzdGVtcyB3aGVyZSBhbGwgdHJ1c3QgYW5jaG9ycyBhcmVcbiAgICAgKiBzdG9yZWQgaW4gYSBkaXJlY3RvcnkgKGUuZy4gL2V0Yy9zc2wvY2VydHMpLlxuICAgICAqIEBwYXJhbSBjYV9maWxlcGF0aCAtIFNpbmdsZSBmaWxlIGNvbnRhaW5pbmcgYWxsIHRydXN0IENBcywgaW4gUEVNIGZvcm1hdFxuICAgICAqL1xuICAgIHdpdGhfY2VydGlmaWNhdGVfYXV0aG9yaXR5X2Zyb21fcGF0aChjYV9kaXJwYXRoLCBjYV9maWxlcGF0aCkge1xuICAgICAgICB0aGlzLnRsc19jdHhfb3B0aW9ucy5vdmVycmlkZV9kZWZhdWx0X3RydXN0X3N0b3JlX2Zyb21fcGF0aChjYV9kaXJwYXRoLCBjYV9maWxlcGF0aCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIGRlZmF1bHQgc3lzdGVtIHRydXN0IHN0b3JlLlxuICAgICAqIEBwYXJhbSBjYSAtIEJ1ZmZlciBjb250YWluaW5nIGFsbCB0cnVzdCBDQXMsIGluIFBFTSBmb3JtYXRcbiAgICAgKi9cbiAgICB3aXRoX2NlcnRpZmljYXRlX2F1dGhvcml0eShjYSkge1xuICAgICAgICB0aGlzLnRsc19jdHhfb3B0aW9ucy5vdmVycmlkZV9kZWZhdWx0X3RydXN0X3N0b3JlKGNhKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZXMgdGhlIElvVCBlbmRwb2ludCBmb3IgdGhpcyBjb25uZWN0aW9uXG4gICAgICogQHBhcmFtIGVuZHBvaW50IFRoZSBJb1QgZW5kcG9pbnQgdG8gY29ubmVjdCB0b1xuICAgICAqL1xuICAgIHdpdGhfZW5kcG9pbnQoZW5kcG9pbnQpIHtcbiAgICAgICAgdGhpcy5wYXJhbXMuaG9zdF9uYW1lID0gZW5kcG9pbnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcG9ydCB0byBjb25uZWN0IHRvIG9uIHRoZSBJb1QgZW5kcG9pbnRcbiAgICAgKiBAcGFyYW0gcG9ydCBUaGUgcG9ydCB0byBjb25uZWN0IHRvIG9uIHRoZSBJb1QgZW5kcG9pbnQuIFVzdWFsbHkgODg4MyBmb3IgTVFUVCwgb3IgNDQzIGZvciB3ZWJzb2NrZXRzXG4gICAgICovXG4gICAgd2l0aF9wb3J0KHBvcnQpIHtcbiAgICAgICAgdGhpcy5wYXJhbXMucG9ydCA9IHBvcnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmVzIHRoZSBjbGllbnRfaWQgdG8gdXNlIHRvIGNvbm5lY3QgdG8gdGhlIElvVCBDb3JlIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0gY2xpZW50X2lkIFRoZSBjbGllbnQgaWQgZm9yIHRoaXMgY29ubmVjdGlvbi4gTmVlZHMgdG8gYmUgdW5pcXVlIGFjcm9zcyBhbGwgZGV2aWNlcy9jbGllbnRzLlxuICAgICAqL1xuICAgIHdpdGhfY2xpZW50X2lkKGNsaWVudF9pZCkge1xuICAgICAgICB0aGlzLnBhcmFtcy5jbGllbnRfaWQgPSBjbGllbnRfaWQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRoZSBzZXJ2aWNlIHNob3VsZCB0cnkgdG8gcmVzdW1lIHByaW9yIHN1YnNjcmlwdGlvbnMsIGlmIGl0IGhhcyBhbnlcbiAgICAgKiBAcGFyYW0gY2xlYW5fc2Vzc2lvbiB0cnVlIGlmIHRoZSBzZXNzaW9uIHNob3VsZCBkcm9wIHByaW9yIHN1YnNjcmlwdGlvbnMgd2hlbiB0aGlzIGNsaWVudCBjb25uZWN0cywgZmFsc2UgdG8gcmVzdW1lIHRoZSBzZXNzaW9uXG4gICAgICovXG4gICAgd2l0aF9jbGVhbl9zZXNzaW9uKGNsZWFuX3Nlc3Npb24pIHtcbiAgICAgICAgdGhpcy5wYXJhbXMuY2xlYW5fc2Vzc2lvbiA9IGNsZWFuX3Nlc3Npb247XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmVzIE1RVFQga2VlcC1hbGl2ZSB2aWEgUElORyBtZXNzYWdlcy4gTm90ZSB0aGF0IHRoaXMgaXMgbm90IFRDUCBrZWVwYWxpdmUuXG4gICAgICogQHBhcmFtIGtlZXBfYWxpdmUgSG93IG9mdGVuIGluIHNlY29uZHMgdG8gc2VuZCBhbiBNUVRUIFBJTkcgbWVzc2FnZSB0byB0aGUgc2VydmljZSB0byBrZWVwIHRoZSBjb25uZWN0aW9uIGFsaXZlXG4gICAgICovXG4gICAgd2l0aF9rZWVwX2FsaXZlX3NlY29uZHMoa2VlcF9hbGl2ZSkge1xuICAgICAgICB0aGlzLnBhcmFtcy5rZWVwX2FsaXZlID0ga2VlcF9hbGl2ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZXMgdGhlIFRDUCBzb2NrZXQgdGltZW91dCAoaW4gbWlsbGlzZWNvbmRzKVxuICAgICAqIEBwYXJhbSB0aW1lb3V0X21zIFRDUCBzb2NrZXQgdGltZW91dFxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgd2l0aF90aW1lb3V0X21zKHRpbWVvdXRfbXMpIHtcbiAgICAgICAgdGhpcy53aXRoX3BpbmdfdGltZW91dF9tcyh0aW1lb3V0X21zKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZXMgdGhlIFBJTkdSRVEgcmVzcG9uc2UgdGltZW91dCAoaW4gbWlsbGlzZWNvbmRzKVxuICAgICAqIEBwYXJhbSBwaW5nX3RpbWVvdXQgUElOR1JFUSByZXNwb25zZSB0aW1lb3V0XG4gICAgICovXG4gICAgd2l0aF9waW5nX3RpbWVvdXRfbXMocGluZ190aW1lb3V0KSB7XG4gICAgICAgIHRoaXMucGFyYW1zLnBpbmdfdGltZW91dCA9IHBpbmdfdGltZW91dDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZXMgdGhlIHByb3RvY29sIG9wZXJhdGlvbiB0aW1lb3V0IChpbiBtaWxsaXNlY29uZHMpXG4gICAgICogQHBhcmFtIHByb3RvY29sX29wZXJhdGlvbl90aW1lb3V0IHByb3RvY29sIG9wZXJhdGlvbiB0aW1lb3V0XG4gICAgICovXG4gICAgd2l0aF9wcm90b2NvbF9vcGVyYXRpb25fdGltZW91dF9tcyhwcm90b2NvbF9vcGVyYXRpb25fdGltZW91dCkge1xuICAgICAgICB0aGlzLnBhcmFtcy5wcm90b2NvbF9vcGVyYXRpb25fdGltZW91dCA9IHByb3RvY29sX29wZXJhdGlvbl90aW1lb3V0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlcyB0aGUgd2lsbCBtZXNzYWdlIHRvIGJlIHNlbnQgd2hlbiB0aGlzIGNsaWVudCBkaXNjb25uZWN0c1xuICAgICAqIEBwYXJhbSB3aWxsIFRoZSB3aWxsIHRvcGljLCBxb3MsIGFuZCBtZXNzYWdlXG4gICAgICovXG4gICAgd2l0aF93aWxsKHdpbGwpIHtcbiAgICAgICAgdGhpcy5wYXJhbXMud2lsbCA9IHdpbGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmVzIHRoZSBjb21tb24gc2V0dGluZ3MgZm9yIHRoZSBzb2NrZXQgdG8gdXNlIHdoZW4gb3BlbmluZyBhIGNvbm5lY3Rpb24gdG8gdGhlIHNlcnZlclxuICAgICAqIEBwYXJhbSBzb2NrZXRfb3B0aW9ucyBUaGUgc29ja2V0IHNldHRpbmdzXG4gICAgICovXG4gICAgd2l0aF9zb2NrZXRfb3B0aW9ucyhzb2NrZXRfb3B0aW9ucykge1xuICAgICAgICB0aGlzLnBhcmFtcy5zb2NrZXRfb3B0aW9ucyA9IHNvY2tldF9vcHRpb25zO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlcyBBV1MgY3JlZGVudGlhbHMgKHVzdWFsbHkgZnJvbSBDb2duaXRvKSBmb3IgdGhpcyBjb25uZWN0aW9uXG4gICAgICogQHBhcmFtIGF3c19yZWdpb24gVGhlIHNlcnZpY2UgcmVnaW9uIHRvIGNvbm5lY3QgdG9cbiAgICAgKiBAcGFyYW0gYXdzX2FjY2Vzc19pZCBJQU0gQWNjZXNzIElEXG4gICAgICogQHBhcmFtIGF3c19zZWNyZXRfa2V5IElBTSBTZWNyZXQgS2V5XG4gICAgICogQHBhcmFtIGF3c19zdHNfdG9rZW4gU1RTIHRva2VuIGZyb20gQ29nbml0byAob3B0aW9uYWwpXG4gICAgICovXG4gICAgd2l0aF9jcmVkZW50aWFscyhhd3NfcmVnaW9uLCBhd3NfYWNjZXNzX2lkLCBhd3Nfc2VjcmV0X2tleSwgYXdzX3N0c190b2tlbikge1xuICAgICAgICByZXR1cm4gQXdzSW90TXF0dENvbm5lY3Rpb25Db25maWdCdWlsZGVyLmNvbmZpZ3VyZV93ZWJzb2NrZXRfaGFuZHNoYWtlKHRoaXMsIHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzX3Byb3ZpZGVyOiBhdXRoXzEuQXdzQ3JlZGVudGlhbHNQcm92aWRlci5uZXdTdGF0aWMoYXdzX2FjY2Vzc19pZCwgYXdzX3NlY3JldF9rZXksIGF3c19zdHNfdG9rZW4pLFxuICAgICAgICAgICAgcmVnaW9uOiBhd3NfcmVnaW9uLFxuICAgICAgICAgICAgc2VydmljZTogXCJpb3RkZXZpY2VnYXRld2F5XCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgdGhlIGh0dHAgcHJveHkgb3B0aW9ucyB0byB1c2UgdG8gZXN0YWJsaXNoIHRoZSBjb25uZWN0aW9uXG4gICAgICogQHBhcmFtIHByb3h5X29wdGlvbnMgcHJveHkgb3B0aW9ucyB0byB1c2UgdG8gZXN0YWJsaXNoIHRoZSBtcXR0IGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICB3aXRoX2h0dHBfcHJveHlfb3B0aW9ucyhwcm94eV9vcHRpb25zKSB7XG4gICAgICAgIHRoaXMucGFyYW1zLnByb3h5X29wdGlvbnMgPSBwcm94eV9vcHRpb25zO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VzdG9tIGF1dGhvcml6ZXIgc2V0dGluZ3MuIFRoaXMgZnVuY3Rpb24gd2lsbCBtb2RpZnkgdGhlIHVzZXJuYW1lLCBwb3J0LCBhbmQgVExTIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXNlcm5hbWUgVGhlIHVzZXJuYW1lIHRvIHVzZSB3aXRoIHRoZSBjdXN0b20gYXV0aG9yaXplci4gSWYgYW4gZW1wdHkgc3RyaW5nIGlzIHBhc3NlZCwgaXQgd2lsbFxuICAgICAqICAgICAgICAgICAgICAgICBjaGVjayB0byBzZWUgaWYgYSB1c2VybmFtZSBoYXMgYWxyZWFkeSBiZWVuIHNldCAodmlhIFdpdGhVc2VybmFtZSBmdW5jdGlvbikuIElmIG5vXG4gICAgICogICAgICAgICAgICAgICAgIHVzZXJuYW1lIGlzIHNldCB0aGVuIG5vIHVzZXJuYW1lIHdpbGwgYmUgcGFzc2VkIHdpdGggdGhlIE1RVFQgY29ubmVjdGlvbi5cbiAgICAgKiBAcGFyYW0gYXV0aG9yaXplcl9uYW1lIFRoZSBuYW1lIG9mIHRoZSBjdXN0b20gYXV0aG9yaXplci4gSWYgYW4gZW1wdHkgc3RyaW5nIGlzIHBhc3NlZCwgdGhlblxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAneC1hbXotY3VzdG9tYXV0aG9yaXplci1uYW1lJyB3aWxsIG5vdCBiZSBhZGRlZCB3aXRoIHRoZSBNUVRUIGNvbm5lY3Rpb24uXG4gICAgICogQHBhcmFtIGF1dGhvcml6ZXJfc2lnbmF0dXJlIFRoZSBzaWduYXR1cmUgb2YgdGhlIGN1c3RvbSBhdXRob3JpemVyLiBJZiBhbiBlbXB0eSBzdHJpbmcgaXMgcGFzc2VkLCB0aGVuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtYW16LWN1c3RvbWF1dGhvcml6ZXItc2lnbmF0dXJlJyB3aWxsIG5vdCBiZSBhZGRlZCB3aXRoIHRoZSBNUVRUIGNvbm5lY3Rpb24uXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlIHNpZ25hdHVyZSBtdXN0IGJlIGJhc2VkIG9uIHRoZSBwcml2YXRlIGtleSBhc3NvY2lhdGVkIHdpdGggdGhlIGN1c3RvbSBhdXRob3JpemVyLlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBzaWduYXR1cmUgbXVzdCBiZSBiYXNlNjQgZW5jb2RlZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZCBpZiB0aGUgY3VzdG9tIGF1dGhvcml6ZXIgaGFzIHNpZ25pbmcgZW5hYmxlZC4gIEl0IGlzIHN0cm9uZ2x5IHN1Z2dlc3RlZCB0byBVUkwtZW5jb2RlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyB2YWx1ZTsgdGhlIFNESyB3aWxsIG5vdCBkbyBzbyBmb3IgeW91LlxuICAgICAqIEBwYXJhbSBwYXNzd29yZCBUaGUgcGFzc3dvcmQgdG8gdXNlIHdpdGggdGhlIGN1c3RvbSBhdXRob3JpemVyLiBJZiBudWxsIGlzIHBhc3NlZCwgdGhlbiBubyBwYXNzd29yZCB3aWxsXG4gICAgICogICAgICAgICAgICAgICAgIGJlIHNldC5cbiAgICAgKiBAcGFyYW0gdG9rZW5fa2V5X25hbWUgS2V5IHVzZWQgdG8gZXh0cmFjdCB0aGUgY3VzdG9tIGF1dGhvcml6ZXIgdG9rZW4gZnJvbSBNUVRUIHVzZXJuYW1lIHF1ZXJ5LXN0cmluZyBwcm9wZXJ0aWVzLlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZCBpZiB0aGUgY3VzdG9tIGF1dGhvcml6ZXIgaGFzIHNpZ25pbmcgZW5hYmxlZC4gIEl0IGlzIHN0cm9uZ2x5IHN1Z2dlc3RlZCB0byBVUkwtZW5jb2RlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgIHRoaXMgdmFsdWU7IHRoZSBTREsgd2lsbCBub3QgZG8gc28gZm9yIHlvdS5cbiAgICAgKiBAcGFyYW0gdG9rZW5fdmFsdWUgQW4gb3BhcXVlIHRva2VuIHZhbHVlLlxuICAgICAqICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZCBpZiB0aGUgY3VzdG9tIGF1dGhvcml6ZXIgaGFzIHNpZ25pbmcgZW5hYmxlZC4gVGhpcyB2YWx1ZSBtdXN0IGJlIHNpZ25lZCBieSB0aGUgcHJpdmF0ZVxuICAgICAqICAgICAgICAgICAgICAgICAgICBrZXkgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXN0b20gYXV0aG9yaXplciBhbmQgdGhlIHJlc3VsdCBwbGFjZWQgaW4gdGhlIHRva2VuX3NpZ25hdHVyZSBhcmd1bWVudC5cbiAgICAgKi9cbiAgICB3aXRoX2N1c3RvbV9hdXRob3JpemVyKHVzZXJuYW1lLCBhdXRob3JpemVyX25hbWUsIGF1dGhvcml6ZXJfc2lnbmF0dXJlLCBwYXNzd29yZCwgdG9rZW5fa2V5X25hbWUsIHRva2VuX3ZhbHVlKSB7XG4gICAgICAgIHRoaXMuaXNfdXNpbmdfY3VzdG9tX2F1dGhvcml6ZXIgPSB0cnVlO1xuICAgICAgICBsZXQgdXNlcm5hbWVfc3RyaW5nID0gaW90X3NoYXJlZC5wb3B1bGF0ZV91c2VybmFtZV9zdHJpbmdfd2l0aF9jdXN0b21fYXV0aG9yaXplcihcIlwiLCB1c2VybmFtZSwgYXV0aG9yaXplcl9uYW1lLCBhdXRob3JpemVyX3NpZ25hdHVyZSwgdGhpcy5wYXJhbXMudXNlcm5hbWUsIHRva2VuX2tleV9uYW1lLCB0b2tlbl92YWx1ZSk7XG4gICAgICAgIHRoaXMucGFyYW1zLnVzZXJuYW1lID0gdXNlcm5hbWVfc3RyaW5nO1xuICAgICAgICB0aGlzLnBhcmFtcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgICAgICBpZiAoIXRoaXMucGFyYW1zLnVzZV93ZWJzb2NrZXQpIHtcbiAgICAgICAgICAgIHRoaXMudGxzX2N0eF9vcHRpb25zLmFscG5fbGlzdCA9IFtcIm1xdHRcIl07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJhbXMucG9ydCA9IDQ0MztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXNlcm5hbWUgZm9yIHRoZSBjb25uZWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXNlcm5hbWUgdGhlIHVzZXJuYW1lIHRoYXQgd2lsbCBiZSBwYXNzZWQgd2l0aCB0aGUgTVFUVCBjb25uZWN0aW9uXG4gICAgICovXG4gICAgd2l0aF91c2VybmFtZSh1c2VybmFtZSkge1xuICAgICAgICB0aGlzLnBhcmFtcy51c2VybmFtZSA9IHVzZXJuYW1lO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBwYXNzd29yZCBmb3IgdGhlIGNvbm5lY3Rpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXNzd29yZCB0aGUgcGFzc3dvcmQgdGhhdCB3aWxsIGJlIHBhc3NlZCB3aXRoIHRoZSBNUVRUIGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICB3aXRoX3Bhc3N3b3JkKHBhc3N3b3JkKSB7XG4gICAgICAgIHRoaXMucGFyYW1zLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgdGhlIG1heCByZWNvbm5lY3Rpb24gcGVyaW9kIChpbiBzZWNvbmQpLiBUaGUgcmVvbm5lY3Rpb24gcGVyaW9kIHdpbGxcbiAgICAgKiBiZSBzZXQgaW4gcmFuZ2Ugb2YgW3JlY29ubmVjdF9taW5fc2VjLHJlY29ubmVjdF9tYXhfc2VjXS5cbiAgICAgKiBAcGFyYW0gcmVjb25uZWN0X21heF9zZWMgbWF4IHJlY29ubmVjdGlvbiBwZXJpb2RcbiAgICAgKi9cbiAgICB3aXRoX3JlY29ubmVjdF9tYXhfc2VjKG1heF9zZWMpIHtcbiAgICAgICAgdGhpcy5wYXJhbXMucmVjb25uZWN0X21heF9zZWMgPSBtYXhfc2VjO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIHRoZSBtaW4gcmVjb25uZWN0aW9uIHBlcmlvZCAoaW4gc2Vjb25kKS4gVGhlIHJlb25uZWN0aW9uIHBlcmlvZCB3aWxsXG4gICAgICogYmUgc2V0IGluIHJhbmdlIG9mIFtyZWNvbm5lY3RfbWluX3NlYyxyZWNvbm5lY3RfbWF4X3NlY10uXG4gICAgICogQHBhcmFtIHJlY29ubmVjdF9taW5fc2VjIG1pbiByZWNvbm5lY3Rpb24gcGVyaW9kXG4gICAgICovXG4gICAgd2l0aF9yZWNvbm5lY3RfbWluX3NlYyhtaW5fc2VjKSB7XG4gICAgICAgIHRoaXMucGFyYW1zLnJlY29ubmVjdF9taW5fc2VjID0gbWluX3NlYztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyZWQgTXF0dENvbm5lY3Rpb25Db25maWcuICBPbiB0aGUgZmlyc3QgaW52b2NhdGlvbiBvZiB0aGlzIGZ1bmN0aW9uLCB0aGUgVExTIGNvbnRleHQgaXMgY2FjaGVkXG4gICAgICogYW5kIHJlLXVzZWQgb24gYWxsIHN1YnNlcXVlbnQgY2FsbHMgdG8gYnVpbGQoKS5cbiAgICAgKiBAcmV0dXJucyBUaGUgY29uZmlndXJlZCBNcXR0Q29ubmVjdGlvbkNvbmZpZ1xuICAgICAqL1xuICAgIGJ1aWxkKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLmNsaWVudF9pZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMucGFyYW1zLmhvc3RfbmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyAnY2xpZW50X2lkIGFuZCBlbmRwb2ludCBhcmUgcmVxdWlyZWQnO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiBhIGN1c3RvbSBhdXRob3JpemVyIGlzIGJlaW5nIHVzZWQgYnV0IG5vdCB0aHJvdWdoIHRoZSBidWlsZGVyXG4gICAgICAgIGlmICh0aGlzLmlzX3VzaW5nX2N1c3RvbV9hdXRob3JpemVyID09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoaW90X3NoYXJlZC5pc19zdHJpbmdfYW5kX25vdF9lbXB0eSh0aGlzLnBhcmFtcy51c2VybmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoKChfYSA9IHRoaXMucGFyYW1zLnVzZXJuYW1lKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5kZXhPZihcIngtYW16LWN1c3RvbWF1dGhvcml6ZXItbmFtZT1cIikpICE9IC0xIHx8ICgoX2IgPSB0aGlzLnBhcmFtcy51c2VybmFtZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmluZGV4T2YoXCJ4LWFtei1jdXN0b21hdXRob3JpemVyLXNpZ25hdHVyZT1cIikpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNfdXNpbmdfY3VzdG9tX2F1dGhvcml6ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJcyB0aGUgdXNlciB0cnlpbmcgdG8gY29ubmVjdCB1c2luZyBhIGN1c3RvbSBhdXRob3JpemVyP1xuICAgICAgICBpZiAodGhpcy5pc191c2luZ19jdXN0b21fYXV0aG9yaXplciA9PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMucG9ydCAhPSA0NDMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIldhcm5pbmc6IEF0dGVtcHRpbmcgdG8gY29ubmVjdCB0byBhdXRob3JpemVyIHdpdGggdW5zdXBwb3J0ZWQgcG9ydC4gUG9ydCBpcyBub3QgNDQzLi4uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qXG4gICAgICAgICAqIEJ5IGNhY2hpbmcgYW5kIHJldXNpbmcgdGhlIFRMUyBjb250ZXh0IHdlIGdldCBhbiBlbm9ybW91cyBtZW1vcnkgc2F2aW5ncyBvbiBhIHBlci1jb25uZWN0aW9uIGJhc2lzLlxuICAgICAgICAgKiBUaGUgdHJhZGVvZmYgaXMgdGhhdCB5b3UgY2FuJ3QgbW9kaWZ5IFRMUyBvcHRpb25zIGluIGJldHdlZW4gY2FsbHMgdG8gYnVpbGQuXG4gICAgICAgICAqIFByZXZpb3VzbHkgd2Ugd2VyZSBtYWtpbmcgYSBuZXcgb25lIHdpdGggZXZlcnkgc2luZ2xlIGNvbm5lY3Rpb24gd2hpY2ggaGFkIGEgaHVnZSBuZWdhdGl2ZSBpbXBhY3Qgb24gbGFyZ2VcbiAgICAgICAgICogc2NhbGUgdGVzdHMuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMudGxzX2N0eCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtcy50bHNfY3R4ID0gbmV3IGlvLkNsaWVudFRsc0NvbnRleHQodGhpcy50bHNfY3R4X29wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0aGUgbWV0cmljcyBzdHJpbmdcbiAgICAgICAgaWYgKGlvdF9zaGFyZWQuaXNfc3RyaW5nX2FuZF9ub3RfZW1wdHkodGhpcy5wYXJhbXMudXNlcm5hbWUpID09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtcy51c2VybmFtZSA9IFwiP1NESz1Ob2RlSlN2MiZWZXJzaW9uPVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCgoX2MgPSB0aGlzLnBhcmFtcy51c2VybmFtZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmluZGV4T2YoXCI/XCIpKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLnVzZXJuYW1lICs9IFwiJlNESz1Ob2RlSlN2MiZWZXJzaW9uPVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMudXNlcm5hbWUgKz0gXCI/U0RLPU5vZGVKU3YyJlZlcnNpb249XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJhbXMudXNlcm5hbWUgKz0gcGxhdGZvcm0uY3J0X3ZlcnNpb24oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1zO1xuICAgIH1cbn1cbmV4cG9ydHMuQXdzSW90TXF0dENvbm5lY3Rpb25Db25maWdCdWlsZGVyID0gQXdzSW90TXF0dENvbm5lY3Rpb25Db25maWdCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXdzX2lvdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Bd3NJb3RNcXR0NUNsaWVudENvbmZpZ0J1aWxkZXIgPSB2b2lkIDA7XG4vKipcbiAqIE1vZHVsZSBmb3IgdGhlIGNvbmZpZ3VyYXRpb24gb2YgTVFUVDUgY2xpZW50cyB0byBjb25uZWN0IHRvIEFXUyBJb1RcbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqL1xuY29uc3QgbXF0dDUgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vbXF0dDVcIikpO1xuY29uc3QgaW8gPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vaW9cIikpO1xuY29uc3QgYXV0aCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9hdXRoXCIpKTtcbmNvbnN0IGVycm9yXzEgPSByZXF1aXJlKFwiLi9lcnJvclwiKTtcbmNvbnN0IGlvdF9zaGFyZWQgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4uL2NvbW1vbi9hd3NfaW90X3NoYXJlZFwiKSk7XG5jb25zdCBtcXR0X3NoYXJlZCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi4vY29tbW9uL21xdHRfc2hhcmVkXCIpKTtcbi8qKlxuICogQnVpbGRlciBwYXR0ZXJuIGNsYXNzIHRvIGNyZWF0ZSBhbiB7QGxpbmsgTXF0dDVDbGllbnRDb25maWd9IHdoaWNoIGNhbiB0aGVuIGJlIHVzZWQgdG8gY3JlYXRlXG4gKiBhbiB7QGxpbmsgTXF0dDVDbGllbnR9LCBjb25maWd1cmVkIGZvciB1c2Ugd2l0aCBBV1MgSW9ULlxuICpcbiAqIERFVkVMT1BFUiBQUkVWSUVXIERJU0NMQUlNRVJcbiAqXG4gKiBNUVRUNSBzdXBwb3J0IGlzIGN1cnJlbnRseSBpbiAqKmRldmVsb3BlciBwcmV2aWV3KiouICBXZSBlbmNvdXJhZ2UgZmVlZGJhY2sgYXQgYWxsIHRpbWVzLCBidXQgZmVlZGJhY2sgZHVyaW5nIHRoZVxuICogcHJldmlldyB3aW5kb3cgaXMgZXNwZWNpYWxseSB2YWx1YWJsZSBpbiBzaGFwaW5nIHRoZSBmaW5hbCBwcm9kdWN0LiAgRHVyaW5nIHRoZSBwcmV2aWV3IHBlcmlvZCB3ZSBtYXkgbWFrZVxuICogYmFja3dhcmRzLWluY29tcGF0aWJsZSBjaGFuZ2VzIHRvIHRoZSBwdWJsaWMgQVBJLCBidXQgaW4gZ2VuZXJhbCwgdGhpcyBpcyBzb21ldGhpbmcgd2Ugd2lsbCB0cnkgb3VyIGJlc3QgdG8gYXZvaWQuXG4gKlxuICogW01RVFQ1IENsaWVudCBVc2VyIEd1aWRlXShodHRwczovL3d3dy5naXRodWIuY29tL2F3c2xhYnMvYXdzLWNydC1ub2RlanMvYmxvYi9tYWluL01RVFQ1LVVzZXJHdWlkZS5tZClcbiAqXG4gKiBAY2F0ZWdvcnkgSW9UXG4gKi9cbmNsYXNzIEF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlciB7XG4gICAgY29uc3RydWN0b3IoaG9zdE5hbWUsIHBvcnQsIHRsc0NvbnRleHRPcHRpb25zKSB7XG4gICAgICAgIHRoaXMudGxzQ29udGV4dE9wdGlvbnMgPSB0bHNDb250ZXh0T3B0aW9ucztcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICBob3N0TmFtZTogaG9zdE5hbWUsXG4gICAgICAgICAgICBwb3J0OiBwb3J0LFxuICAgICAgICAgICAgY29ubmVjdFByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICBrZWVwQWxpdmVJbnRlcnZhbFNlY29uZHM6IG1xdHRfc2hhcmVkLkRFRkFVTFRfS0VFUF9BTElWRVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4dGVuZGVkVmFsaWRhdGlvbkFuZEZsb3dDb250cm9sT3B0aW9uczogbXF0dDUuQ2xpZW50RXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2wuQXdzSW90Q29yZURlZmF1bHRzXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qIEJ1aWxkZXJzIGZvciBkaWZmZXJlbnQgY29ubmVjdGlvbiBtZXRob2RzIHRvIEFXUyBJb1QgQ29yZSAqL1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBNUVRUNSBjbGllbnQgYnVpbGRlciB0aGF0IHdpbGwgY3JlYXRlIE1RVFQ1IGNsaWVudHMgdGhhdCBjb25uZWN0IHRvIEFXUyBJb1QgQ29yZSB2aWEgbXV0dWFsIFRMU1xuICAgICAqIHVzaW5nIFg1MDkgY2VydGlmaWNhdGUgYW5kIGtleSBhdCB0aGUgc3VwcGxpZWQgZmlsZSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBob3N0TmFtZSAtIEFXUyBJb1QgZW5kcG9pbnQgdG8gY29ubmVjdCB0b1xuICAgICAqIEBwYXJhbSBjZXJ0UGF0aCAtIFBhdGggdG8gY2VydGlmaWNhdGUsIGluIFBFTSBmb3JtYXRcbiAgICAgKiBAcGFyYW0ga2V5UGF0aCAtIFBhdGggdG8gcHJpdmF0ZSBrZXksIGluIFBFTSBmb3JtYXRcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3RGlyZWN0TXF0dEJ1aWxkZXJXaXRoTXRsc0Zyb21QYXRoKGhvc3ROYW1lLCBjZXJ0UGF0aCwga2V5UGF0aCkge1xuICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBBd3NJb3RNcXR0NUNsaWVudENvbmZpZ0J1aWxkZXIoaG9zdE5hbWUsIEF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlci5ERUZBVUxUX0RJUkVDVF9NUVRUX1BPUlQsIGlvLlRsc0NvbnRleHRPcHRpb25zLmNyZWF0ZV9jbGllbnRfd2l0aF9tdGxzX2Zyb21fcGF0aChjZXJ0UGF0aCwga2V5UGF0aCkpO1xuICAgICAgICBpZiAoaW8uaXNfYWxwbl9hdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgYnVpbGRlci50bHNDb250ZXh0T3B0aW9ucy5hbHBuX2xpc3QudW5zaGlmdCgneC1hbXpuLW1xdHQtY2EnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IE1RVFQ1IGNsaWVudCBidWlsZGVyIHRoYXQgd2lsbCBjcmVhdGUgTVFUVDUgY2xpZW50cyB0aGF0IGNvbm5lY3QgdG8gQVdTIElvVCBDb3JlIHZpYSBtdXR1YWwgVExTXG4gICAgICogdXNpbmcgaW4tbWVtb3J5IFg1MDkgY2VydGlmaWNhdGUgYW5kIGtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBob3N0TmFtZSAtIEFXUyBJb1QgZW5kcG9pbnQgdG8gY29ubmVjdCB0b1xuICAgICAqIEBwYXJhbSBjZXJ0IC0gQ2VydGlmaWNhdGUsIGluIFBFTSBmb3JtYXRcbiAgICAgKiBAcGFyYW0gcHJpdmF0ZUtleSAtIFByaXZhdGUga2V5LCBpbiBQRU0gZm9ybWF0XG4gICAgICovXG4gICAgc3RhdGljIG5ld0RpcmVjdE1xdHRCdWlsZGVyV2l0aE10bHNGcm9tTWVtb3J5KGhvc3ROYW1lLCBjZXJ0LCBwcml2YXRlS2V5KSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlcihob3N0TmFtZSwgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyLkRFRkFVTFRfRElSRUNUX01RVFRfUE9SVCwgaW8uVGxzQ29udGV4dE9wdGlvbnMuY3JlYXRlX2NsaWVudF93aXRoX210bHMoY2VydCwgcHJpdmF0ZUtleSkpO1xuICAgICAgICBpZiAoaW8uaXNfYWxwbl9hdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgYnVpbGRlci50bHNDb250ZXh0T3B0aW9ucy5hbHBuX2xpc3QudW5zaGlmdCgneC1hbXpuLW1xdHQtY2EnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IE1RVFQ1IGNsaWVudCBidWlsZGVyIHRoYXQgd2lsbCBjcmVhdGUgTVFUVDUgY2xpZW50cyB0aGF0IGNvbm5lY3QgdG8gQVdTIElvVCBDb3JlIHZpYSBtdXR1YWwgVExTXG4gICAgICogdXNpbmcgYSBQS0NTMTEgbGlicmFyeSBmb3IgY2VydGlmaWNhdGUgYW5kIHByaXZhdGUga2V5IG9wZXJhdGlvbnMuXG4gICAgICpcbiAgICAgKiBOT1RFOiBUaGlzIGNvbmZpZ3VyYXRpb24gb25seSB3b3JrcyBvbiBVbml4IGRldmljZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaG9zdE5hbWUgLSBBV1MgSW9UIGVuZHBvaW50IHRvIGNvbm5lY3QgdG9cbiAgICAgKiBAcGFyYW0gcGtjczExT3B0aW9ucyAtIFBLQ1MjMTEgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3RGlyZWN0TXF0dEJ1aWxkZXJXaXRoTXRsc0Zyb21Qa2NzMTEoaG9zdE5hbWUsIHBrY3MxMU9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyKGhvc3ROYW1lLCBBd3NJb3RNcXR0NUNsaWVudENvbmZpZ0J1aWxkZXIuREVGQVVMVF9ESVJFQ1RfTVFUVF9QT1JULCBpby5UbHNDb250ZXh0T3B0aW9ucy5jcmVhdGVfY2xpZW50X3dpdGhfbXRsc19wa2NzMTEocGtjczExT3B0aW9ucykpO1xuICAgICAgICBpZiAoaW8uaXNfYWxwbl9hdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgYnVpbGRlci50bHNDb250ZXh0T3B0aW9ucy5hbHBuX2xpc3QudW5zaGlmdCgneC1hbXpuLW1xdHQtY2EnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IE1RVFQ1IGNsaWVudCBidWlsZGVyIHRoYXQgd2lsbCBjcmVhdGUgTVFUVDUgY2xpZW50cyB0aGF0IGNvbm5lY3QgdG8gQVdTIElvVCBDb3JlIHZpYSBtdXR1YWwgVExTXG4gICAgICogdXNpbmcgYSBQS0NTMTIgZmlsZS5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgY29uZmlndXJhdGlvbiBvbmx5IHdvcmtzIG9uIE1hY09TIGRldmljZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaG9zdE5hbWUgLSBBV1MgSW9UIGVuZHBvaW50IHRvIGNvbm5lY3QgdG9cbiAgICAgKiBAcGFyYW0gcGtjczEyX29wdGlvbnMgLSBUaGUgUEtDUyMxMiBvcHRpb25zIHRvIHVzZSBpbiB0aGUgYnVpbGRlci5cbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3RGlyZWN0TXF0dEJ1aWxkZXJXaXRoTXRsc0Zyb21Qa2NzMTIoaG9zdE5hbWUsIHBrY3MxMl9vcHRpb25zKSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlcihob3N0TmFtZSwgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyLkRFRkFVTFRfRElSRUNUX01RVFRfUE9SVCwgaW8uVGxzQ29udGV4dE9wdGlvbnMuY3JlYXRlX2NsaWVudF93aXRoX210bHNfcGtjczEyX2Zyb21fcGF0aChwa2NzMTJfb3B0aW9ucy5wa2NzMTJfZmlsZSwgcGtjczEyX29wdGlvbnMucGtjczEyX3Bhc3N3b3JkKSk7XG4gICAgICAgIGlmIChpby5pc19hbHBuX2F2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICBidWlsZGVyLnRsc0NvbnRleHRPcHRpb25zLmFscG5fbGlzdC51bnNoaWZ0KCd4LWFtem4tbXF0dC1jYScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTVFUVDUgY2xpZW50IGJ1aWxkZXIgdGhhdCB3aWxsIGNyZWF0ZSBNUVRUNSBjbGllbnRzIHRoYXQgY29ubmVjdCB0byBBV1MgSW9UIENvcmUgdmlhIG11dHVhbCBUTFNcbiAgICAgKiB1c2luZyBhIGNlcnRpZmljYXRlIGVudHJ5IGluIGEgV2luZG93cyBjZXJ0aWZpY2F0ZSBzdG9yZS5cbiAgICAgKlxuICAgICAqIE5PVEU6IFRoaXMgY29uZmlndXJhdGlvbiBvbmx5IHdvcmtzIG9uIFdpbmRvd3MgZGV2aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBob3N0TmFtZSAtIEFXUyBJb1QgZW5kcG9pbnQgdG8gY29ubmVjdCB0b1xuICAgICAqIEBwYXJhbSBjZXJ0aWZpY2F0ZVBhdGggLSBQYXRoIHRvIGNlcnRpZmljYXRlIGluIGEgV2luZG93cyBjZXJ0aWZpY2F0ZSBzdG9yZS5cbiAgICAgKiAgICAgIFRoZSBwYXRoIG11c3QgdXNlIGJhY2tzbGFzaGVzIGFuZCBlbmQgd2l0aCB0aGUgY2VydGlmaWNhdGUncyB0aHVtYnByaW50LlxuICAgICAqICAgICAgRXhhbXBsZTogYEN1cnJlbnRVc2VyXFxNWVxcQTExRjhBOUI1REY1Qjk4QkEzNTA4RkJDQTU3NUQwOTU3MEUwRDJDNmBcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3RGlyZWN0TXF0dEJ1aWxkZXJXaXRoTXRsc0Zyb21XaW5kb3dzQ2VydFN0b3JlUGF0aChob3N0TmFtZSwgY2VydGlmaWNhdGVQYXRoKSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlcihob3N0TmFtZSwgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyLkRFRkFVTFRfRElSRUNUX01RVFRfUE9SVCwgaW8uVGxzQ29udGV4dE9wdGlvbnMuY3JlYXRlX2NsaWVudF93aXRoX210bHNfd2luZG93c19jZXJ0X3N0b3JlX3BhdGgoY2VydGlmaWNhdGVQYXRoKSk7XG4gICAgICAgIGlmIChpby5pc19hbHBuX2F2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICBidWlsZGVyLnRsc0NvbnRleHRPcHRpb25zLmFscG5fbGlzdC51bnNoaWZ0KCd4LWFtem4tbXF0dC1jYScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTVFUVDUgY2xpZW50IGJ1aWxkZXIgdGhhdCB3aWxsIGNyZWF0ZSBNUVRUNSBjbGllbnRzIHRoYXQgY29ubmVjdCB0byBBV1MgSW9UIENvcmUgdmlhIFRMUyxcbiAgICAgKiBhdXRoZW50aWNhdGluZyB2aWEgYSBjdXN0b20gYXV0aGVudGljYXRvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBob3N0TmFtZSAtIEFXUyBJb1QgZW5kcG9pbnQgdG8gY29ubmVjdCB0b1xuICAgICAqIEBwYXJhbSBjdXN0b21BdXRoQ29uZmlnIC0gQVdTIElvVCBjdXN0b20gYXV0aCBjb25maWd1cmF0aW9uXG4gICAgICovXG4gICAgc3RhdGljIG5ld0RpcmVjdE1xdHRCdWlsZGVyV2l0aEN1c3RvbUF1dGgoaG9zdE5hbWUsIGN1c3RvbUF1dGhDb25maWcpIHtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyKGhvc3ROYW1lLCBBd3NJb3RNcXR0NUNsaWVudENvbmZpZ0J1aWxkZXIuREVGQVVMVF9XRUJTT0NLRVRfTVFUVF9QT1JULCBuZXcgaW8uVGxzQ29udGV4dE9wdGlvbnMoKSk7XG4gICAgICAgIGJ1aWxkZXIuY3VzdG9tQXV0aENvbmZpZyA9IGN1c3RvbUF1dGhDb25maWc7XG4gICAgICAgIGJ1aWxkZXIudGxzQ29udGV4dE9wdGlvbnMuYWxwbl9saXN0ID0gW1wibXF0dFwiXTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBNUVRUNSBjbGllbnQgYnVpbGRlciB0aGF0IHdpbGwgY3JlYXRlIE1RVFQ1IGNsaWVudHMgdGhhdCBjb25uZWN0IHRvIEFXUyBJb1QgQ29yZSB2aWEgd2Vic29ja2V0cyxcbiAgICAgKiB1c2luZyBBV1MgU2lndjQgc2lnbmluZyB0byBlc3RhYmxpc2ggYXV0aGVudGljYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhvc3ROYW1lIC0gQVdTIElvVCBlbmRwb2ludCB0byBjb25uZWN0IHRvXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBhZGRpdGlvbmFsIHNpZ3Y0LW9yaWVudGVkIG9wdGlvbnMgdG8gdXNlXG4gICAgICovXG4gICAgc3RhdGljIG5ld1dlYnNvY2tldE1xdHRCdWlsZGVyV2l0aFNpZ3Y0QXV0aChob3N0TmFtZSwgb3B0aW9ucykge1xuICAgICAgICBsZXQgdGxzQ29udGV4dE9wdGlvbnMgPSBuZXcgaW8uVGxzQ29udGV4dE9wdGlvbnMoKTtcbiAgICAgICAgdGxzQ29udGV4dE9wdGlvbnMuYWxwbl9saXN0ID0gW107XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlcihob3N0TmFtZSwgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyLkRFRkFVTFRfV0VCU09DS0VUX01RVFRfUE9SVCwgdGxzQ29udGV4dE9wdGlvbnMpO1xuICAgICAgICBsZXQgY3JlZGVudGlhbHNQcm92aWRlciA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5jcmVkZW50aWFsc1Byb3ZpZGVyO1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzUHJvdmlkZXIgPSBhdXRoLkF3c0NyZWRlbnRpYWxzUHJvdmlkZXIubmV3RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGJ1aWxkZXIuY29uZmlnLndlYnNvY2tldEhhbmRzaGFrZVRyYW5zZm9ybSA9IChyZXF1ZXN0LCBkb25lKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25pbmdDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZ29yaXRobTogYXV0aC5Bd3NTaWduaW5nQWxnb3JpdGhtLlNpZ1Y0LFxuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmVfdHlwZTogYXV0aC5Bd3NTaWduYXR1cmVUeXBlLkh0dHBSZXF1ZXN0VmlhUXVlcnlQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBjcmVkZW50aWFsc1Byb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgICByZWdpb246IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZWdpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGlvdF9zaGFyZWQuZXh0cmFjdFJlZ2lvbkZyb21FbmRwb2ludChob3N0TmFtZSksXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2U6IFwiaW90ZGV2aWNlZ2F0ZXdheVwiLFxuICAgICAgICAgICAgICAgICAgICBzaWduZWRfYm9keV92YWx1ZTogYXV0aC5Bd3NTaWduZWRCb2R5VmFsdWUuRW1wdHlTaGEyNTYsXG4gICAgICAgICAgICAgICAgICAgIG9taXRfc2Vzc2lvbl90b2tlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHlpZWxkIGF1dGguYXdzX3NpZ25fcmVxdWVzdChyZXF1ZXN0LCBzaWduaW5nQ29uZmlnKTtcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBlcnJvcl8xLkNydEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUoZXJyb3IuZXJyb3JfY29kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkb25lKDMpOyAvKiBUT0RPOiBBV1NfRVJST1JfVU5LTk9XTiAqL1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTVFUVDUgY2xpZW50IGJ1aWxkZXIgdGhhdCB3aWxsIGNyZWF0ZSBNUVRUNSBjbGllbnRzIHRoYXQgY29ubmVjdCB0byBBV1MgSW9UIENvcmUgdmlhIHdlYnNvY2tldHMsXG4gICAgICogYXV0aGVudGljYXRpbmcgdmlhIGEgY3VzdG9tIGF1dGhlbnRpY2F0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaG9zdE5hbWUgLSBBV1MgSW9UIGVuZHBvaW50IHRvIGNvbm5lY3QgdG9cbiAgICAgKiBAcGFyYW0gY3VzdG9tQXV0aENvbmZpZyAtIEFXUyBJb1QgY3VzdG9tIGF1dGggY29uZmlndXJhdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdXZWJzb2NrZXRNcXR0QnVpbGRlcldpdGhDdXN0b21BdXRoKGhvc3ROYW1lLCBjdXN0b21BdXRoQ29uZmlnKSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IEF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlcihob3N0TmFtZSwgQXdzSW90TXF0dDVDbGllbnRDb25maWdCdWlsZGVyLkRFRkFVTFRfV0VCU09DS0VUX01RVFRfUE9SVCwgbmV3IGlvLlRsc0NvbnRleHRPcHRpb25zKCkpO1xuICAgICAgICBidWlsZGVyLmN1c3RvbUF1dGhDb25maWcgPSBjdXN0b21BdXRoQ29uZmlnO1xuICAgICAgICBidWlsZGVyLmNvbmZpZy53ZWJzb2NrZXRIYW5kc2hha2VUcmFuc2Zvcm0gPSAocmVxdWVzdCwgZG9uZSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgZG9uZSgwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgICAvKiBJbnN0YW5jZSBNZXRob2RzIGZvciB2YXJpb3VzIGNvbmZpZyBvdmVycmlkZXMgKi9cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIGRlZmF1bHQgc3lzdGVtIHRydXN0IHN0b3JlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhRGlycGF0aCAtIE9ubHkgdXNlZCBvbiBVbml4LXN0eWxlIHN5c3RlbXMgd2hlcmUgYWxsIHRydXN0IGFuY2hvcnMgYXJlXG4gICAgICogc3RvcmVkIGluIGEgZGlyZWN0b3J5IChlLmcuIC9ldGMvc3NsL2NlcnRzKS5cbiAgICAgKiBAcGFyYW0gY2FGaWxlcGF0aCAtIFNpbmdsZSBmaWxlIGNvbnRhaW5pbmcgYWxsIHRydXN0IENBcywgaW4gUEVNIGZvcm1hdFxuICAgICAqL1xuICAgIHdpdGhDZXJ0aWZpY2F0ZUF1dGhvcml0eUZyb21QYXRoKGNhRGlycGF0aCwgY2FGaWxlcGF0aCkge1xuICAgICAgICB0aGlzLnRsc0NvbnRleHRPcHRpb25zLm92ZXJyaWRlX2RlZmF1bHRfdHJ1c3Rfc3RvcmVfZnJvbV9wYXRoKGNhRGlycGF0aCwgY2FGaWxlcGF0aCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIGRlZmF1bHQgc3lzdGVtIHRydXN0IHN0b3JlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhIC0gQnVmZmVyIGNvbnRhaW5pbmcgYWxsIHRydXN0IENBcywgaW4gUEVNIGZvcm1hdFxuICAgICAqL1xuICAgIHdpdGhDZXJ0aWZpY2F0ZUF1dGhvcml0eShjYSkge1xuICAgICAgICB0aGlzLnRsc0NvbnRleHRPcHRpb25zLm92ZXJyaWRlX2RlZmF1bHRfdHJ1c3Rfc3RvcmUoY2EpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBJb1QgZW5kcG9pbnQgcG9ydCB0byBjb25uZWN0IHRvLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBvcnQgVGhlIElvVCBlbmRwb2ludCBwb3J0IHRvIGNvbm5lY3QgdG8uIFVzdWFsbHkgODg4MyBmb3IgTVFUVCwgb3IgNDQzIGZvciB3ZWJzb2NrZXRzXG4gICAgICovXG4gICAgd2l0aFBvcnQocG9ydCkge1xuICAgICAgICB0aGlzLmNvbmZpZy5wb3J0ID0gcG9ydDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBhbGwgY29uZmlndXJhYmxlIG9wdGlvbnMgd2l0aCByZXNwZWN0IHRvIHRoZSBDT05ORUNUIHBhY2tldCBzZW50IGJ5IHRoZSBjbGllbnQsIGluY2x1ZGluZyB0aGUgd2lsbC5cbiAgICAgKiBUaGVzZSBjb25uZWN0IHByb3BlcnRpZXMgd2lsbCBiZSB1c2VkIGZvciBldmVyeSBjb25uZWN0aW9uIGF0dGVtcHQgbWFkZSBieSB0aGUgY2xpZW50LiAgQ3VzdG9tIGF1dGhlbnRpY2F0aW9uXG4gICAgICogY29uZmlndXJhdGlvbiB3aWxsIG92ZXJyaWRlIHRoZSB1c2VybmFtZSBhbmQgcGFzc3dvcmQgdmFsdWVzIGluIHRoaXMgY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb25uZWN0UGFja2V0IGFsbCBjb25maWd1cmFibGUgb3B0aW9ucyB3aXRoIHJlc3BlY3QgdG8gdGhlIENPTk5FQ1QgcGFja2V0IHNlbnQgYnkgdGhlIGNsaWVudFxuICAgICAqL1xuICAgIHdpdGhDb25uZWN0UHJvcGVydGllcyhjb25uZWN0UGFja2V0KSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmNvbm5lY3RQcm9wZXJ0aWVzID0gY29ubmVjdFBhY2tldDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBob3cgdGhlIE1RVFQ1IGNsaWVudCBzaG91bGQgYmVoYXZlIHdpdGggcmVzcGVjdCB0byBNUVRUIHNlc3Npb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNlc3Npb25CZWhhdmlvciBob3cgdGhlIE1RVFQ1IGNsaWVudCBzaG91bGQgYmVoYXZlIHdpdGggcmVzcGVjdCB0byBNUVRUIHNlc3Npb25zLlxuICAgICAqL1xuICAgIHdpdGhTZXNzaW9uQmVoYXZpb3Ioc2Vzc2lvbkJlaGF2aW9yKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLnNlc3Npb25CZWhhdmlvciA9IHNlc3Npb25CZWhhdmlvcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBob3cgdGhlIHJlY29ubmVjdCBkZWxheSBpcyBtb2RpZmllZCBpbiBvcmRlciB0byBzbW9vdGggb3V0IHRoZSBkaXN0cmlidXRpb24gb2YgcmVjb25uZWN0aW9uIGF0dGVtcHRcbiAgICAgKiB0aW1lcG9pbnRzIGZvciBhIGxhcmdlIHNldCBvZiByZWNvbm5lY3RpbmcgY2xpZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXRyeUppdHRlck1vZGUgY29udHJvbHMgaG93IHRoZSByZWNvbm5lY3QgZGVsYXkgaXMgbW9kaWZpZWQgaW4gb3JkZXIgdG8gc21vb3RoIG91dCB0aGUgZGlzdHJpYnV0aW9uIG9mXG4gICAgICogZWNvbm5lY3Rpb24gYXR0ZW1wdCB0aW1lcG9pbnRzIGZvciBhIGxhcmdlIHNldCBvZiByZWNvbm5lY3RpbmcgY2xpZW50cy5cbiAgICAgKi9cbiAgICB3aXRoUmV0cnlKaXR0ZXJNb2RlKHJldHJ5Sml0dGVyTW9kZSkge1xuICAgICAgICB0aGlzLmNvbmZpZy5yZXRyeUppdHRlck1vZGUgPSByZXRyeUppdHRlck1vZGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIG1pbmltdW0gYW1vdW50IG9mIHRpbWUgdG8gd2FpdCB0byByZWNvbm5lY3QgYWZ0ZXIgYSBkaXNjb25uZWN0LiAgRXhwb25lbnRpYWwgYmFja29mZiBpcyBwZXJmb3JtZWRcbiAgICAgKiB3aXRoIGNvbnRyb2xsYWJsZSBqaXR0ZXIgYWZ0ZXIgZWFjaCBjb25uZWN0aW9uIGZhaWx1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWluUmVjb25uZWN0RGVsYXlNcyBtaW5pbXVtIGFtb3VudCBvZiB0aW1lIHRvIHdhaXQgdG8gcmVjb25uZWN0IGFmdGVyIGEgZGlzY29ubmVjdC5cbiAgICAgKi9cbiAgICB3aXRoTWluUmVjb25uZWN0RGVsYXlNcyhtaW5SZWNvbm5lY3REZWxheU1zKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLm1pblJlY29ubmVjdERlbGF5TXMgPSBtaW5SZWNvbm5lY3REZWxheU1zO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIHRvIHdhaXQgdG8gcmVjb25uZWN0IGFmdGVyIGEgZGlzY29ubmVjdC4gIEV4cG9uZW50aWFsIGJhY2tvZmYgaXMgcGVyZm9ybWVkXG4gICAgICogd2l0aCBjb250cm9sbGFibGUgaml0dGVyIGFmdGVyIGVhY2ggY29ubmVjdGlvbiBmYWlsdXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1heFJlY29ubmVjdERlbGF5TXMgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0byB3YWl0IHRvIHJlY29ubmVjdCBhZnRlciBhIGRpc2Nvbm5lY3QuXG4gICAgICovXG4gICAgd2l0aE1heFJlY29ubmVjdERlbGF5TXMobWF4UmVjb25uZWN0RGVsYXlNcykge1xuICAgICAgICB0aGlzLmNvbmZpZy5tYXhSZWNvbm5lY3REZWxheU1zID0gbWF4UmVjb25uZWN0RGVsYXlNcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgYW1vdW50IG9mIHRpbWUgdGhhdCBtdXN0IGVsYXBzZSB3aXRoIGFuIGVzdGFibGlzaGVkIGNvbm5lY3Rpb24gYmVmb3JlIHRoZSByZWNvbm5lY3QgZGVsYXkgaXNcbiAgICAgKiByZXNldCB0byB0aGUgbWluaW11bS4gIFRoaXMgaGVscHMgYWxsZXZpYXRlIGJhbmR3aWR0aC13YXN0ZSBpbiBmYXN0IHJlY29ubmVjdCBjeWNsZXMgZHVlIHRvIHBlcm1pc3Npb25cbiAgICAgKiBmYWlsdXJlcyBvbiBvcGVyYXRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1pbkNvbm5lY3RlZFRpbWVUb1Jlc2V0UmVjb25uZWN0RGVsYXlNcyB0aGUgYW1vdW50IG9mIHRpbWUgdGhhdCBtdXN0IGVsYXBzZSB3aXRoIGFuIGVzdGFibGlzaGVkXG4gICAgICogY29ubmVjdGlvbiBiZWZvcmUgdGhlIHJlY29ubmVjdCBkZWxheSBpcyByZXNldCB0byB0aGUgbWluaW11bVxuICAgICAqL1xuICAgIHdpdGhNaW5Db25uZWN0ZWRUaW1lVG9SZXNldFJlY29ubmVjdERlbGF5TXMobWluQ29ubmVjdGVkVGltZVRvUmVzZXRSZWNvbm5lY3REZWxheU1zKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLm1pbkNvbm5lY3RlZFRpbWVUb1Jlc2V0UmVjb25uZWN0RGVsYXlNcyA9IG1pbkNvbm5lY3RlZFRpbWVUb1Jlc2V0UmVjb25uZWN0RGVsYXlNcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgdGltZSBpbnRlcnZhbCB0byB3YWl0IGFmdGVyIHNlbmRpbmcgYSBDT05ORUNUIHJlcXVlc3QgZm9yIGEgQ09OTkFDSyB0byBhcnJpdmUuICBJZiBvbmUgZG9lcyBub3RcbiAgICAgKiBhcnJpdmUsIHRoZSBjb25uZWN0aW9uIHdpbGwgYmUgc2h1dCBkb3duLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbm5hY2tUaW1lb3V0TXMgdGltZSBpbnRlcnZhbCB0byB3YWl0IGFmdGVyIHNlbmRpbmcgYSBDT05ORUNUIHJlcXVlc3QgZm9yIGEgQ09OTkFDSyB0byBhcnJpdmVcbiAgICAgKi9cbiAgICB3aXRoQ29ubmFja1RpbWVvdXRNcyhjb25uYWNrVGltZW91dE1zKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmNvbm5hY2tUaW1lb3V0TXMgPSBjb25uYWNrVGltZW91dE1zO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGhvdyBkaXNjb25uZWN0cyBhZmZlY3QgdGhlIHF1ZXVlZCBhbmQgaW4tcHJvZ3Jlc3Mgb3BlcmF0aW9ucyB0cmFja2VkIGJ5IHRoZSBjbGllbnQuICBBbHNvIGNvbnRyb2xzXG4gICAgICogaG93IG5ldyBvcGVyYXRpb25zIGFyZSBoYW5kbGVkIHdoaWxlIHRoZSBjbGllbnQgaXMgbm90IGNvbm5lY3RlZC4gIEluIHBhcnRpY3VsYXIsIGlmIHRoZSBjbGllbnQgaXMgbm90IGNvbm5lY3RlZCxcbiAgICAgKiB0aGVuIGFueSBvcGVyYXRpb24gdGhhdCB3b3VsZCBiZSBmYWlsZWQgb24gZGlzY29ubmVjdCAoYWNjb3JkaW5nIHRvIHRoZXNlIHJ1bGVzKSB3aWxsIGFsc28gYmUgcmVqZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb2ZmbGluZVF1ZXVlQmVoYXZpb3IgaG93IGRpc2Nvbm5lY3RzIGFmZmVjdCB0aGUgcXVldWVkIGFuZCBpbi1wcm9ncmVzcyBvcGVyYXRpb25zIHRyYWNrZWQgYnkgdGhlIGNsaWVudFxuICAgICAqXG4gICAgICogQGdyb3VwIE5vZGUtb25seVxuICAgICAqL1xuICAgIHdpdGhPZmZsaW5lUXVldWVCZWhhdmlvcihvZmZsaW5lUXVldWVCZWhhdmlvcikge1xuICAgICAgICB0aGlzLmNvbmZpZy5vZmZsaW5lUXVldWVCZWhhdmlvciA9IG9mZmxpbmVRdWV1ZUJlaGF2aW9yO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSB0aW1lIGludGVydmFsIHRvIHdhaXQgYWZ0ZXIgc2VuZGluZyBhIFBJTkdSRVEgZm9yIGEgUElOR1JFU1AgdG8gYXJyaXZlLiAgSWYgb25lIGRvZXMgbm90IGFycml2ZSxcbiAgICAgKiB0aGUgY2xpZW50IHdpbGwgY2xvc2UgdGhlIGN1cnJlbnQgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwaW5nVGltZW91dE1zIHRpbWUgaW50ZXJ2YWwgdG8gd2FpdCBhZnRlciBzZW5kaW5nIGEgUElOR1JFUSBmb3IgYSBQSU5HUkVTUCB0byBhcnJpdmVcbiAgICAgKlxuICAgICAqIEBncm91cCBOb2RlLW9ubHlcbiAgICAgKi9cbiAgICB3aXRoUGluZ1RpbWVvdXRNcyhwaW5nVGltZW91dE1zKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLnBpbmdUaW1lb3V0TXMgPSBwaW5nVGltZW91dE1zO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSB0aW1lIGludGVydmFsIHRvIHdhaXQgZm9yIGFuIGFjayBhZnRlciBzZW5kaW5nIGEgUW9TIDErIFBVQkxJU0gsIFNVQlNDUklCRSwgb3IgVU5TVUJTQ1JJQkUgYmVmb3JlXG4gICAgICogZmFpbGluZyB0aGUgb3BlcmF0aW9uLiAgRGVmYXVsdHMgdG8gbm8gdGltZW91dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhY2tUaW1lb3V0U2Vjb25kcyB0aGUgdGltZSBpbnRlcnZhbCB0byB3YWl0IGZvciBhbiBhY2sgYWZ0ZXIgc2VuZGluZyBhIFFvUyAxKyBQVUJMSVNILCBTVUJTQ1JJQkUsXG4gICAgICogb3IgVU5TVUJTQ1JJQkUgYmVmb3JlIGZhaWxpbmcgdGhlIG9wZXJhdGlvblxuICAgICAqXG4gICAgICogQGdyb3VwIE5vZGUtb25seVxuICAgICAqL1xuICAgIHdpdGhBY2tUaW1lb3V0U2Vjb25kcyhhY2tUaW1lb3V0U2Vjb25kcykge1xuICAgICAgICB0aGlzLmNvbmZpZy5hY2tUaW1lb3V0U2Vjb25kcyA9IGFja1RpbWVvdXRTZWNvbmRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBzb2NrZXQgcHJvcGVydGllcyBvZiB0aGUgdW5kZXJseWluZyBNUVRUIGNvbm5lY3Rpb25zIG1hZGUgYnkgdGhlIGNsaWVudC4gIExlYXZlIHVuZGVmaW5lZCB0byB1c2VcbiAgICAgKiBkZWZhdWx0cyAobm8gVENQIGtlZXAgYWxpdmUsIDEwIHNlY29uZCBzb2NrZXQgdGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc29ja2V0T3B0aW9ucyBzb2NrZXQgcHJvcGVydGllcyBvZiB0aGUgdW5kZXJseWluZyBNUVRUIGNvbm5lY3Rpb25zIG1hZGUgYnkgdGhlIGNsaWVudFxuICAgICAqXG4gICAgICogQGdyb3VwIE5vZGUtb25seVxuICAgICAqL1xuICAgIHdpdGhTb2NrZXRPcHRpb25zKHNvY2tldE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jb25maWcuc29ja2V0T3B0aW9ucyA9IHNvY2tldE9wdGlvbnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgKHR1bm5lbGluZykgSFRUUCBwcm94eSB1c2FnZSB3aGVuIGVzdGFibGlzaGluZyBNUVRUIGNvbm5lY3Rpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIGh0dHBQcm94eU9wdGlvbnMgSFRUUCBwcm94eSBvcHRpb25zIHRvIHVzZSB3aGVuIGVzdGFibGlzaGluZyBNUVRUIGNvbm5lY3Rpb25zXG4gICAgICpcbiAgICAgKiBAZ3JvdXAgTm9kZS1vbmx5XG4gICAgICovXG4gICAgd2l0aEh0dHBQcm94eU9wdGlvbnMoaHR0cFByb3h5T3B0aW9ucykge1xuICAgICAgICB0aGlzLmNvbmZpZy5odHRwUHJveHlPcHRpb25zID0gaHR0cFByb3h5T3B0aW9ucztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBhZGRpdGlvbmFsIGNvbnRyb2xzIGZvciBjbGllbnQgYmVoYXZpb3Igd2l0aCByZXNwZWN0IHRvIG9wZXJhdGlvbiB2YWxpZGF0aW9uIGFuZCBmbG93IGNvbnRyb2w7IHRoZXNlXG4gICAgICogY2hlY2tzIGdvIGJleW9uZCB0aGUgYmFzZSBNUVRUNSBzcGVjIHRvIHJlc3BlY3QgbGltaXRzIG9mIHNwZWNpZmljIE1RVFQgYnJva2Vycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBleHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbE9wdGlvbnMgYWRkaXRpb25hbCBjb250cm9scyBmb3IgY2xpZW50IGJlaGF2aW9yIHdpdGggcmVzcGVjdCB0byBvcGVyYXRpb25cbiAgICAgKiB2YWxpZGF0aW9uIGFuZCBmbG93IGNvbnRyb2xcbiAgICAgKlxuICAgICAqIEBncm91cCBOb2RlLW9ubHlcbiAgICAgKi9cbiAgICB3aXRoRXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2xPcHRpb25zKGV4dGVuZGVkVmFsaWRhdGlvbkFuZEZsb3dDb250cm9sT3B0aW9ucykge1xuICAgICAgICB0aGlzLmNvbmZpZy5leHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbE9wdGlvbnMgPSBleHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbE9wdGlvbnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGFuIE1RVFQ1IENsaWVudCBjb25maWd1cmF0aW9uIG9iamVjdCBmb3IgY3JlYXRpbmcgbXF0dDUgY2xpZW50cy5cbiAgICAgKi9cbiAgICBidWlsZCgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnRsc0N0eCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy50bHNDdHggPSBuZXcgaW8uQ2xpZW50VGxzQ29udGV4dCh0aGlzLnRsc0NvbnRleHRPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIGlzIGFsd2F5cyBzZXQgYnkgdGhlIGNvbnN0cnVjdG9yLCBidXQgY2hlY2sgaXQgdG8gbWFrZSB0eXBlc2NyaXB0IGhhcHB5XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5jb25uZWN0UHJvcGVydGllcykge1xuICAgICAgICAgICAgdGhpcy5jb25maWcuY29ubmVjdFByb3BlcnRpZXMudXNlcm5hbWUgPSBpb3Rfc2hhcmVkLmJ1aWxkTXF0dDVGaW5hbFVzZXJuYW1lKHRoaXMuY3VzdG9tQXV0aENvbmZpZyk7XG4gICAgICAgICAgICBpZiAoKF9hID0gdGhpcy5jdXN0b21BdXRoQ29uZmlnKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5jb25uZWN0UHJvcGVydGllcy5wYXNzd29yZCA9IChfYiA9IHRoaXMuY3VzdG9tQXV0aENvbmZpZykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnBhc3N3b3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZztcbiAgICB9XG59XG5leHBvcnRzLkF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlciA9IEF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlcjtcbkF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlci5ERUZBVUxUX1dFQlNPQ0tFVF9NUVRUX1BPUlQgPSA0NDM7XG5Bd3NJb3RNcXR0NUNsaWVudENvbmZpZ0J1aWxkZXIuREVGQVVMVF9ESVJFQ1RfTVFUVF9QT1JUID0gODg4Mztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF3c19pb3RfbXF0dDUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBwYXRoID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJwYXRoXCIpKTtcbmNvbnN0IG9zXzEgPSByZXF1aXJlKFwib3NcIik7XG5jb25zdCBmc18xID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3QgcHJvY2Vzc18xID0gcmVxdWlyZShcInByb2Nlc3NcIik7XG5jb25zdCB1cGdyYWRlX3N0cmluZyA9IFwiUGxlYXNlIHVwZ3JhZGUgdG8gbm9kZSA+PTEwLjE2LjAsIG9yIHVzZSB0aGUgcHJvdmlkZWQgYnJvd3NlciBpbXBsZW1lbnRhdGlvbi5cIjtcbmlmICgnbmFwaScgaW4gcHJvY2Vzc18xLnZlcnNpb25zKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IG5hcGlfdmVyc2lvbiA9IHBhcnNlSW50KHByb2Nlc3NfMS52ZXJzaW9uc1snbmFwaSddKTtcbiAgICBpZiAobmFwaV92ZXJzaW9uIDwgNCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgQVdTIENSVCBuYXRpdmUgaW1wbGVtZW50YXRpb24gcmVxdWlyZXMgdGhhdCBOQVBJIHZlcnNpb24gNCBiZSBwcmVzZW50LiBcIiArIHVwZ3JhZGVfc3RyaW5nKTtcbiAgICB9XG59XG5lbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY3VycmVudCBydW50aW1lIGlzIG5vdCByZXBvcnRpbmcgYW4gTkFQSSB2ZXJzaW9uLiBcIiArIHVwZ3JhZGVfc3RyaW5nKTtcbn1cbmNvbnN0IGJpbmFyeV9uYW1lID0gJ2F3cy1jcnQtbm9kZWpzJztcbmNvbnN0IHBsYXRmb3JtRGlyID0gYCR7b3NfMS5wbGF0Zm9ybX0tJHtvc18xLmFyY2h9YDtcbmxldCBzb3VyY2Vfcm9vdCA9IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICcuLicsICcuLicpO1xuY29uc3QgZGlzdCA9IHBhdGguam9pbihzb3VyY2Vfcm9vdCwgJ2Rpc3QnKTtcbmlmICgoMCwgZnNfMS5leGlzdHNTeW5jKShkaXN0KSkge1xuICAgIHNvdXJjZV9yb290ID0gZGlzdDtcbn1cbmNvbnN0IGJpbl9wYXRoID0gcGF0aC5yZXNvbHZlKHNvdXJjZV9yb290LCAnYmluJyk7XG5jb25zdCBzZWFyY2hfcGF0aHMgPSBbXG4gICAgcGF0aC5qb2luKGJpbl9wYXRoLCBwbGF0Zm9ybURpciwgYmluYXJ5X25hbWUpLFxuXTtcbmxldCBiaW5kaW5nO1xuZm9yIChjb25zdCBwYXRoIG9mIHNlYXJjaF9wYXRocykge1xuICAgIGlmICgoMCwgZnNfMS5leGlzdHNTeW5jKShwYXRoICsgJy5ub2RlJykpIHtcbiAgICAgICAgYmluZGluZyA9IHJlcXVpcmUocGF0aCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbmlmIChiaW5kaW5nID09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkFXUyBDUlQgYmluYXJ5IG5vdCBwcmVzZW50IGluIGFueSBvZiB0aGUgZm9sbG93aW5nIGxvY2F0aW9uczpcXG5cXHRcIiArIHNlYXJjaF9wYXRocy5qb2luKCdcXG5cXHQnKSk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBiaW5kaW5nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmluZGluZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyYzMyYyA9IGV4cG9ydHMuY3JjMzIgPSB2b2lkIDA7XG4vKipcbiAqXG4gKiBBIG1vZHVsZSBjb250YWluaW5nIHZhcmlvdXMgY2hlY2tzdW0gaW1wbGVtZW50YXRpb25zIGludGVuZGVkIGZvciBzdHJlYW1pbmcgcGF5bG9hZHNcbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgY2hlY2tzdW1zXG4gKiBAbWVyZ2VUYXJnZXRcbiAqL1xuY29uc3QgYmluZGluZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JpbmRpbmdcIikpO1xuLyoqXG4gKiBDb21wdXRlcyBhbiBjcmMzMiBjaGVja3N1bS5cbiAqXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBjaGVja3N1bVxuICogQHBhcmFtIHByZXZpb3VzIHByZXZpb3VzIGNyYzMyIGNoZWNrc3VtIHJlc3VsdC4gVXNlZCBpZiB5b3UgYXJlIGJ1ZmZlcmluZyBsYXJnZSBpbnB1dC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ3J5cHRvXG4gKi9cbmZ1bmN0aW9uIGNyYzMyKGRhdGEsIHByZXZpb3VzKSB7XG4gICAgcmV0dXJuIGJpbmRpbmdfMS5kZWZhdWx0LmNoZWNrc3Vtc19jcmMzMihkYXRhLCBwcmV2aW91cyk7XG59XG5leHBvcnRzLmNyYzMyID0gY3JjMzI7XG4vKipcbiAqIENvbXB1dGVzIGEgY3JjMzJjIGNoZWNrc3VtLlxuICpcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGNoZWNrc3VtXG4gKiBAcGFyYW0gcHJldmlvdXMgcHJldmlvdXMgY3JjMzJjIGNoZWNrc3VtIHJlc3VsdC4gVXNlZCBpZiB5b3UgYXJlIGJ1ZmZlcmluZyBsYXJnZSBpbnB1dC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ3J5cHRvXG4gKi9cbmZ1bmN0aW9uIGNyYzMyYyhkYXRhLCBwcmV2aW91cykge1xuICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5jaGVja3N1bXNfY3JjMzJjKGRhdGEsIHByZXZpb3VzKTtcbn1cbmV4cG9ydHMuY3JjMzJjID0gY3JjMzJjO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hlY2tzdW1zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubmF0aXZlX21lbW9yeV9kdW1wID0gZXhwb3J0cy5uYXRpdmVfbWVtb3J5ID0gdm9pZCAwO1xuLyoqXG4gKlxuICogQSBtb2R1bGUgY29udGFpbmluZyBzb21lIG1pc2NlbGxhbmVvdXMgY3J0IG5hdGl2ZSBtZW1vcnkgcXVlcmllc1xuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICogQG1vZHVsZSBjcnRcbiAqIEBtZXJnZVRhcmdldFxuICovXG4vKipcbiAqIE1lbW9yeSByZXBvcnRpbmcgaXMgY29udHJvbGxlZCBieSB0aGUgQVdTX0NSVF9NRU1PUllfVFJBQ0lORyBlbnZpcm9ubWVudFxuICogdmFyaWFibGUuIFBvc3NpYmxlIHZhbHVlcyBhcmU6XG4gKiAqIDAgLSBObyB0cmFjaW5nXG4gKiAqIDEgLSBUcmFjayBhY3RpdmUgbWVtb3J5IHVzYWdlLiBJbmN1cnMgYSBzbWFsbCBwZXJmb3JtYW5jZSBwZW5hbHR5LlxuICogKiAyIC0gVHJhY2sgYWN0aXZlIG1lbW9yeSB1c2FnZSwgYW5kIGFsc28gdHJhY2sgY2FsbHN0YWNrcyBmb3IgZXZlcnkgYWxsb2NhdGlvbi5cbiAqICAgVGhpcyBpbmN1cnMgYSBwZXJmb3JtYW5jZSBwZW5hbHR5LCBkZXBlbmRpbmcgb24gdGhlIGNvc3Qgb2YgdGhlIHBsYXRmb3JtJ3NcbiAqICAgc3RhY2sgdW53aW5kaW5nL2JhY2t0cmFjZSBBUEkuXG4gKiBAY2F0ZWdvcnkgU3lzdGVtXG4gKi9cbmNvbnN0IGJpbmRpbmdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9iaW5kaW5nXCIpKTtcbi8qKlxuICogSWYgdGhlIGBgYEFXU19DUlRfTUVNT1JZX1RSQUNJTkdgYGAgaXMgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgc2V0IHRvIDEgb3IgMixcbiAqIHdpbGwgcmV0dXJuIHRoZSBuYXRpdmUgbWVtb3J5IHVzYWdlIGluIGJ5dGVzLiBPdGhlcndpc2UsIHJldHVybnMgMC5cbiAqIEByZXR1cm5zIFRoZSB0b3RhbCBhbGxvY2F0ZWQgbmF0aXZlIG1lbW9yeSwgaW4gYnl0ZXMuXG4gKlxuICogQGNhdGVnb3J5IFN5c3RlbVxuICovXG5mdW5jdGlvbiBuYXRpdmVfbWVtb3J5KCkge1xuICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5uYXRpdmVfbWVtb3J5KCk7XG59XG5leHBvcnRzLm5hdGl2ZV9tZW1vcnkgPSBuYXRpdmVfbWVtb3J5O1xuLyoqXG4gKiBEdW1wcyBvdXRzdGFuZGluZyBuYXRpdmUgbWVtb3J5IGFsbG9jYXRpb25zLiBJZiB0aGUgYGBgQVdTX0NSVF9NRU1PUllfVFJBQ0lOR2BgYFxuICogZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgc2V0IHRvIDEgb3IgMiwgd2lsbCBkdW1wIGFsbCBhY3RpdmUgbmF0aXZlIG1lbW9yeSB0b1xuICogdGhlIGNvbnNvbGUgbG9nLlxuICpcbiAqIEBjYXRlZ29yeSBTeXN0ZW1cbiAqL1xuZnVuY3Rpb24gbmF0aXZlX21lbW9yeV9kdW1wKCkge1xuICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5uYXRpdmVfbWVtb3J5X2R1bXAoKTtcbn1cbmV4cG9ydHMubmF0aXZlX21lbW9yeV9kdW1wID0gbmF0aXZlX21lbW9yeV9kdW1wO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3J0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaG1hY19zaGEyNTYgPSBleHBvcnRzLlNoYTI1NkhtYWMgPSBleHBvcnRzLmhhc2hfc2hhMSA9IGV4cG9ydHMuU2hhMUhhc2ggPSBleHBvcnRzLmhhc2hfc2hhMjU2ID0gZXhwb3J0cy5TaGEyNTZIYXNoID0gZXhwb3J0cy5oYXNoX21kNSA9IGV4cG9ydHMuTWQ1SGFzaCA9IHZvaWQgMDtcbi8qKlxuICogQSBtb2R1bGUgY29udGFpbmluZyBzdXBwb3J0IGZvciBhIHZhcmlldHkgb2YgY3J5cHRvZ3JhcGhpYyBvcGVyYXRpb25zLlxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICogQG1vZHVsZSBjcnlwdG9cbiAqIEBtZXJnZVRhcmdldFxuICovXG5jb25zdCBiaW5kaW5nXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYmluZGluZ1wiKSk7XG5jb25zdCBuYXRpdmVfcmVzb3VyY2VfMSA9IHJlcXVpcmUoXCIuL25hdGl2ZV9yZXNvdXJjZVwiKTtcbi8qKlxuICogT2JqZWN0IHRoYXQgYWxsb3dzIGZvciBjb250aW51b3VzIGhhc2hpbmcgb2YgZGF0YS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY2xhc3MgSGFzaCBleHRlbmRzIG5hdGl2ZV9yZXNvdXJjZV8xLk5hdGl2ZVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBIYXNoIGFkZGl0aW9uYWwgZGF0YS5cbiAgICAgKiBAcGFyYW0gZGF0YSBBZGRpdGlvbmFsIGRhdGEgdG8gaGFzaFxuICAgICAqL1xuICAgIHVwZGF0ZShkYXRhKSB7XG4gICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0Lmhhc2hfdXBkYXRlKHRoaXMubmF0aXZlX2hhbmRsZSgpLCBkYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcGxldGVzIHRoZSBoYXNoIGNvbXB1dGF0aW9uIGFuZCByZXR1cm5zIHRoZSBmaW5hbCBoYXNoIGRpZ2VzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cnVuY2F0ZV90byBUaGUgbWF4aW11bSBudW1iZXIgb2YgYnl0ZXMgdG8gcmVjZWl2ZS4gTGVhdmUgYXMgdW5kZWZpbmVkIG9yIDAgdG8gcmVjZWl2ZSB0aGUgZW50aXJlIGRpZ2VzdC5cbiAgICAgKi9cbiAgICBmaW5hbGl6ZSh0cnVuY2F0ZV90bykge1xuICAgICAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQuaGFzaF9kaWdlc3QodGhpcy5uYXRpdmVfaGFuZGxlKCksIHRydW5jYXRlX3RvKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaGFzaF9oYW5kbGUpIHtcbiAgICAgICAgc3VwZXIoaGFzaF9oYW5kbGUpO1xuICAgIH1cbn1cbi8qKlxuICogT2JqZWN0IHRoYXQgYWxsb3dzIGZvciBjb250aW51b3VzIE1ENSBoYXNoaW5nIG9mIGRhdGEuXG4gKlxuICogQGNhdGVnb3J5IENyeXB0b1xuICovXG5jbGFzcyBNZDVIYXNoIGV4dGVuZHMgSGFzaCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKGJpbmRpbmdfMS5kZWZhdWx0Lmhhc2hfbWQ1X25ldygpKTtcbiAgICB9XG59XG5leHBvcnRzLk1kNUhhc2ggPSBNZDVIYXNoO1xuLyoqXG4gKiBDb21wdXRlcyBhbiBNRDUgaGFzaC4gVXNlIHRoaXMgaWYgeW91IGRvbid0IG5lZWQgdG8gc3RyZWFtIHRoZSBkYXRhIHlvdSdyZSBoYXNoaW5nIGFuZCBjYW4gbG9hZCB0aGUgZW50aXJlIGlucHV0XG4gKiBpbnRvIG1lbW9yeS5cbiAqXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBoYXNoXG4gKiBAcGFyYW0gdHJ1bmNhdGVfdG8gVGhlIG1heGltdW0gbnVtYmVyIG9mIGJ5dGVzIHRvIHJlY2VpdmUuIExlYXZlIGFzIHVuZGVmaW5lZCBvciAwIHRvIHJlY2VpdmUgdGhlIGVudGlyZSBkaWdlc3QuXG4gKlxuICogQGNhdGVnb3J5IENyeXB0b1xuICovXG5mdW5jdGlvbiBoYXNoX21kNShkYXRhLCB0cnVuY2F0ZV90bykge1xuICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5oYXNoX21kNV9jb21wdXRlKGRhdGEsIHRydW5jYXRlX3RvKTtcbn1cbmV4cG9ydHMuaGFzaF9tZDUgPSBoYXNoX21kNTtcbi8qKlxuICogT2JqZWN0IHRoYXQgYWxsb3dzIGZvciBjb250aW51b3VzIFNIQTI1NiBoYXNoaW5nIG9mIGRhdGEuXG4gKlxuICogQGNhdGVnb3J5IENyeXB0b1xuICovXG5jbGFzcyBTaGEyNTZIYXNoIGV4dGVuZHMgSGFzaCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKGJpbmRpbmdfMS5kZWZhdWx0Lmhhc2hfc2hhMjU2X25ldygpKTtcbiAgICB9XG59XG5leHBvcnRzLlNoYTI1Nkhhc2ggPSBTaGEyNTZIYXNoO1xuLyoqXG4gKiBDb21wdXRlcyBhbiBTSEEyNTYgaGFzaC4gVXNlIHRoaXMgaWYgeW91IGRvbid0IG5lZWQgdG8gc3RyZWFtIHRoZSBkYXRhIHlvdSdyZSBoYXNoaW5nIGFuZCBjYW4gbG9hZCB0aGUgZW50aXJlIGlucHV0XG4gKiBpbnRvIG1lbW9yeS5cbiAqXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBoYXNoXG4gKiBAcGFyYW0gdHJ1bmNhdGVfdG8gVGhlIG1heGltdW0gbnVtYmVyIG9mIGJ5dGVzIHRvIHJlY2VpdmUuIExlYXZlIGFzIHVuZGVmaW5lZCBvciAwIHRvIHJlY2VpdmUgdGhlIGVudGlyZSBkaWdlc3QuXG4gKlxuICogQGNhdGVnb3J5IENyeXB0b1xuICovXG5mdW5jdGlvbiBoYXNoX3NoYTI1NihkYXRhLCB0cnVuY2F0ZV90bykge1xuICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5oYXNoX3NoYTI1Nl9jb21wdXRlKGRhdGEsIHRydW5jYXRlX3RvKTtcbn1cbmV4cG9ydHMuaGFzaF9zaGEyNTYgPSBoYXNoX3NoYTI1Njtcbi8qKlxuICogT2JqZWN0IHRoYXQgYWxsb3dzIGZvciBjb250aW51b3VzIFNIQTEgaGFzaGluZyBvZiBkYXRhLlxuICpcbiAqIEBjYXRlZ29yeSBDcnlwdG9cbiAqL1xuY2xhc3MgU2hhMUhhc2ggZXh0ZW5kcyBIYXNoIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoYmluZGluZ18xLmRlZmF1bHQuaGFzaF9zaGExX25ldygpKTtcbiAgICB9XG59XG5leHBvcnRzLlNoYTFIYXNoID0gU2hhMUhhc2g7XG4vKipcbiAqIENvbXB1dGVzIGFuIFNIQTEgaGFzaC4gVXNlIHRoaXMgaWYgeW91IGRvbid0IG5lZWQgdG8gc3RyZWFtIHRoZSBkYXRhIHlvdSdyZSBoYXNoaW5nIGFuZCBjYW4gbG9hZCB0aGUgZW50aXJlIGlucHV0XG4gKiBpbnRvIG1lbW9yeS5cbiAqXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBoYXNoXG4gKiBAcGFyYW0gdHJ1bmNhdGVfdG8gVGhlIG1heGltdW0gbnVtYmVyIG9mIGJ5dGVzIHRvIHJlY2VpdmUuIExlYXZlIGFzIHVuZGVmaW5lZCBvciAwIHRvIHJlY2VpdmUgdGhlIGVudGlyZSBkaWdlc3QuXG4gKlxuICogQGNhdGVnb3J5IENyeXB0b1xuICovXG5mdW5jdGlvbiBoYXNoX3NoYTEoZGF0YSwgdHJ1bmNhdGVfdG8pIHtcbiAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQuaGFzaF9zaGExX2NvbXB1dGUoZGF0YSwgdHJ1bmNhdGVfdG8pO1xufVxuZXhwb3J0cy5oYXNoX3NoYTEgPSBoYXNoX3NoYTE7XG4vKipcbiAqIE9iamVjdCB0aGF0IGFsbG93cyBmb3IgY29udGludW91cyBoYXNoaW5nIG9mIGRhdGEgd2l0aCBhbiBobWFjIHNlY3JldC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ3J5cHRvXG4gKi9cbmNsYXNzIEhtYWMgZXh0ZW5kcyBuYXRpdmVfcmVzb3VyY2VfMS5OYXRpdmVSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogSGFzaCBhZGRpdGlvbmFsIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSBhZGRpdGlvbmFsIGRhdGEgdG8gaGFzaFxuICAgICAqL1xuICAgIHVwZGF0ZShkYXRhKSB7XG4gICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0LmhtYWNfdXBkYXRlKHRoaXMubmF0aXZlX2hhbmRsZSgpLCBkYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcGxldGVzIHRoZSBoYXNoIGNvbXB1dGF0aW9uIGFuZCByZXR1cm5zIHRoZSBmaW5hbCBobWFjIGRpZ2VzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cnVuY2F0ZV90byBUaGUgbWF4aW11bSBudW1iZXIgb2YgYnl0ZXMgdG8gcmVjZWl2ZS4gTGVhdmUgYXMgdW5kZWZpbmVkIG9yIDAgdG8gcmVjZWl2ZSB0aGUgZW50aXJlIGRpZ2VzdC5cbiAgICAgKi9cbiAgICBmaW5hbGl6ZSh0cnVuY2F0ZV90bykge1xuICAgICAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQuaG1hY19kaWdlc3QodGhpcy5uYXRpdmVfaGFuZGxlKCksIHRydW5jYXRlX3RvKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaGFzaF9oYW5kbGUpIHtcbiAgICAgICAgc3VwZXIoaGFzaF9oYW5kbGUpO1xuICAgIH1cbn1cbi8qKlxuICogT2JqZWN0IHRoYXQgYWxsb3dzIGZvciBjb250aW51b3VzIFNIQTI1NiBITUFDIGhhc2hpbmcgb2YgZGF0YS5cbiAqXG4gKiBAY2F0ZWdvcnkgQ3J5cHRvXG4gKi9cbmNsYXNzIFNoYTI1NkhtYWMgZXh0ZW5kcyBIbWFjIHtcbiAgICBjb25zdHJ1Y3RvcihzZWNyZXQpIHtcbiAgICAgICAgc3VwZXIoYmluZGluZ18xLmRlZmF1bHQuaG1hY19zaGEyNTZfbmV3KHNlY3JldCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2hhMjU2SG1hYyA9IFNoYTI1NkhtYWM7XG4vKipcbiAqIENvbXB1dGVzIGFuIFNIQTI1NiBITUFDLiBVc2UgdGhpcyBpZiB5b3UgZG9uJ3QgbmVlZCB0byBzdHJlYW0gdGhlIGRhdGEgeW91J3JlIGhhc2hpbmcgYW5kIGNhbiBsb2FkIHRoZSBlbnRpcmUgaW5wdXRcbiAqIGludG8gbWVtb3J5LlxuICpcbiAqIEBwYXJhbSBzZWNyZXQgVGhlIGtleSB0byB1c2UgZm9yIHRoZSBITUFDIHByb2Nlc3NcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGhhc2hcbiAqIEBwYXJhbSB0cnVuY2F0ZV90byBUaGUgbWF4aW11bSBudW1iZXIgb2YgYnl0ZXMgdG8gcmVjZWl2ZS4gTGVhdmUgYXMgdW5kZWZpbmVkIG9yIDAgdG8gcmVjZWl2ZSB0aGUgZW50aXJlIGRpZ2VzdC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ3J5cHRvXG4gKi9cbmZ1bmN0aW9uIGhtYWNfc2hhMjU2KHNlY3JldCwgZGF0YSwgdHJ1bmNhdGVfdG8pIHtcbiAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQuaG1hY19zaGEyNTZfY29tcHV0ZShzZWNyZXQsIGRhdGEsIHRydW5jYXRlX3RvKTtcbn1cbmV4cG9ydHMuaG1hY19zaGEyNTYgPSBobWFjX3NoYTI1Njtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyeXB0by5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNydEVycm9yID0gdm9pZCAwO1xuLyoqXG4gKiBMaWJyYXJ5LXNwZWNpZmljIGVycm9yIGV4dGVuc2lvbiB0eXBlXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKiBAbW9kdWxlIGVycm9yXG4gKiBAbWVyZ2VUYXJnZXRcbiAqL1xuY29uc3QgYmluZGluZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JpbmRpbmdcIikpO1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGVycm9yIGVuY291bnRlcmVkIGluIG5hdGl2ZSBjb2RlLiBDYW4gYWxzbyBiZSB1c2VkIHRvIGNvbnZlcnQgYSBudW1lcmljIGVycm9yIGNvZGUgaW50b1xuICogYSBodW1hbi1yZWFkYWJsZSBzdHJpbmcuXG4gKlxuICogQGNhdGVnb3J5IFN5c3RlbVxuICovXG5jbGFzcyBDcnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICAvKiogQHZhciBlcnJvciAtIFRoZSBvcmlnaW5hbCBlcnJvci4gTW9zdCBvZnRlbiBhbiBlcnJvcl9jb2RlLCBidXQgcG9zc2libHkgc29tZSBvdGhlciBjb250ZXh0ICovXG4gICAgY29uc3RydWN0b3IoZXJyb3IpIHtcbiAgICAgICAgc3VwZXIoZXh0cmFjdF9tZXNzYWdlKGVycm9yKSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgdGhpcy5lcnJvcl9jb2RlID0gZXh0cmFjdF9jb2RlKGVycm9yKTtcbiAgICAgICAgdGhpcy5lcnJvcl9uYW1lID0gZXh0cmFjdF9uYW1lKGVycm9yKTtcbiAgICB9XG59XG5leHBvcnRzLkNydEVycm9yID0gQ3J0RXJyb3I7XG5mdW5jdGlvbiBleHRyYWN0X21lc3NhZ2UoZXJyb3IpIHtcbiAgICBpZiAodHlwZW9mIGVycm9yID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQuZXJyb3JfY29kZV90b19zdHJpbmcoZXJyb3IpO1xuICAgIH1cbiAgICBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIENydEVycm9yKSB7XG4gICAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3IudG9TdHJpbmcoKTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RfY29kZShlcnJvcikge1xuICAgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBDcnRFcnJvcikge1xuICAgICAgICByZXR1cm4gZXJyb3IuZXJyb3JfY29kZTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RfbmFtZShlcnJvcikge1xuICAgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBiaW5kaW5nXzEuZGVmYXVsdC5lcnJvcl9jb2RlX3RvX25hbWUoZXJyb3IpO1xuICAgIH1cbiAgICBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIENydEVycm9yKSB7XG4gICAgICAgIHJldHVybiBlcnJvci5lcnJvcl9uYW1lO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcbn0pO1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2xpZW50U3RyZWFtID0gZXhwb3J0cy5DbGllbnRDb25uZWN0aW9uID0gZXhwb3J0cy5NZXNzYWdlVHlwZSA9IGV4cG9ydHMuTWVzc2FnZUZsYWdzID0gZXhwb3J0cy5IZWFkZXIgPSBleHBvcnRzLkhlYWRlclR5cGUgPSB2b2lkIDA7XG5jb25zdCBuYXRpdmVfcmVzb3VyY2VfMSA9IHJlcXVpcmUoXCIuL25hdGl2ZV9yZXNvdXJjZVwiKTtcbmNvbnN0IGV2ZW50XzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2V2ZW50XCIpO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuY29uc3QgaW8gPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vaW9cIikpO1xuY29uc3QgZXZlbnRzdHJlYW1fdXRpbHMgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vZXZlbnRzdHJlYW1fdXRpbHNcIikpO1xuY29uc3QgcHJvbWlzZSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi4vY29tbW9uL3Byb21pc2VcIikpO1xuY29uc3QgYmluZGluZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JpbmRpbmdcIikpO1xuLyoqXG4gKiBOb2RlLmpzIHNwZWNpZmljIGV2ZW50c3RyZWFtIHJwYyBuYXRpdmUgYmluZGluZ3NcbiAqXG4gKiBERVZFTE9QRVIgUFJFVklFVyBESVNDTEFJTUVSXG4gKlxuICogRXZlbnRzdHJlYW0gUlBDIHN1cHBvcnQgaXMgY3VycmVudGx5IGluICoqZGV2ZWxvcGVyIHByZXZpZXcqKi4gIFdlIGVuY291cmFnZSBmZWVkYmFjayBhdCBhbGwgdGltZXMsIGJ1dCBmZWVkYmFja1xuICogZHVyaW5nIHRoZSBwcmV2aWV3IHdpbmRvdyBpcyBlc3BlY2lhbGx5IHZhbHVhYmxlIGluIHNoYXBpbmcgdGhlIGZpbmFsIHByb2R1Y3QuICBEdXJpbmcgdGhlIHByZXZpZXcgcGVyaW9kIHdlIG1heSBtYWtlXG4gKiBiYWNrd2FyZHMtaW5jb21wYXRpYmxlIGNoYW5nZXMgdG8gdGhlIHB1YmxpYyBBUEksIGJ1dCBpbiBnZW5lcmFsLCB0aGlzIGlzIHNvbWV0aGluZyB3ZSB3aWxsIHRyeSBvdXIgYmVzdCB0byBhdm9pZC5cbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgZXZlbnRzdHJlYW1cbiAqIEBtZXJnZVRhcmdldFxuICpcbiAqL1xuLyoqXG4gKiBTdXBwb3J0ZWQgdHlwZXMgZm9yIHRoZSB2YWx1ZSB3aXRoaW4gYW4gZXZlbnRzdHJlYW0gbWVzc2FnZSBoZWFkZXJcbiAqL1xudmFyIEhlYWRlclR5cGU7XG4oZnVuY3Rpb24gKEhlYWRlclR5cGUpIHtcbiAgICAvKiogVmFsdWUgaXMgVHJ1ZS4gTm8gYWN0dWFsIHZhbHVlIGlzIHRyYW5zbWl0dGVkIG9uIHRoZSB3aXJlLiAqL1xuICAgIEhlYWRlclR5cGVbSGVhZGVyVHlwZVtcIkJvb2xlYW5UcnVlXCJdID0gMF0gPSBcIkJvb2xlYW5UcnVlXCI7XG4gICAgLyoqIFZhbHVlIGlzIFRydWUuIE5vIGFjdHVhbCB2YWx1ZSBpcyB0cmFuc21pdHRlZCBvbiB0aGUgd2lyZS4gKi9cbiAgICBIZWFkZXJUeXBlW0hlYWRlclR5cGVbXCJCb29sZWFuRmFsc2VcIl0gPSAxXSA9IFwiQm9vbGVhbkZhbHNlXCI7XG4gICAgLyoqIFZhbHVlIGlzIHNpZ25lZCA4LWJpdCBpbnQuICovXG4gICAgSGVhZGVyVHlwZVtIZWFkZXJUeXBlW1wiQnl0ZVwiXSA9IDJdID0gXCJCeXRlXCI7XG4gICAgLyoqIFZhbHVlIGlzIHNpZ25lZCAxNi1iaXQgaW50LiAqL1xuICAgIEhlYWRlclR5cGVbSGVhZGVyVHlwZVtcIkludDE2XCJdID0gM10gPSBcIkludDE2XCI7XG4gICAgLyoqIFZhbHVlIGlzIHNpZ25lZCAzMi1iaXQgaW50LiAqL1xuICAgIEhlYWRlclR5cGVbSGVhZGVyVHlwZVtcIkludDMyXCJdID0gNF0gPSBcIkludDMyXCI7XG4gICAgLyoqIFZhbHVlIGlzIHNpZ25lZCA2NC1iaXQgaW50LiAqL1xuICAgIEhlYWRlclR5cGVbSGVhZGVyVHlwZVtcIkludDY0XCJdID0gNV0gPSBcIkludDY0XCI7XG4gICAgLyoqIFZhbHVlIGlzIHJhdyBieXRlcy4gKi9cbiAgICBIZWFkZXJUeXBlW0hlYWRlclR5cGVbXCJCeXRlQnVmZmVyXCJdID0gNl0gPSBcIkJ5dGVCdWZmZXJcIjtcbiAgICAvKiogVmFsdWUgaXMgYSBzdHIuICBUcmFuc21pdHRlZCBvbiB0aGUgd2lyZSBhcyB1dGYtOC4gKi9cbiAgICBIZWFkZXJUeXBlW0hlYWRlclR5cGVbXCJTdHJpbmdcIl0gPSA3XSA9IFwiU3RyaW5nXCI7XG4gICAgLyoqIFZhbHVlIGlzIGEgcG9zaXggdGltZXN0YW1wIChzZWNvbmRzIHNpbmNlIFVuaXggZXBvY2gpLiAgVHJhbnNtaXR0ZWQgb24gdGhlIHdpcmUgYXMgYSA2NC1iaXQgaW50LiAqL1xuICAgIEhlYWRlclR5cGVbSGVhZGVyVHlwZVtcIlRpbWVzdGFtcFwiXSA9IDhdID0gXCJUaW1lc3RhbXBcIjtcbiAgICAvKiogVmFsdWUgaXMgYSBVVUlELiBUcmFuc21pdHRlZCBvbiB0aGUgd2lyZSBhcyAxNiBieXRlcy4gKi9cbiAgICBIZWFkZXJUeXBlW0hlYWRlclR5cGVbXCJVVUlEXCJdID0gOV0gPSBcIlVVSURcIjtcbn0pKEhlYWRlclR5cGUgPSBleHBvcnRzLkhlYWRlclR5cGUgfHwgKGV4cG9ydHMuSGVhZGVyVHlwZSA9IHt9KSk7XG5jb25zdCBBV1NfTUFYSU1VTV9FVkVOVF9TVFJFQU1fSEVBREVSX05BTUVfTEVOR1RIID0gMTI3O1xuLyoqXG4gKiBXcmFwcGVyIGNsYXNzIGZvciBldmVudCBzdHJlYW0gbWVzc2FnZSBoZWFkZXJzLiAgU2ltaWxhciB0byBIVFRQLCBhIGhlYWRlciBpcyBhIG5hbWUtdmFsdWUgcGFpci4gIFVubGlrZSBIVFRQLCB0aGVcbiAqIHZhbHVlJ3Mgd2lyZSBmb3JtYXQgdmFyaWVzIGRlcGVuZGluZyBvbiBhIHR5cGUgYW5ub3RhdGlvbi4gIFdlIHByb3ZpZGUgc3RhdGljIGJ1aWxkZXIgZnVuY3Rpb25zIHRvIGhlbHBcbiAqIGVuc3VyZSBjb3JyZWN0IHR5cGUgYWdyZWVtZW50ICh0eXBlIGFubm90YXRpb24gbWF0Y2hlcyBhY3R1YWwgdmFsdWUpIGF0IGNvbnN0cnVjdGlvbiB0aW1lLiAgR2V0dGluZyB0aGUgaGVhZGVyXG4gKiB2YWx1ZSByZXF1aXJlcyB0aGUgdXNlIG9mIGEgc2FmZSBjb252ZXJzaW9uIGZ1bmN0aW9uLlxuICovXG5jbGFzcyBIZWFkZXIge1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB0eXBlLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHN0YXRpYyB2YWxpZGF0ZUhlYWRlck5hbWUobmFtZSkge1xuICAgICAgICBpZiAobmFtZS5sZW5ndGggPT0gMCB8fCBuYW1lLmxlbmd0aCA+IEFXU19NQVhJTVVNX0VWRU5UX1NUUkVBTV9IRUFERVJfTkFNRV9MRU5HVEgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKGBFdmVudCBzdHJlYW0gaGVhZGVyIG5hbWUgKCR7bmFtZX0pIGlzIG5vdCB2YWxpZGApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBib29sZWFuLXZhbHVlZCBtZXNzYWdlIGhlYWRlclxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgbmFtZSBvZiB0aGUgaGVhZGVyXG4gICAgICogQHBhcmFtIHZhbHVlIHZhbHVlIG9mIHRoZSBoZWFkZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3Qm9vbGVhbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICBIZWFkZXIudmFsaWRhdGVIZWFkZXJOYW1lKG5hbWUpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSGVhZGVyKG5hbWUsIEhlYWRlclR5cGUuQm9vbGVhblRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXIobmFtZSwgSGVhZGVyVHlwZS5Cb29sZWFuRmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBieXRlLXZhbHVlZCBtZXNzYWdlIGhlYWRlclxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgbmFtZSBvZiB0aGUgaGVhZGVyXG4gICAgICogQHBhcmFtIHZhbHVlIHZhbHVlIG9mIHRoZSBoZWFkZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3Qnl0ZShuYW1lLCB2YWx1ZSkge1xuICAgICAgICBIZWFkZXIudmFsaWRhdGVIZWFkZXJOYW1lKG5hbWUpO1xuICAgICAgICBpZiAodmFsdWUgPj0gZXZlbnRzdHJlYW1fdXRpbHMuTUlOX0lOVDggJiYgdmFsdWUgPD0gZXZlbnRzdHJlYW1fdXRpbHMuTUFYX0lOVDggJiYgTnVtYmVyLmlzU2FmZUludGVnZXIodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEhlYWRlcihuYW1lLCBIZWFkZXJUeXBlLkJ5dGUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihgSWxsZWdhbCB2YWx1ZSBmb3IgZXZlbnRzdHJlYW0gYnl0ZS12YWx1ZWQgaGVhZGVyOiAke3ZhbHVlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgMTYtYml0LWludGVnZXItdmFsdWVkIG1lc3NhZ2UgaGVhZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHRoZSBoZWFkZXJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgb2YgdGhlIGhlYWRlclxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdJbnQxNihuYW1lLCB2YWx1ZSkge1xuICAgICAgICBIZWFkZXIudmFsaWRhdGVIZWFkZXJOYW1lKG5hbWUpO1xuICAgICAgICBpZiAodmFsdWUgPj0gZXZlbnRzdHJlYW1fdXRpbHMuTUlOX0lOVDE2ICYmIHZhbHVlIDw9IGV2ZW50c3RyZWFtX3V0aWxzLk1BWF9JTlQxNiAmJiBOdW1iZXIuaXNTYWZlSW50ZWdlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSGVhZGVyKG5hbWUsIEhlYWRlclR5cGUuSW50MTYsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihgSWxsZWdhbCB2YWx1ZSBmb3IgZXZlbnRzdHJlYW0gaW50MTYtdmFsdWVkIGhlYWRlcjogJHt2YWx1ZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IDMyLWJpdC1pbnRlZ2VyLXZhbHVlZCBtZXNzYWdlIGhlYWRlclxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgbmFtZSBvZiB0aGUgaGVhZGVyXG4gICAgICogQHBhcmFtIHZhbHVlIHZhbHVlIG9mIHRoZSBoZWFkZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3SW50MzIobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgSGVhZGVyLnZhbGlkYXRlSGVhZGVyTmFtZShuYW1lKTtcbiAgICAgICAgaWYgKHZhbHVlID49IGV2ZW50c3RyZWFtX3V0aWxzLk1JTl9JTlQzMiAmJiB2YWx1ZSA8PSBldmVudHN0cmVhbV91dGlscy5NQVhfSU5UMzIgJiYgTnVtYmVyLmlzU2FmZUludGVnZXIodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEhlYWRlcihuYW1lLCBIZWFkZXJUeXBlLkludDMyLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoYElsbGVnYWwgdmFsdWUgZm9yIGV2ZW50c3RyZWFtIGludDMyLXZhbHVlZCBoZWFkZXI6ICR7dmFsdWV9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyA2NC1iaXQtaW50ZWdlci12YWx1ZWQgbWVzc2FnZSBoZWFkZXIuICBudW1iZXIgY2Fubm90IHJlcHJlc2VudCBhIGZ1bGwgNjQtYml0IGludGVnZXIgcmFuZ2UgYnV0XG4gICAgICogaXRzIHVzYWdlIGlzIHNvIGNvbW1vbiB0aGF0IHRoaXMgZXhpc3RzIGZvciBjb252ZW5pZW5jZS4gIEludGVybmFsbHksIHdlIGFsd2F5cyB0cmFjayA2NCBiaXQgaW50ZWdlcnMgYXNcbiAgICAgKiBiaWdpbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgbmFtZSBvZiB0aGUgaGVhZGVyXG4gICAgICogQHBhcmFtIHZhbHVlIHZhbHVlIG9mIHRoZSBoZWFkZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3SW50NjRGcm9tTnVtYmVyKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIEhlYWRlci52YWxpZGF0ZUhlYWRlck5hbWUobmFtZSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNTYWZlSW50ZWdlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSGVhZGVyKG5hbWUsIEhlYWRlclR5cGUuSW50NjQsIGV2ZW50c3RyZWFtX3V0aWxzLm1hcnNoYWxJbnQ2NEJpZ2ludEFzQnVmZmVyKEJpZ0ludCh2YWx1ZSkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihgSWxsZWdhbCB2YWx1ZSBmb3IgZXZlbnRzdHJlYW0gaW50NjQtdmFsdWVkIGhlYWRlcjogJHt2YWx1ZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IDY0LWJpdC1pbnRlZ2VyLXZhbHVlZCBtZXNzYWdlIGhlYWRlciBmcm9tIGEgYmlnIGludGVnZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHRoZSBoZWFkZXJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgb2YgdGhlIGhlYWRlclxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdJbnQ2NEZyb21CaWdpbnQobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgSGVhZGVyLnZhbGlkYXRlSGVhZGVyTmFtZShuYW1lKTtcbiAgICAgICAgaWYgKHZhbHVlID49IGV2ZW50c3RyZWFtX3V0aWxzLk1JTl9JTlQ2NCAmJiB2YWx1ZSA8PSBldmVudHN0cmVhbV91dGlscy5NQVhfSU5UNjQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSGVhZGVyKG5hbWUsIEhlYWRlclR5cGUuSW50NjQsIGV2ZW50c3RyZWFtX3V0aWxzLm1hcnNoYWxJbnQ2NEJpZ2ludEFzQnVmZmVyKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoYElsbGVnYWwgdmFsdWUgZm9yIGV2ZW50c3RyZWFtIGludDY0LXZhbHVlZCBoZWFkZXI6ICR7dmFsdWV9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBieXRlLWJ1ZmZlci12YWx1ZWQgbWVzc2FnZSBoZWFkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIG5hbWUgb2YgdGhlIGhlYWRlclxuICAgICAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSBvZiB0aGUgaGVhZGVyXG4gICAgICovXG4gICAgc3RhdGljIG5ld0J5dGVCdWZmZXIobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgSGVhZGVyLnZhbGlkYXRlSGVhZGVyTmFtZShuYW1lKTtcbiAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXIobmFtZSwgSGVhZGVyVHlwZS5CeXRlQnVmZmVyLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBzdHJpbmctdmFsdWVkIG1lc3NhZ2UgaGVhZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHRoZSBoZWFkZXJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgb2YgdGhlIGhlYWRlclxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdTdHJpbmcobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgSGVhZGVyLnZhbGlkYXRlSGVhZGVyTmFtZShuYW1lKTtcbiAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXIobmFtZSwgSGVhZGVyVHlwZS5TdHJpbmcsIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHRpbWVzdGFtcC12YWx1ZWQgbWVzc2FnZSBoZWFkZXIgZnJvbSBhbiBpbnRlZ3JhbCB2YWx1ZSBpbiBzZWNvbmRzIHNpbmNlIGVwb2NoLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgbmFtZSBvZiB0aGUgaGVhZGVyXG4gICAgICogQHBhcmFtIHZhbHVlIHZhbHVlIG9mIHRoZSBoZWFkZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3VGltZVN0YW1wRnJvbVNlY29uZHNTaW5jZUVwb2NoKG5hbWUsIHNlY29uZHNTaW5jZUVwb2NoKSB7XG4gICAgICAgIEhlYWRlci52YWxpZGF0ZUhlYWRlck5hbWUobmFtZSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNTYWZlSW50ZWdlcihzZWNvbmRzU2luY2VFcG9jaCkgJiYgc2Vjb25kc1NpbmNlRXBvY2ggPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXIobmFtZSwgSGVhZGVyVHlwZS5UaW1lc3RhbXAsIHNlY29uZHNTaW5jZUVwb2NoKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihgSWxsZWdhbCB2YWx1ZSBmb3IgZXZlbnRzdHJlYW0gdGltZXN0YW1wLXZhbHVlZCBoZWFkZXI6ICR7c2Vjb25kc1NpbmNlRXBvY2h9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyB0aW1lc3RhbXAtdmFsdWVkIG1lc3NhZ2UgaGVhZGVyIGZyb20gYSBkYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgbmFtZSBvZiB0aGUgaGVhZGVyXG4gICAgICogQHBhcmFtIHZhbHVlIHZhbHVlIG9mIHRoZSBoZWFkZXJcbiAgICAgKi9cbiAgICBzdGF0aWMgbmV3VGltZVN0YW1wRnJvbURhdGUobmFtZSwgZGF0ZSkge1xuICAgICAgICBIZWFkZXIudmFsaWRhdGVIZWFkZXJOYW1lKG5hbWUpO1xuICAgICAgICBjb25zdCBzZWNvbmRzU2luY2VFcG9jaCA9IGRhdGUuZ2V0VGltZSgpO1xuICAgICAgICBpZiAoTnVtYmVyLmlzU2FmZUludGVnZXIoc2Vjb25kc1NpbmNlRXBvY2gpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEhlYWRlcihuYW1lLCBIZWFkZXJUeXBlLlRpbWVzdGFtcCwgc2Vjb25kc1NpbmNlRXBvY2gpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKGBJbGxlZ2FsIHZhbHVlIGZvciBldmVudHN0cmVhbSB0aW1lc3RhbXAtdmFsdWVkIGhlYWRlcjogJHtkYXRlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgVVVJRC12YWx1ZWQgbWVzc2FnZSBoZWFkZXIuXG4gICAgICogV0lQXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHRoZSBoZWFkZXJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgb2YgdGhlIGhlYWRlclxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdVVUlEKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIEhlYWRlci52YWxpZGF0ZUhlYWRlck5hbWUobmFtZSk7XG4gICAgICAgIGlmICh2YWx1ZS5ieXRlTGVuZ3RoID09IDE2KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEhlYWRlcihuYW1lLCBIZWFkZXJUeXBlLlVVSUQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihgSWxsZWdhbCB2YWx1ZSBmb3IgZXZlbnRzdHJlYW0gdXVpZC12YWx1ZWQgaGVhZGVyOiAke3ZhbHVlfWApO1xuICAgIH1cbiAgICB0b1ZhbHVlKHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgIT0gdGhpcy50eXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihgSGVhZGVyIG9mIHR5cGUgKCR7dGhpcy50eXBlfSkgY2Fubm90IGJlIGNvbnZlcnRlZCB0byB0eXBlICgke3R5cGV9KWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGwgY29udmVyc2lvbiBmdW5jdGlvbnMgcmVxdWlyZSB0aGUgaGVhZGVyJ3MgdHlwZSB0byBiZSBhcHByb3ByaWF0ZWx5IG1hdGNoaW5nLiAgVGhlcmUgYXJlIG5vIGVycm9yLXByb25lXG4gICAgICogZmxleGlibGUgY29udmVyc2lvbiBoZWxwZXJzLlxuICAgICAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBib29sZWFuIGhlYWRlcidzIHZhbHVlLlxuICAgICAqL1xuICAgIGFzQm9vbGVhbigpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgSGVhZGVyVHlwZS5Cb29sZWFuRmFsc2U6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSBIZWFkZXJUeXBlLkJvb2xlYW5UcnVlOlxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihgSGVhZGVyIG9mIHR5cGUgKCR7dGhpcy50eXBlfSkgY2Fubm90IGJlIGNvbnZlcnRlZCB0byB0eXBlIChib29sZWFuKWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBieXRlIGhlYWRlcidzIHZhbHVlLlxuICAgICAqL1xuICAgIGFzQnl0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9WYWx1ZShIZWFkZXJUeXBlLkJ5dGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgMTYtYml0IGludGVnZXIgaGVhZGVyJ3MgdmFsdWUuXG4gICAgICovXG4gICAgYXNJbnQxNigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9WYWx1ZShIZWFkZXJUeXBlLkludDE2KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIDMyLWJpdCBpbnRlZ2VyIGhlYWRlcidzIHZhbHVlLlxuICAgICAqL1xuICAgIGFzSW50MzIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvVmFsdWUoSGVhZGVyVHlwZS5JbnQzMik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSA2NC1iaXQgaW50ZWdlciBoZWFkZXIncyB2YWx1ZS5cbiAgICAgKi9cbiAgICBhc0ludDY0KCkge1xuICAgICAgICByZXR1cm4gZXZlbnRzdHJlYW1fdXRpbHMudW5tYXJzaGFsSW50NjRCaWdpbnRGcm9tQnVmZmVyKHRoaXMudG9WYWx1ZShIZWFkZXJUeXBlLkludDY0KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBieXRlIGJ1ZmZlciBoZWFkZXIncyB2YWx1ZS5cbiAgICAgKi9cbiAgICBhc0J5dGVCdWZmZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvVmFsdWUoSGVhZGVyVHlwZS5CeXRlQnVmZmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyBoZWFkZXIncyB2YWx1ZS5cbiAgICAgKi9cbiAgICBhc1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9WYWx1ZShIZWFkZXJUeXBlLlN0cmluZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB0aW1lc3RhbXAgaGVhZGVyJ3MgdmFsdWUgKGFzIHNlY29uZHMgc2luY2UgZXBvY2gpLlxuICAgICAqL1xuICAgIGFzVGltZXN0YW1wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b1ZhbHVlKEhlYWRlclR5cGUuVGltZXN0YW1wKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFVVSUQgaGVhZGVyJ3MgdmFsdWUuXG4gICAgICovXG4gICAgYXNVVUlEKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b1ZhbHVlKEhlYWRlclR5cGUuVVVJRCk7XG4gICAgfVxufVxuZXhwb3J0cy5IZWFkZXIgPSBIZWFkZXI7XG4vKipcbiAqIEZsYWdzIGZvciBtZXNzYWdlcyBpbiB0aGUgZXZlbnQtc3RyZWFtIFJQQyBwcm90b2NvbC5cbiAqXG4gKiBGbGFncyBtYXkgYmUgWE9SZWQgdG9nZXRoZXIuXG4gKiBOb3QgYWxsIGZsYWdzIGNhbiBiZSB1c2VkIHdpdGggYWxsIG1lc3NhZ2UgdHlwZXMsIGNvbnN1bHQgZG9jdW1lbnRhdGlvbi5cbiAqL1xudmFyIE1lc3NhZ2VGbGFncztcbihmdW5jdGlvbiAoTWVzc2FnZUZsYWdzKSB7XG4gICAgLyoqIE5vdGhpbmcgKi9cbiAgICBNZXNzYWdlRmxhZ3NbTWVzc2FnZUZsYWdzW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgLyoqXG4gICAgICogQ29ubmVjdGlvbiBhY2NlcHRlZFxuICAgICAqXG4gICAgICogSWYgdGhpcyBmbGFnIGlzIGFic2VudCBmcm9tIGEge0BsaW5rIE1lc3NhZ2VUeXBlLkNvbm5lY3RBY2sgQ29ubmVjdEFja30gbWVzc2FnZSwgdGhlIGNvbm5lY3Rpb24gaGFzIGJlZW5cbiAgICAgKiByZWplY3RlZC5cbiAgICAgKi9cbiAgICBNZXNzYWdlRmxhZ3NbTWVzc2FnZUZsYWdzW1wiQ29ubmVjdGlvbkFjY2VwdGVkXCJdID0gMV0gPSBcIkNvbm5lY3Rpb25BY2NlcHRlZFwiO1xuICAgIC8qKlxuICAgICAqIFRlcm1pbmF0ZSBzdHJlYW1cbiAgICAgKlxuICAgICAqIFRoaXMgbWVzc2FnZSBtYXkgYmUgdXNlZCB3aXRoIGFueSBtZXNzYWdlIHR5cGUuXG4gICAgICogVGhlIHNlbmRlciB3aWxsIGNsb3NlIHRoZWlyIGNvbm5lY3Rpb24gYWZ0ZXIgdGhlIG1lc3NhZ2UgaXMgd3JpdHRlbiB0byB0aGUgd2lyZS5cbiAgICAgKiBUaGUgcmVjZWl2ZXIgd2lsbCBjbG9zZSB0aGVpciBjb25uZWN0aW9uIGFmdGVyIGRlbGl2ZXJpbmcgdGhlIG1lc3NhZ2UgdG8gdGhlIHVzZXIuXG4gICAgICovXG4gICAgTWVzc2FnZUZsYWdzW01lc3NhZ2VGbGFnc1tcIlRlcm1pbmF0ZVN0cmVhbVwiXSA9IDJdID0gXCJUZXJtaW5hdGVTdHJlYW1cIjtcbn0pKE1lc3NhZ2VGbGFncyA9IGV4cG9ydHMuTWVzc2FnZUZsYWdzIHx8IChleHBvcnRzLk1lc3NhZ2VGbGFncyA9IHt9KSk7XG4vKipcbiAqXG4gKiBUeXBlcyBvZiBtZXNzYWdlcyBpbiB0aGUgZXZlbnQtc3RyZWFtIFJQQyBwcm90b2NvbC5cbiAqIFRoZSB7QGxpbmsgTWVzc2FnZVR5cGUuQXBwbGljYXRpb25NZXNzYWdlIEFwcGxpY2F0aW9ufSBhbmQge0BsaW5rIE1lc3NhZ2VUeXBlLkFwcGxpY2F0aW9uRXJyb3IgRXJyb3J9IG1lc3NhZ2UgdHlwZXNcbiAqIG1heSBvbmx5IGJlIHNlbnQgb24gc3RyZWFtcywgYW5kIHdpbGwgbmV2ZXIgYXJyaXZlIGFzIGEgcHJvdG9jb2wgbWVzc2FnZSAoc3RyZWFtLWlkIDApLlxuICpcbiAqIEZvciBhbGwgb3RoZXIgbWVzc2FnZSB0eXBlcywgdGhleSBtYXkgb25seSBiZSBzZW50IGFzIHByb3RvY29sIG1lc3NhZ2VzXG4gKiAoc3RyZWFtLWlkIDApLCBhbmQgd2lsbCBuZXZlciBhcnJpdmUgYXMgYSBzdHJlYW0gbWVzc2FnZS5cbiAqXG4gKiBEaWZmZXJlbnQgbWVzc2FnZSB0eXBlcyBleHBlY3Qgc3BlY2lmaWMgaGVhZGVycyBhbmQgZmxhZ3MsIGNvbnN1bHQgZG9jdW1lbnRhdGlvbi5cbiAqL1xudmFyIE1lc3NhZ2VUeXBlO1xuKGZ1bmN0aW9uIChNZXNzYWdlVHlwZSkge1xuICAgIC8qKiBBcHBsaWNhdGlvbiBtZXNzYWdlICovXG4gICAgTWVzc2FnZVR5cGVbTWVzc2FnZVR5cGVbXCJBcHBsaWNhdGlvbk1lc3NhZ2VcIl0gPSAwXSA9IFwiQXBwbGljYXRpb25NZXNzYWdlXCI7XG4gICAgLyoqIEFwcGxpY2F0aW9uIGVycm9yICovXG4gICAgTWVzc2FnZVR5cGVbTWVzc2FnZVR5cGVbXCJBcHBsaWNhdGlvbkVycm9yXCJdID0gMV0gPSBcIkFwcGxpY2F0aW9uRXJyb3JcIjtcbiAgICAvKiogUGluZyAqL1xuICAgIE1lc3NhZ2VUeXBlW01lc3NhZ2VUeXBlW1wiUGluZ1wiXSA9IDJdID0gXCJQaW5nXCI7XG4gICAgLyoqIFBpbmcgcmVzcG9uc2UgKi9cbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIlBpbmdSZXNwb25zZVwiXSA9IDNdID0gXCJQaW5nUmVzcG9uc2VcIjtcbiAgICAvKiogQ29ubmVjdCAqL1xuICAgIE1lc3NhZ2VUeXBlW01lc3NhZ2VUeXBlW1wiQ29ubmVjdFwiXSA9IDRdID0gXCJDb25uZWN0XCI7XG4gICAgLyoqXG4gICAgICogQ29ubmVjdCBhY2tub3dsZWRnZW1lbnRcbiAgICAgKlxuICAgICAqIElmIHRoZSB7QGxpbmsgTWVzc2FnZUZsYWdzLkNvbm5lY3Rpb25BY2NlcHRlZCBDb25uZWN0aW9uQWNjZXB0ZWR9IGZsYWcgaXMgbm90IHByZXNlbnQsIHRoZSBjb25uZWN0aW9uIGhhcyBiZWVuIHJlamVjdGVkLlxuICAgICAqL1xuICAgIE1lc3NhZ2VUeXBlW01lc3NhZ2VUeXBlW1wiQ29ubmVjdEFja1wiXSA9IDVdID0gXCJDb25uZWN0QWNrXCI7XG4gICAgLyoqXG4gICAgICogUHJvdG9jb2wgZXJyb3JcbiAgICAgKi9cbiAgICBNZXNzYWdlVHlwZVtNZXNzYWdlVHlwZVtcIlByb3RvY29sRXJyb3JcIl0gPSA2XSA9IFwiUHJvdG9jb2xFcnJvclwiO1xuICAgIC8qKlxuICAgICAqIEludGVybmFsIGVycm9yXG4gICAgICovXG4gICAgTWVzc2FnZVR5cGVbTWVzc2FnZVR5cGVbXCJJbnRlcm5hbEVycm9yXCJdID0gN10gPSBcIkludGVybmFsRXJyb3JcIjtcbn0pKE1lc3NhZ2VUeXBlID0gZXhwb3J0cy5NZXNzYWdlVHlwZSB8fCAoZXhwb3J0cy5NZXNzYWdlVHlwZSA9IHt9KSk7XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBtYXBQb2RIZWFkZXJzVG9KU0hlYWRlcnMoaGVhZGVycykge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGhlYWRlcnMsIChoZWFkZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBIZWFkZXIoaGVhZGVyLm5hbWUsIGhlYWRlci50eXBlLCBoZWFkZXIudmFsdWUpO1xuICAgIH0pO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gbWFwUG9kTWVzc2FnZVRvSlNNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBsZXQganNNZXNzYWdlID0ge1xuICAgICAgICB0eXBlOiBtZXNzYWdlLnR5cGUsXG4gICAgICAgIGZsYWdzOiBtZXNzYWdlLmZsYWdzLFxuICAgICAgICBwYXlsb2FkOiBtZXNzYWdlLnBheWxvYWRcbiAgICB9O1xuICAgIGlmIChtZXNzYWdlLmhlYWRlcnMpIHtcbiAgICAgICAganNNZXNzYWdlLmhlYWRlcnMgPSBtYXBQb2RIZWFkZXJzVG9KU0hlYWRlcnMobWVzc2FnZS5oZWFkZXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIGpzTWVzc2FnZTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKlxuICogV2hpbGUgbm90IHN0cmljdGx5IG5lY2Vzc2FyeSwgdGhlIHNpbmdsZS10aHJlYWRlZCBuYXR1cmUgb2YgSlMgZXhlY3V0aW9uIGFsbG93cyB1cyB0byBlYXNpbHkgYXBwbHkgc29tZVxuICogcmlnaWQgY29uc3RyYWludHMgdG8gdGhlIHB1YmxpYyBBUEkgY2FsbHMgb2Ygb3VyIGV2ZW50IHN0cmVhbSBvYmplY3RzLiAgVGhpcyBpbiB0dXJuIHJlZHVjZXMgdGhlIGNvbXBsZXhpdHkgb2YgdGhlXG4gKiBiaW5kaW5nIGNhc2VzIHdlIG5lZWQgdG8gY29uc2lkZXIuXG4gKlxuICogVGhpcyBzdGF0ZSB2YWx1ZSBpcyB0aGUgcHJpbWFyeSBtZWFucyBieSB3aGljaCB3ZSBhZGQgYW5kIGVuZm9yY2UgdGhlc2UgY29uc3RyYWludHMgdG8gY29ubmVjdGlvbiBvYmplY3RzLlxuICpcbiAqIENvbnN0cmFpbnRzIGVuZm9yY2VkIGluIHRoZSBtYW5hZ2VkIGJpbmRpbmc6XG4gKlxuICogICgxKSBjbG9zZSgpIG1heSBvbmx5IGJlIGNhbGxlZCBvbmNlLiAgT25jZSBpdCBoYXMgYmVlbiBjYWxsZWQsIG5vdGhpbmcgZWxzZSBtYXkgYmUgY2FsbGVkLlxuICogICgyKSBuZXdTdHJlYW0oKSBhbmQgc2VuZE1lc3NhZ2UoKSBtYXkgb25seSBiZSBjYWxsZWQgYWZ0ZXIgc3VjY2Vzc2Z1bCBjb25uZWN0aW9uIGVzdGFibGlzaG1lbnQgYW5kIGJlZm9yZSB0aGVcbiAqICAgICAgY29ubmVjdGlvbiBoYXMgYmVlbiBjbG9zZWQuXG4gKiAgKDMpIGNvbm5lY3QoKSBtYXkgb25seSBiZSBjYWxsZWQgb25jZS4gIENvbWJpbmVkIHdpdGggKDEpIGFuZCAoMiksIHRoaXMgbWVhbnMgdGhhdCBpZiBjb25uZWN0KCkgaXMgY2FsbGVkLCBpdCBtdXN0XG4gKiAgICAgIGJlIHRoZSBmaXJzdCB0aGluZyBjYWxsZWQuXG4gKi9cbnZhciBDbGllbnRDb25uZWN0aW9uU3RhdGU7XG4oZnVuY3Rpb24gKENsaWVudENvbm5lY3Rpb25TdGF0ZSkge1xuICAgIENsaWVudENvbm5lY3Rpb25TdGF0ZVtDbGllbnRDb25uZWN0aW9uU3RhdGVbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICBDbGllbnRDb25uZWN0aW9uU3RhdGVbQ2xpZW50Q29ubmVjdGlvblN0YXRlW1wiQ29ubmVjdGluZ1wiXSA9IDFdID0gXCJDb25uZWN0aW5nXCI7XG4gICAgQ2xpZW50Q29ubmVjdGlvblN0YXRlW0NsaWVudENvbm5lY3Rpb25TdGF0ZVtcIkNvbm5lY3RlZFwiXSA9IDJdID0gXCJDb25uZWN0ZWRcIjtcbiAgICBDbGllbnRDb25uZWN0aW9uU3RhdGVbQ2xpZW50Q29ubmVjdGlvblN0YXRlW1wiRGlzY29ubmVjdGVkXCJdID0gM10gPSBcIkRpc2Nvbm5lY3RlZFwiO1xuICAgIENsaWVudENvbm5lY3Rpb25TdGF0ZVtDbGllbnRDb25uZWN0aW9uU3RhdGVbXCJDbG9zZWRcIl0gPSA0XSA9IFwiQ2xvc2VkXCI7XG59KShDbGllbnRDb25uZWN0aW9uU3RhdGUgfHwgKENsaWVudENvbm5lY3Rpb25TdGF0ZSA9IHt9KSk7XG4vKipcbiAqIFdyYXBwZXIgZm9yIGEgbmV0d29yayBjb25uZWN0aW9uIHRoYXQgZnVsZmlsbHMgdGhlIGNsaWVudC1zaWRlIGV2ZW50IHN0cmVhbSBSUEMgcHJvdG9jb2wgY29udHJhY3QuXG4gKlxuICogVGhlIHVzZXIgKiptdXN0KiogY2FsbCBjbG9zZSgpIG9uIGEgY29ubmVjdGlvbiBvbmNlIGZpbmlzaGVkIHdpdGggaXQuICBPbmNlIGNsb3NlKCkgaGFzIGJlZW4gY2FsbGVkLCBubyBtb3JlIGV2ZW50c1xuICogd2lsbCBiZSBlbWl0dGVkIGFuZCBhbGwgcHVibGljIEFQSSBpbnZvY2F0aW9ucyB3aWxsIHRyaWdnZXIgYW4gZXhjZXB0aW9uLlxuICovXG5jbGFzcyBDbGllbnRDb25uZWN0aW9uIGV4dGVuZHMgKDAsIG5hdGl2ZV9yZXNvdXJjZV8xLk5hdGl2ZVJlc291cmNlTWl4aW4pKGV2ZW50XzEuQnVmZmVyZWRFdmVudEVtaXR0ZXIpIHtcbiAgICAvKipcbiAgICAgKiBDb25maWd1cmVzIGFuZCBjcmVhdGVzIGEgbmV3IENsaWVudENvbm5lY3Rpb24gaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb25maWcgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgZXZlbnQgc3RyZWFtIGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihcIkludmFsaWQgY29uZmlndXJhdGlvbiBwYXNzZWQgdG8gZXZlbnRzdHJlYW0gQ2xpZW50Q29ubmVjdGlvbiBjb25zdHJ1Y3RvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0gQ2xpZW50Q29ubmVjdGlvblN0YXRlLk5vbmU7XG4gICAgICAgIHRoaXMuX3N1cGVyKGJpbmRpbmdfMS5kZWZhdWx0LmV2ZW50X3N0cmVhbV9jbGllbnRfY29ubmVjdGlvbl9uZXcodGhpcywgY29uZmlnLCAoY29ubmVjdGlvbiwgZXJyb3JDb2RlKSA9PiB7IENsaWVudENvbm5lY3Rpb24uX3Nfb25fZGlzY29ubmVjdChjb25uZWN0aW9uLCBlcnJvckNvZGUpOyB9LCAoY29ubmVjdGlvbiwgbWVzc2FnZSkgPT4geyBDbGllbnRDb25uZWN0aW9uLl9zX29uX3Byb3RvY29sX21lc3NhZ2UoY29ubmVjdGlvbiwgbWVzc2FnZSk7IH0sIGNvbmZpZy5zb2NrZXRPcHRpb25zID8gY29uZmlnLnNvY2tldE9wdGlvbnMubmF0aXZlX2hhbmRsZSgpIDogbnVsbCwgY29uZmlnLnRsc0N0eCA/IGNvbmZpZy50bHNDdHgubmF0aXZlX2hhbmRsZSgpIDogbnVsbCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaHV0cyBkb3duIHRoZSBjb25uZWN0aW9uIChpZiBhY3RpdmUpIGFuZCBiZWdpbnMgdGhlIHByb2Nlc3MgdG8gcmVsZWFzZSBuYXRpdmUgcmVzb3VyY2VzIGFzc29jaWF0ZWQgd2l0aCBpdCBieVxuICAgICAqIGhhdmluZyB0aGUgbmF0aXZlIGJpbmRpbmcgcmVsZWFzZSB0aGUgb25seSByZWZlcmVuY2UgdG8gdGhlIGV4dGVybiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjb25uZWN0aW9uLiAgT25jZVxuICAgICAqIGNsb3NlKCkgaGFzIGJlZW4gY2FsbGVkLCBubyBtb3JlIGV2ZW50cyB3aWxsIGJlIGVtaXR0ZWQgYW5kIGFsbCBwdWJsaWMgQVBJIGludm9jYXRpb25zIHdpbGwgdHJpZ2dlciBhbiBleGNlcHRpb24uXG4gICAgICpcbiAgICAgKiBVbHRpbWF0ZWx5LCB0aGUgbmF0aXZlIHJlc291cmNlcyB3aWxsIG5vdCBiZSByZWxlYXNlZCB1bnRpbCB0aGUgY29ubmVjdGlvbiBoYXMgZnVsbHkgc2h1dCBkb3duIGFuZCB0aGF0XG4gICAgICogc2h1dGRvd24gZXZlbnQgaGFzIHJlYWNoZWQgdGhlIGxpYnV2IGV2ZW50IGxvb3AuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uICoqbXVzdCoqIGJlIGNhbGxlZCBmb3IgZXZlcnkgQ2xpZW50Q29ubmVjdGlvbiBpbnN0YW5jZSBvciBuYXRpdmUgcmVzb3VyY2VzIHdpbGwgbGVhay5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT0gQ2xpZW50Q29ubmVjdGlvblN0YXRlLkNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IENsaWVudENvbm5lY3Rpb25TdGF0ZS5DbG9zZWQ7XG4gICAgICAgICAgICAvLyBpbnZva2UgbmF0aXZlIGJpbmRpbmcgY2xvc2VcbiAgICAgICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0LmV2ZW50X3N0cmVhbV9jbGllbnRfY29ubmVjdGlvbl9jbG9zZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gb3BlbiBhIG5ldHdvcmsgY29ubmVjdGlvbiB0byB0aGUgY29uZmlndXJlZCByZW1vdGUgZW5kcG9pbnQuICBSZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgZnVsZmlsbGVkIGlmXG4gICAgICogdGhlIHRyYW5zcG9ydC1sZXZlbCBjb25uZWN0aW9uIGlzIHN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCwgYW5kIHJlamVjdGVkIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIGNvbm5lY3QoKSBtYXkgb25seSBiZSBjYWxsZWQgb25jZS5cbiAgICAgKi9cbiAgICBjb25uZWN0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBjbGVhbnVwQ2FuY2VsTGlzdGVuZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgY29ubmVjdFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXJyb3JfMS5DcnRFcnJvcihcIkludmFsaWQgb3B0aW9ucyBwYXNzZWQgdG8gZXZlbnQgc3RyZWFtIENsaWVudENvbm5lY3Rpb24uY29ubmVjdFwiKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT0gQ2xpZW50Q29ubmVjdGlvblN0YXRlLk5vbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBlcnJvcl8xLkNydEVycm9yKGBFdmVudCBzdHJlYW0gY29ubmVjdGlvbiBpbiBhIHN0YXRlICgke3RoaXMuc3RhdGV9KSB3aGVyZSBjb25uZWN0KCkgaXMgbm90IGFsbG93ZWQuYCkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDbGllbnRDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGluZztcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5jYW5jZWxDb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjYW5jZWwgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGVycm9yXzEuQ3J0RXJyb3IoYEV2ZW50IHN0cmVhbSBjb25uZWN0aW9uIGNvbm5lY3QoKSBjYW5jZWxsZWQgYnkgZXh0ZXJuYWwgcmVxdWVzdC5gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4geyB0aGlzLmNsb3NlKCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwQ2FuY2VsTGlzdGVuZXIgPSBvcHRpb25zLmNhbmNlbENvbnRyb2xsZXIuYWRkTGlzdGVuZXIoY2FuY2VsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjbGVhbnVwQ2FuY2VsTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKGNvbm5lY3Rpb24sIGVycm9yQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ2xpZW50Q29ubmVjdGlvbi5fc19vbl9jb25uZWN0aW9uX3NldHVwKHJlc29sdmUsIHJlamVjdCwgY29ubmVjdGlvbiwgZXJyb3JDb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuZXZlbnRfc3RyZWFtX2NsaWVudF9jb25uZWN0aW9uX2Nvbm5lY3QodGhpcy5uYXRpdmVfaGFuZGxlKCksIGN1cnJpZWRQcm9taXNlQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gQ2xpZW50Q29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZDtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UubWFrZVNlbGZDbGVhbmluZ1Byb21pc2UoY29ubmVjdFByb21pc2UsIGNsZWFudXBDYW5jZWxMaXN0ZW5lcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBzZW5kIGFuIGV2ZW50IHN0cmVhbSBwcm90b2NvbCBtZXNzYWdlIG92ZXIgYW4gb3BlbiBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgY29uZmlndXJhdGlvbiAtLSBpbmNsdWRpbmcgdGhlIG1lc3NhZ2UgaXRzZWxmIC0tIGZvciBzZW5kaW5nIGEgcHJvdG9jb2wgbWVzc2FnZVxuICAgICAqXG4gICAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlIGZ1bGZpbGxlZCB3aGVuIHRoZSBtZXNzYWdlIGlzIHN1Y2Nlc3NmdWxseSBmbHVzaGVkIHRvIHRoZSB3aXJlLCBhbmQgcmVqZWN0ZWQgaWZcbiAgICAgKiBhbiBlcnJvciBvY2N1cnMgcHJpb3IgdG8gdGhhdCBwb2ludC5cbiAgICAgKi9cbiAgICBzZW5kUHJvdG9jb2xNZXNzYWdlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBjbGVhbnVwQ2FuY2VsTGlzdGVuZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgc2VuZFByb3RvY29sTWVzc2FnZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGVycm9yXzEuQ3J0RXJyb3IoXCJJbnZhbGlkIG9wdGlvbnMgcGFzc2VkIHRvIGV2ZW50IHN0cmVhbSBDbGllbnRDb25uZWN0aW9uLnNlbmRQcm90b2NvbE1lc3NhZ2VcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGVycm9yXzEuQ3J0RXJyb3IoYEV2ZW50IHN0cmVhbSBjb25uZWN0aW9uIGluIGEgc3RhdGUgKCR7dGhpcy5zdGF0ZX0pIHdoZXJlIHNlbmRpbmcgcHJvdG9jb2wgbWVzc2FnZXMgaXMgbm90IGFsbG93ZWQuYCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNhbmNlbENvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5jZWwgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBlcnJvcl8xLkNydEVycm9yKGBFdmVudCBzdHJlYW0gY29ubmVjdGlvbiBzZW5kUHJvdG9jb2xNZXNzYWdlKCkgY2FuY2VsbGVkIGJ5IGV4dGVybmFsIHJlcXVlc3QuYCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7IHRoaXMuY2xvc2UoKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW51cENhbmNlbExpc3RlbmVyID0gb3B0aW9ucy5jYW5jZWxDb250cm9sbGVyLmFkZExpc3RlbmVyKGNhbmNlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNsZWFudXBDYW5jZWxMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnZva2UgbmF0aXZlIGJpbmRpbmcgc2VuZCBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKGVycm9yQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENsaWVudENvbm5lY3Rpb24uX3Nfb25fY29ubmVjdGlvbl9zZW5kX3Byb3RvY29sX21lc3NhZ2VfY29tcGxldGlvbihyZXNvbHZlLCByZWplY3QsIGVycm9yQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaW52b2tlIG5hdGl2ZSBiaW5kaW5nIHNlbmQgbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuZXZlbnRfc3RyZWFtX2NsaWVudF9jb25uZWN0aW9uX3NlbmRfcHJvdG9jb2xfbWVzc2FnZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgb3B0aW9ucywgY3VycmllZFByb21pc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlLm1ha2VTZWxmQ2xlYW5pbmdQcm9taXNlKHNlbmRQcm90b2NvbE1lc3NhZ2VQcm9taXNlLCBjbGVhbnVwQ2FuY2VsTGlzdGVuZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjb25uZWN0aW9uIGlzIGN1cnJlbnRseSBvcGVuIGFuZCByZWFkeS10by11c2UsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEludGVybmFsIG5vdGU6IE91ciBub3Rpb24gb2YgXCJjb25uZWN0ZWRcIiBpcyBpbnRlbnRpb25hbGx5IG5vdCBhbiBpbnZvY2F0aW9uIG9mXG4gICAgICogYXdzX2V2ZW50X3N0cmVhbV9ycGNfY2xpZW50X2Nvbm5lY3Rpb25faXNfb3BlbigpICh3aG9zZSBzdGF0dXMgaXMgYW4gb3V0LW9mLXN5bmMgcmFjZSBjb25kaXRpb24gdnMuIG91clxuICAgICAqIHdlbGwtZGVmaW5lZCBjbGllbnQgc3RhdGUpXG4gICAgICovXG4gICAgaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09IENsaWVudENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgc3RyZWFtIHdpdGhpbiB0aGUgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBuZXdTdHJlYW0oKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihgRXZlbnQgc3RyZWFtIGNvbm5lY3Rpb24gaW4gYSBzdGF0ZSAoJHt0aGlzLnN0YXRlfSkgd2hlcmUgY3JlYXRpbmcgbmV3IHN0cmVhbXMgaXMgZm9yYmlkZGVuLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ2xpZW50U3RyZWFtKHRoaXMpO1xuICAgIH1cbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgc3VwZXIub24oZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHN0YXRpYyBfc19vbl9jb25uZWN0aW9uX3NldHVwKHJlc29sdmUsIHJlamVjdCwgY29ubmVjdGlvbiwgZXJyb3JDb2RlKSB7XG4gICAgICAgIGlmIChlcnJvckNvZGUgPT0gMCAmJiBjb25uZWN0aW9uLnN0YXRlID09IENsaWVudENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0aW5nKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uLnN0YXRlID0gQ2xpZW50Q29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZDtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLnN0YXRlICE9IENsaWVudENvbm5lY3Rpb25TdGF0ZS5DbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLnN0YXRlID0gQ2xpZW50Q29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlamVjdChpby5lcnJvcl9jb2RlX3RvX3N0cmluZyhlcnJvckNvZGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgX3Nfb25fZGlzY29ubmVjdChjb25uZWN0aW9uLCBlcnJvckNvZGUpIHtcbiAgICAgICAgaWYgKGNvbm5lY3Rpb24uc3RhdGUgIT0gQ2xpZW50Q29ubmVjdGlvblN0YXRlLkNsb3NlZCkge1xuICAgICAgICAgICAgY29ubmVjdGlvbi5zdGF0ZSA9IENsaWVudENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmVtaXQoJ2Rpc2Nvbm5lY3Rpb24nLCB7IGVycm9yQ29kZTogZXJyb3JDb2RlIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIF9zX29uX3Byb3RvY29sX21lc3NhZ2UoY29ubmVjdGlvbiwgbWVzc2FnZSkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uZW1pdCgncHJvdG9jb2xNZXNzYWdlJywgeyBtZXNzYWdlOiBtYXBQb2RNZXNzYWdlVG9KU01lc3NhZ2UobWVzc2FnZSkgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgX3Nfb25fY29ubmVjdGlvbl9zZW5kX3Byb3RvY29sX21lc3NhZ2VfY29tcGxldGlvbihyZXNvbHZlLCByZWplY3QsIGVycm9yQ29kZSkge1xuICAgICAgICBpZiAoZXJyb3JDb2RlID09IDApIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChpby5lcnJvcl9jb2RlX3RvX3N0cmluZyhlcnJvckNvZGUpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQ2xpZW50Q29ubmVjdGlvbiA9IENsaWVudENvbm5lY3Rpb247XG4vKipcbiAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQgZm9yIGFueSByZWFzb24uXG4gKlxuICogTGlzdGVuZXIgdHlwZToge0BsaW5rIERpc2Nvbm5lY3Rpb25MaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuQ2xpZW50Q29ubmVjdGlvbi5ESVNDT05ORUNUSU9OID0gJ2Rpc2Nvbm5lY3Rpb24nO1xuLyoqXG4gKiBFdmVudCBlbWl0dGVkIHdoZW4gYSBwcm90b2NvbCBtZXNzYWdlIGlzIHJlY2VpdmVkIGZyb20gdGhlIHJlbW90ZSBlbmRwb2ludFxuICpcbiAqIExpc3RlbmVyIHR5cGU6IHtAbGluayBNZXNzYWdlTGlzdGVuZXJ9XG4gKlxuICogQGV2ZW50XG4gKi9cbkNsaWVudENvbm5lY3Rpb24uUFJPVE9DT0xfTUVTU0FHRSA9ICdwcm90b2NvbE1lc3NhZ2UnO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBXaGlsZSBub3Qgc3RyaWN0bHkgbmVjZXNzYXJ5LCB0aGUgc2luZ2xlLXRocmVhZGVkIG5hdHVyZSBvZiBKUyBleGVjdXRpb24gYWxsb3dzIHVzIHRvIGVhc2lseSBhcHBseSBzb21lXG4gKiByaWdpZCBjb25zdHJhaW50cyB0byB0aGUgcHVibGljIEFQSSBjYWxscyBvZiBvdXIgZXZlbnQgc3RyZWFtIG9iamVjdHMuICBUaGlzIGluIHR1cm4gcmVkdWNlcyB0aGUgY29tcGxleGl0eSBvZiB0aGVcbiAqIGJpbmRpbmcgY2FzZXMgd2UgbmVlZCB0byBjb25zaWRlci5cbiAqXG4gKiBUaGlzIHN0YXRlIHZhbHVlIGlzIHRoZSBwcmltYXJ5IG1lYW5zIGJ5IHdoaWNoIHdlIGFkZCBhbmQgZW5mb3JjZSB0aGVzZSBjb25zdHJhaW50cyB0byBzdHJlYW0gb2JqZWN0cy5cbiAqXG4gKiBDb25zdHJhaW50cyBlbmZvcmNlZCBpbiB0aGUgbWFuYWdlZCBiaW5kaW5nOlxuICpcbiAqICAoMSkgY2xvc2UoKSBtYXkgb25seSBiZSBjYWxsZWQgb25jZS4gIE9uY2UgaXQgaGFzIGJlZW4gY2FsbGVkLCBub3RoaW5nIGVsc2UgbWF5IGJlIGNhbGxlZC5cbiAqICAoMikgc2VuZE1lc3NhZ2UoKSBtYXkgb25seSBiZSBjYWxsZWQgYWZ0ZXIgc3VjY2Vzc2Z1bCBzdHJlYW0gYWN0aXZhdGlvbiBhbmQgYmVmb3JlIHRoZVxuICogICAgICBzdHJlYW0gaGFzIGJlZW4gY2xvc2VkLlxuICogICgzKSBhY3RpdmF0ZSgpIG1heSBvbmx5IGJlIGNhbGxlZCBvbmNlLiAgQ29tYmluZWQgd2l0aCAoMSkgYW5kICgyKSwgdGhpcyBtZWFucyB0aGF0IGlmIGFjdGl2YXRlKCkgaXMgY2FsbGVkLCBpdCBtdXN0XG4gKiAgICAgIGJlIHRoZSBmaXJzdCB0aGluZyBjYWxsZWQuXG4gKi9cbnZhciBDbGllbnRTdHJlYW1TdGF0ZTtcbihmdW5jdGlvbiAoQ2xpZW50U3RyZWFtU3RhdGUpIHtcbiAgICBDbGllbnRTdHJlYW1TdGF0ZVtDbGllbnRTdHJlYW1TdGF0ZVtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xuICAgIENsaWVudFN0cmVhbVN0YXRlW0NsaWVudFN0cmVhbVN0YXRlW1wiQWN0aXZhdGluZ1wiXSA9IDFdID0gXCJBY3RpdmF0aW5nXCI7XG4gICAgQ2xpZW50U3RyZWFtU3RhdGVbQ2xpZW50U3RyZWFtU3RhdGVbXCJBY3RpdmF0ZWRcIl0gPSAyXSA9IFwiQWN0aXZhdGVkXCI7XG4gICAgQ2xpZW50U3RyZWFtU3RhdGVbQ2xpZW50U3RyZWFtU3RhdGVbXCJFbmRlZFwiXSA9IDNdID0gXCJFbmRlZFwiO1xuICAgIENsaWVudFN0cmVhbVN0YXRlW0NsaWVudFN0cmVhbVN0YXRlW1wiQ2xvc2VkXCJdID0gNF0gPSBcIkNsb3NlZFwiO1xufSkoQ2xpZW50U3RyZWFtU3RhdGUgfHwgKENsaWVudFN0cmVhbVN0YXRlID0ge30pKTtcbi8qKlxuICogV3JhcHBlciBmb3IgYW4gaW5kaXZpZHVhbCBzdHJlYW0gd2l0aGluIGFuIGV2ZW50c3RyZWFtIGNvbm5lY3Rpb24uXG4gKlxuICogVGhlIHVzZXIgKiptdXN0KiogY2FsbCBjbG9zZSgpIG9uIGEgc3RyZWFtIG9uY2UgZmluaXNoZWQgd2l0aCBpdC4gIE9uY2UgY2xvc2UoKSBoYXMgYmVlbiBjYWxsZWQsIG5vIG1vcmUgZXZlbnRzXG4gKiB3aWxsIGJlIGVtaXR0ZWQgYW5kIGFsbCBwdWJsaWMgQVBJIGludm9jYXRpb25zIHdpbGwgdHJpZ2dlciBhbiBleGNlcHRpb24uXG4gKi9cbmNsYXNzIENsaWVudFN0cmVhbSBleHRlbmRzICgwLCBuYXRpdmVfcmVzb3VyY2VfMS5OYXRpdmVSZXNvdXJjZU1peGluKShldmVudF8xLkJ1ZmZlcmVkRXZlbnRFbWl0dGVyKSB7XG4gICAgY29uc3RydWN0b3IoY29ubmVjdGlvbikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9zdXBlcihiaW5kaW5nXzEuZGVmYXVsdC5ldmVudF9zdHJlYW1fY2xpZW50X3N0cmVhbV9uZXcodGhpcywgY29ubmVjdGlvbi5uYXRpdmVfaGFuZGxlKCksIChzdHJlYW0pID0+IHsgQ2xpZW50U3RyZWFtLl9zX29uX3N0cmVhbV9lbmRlZChzdHJlYW0pOyB9LCAoc3RyZWFtLCBtZXNzYWdlKSA9PiB7IENsaWVudFN0cmVhbS5fc19vbl9zdHJlYW1fbWVzc2FnZShzdHJlYW0sIG1lc3NhZ2UpOyB9KSk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBDbGllbnRTdHJlYW1TdGF0ZS5Ob25lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaHV0cyBkb3duIHRoZSBzdHJlYW0gKGlmIGFjdGl2ZSkgYW5kIGJlZ2lucyB0aGUgcHJvY2VzcyB0byByZWxlYXNlIG5hdGl2ZSByZXNvdXJjZXMgYXNzb2NpYXRlZCB3aXRoIGl0IGJ5XG4gICAgICogaGF2aW5nIHRoZSBuYXRpdmUgYmluZGluZyByZWxlYXNlIHRoZSBvbmx5IHJlZmVyZW5jZSB0byB0aGUgZXh0ZXJuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHN0cmVhbS4gIE9uY2VcbiAgICAgKiBjbG9zZSgpIGhhcyBiZWVuIGNhbGxlZCwgbm8gbW9yZSBldmVudHMgd2lsbCBiZSBlbWl0dGVkIGFuZCBhbGwgcHVibGljIEFQSSBpbnZvY2F0aW9ucyB3aWxsIHRyaWdnZXIgYW4gZXhjZXB0aW9uLlxuICAgICAqXG4gICAgICogVWx0aW1hdGVseSwgdGhlIG5hdGl2ZSByZXNvdXJjZXMgd2lsbCBub3QgYmUgcmVsZWFzZWQgdW50aWwgdGhlIG5hdGl2ZSBzdHJlYW0gaGFzIGZ1bGx5IHNodXQgZG93biBhbmQgdGhhdFxuICAgICAqIHNodXRkb3duIGV2ZW50IGhhcyByZWFjaGVkIHRoZSBsaWJ1diBldmVudCBsb29wLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiAqKm11c3QqKiBiZSBjYWxsZWQgZm9yIGV2ZXJ5IENsaWVudFN0cmVhbSBpbnN0YW5jZSBvciBuYXRpdmUgcmVzb3VyY2VzIHdpbGwgbGVhay5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT0gQ2xpZW50U3RyZWFtU3RhdGUuQ2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gQ2xpZW50U3RyZWFtU3RhdGUuQ2xvc2VkO1xuICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuZXZlbnRfc3RyZWFtX2NsaWVudF9zdHJlYW1fY2xvc2UodGhpcy5uYXRpdmVfaGFuZGxlKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlcyB0aGUgc3RyZWFtLCBhbGxvd2luZyBpdCB0byBzdGFydCBzZW5kaW5nIGFuZCByZWNlaXZpbmcgbWVzc2FnZXMuICBUaGUgcHJvbWlzZSBjb21wbGV0ZXMgd2hlblxuICAgICAqIHRoZSBhY3RpdmF0aW9uIG1lc3NhZ2UgaGFzIGJlZW4gd3JpdHRlbiB0byB0aGUgd2lyZS5cbiAgICAgKlxuICAgICAqIGFjdGl2YXRlKCkgbWF5IG9ubHkgYmUgY2FsbGVkIG9uY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtLSBjb25maWd1cmF0aW9uIGRhdGEgZm9yIHN0cmVhbSBhY3RpdmF0aW9uLCBpbmNsdWRpbmcgb3BlcmF0aW9uIG5hbWUgYW5kIGluaXRpYWwgbWVzc2FnZVxuICAgICAqL1xuICAgIGFjdGl2YXRlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGxldCBjbGVhbnVwQ2FuY2VsTGlzdGVuZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgYWN0aXZhdGVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9IENsaWVudFN0cmVhbVN0YXRlLk5vbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXJyb3JfMS5DcnRFcnJvcihgRXZlbnQgc3RyZWFtIGluIGEgc3RhdGUgKCR7dGhpcy5zdGF0ZX0pIHdoZXJlIGFjdGl2YXRpb24gaXMgbm90IGFsbG93ZWQuYCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAqIEludGVudGlvbmFsbHkgY2hlY2sgdGhpcyBhZnRlciB0aGUgc3RhdGUgY2hlY2sgKHNvIGNsb3NlZCBzdHJlYW1zIGRvIG5vdCByZWFjaCBoZXJlKS5cbiAgICAgICAgICAgICAgICAgICAgICogSW50ZW50aW9uYWxseSBtdXRhdGUgc3RhdGUgdGhlIHNhbWUgd2F5IGEgZmFpbGVkIHN5bmNocm9ub3VzIGNhbGwgdG8gbmF0aXZlIGFjdGl2YXRlIGRvZXMuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gQ2xpZW50U3RyZWFtU3RhdGUuRW5kZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGVycm9yXzEuQ3J0RXJyb3IoXCJJbnZhbGlkIG9wdGlvbnMgcGFzc2VkIHRvIENsaWVudFN0cmVhbS5hY3RpdmF0ZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IENsaWVudFN0cmVhbVN0YXRlLkFjdGl2YXRpbmc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNhbmNlbENvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5jZWwgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBlcnJvcl8xLkNydEVycm9yKGBFdmVudCBzdHJlYW0gYWN0aXZhdGUoKSBjYW5jZWxsZWQgYnkgZXh0ZXJuYWwgcmVxdWVzdC5gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKCgpID0+IHsgdGhpcy5jbG9zZSgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwQ2FuY2VsTGlzdGVuZXIgPSBvcHRpb25zLmNhbmNlbENvbnRyb2xsZXIuYWRkTGlzdGVuZXIoY2FuY2VsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2xlYW51cENhbmNlbExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGN1cnJpZWRQcm9taXNlQ2FsbGJhY2soc3RyZWFtLCBlcnJvckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDbGllbnRTdHJlYW0uX3Nfb25fc3RyZWFtX2FjdGl2YXRlZChyZXNvbHZlLCByZWplY3QsIHN0cmVhbSwgZXJyb3JDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5ldmVudF9zdHJlYW1fY2xpZW50X3N0cmVhbV9hY3RpdmF0ZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgb3B0aW9ucywgY3VycmllZFByb21pc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDbGllbnRTdHJlYW1TdGF0ZS5FbmRlZDtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UubWFrZVNlbGZDbGVhbmluZ1Byb21pc2UoYWN0aXZhdGVQcm9taXNlLCBjbGVhbnVwQ2FuY2VsTGlzdGVuZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gc2VuZCBhbiBldmVudCBzdHJlYW0gbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIGNvbmZpZ3VyYXRpb24gLS0gaW5jbHVkaW5nIHRoZSBtZXNzYWdlIGl0c2VsZiAtLSBmb3Igc2VuZGluZyBhIG1lc3NhZ2VcbiAgICAgKlxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSBmdWxmaWxsZWQgd2hlbiB0aGUgbWVzc2FnZSBpcyBzdWNjZXNzZnVsbHkgZmx1c2hlZCB0byB0aGUgd2lyZSwgYW5kIHJlamVjdGVkIGlmXG4gICAgICogYW4gZXJyb3Igb2NjdXJzIHByaW9yIHRvIHRoYXQgcG9pbnQuXG4gICAgICovXG4gICAgc2VuZE1lc3NhZ2Uob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IGNsZWFudXBDYW5jZWxMaXN0ZW5lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCBzZW5kTWVzc2FnZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGVycm9yXzEuQ3J0RXJyb3IoXCJJbnZhbGlkIG9wdGlvbnMgcGFzc2VkIHRvIENsaWVudFN0cmVhbS5zZW5kTWVzc2FnZVwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT0gQ2xpZW50U3RyZWFtU3RhdGUuQWN0aXZhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGVycm9yXzEuQ3J0RXJyb3IoYEV2ZW50IHN0cmVhbSBpbiBhIHN0YXRlICgke3RoaXMuc3RhdGV9KSB3aGVyZSBzZW5kaW5nIG1lc3NhZ2VzIGlzIG5vdCBhbGxvd2VkLmApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5jYW5jZWxDb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FuY2VsID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXJyb3JfMS5DcnRFcnJvcihgRXZlbnQgc3RyZWFtIHNlbmRNZXNzYWdlKCkgY2FuY2VsbGVkIGJ5IGV4dGVybmFsIHJlcXVlc3QuYCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7IHRoaXMuY2xvc2UoKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW51cENhbmNlbExpc3RlbmVyID0gb3B0aW9ucy5jYW5jZWxDb250cm9sbGVyLmFkZExpc3RlbmVyKGNhbmNlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNsZWFudXBDYW5jZWxMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKGVycm9yQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENsaWVudFN0cmVhbS5fc19vbl9zdHJlYW1fc2VuZF9tZXNzYWdlX2NvbXBsZXRpb24ocmVzb2x2ZSwgcmVqZWN0LCBlcnJvckNvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGludm9rZSBuYXRpdmUgYmluZGluZyBzZW5kIG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0LmV2ZW50X3N0cmVhbV9jbGllbnRfc3RyZWFtX3NlbmRfbWVzc2FnZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgb3B0aW9ucywgY3VycmllZFByb21pc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlLm1ha2VTZWxmQ2xlYW5pbmdQcm9taXNlKHNlbmRNZXNzYWdlUHJvbWlzZSwgY2xlYW51cENhbmNlbExpc3RlbmVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3RyZWFtIGlzIGN1cnJlbnRseSBhY3RpdmUgYW5kIHJlYWR5LXRvLXVzZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PSBDbGllbnRTdHJlYW1TdGF0ZS5BY3RpdmF0ZWQ7XG4gICAgfVxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBzdXBlci5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc3RhdGljIF9zX29uX3N0cmVhbV9hY3RpdmF0ZWQocmVzb2x2ZSwgcmVqZWN0LCBzdHJlYW0sIGVycm9yQ29kZSkge1xuICAgICAgICBpZiAoZXJyb3JDb2RlID09IDAgJiYgc3RyZWFtLnN0YXRlID09IENsaWVudFN0cmVhbVN0YXRlLkFjdGl2YXRpbmcpIHtcbiAgICAgICAgICAgIHN0cmVhbS5zdGF0ZSA9IENsaWVudFN0cmVhbVN0YXRlLkFjdGl2YXRlZDtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzdHJlYW0uc3RhdGUgIT0gQ2xpZW50U3RyZWFtU3RhdGUuQ2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLnN0YXRlID0gQ2xpZW50U3RyZWFtU3RhdGUuRW5kZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWplY3QoaW8uZXJyb3JfY29kZV90b19zdHJpbmcoZXJyb3JDb2RlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIF9zX29uX3N0cmVhbV9zZW5kX21lc3NhZ2VfY29tcGxldGlvbihyZXNvbHZlLCByZWplY3QsIGVycm9yQ29kZSkge1xuICAgICAgICBpZiAoZXJyb3JDb2RlID09IDApIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChpby5lcnJvcl9jb2RlX3RvX3N0cmluZyhlcnJvckNvZGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgX3Nfb25fc3RyZWFtX2VuZGVkKHN0cmVhbSkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHN0cmVhbS5lbWl0KENsaWVudFN0cmVhbS5FTkRFRCwge30pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIF9zX29uX3N0cmVhbV9tZXNzYWdlKHN0cmVhbSwgbWVzc2FnZSkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgIHN0cmVhbS5lbWl0KENsaWVudFN0cmVhbS5NRVNTQUdFLCB7IG1lc3NhZ2U6IG1hcFBvZE1lc3NhZ2VUb0pTTWVzc2FnZShtZXNzYWdlKSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5DbGllbnRTdHJlYW0gPSBDbGllbnRTdHJlYW07XG4vKipcbiAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgc3RyZWFtIGlzIHNodXQgZG93biBmb3IgYW55IHJlYXNvbi5cbiAqXG4gKiBMaXN0ZW5lciB0eXBlOiB7QGxpbmsgU3RyZWFtRW5kZWRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuQ2xpZW50U3RyZWFtLkVOREVEID0gJ2VuZGVkJztcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIGEgc3RyZWFtIG1lc3NhZ2UgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgcmVtb3RlIGVuZHBvaW50XG4gKlxuICogTGlzdGVuZXIgdHlwZToge0BsaW5rIE1lc3NhZ2VMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuQ2xpZW50U3RyZWFtLk1FU1NBR0UgPSAnbWVzc2FnZSc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudHN0cmVhbS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVubWFyc2hhbEludDY0QmlnaW50RnJvbUJ1ZmZlciA9IGV4cG9ydHMubWFyc2hhbEludDY0QmlnaW50QXNCdWZmZXIgPSBleHBvcnRzLk1JTl9JTlQ2NCA9IGV4cG9ydHMuTUFYX0lOVDY0ID0gZXhwb3J0cy5NSU5fSU5UMzIgPSBleHBvcnRzLk1BWF9JTlQzMiA9IGV4cG9ydHMuTUlOX0lOVDE2ID0gZXhwb3J0cy5NQVhfSU5UMTYgPSBleHBvcnRzLk1JTl9JTlQ4ID0gZXhwb3J0cy5NQVhfSU5UOCA9IHZvaWQgMDtcbmNvbnN0IGVycm9yXzEgPSByZXF1aXJlKFwiLi9lcnJvclwiKTtcbi8qXG4qIExpbWl0cyBmb3IgaGVhZGVyIHZhbHVlIHZhbGlkYXRpb25cbiovXG5leHBvcnRzLk1BWF9JTlQ4ID0gMTI3O1xuZXhwb3J0cy5NSU5fSU5UOCA9IC0xMjg7XG5leHBvcnRzLk1BWF9JTlQxNiA9IDMyNzY3O1xuZXhwb3J0cy5NSU5fSU5UMTYgPSAtMzI3Njg7XG5leHBvcnRzLk1BWF9JTlQzMiA9IDIxNDc0ODM2NDc7XG5leHBvcnRzLk1JTl9JTlQzMiA9IC0yMTQ3NDgzNjQ4O1xuZXhwb3J0cy5NQVhfSU5UNjQgPSBCaWdJbnQoXCI5MjIzMzcyMDM2ODU0Nzc1ODA3XCIpO1xuZXhwb3J0cy5NSU5fSU5UNjQgPSBCaWdJbnQoXCItOTIyMzM3MjAzNjg1NDc3NTgwOFwiKTtcbmNvbnN0IE1BWF9VSU5UOF9BU19CSUdJTlQgPSBCaWdJbnQoXCIyNTZcIik7XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBtYXJzaGFsSW50NjRCaWdpbnRBc0J1ZmZlcih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA8IGV4cG9ydHMuTUlOX0lOVDY0IHx8IHZhbHVlID4gZXhwb3J0cy5NQVhfSU5UNjQpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoXCJtYXJzaGFsSW50NjRCaWdpbnRBc0J1ZmZlciBleHBlY3RzIGEgdmFsdWUgdGhhdCBjYW4gZml0IGluIDggYnl0ZXNcIik7XG4gICAgfVxuICAgIGxldCBidWZmZXIgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICAvKiBlbmNvZGUgdGhlIGludGVnZXIgYXMgYSB0d29zLWNvbXBsZW1lbnQgYnl0ZSBzZXF1ZW5jZSAqL1xuICAgIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgICAgdmFsdWUgPSAtdmFsdWUgLSBCaWdJbnQoMSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgICAgICBidWZmZXJbaV0gPSAyNTUgLSBOdW1iZXIodmFsdWUgJSBNQVhfVUlOVDhfQVNfQklHSU5UKTtcbiAgICAgICAgICAgIHZhbHVlIC89IE1BWF9VSU5UOF9BU19CSUdJTlQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgKytpKSB7XG4gICAgICAgICAgICBidWZmZXJbaV0gPSBOdW1iZXIodmFsdWUgJSBNQVhfVUlOVDhfQVNfQklHSU5UKTtcbiAgICAgICAgICAgIHZhbHVlIC89IE1BWF9VSU5UOF9BU19CSUdJTlQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJ1ZmZlcjtcbn1cbmV4cG9ydHMubWFyc2hhbEludDY0QmlnaW50QXNCdWZmZXIgPSBtYXJzaGFsSW50NjRCaWdpbnRBc0J1ZmZlcjtcbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIHVubWFyc2hhbEludDY0QmlnaW50RnJvbUJ1ZmZlcihidWZmZXIpIHtcbiAgICBsZXQgdmFsdWUgPSBCaWdJbnQoMCk7XG4gICAgbGV0IGJ5dGVWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICBpZiAoYnl0ZVZpZXcubGVuZ3RoICE9IDgpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoXCJ1bm1hcnNoYWxJbnQ2NEJpZ2ludEZyb21CdWZmZXIgZXhwZWN0cyBhIGJ5dGUgYnVmZmVyIG9mIGxlbmd0aCA4XCIpO1xuICAgIH1cbiAgICBsZXQgc2hpZnQgPSBCaWdJbnQoMSk7XG4gICAgbGV0IGlzTmVnYXRpdmUgPSAoYnl0ZVZpZXdbN10gJiAweDgwKSAhPSAwO1xuICAgIC8qIGVuY29kaW5nIGlzIHR3bydzLWNvbXBsZW1lbnQsIHNvIHRyZWF0IG5lZ2F0aXZlIGFuZCBub24tbmVnYXRpdmUgZGlmZmVyZW50bHkgKi9cbiAgICBpZiAoaXNOZWdhdGl2ZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVWaWV3Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBsZXQgYnl0ZVZhbHVlID0gQmlnSW50KDI1NSAtIGJ5dGVWaWV3W2ldKTtcbiAgICAgICAgICAgIHZhbHVlICs9IChieXRlVmFsdWUgKiBzaGlmdCk7XG4gICAgICAgICAgICBzaGlmdCAqPSBNQVhfVUlOVDhfQVNfQklHSU5UO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlICs9IEJpZ0ludCgxKTtcbiAgICAgICAgdmFsdWUgPSAtdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVWaWV3Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBsZXQgYnl0ZVZhbHVlID0gQmlnSW50KGJ5dGVWaWV3W2ldKTtcbiAgICAgICAgICAgIHZhbHVlICs9IChieXRlVmFsdWUgKiBzaGlmdCk7XG4gICAgICAgICAgICBzaGlmdCAqPSBNQVhfVUlOVDhfQVNfQklHSU5UO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydHMudW5tYXJzaGFsSW50NjRCaWdpbnRGcm9tQnVmZmVyID0gdW5tYXJzaGFsSW50NjRCaWdpbnRGcm9tQnVmZmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRzdHJlYW1fdXRpbHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IdHRwQ2xpZW50Q29ubmVjdGlvbk1hbmFnZXIgPSBleHBvcnRzLkh0dHBDbGllbnRTdHJlYW0gPSBleHBvcnRzLkh0dHBTdHJlYW0gPSBleHBvcnRzLkh0dHBDbGllbnRDb25uZWN0aW9uID0gZXhwb3J0cy5IdHRwUHJveHlPcHRpb25zID0gZXhwb3J0cy5IdHRwUHJveHlDb25uZWN0aW9uVHlwZSA9IGV4cG9ydHMuSHR0cENvbm5lY3Rpb24gPSBleHBvcnRzLkh0dHBSZXF1ZXN0ID0gZXhwb3J0cy5IdHRwSGVhZGVycyA9IGV4cG9ydHMuSHR0cFByb3h5QXV0aGVudGljYXRpb25UeXBlID0gdm9pZCAwO1xuLyoqXG4gKlxuICogQSBtb2R1bGUgY29udGFpbmluZyBzdXBwb3J0IGZvciBjcmVhdGluZyBodHRwIGNvbm5lY3Rpb25zIGFuZCBtYWtpbmcgcmVxdWVzdHMgb24gdGhlbS5cbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgaHR0cFxuICogQG1lcmdlVGFyZ2V0XG4gKi9cbmNvbnN0IGJpbmRpbmdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9iaW5kaW5nXCIpKTtcbmNvbnN0IG5hdGl2ZV9yZXNvdXJjZV8xID0gcmVxdWlyZShcIi4vbmF0aXZlX3Jlc291cmNlXCIpO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuY29uc3QgaHR0cF8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9odHRwXCIpO1xuLyoqIEBpbnRlcm5hbCAqL1xudmFyIGh0dHBfMiA9IHJlcXVpcmUoXCIuLi9jb21tb24vaHR0cFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkh0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaHR0cF8yLkh0dHBQcm94eUF1dGhlbnRpY2F0aW9uVHlwZTsgfSB9KTtcbmNvbnN0IGV2ZW50XzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2V2ZW50XCIpO1xuLyoqXG4gKiBAY2F0ZWdvcnkgSFRUUFxuICovXG5leHBvcnRzLkh0dHBIZWFkZXJzID0gYmluZGluZ18xLmRlZmF1bHQuSHR0cEhlYWRlcnM7XG4vKiogQGludGVybmFsICovXG5jb25zdCBuYXRpdmVIdHRwUmVxdWVzdCA9IGJpbmRpbmdfMS5kZWZhdWx0Lkh0dHBSZXF1ZXN0O1xuLyoqXG4gKiBAY2F0ZWdvcnkgSFRUUFxuICovXG5jbGFzcyBIdHRwUmVxdWVzdCBleHRlbmRzIG5hdGl2ZUh0dHBSZXF1ZXN0IHtcbiAgICBjb25zdHJ1Y3RvcihtZXRob2QsIHBhdGgsIGhlYWRlcnMsIGJvZHkpIHtcbiAgICAgICAgc3VwZXIobWV0aG9kLCBwYXRoLCBoZWFkZXJzLCBib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJvZHkubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG59XG5leHBvcnRzLkh0dHBSZXF1ZXN0ID0gSHR0cFJlcXVlc3Q7XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIEhUVFAgY29ubmVjdGlvbnNcbiAqXG4gKiBAY2F0ZWdvcnkgSFRUUFxuICovXG5jbGFzcyBIdHRwQ29ubmVjdGlvbiBleHRlbmRzICgwLCBuYXRpdmVfcmVzb3VyY2VfMS5OYXRpdmVSZXNvdXJjZU1peGluKShldmVudF8xLkJ1ZmZlcmVkRXZlbnRFbWl0dGVyKSB7XG4gICAgY29uc3RydWN0b3IobmF0aXZlX2hhbmRsZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9zdXBlcihuYXRpdmVfaGFuZGxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIGNvbm5lY3Rpb24uXG4gICAgICogU2h1dGRvd24gaXMgYXN5bmNocm9ub3VzLiBUaGlzIGNhbGwgaGFzIG5vIGVmZmVjdCBpZiB0aGUgY29ubmVjdGlvbiBpcyBhbHJlYWR5XG4gICAgICogY2xvc2luZy5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuaHR0cF9jb25uZWN0aW9uX2Nsb3NlKHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG4gICAgLy8gT3ZlcnJpZGRlbiB0byBhbGxvdyB1bmNvcmtpbmcgb24gcmVhZHlcbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgc3VwZXIub24oZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKGV2ZW50ID09ICdjb25uZWN0Jykge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmNvcmsoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbmV4cG9ydHMuSHR0cENvbm5lY3Rpb24gPSBIdHRwQ29ubmVjdGlvbjtcbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIGNvbm5lY3RlZCBhbmQgcmVhZHkgdG8gc3RhcnQgc3RyZWFtc1xuICpcbiAqIEBldmVudFxuICovXG5IdHRwQ29ubmVjdGlvbi5DT05ORUNUID0gJ2Nvbm5lY3QnO1xuLyoqXG4gKiBFbWl0dGVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIG9uIHRoZSBjb25uZWN0aW9uXG4gKlxuICogQGV2ZW50XG4gKi9cbkh0dHBDb25uZWN0aW9uLkVSUk9SID0gJ2Vycm9yJztcbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZSBjb25uZWN0aW9uIGhhcyBjb21wbGV0ZWRcbiAqXG4gKiBAZXZlbnRcbiAqL1xuSHR0cENvbm5lY3Rpb24uQ0xPU0UgPSAnY2xvc2UnO1xuLyoqXG4gKiBQcm94eSBjb25uZWN0aW9uIHR5cGVzLlxuICpcbiAqIFRoZSBvcmlnaW5hbCBiZWhhdmlvciB3YXMgdG8gbWFrZSBhIHR1bm5lbGluZyBjb25uZWN0aW9uIGlmIFRMUyB3YXMgdXNlZCwgYW5kIGEgZm9yd2FyZGluZyBjb25uZWN0aW9uIGlmIGl0IHdhcyBub3QuXG4gKiBUaGVyZSBhcmUgbGVnaXRpbWF0ZSB1c2UgY2FzZXMgZm9yIHBsYWludGV4dCB0dW5uZWxpbmcgY29ubmVjdGlvbnMsIGFuZCBzbyB0aGUgaW1wbGljaXQgYmVoYXZpb3IgaGFzIG5vd1xuICogYmVlbiByZXBsYWNlZCBieSB0aGlzIHNldHRpbmcsIHdpdGggYSBkZWZhdWx0IHRoYXQgbWFwcyB0byB0aGUgb2xkIGJlaGF2aW9yLlxuICpcbiAqIEBjYXRlZ29yeSBIVFRQXG4gKi9cbnZhciBIdHRwUHJveHlDb25uZWN0aW9uVHlwZTtcbihmdW5jdGlvbiAoSHR0cFByb3h5Q29ubmVjdGlvblR5cGUpIHtcbiAgICAvKipcbiAgICAgKiAoRGVmYXVsdCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkpLiAgSWYgVGxzIG9wdGlvbnMgYXJlIHN1cHBsaWVkIHRoZW4gdGhlIGNvbm5lY3Rpb24gd2lsbCBiZSBhIHR1bm5lbGluZ1xuICAgICAqIG9uZSwgb3RoZXJ3aXNlIGl0IHdpbGwgYmUgYSBmb3J3YXJkaW5nIG9uZS5cbiAgICAgKi9cbiAgICBIdHRwUHJveHlDb25uZWN0aW9uVHlwZVtIdHRwUHJveHlDb25uZWN0aW9uVHlwZVtcIkxlZ2FjeVwiXSA9IDBdID0gXCJMZWdhY3lcIjtcbiAgICAvKipcbiAgICAgKiBFc3RhYmxpc2ggYSBmb3J3YXJkaW5nLWJhc2VkIGNvbm5lY3Rpb24gd2l0aCB0aGUgcHJveHkuICBUbHMgaXMgbm90IGFsbG93ZWQgaW4gdGhpcyBjYXNlLlxuICAgICAqL1xuICAgIEh0dHBQcm94eUNvbm5lY3Rpb25UeXBlW0h0dHBQcm94eUNvbm5lY3Rpb25UeXBlW1wiRm9yd2FyZGluZ1wiXSA9IDFdID0gXCJGb3J3YXJkaW5nXCI7XG4gICAgLyoqXG4gICAgICogRXN0YWJsaXNoIGEgdHVubmVsaW5nLWJhc2VkIGNvbm5lY3Rpb24gd2l0aCB0aGUgcHJveHkuXG4gICAgICovXG4gICAgSHR0cFByb3h5Q29ubmVjdGlvblR5cGVbSHR0cFByb3h5Q29ubmVjdGlvblR5cGVbXCJUdW5uZWxpbmdcIl0gPSAyXSA9IFwiVHVubmVsaW5nXCI7XG59KShIdHRwUHJveHlDb25uZWN0aW9uVHlwZSA9IGV4cG9ydHMuSHR0cFByb3h5Q29ubmVjdGlvblR5cGUgfHwgKGV4cG9ydHMuSHR0cFByb3h5Q29ubmVjdGlvblR5cGUgPSB7fSkpO1xuO1xuLyoqXG4gKiBQcm94eSBvcHRpb25zIGZvciBIVFRQIGNsaWVudHMuXG4gKlxuICogQGNhdGVnb3J5IEhUVFBcbiAqL1xuY2xhc3MgSHR0cFByb3h5T3B0aW9ucyBleHRlbmRzIGh0dHBfMS5Db21tb25IdHRwUHJveHlPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBob3N0X25hbWUgTmFtZSBvZiB0aGUgcHJveHkgc2VydmVyIHRvIGNvbm5lY3QgdGhyb3VnaFxuICAgICAqIEBwYXJhbSBwb3J0IFBvcnQgbnVtYmVyIG9mIHRoZSBwcm94eSBzZXJ2ZXIgdG8gY29ubmVjdCB0aHJvdWdoXG4gICAgICogQHBhcmFtIGF1dGhfbWV0aG9kIFR5cGUgb2YgcHJveHkgYXV0aGVudGljYXRpb24gdG8gdXNlLiBEZWZhdWx0IGlzIHtAbGluayBIdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGUuTm9uZX1cbiAgICAgKiBAcGFyYW0gYXV0aF91c2VybmFtZSBVc2VybmFtZSB0byB1c2Ugd2hlbiBgYXV0aF90eXBlYCBpcyB7QGxpbmsgSHR0cFByb3h5QXV0aGVudGljYXRpb25UeXBlLkJhc2ljfVxuICAgICAqIEBwYXJhbSBhdXRoX3Bhc3N3b3JkIFBhc3N3b3JkIHRvIHVzZSB3aGVuIGBhdXRoX3R5cGVgIGlzIHtAbGluayBIdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGUuQmFzaWN9XG4gICAgICogQHBhcmFtIHRsc19vcHRzIE9wdGlvbmFsIFRMUyBjb25uZWN0aW9uIG9wdGlvbnMgZm9yIHRoZSBjb25uZWN0aW9uIHRvIHRoZSBwcm94eSBob3N0LlxuICAgICAqICAgICAgICAgICAgICAgICBNdXN0IGJlIGRpc3RpbmN0IGZyb20gdGhlIHtAbGluayBUbHNDb25uZWN0aW9uT3B0aW9uc30gcHJvdmlkZWQgdG9cbiAgICAgKiAgICAgICAgICAgICAgICAgdGhlIEhUVFAgY29ubmVjdGlvblxuICAgICAqIEBwYXJhbSBjb25uZWN0aW9uX3R5cGUgT3B0aW9uYWwgVHlwZSBvZiBjb25uZWN0aW9uIHRvIG1ha2UuICBJZiBub3Qgc3BlY2lmaWVkLFxuICAgICAqICAgICAgICAgICAgICAgICB7QGxpbmsgSHR0cFByb3h5Q29ubmVjdGlvblR5cGUuTGVnYWN5fSB3aWxsIGJlIHVzZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaG9zdF9uYW1lLCBwb3J0LCBhdXRoX21ldGhvZCA9IGh0dHBfMS5IdHRwUHJveHlBdXRoZW50aWNhdGlvblR5cGUuTm9uZSwgYXV0aF91c2VybmFtZSwgYXV0aF9wYXNzd29yZCwgdGxzX29wdHMsIGNvbm5lY3Rpb25fdHlwZSkge1xuICAgICAgICBzdXBlcihob3N0X25hbWUsIHBvcnQsIGF1dGhfbWV0aG9kLCBhdXRoX3VzZXJuYW1lLCBhdXRoX3Bhc3N3b3JkKTtcbiAgICAgICAgdGhpcy50bHNfb3B0cyA9IHRsc19vcHRzO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25fdHlwZSA9IGNvbm5lY3Rpb25fdHlwZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGNyZWF0ZV9uYXRpdmVfaGFuZGxlKCkge1xuICAgICAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQuaHR0cF9wcm94eV9vcHRpb25zX25ldyh0aGlzLmhvc3RfbmFtZSwgdGhpcy5wb3J0LCB0aGlzLmF1dGhfbWV0aG9kLCB0aGlzLmF1dGhfdXNlcm5hbWUsIHRoaXMuYXV0aF9wYXNzd29yZCwgdGhpcy50bHNfb3B0cyA/IHRoaXMudGxzX29wdHMubmF0aXZlX2hhbmRsZSgpIDogdW5kZWZpbmVkLCB0aGlzLmNvbm5lY3Rpb25fdHlwZSA/IHRoaXMuY29ubmVjdGlvbl90eXBlIDogSHR0cFByb3h5Q29ubmVjdGlvblR5cGUuTGVnYWN5KTtcbiAgICB9XG59XG5leHBvcnRzLkh0dHBQcm94eU9wdGlvbnMgPSBIdHRwUHJveHlPcHRpb25zO1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIEhUVFAgY29ubmVjdGlvbiBmcm9tIGEgY2xpZW50IHRvIGEgc2VydmVyXG4gKlxuICogQGNhdGVnb3J5IEhUVFBcbiAqL1xuY2xhc3MgSHR0cENsaWVudENvbm5lY3Rpb24gZXh0ZW5kcyBIdHRwQ29ubmVjdGlvbiB7XG4gICAgLyoqIEFzeW5jaHJvbm91c2x5IGVzdGFibGlzaCBhIG5ldyBIdHRwQ2xpZW50Q29ubmVjdGlvbi5cbiAgICAgKiBAcGFyYW0gYm9vdHN0cmFwIENsaWVudCBib290c3RyYXAgdG8gdXNlIHdoZW4gaW5pdGlhdGluZyBzb2NrZXQgY29ubmVjdGlvbi4gIExlYXZlIHVuZGVmaW5lZCB0byB1c2UgdGhlXG4gICAgICogICAgICAgICAgZGVmYXVsdCBzeXN0ZW0td2lkZSBib290c3RyYXAgKHJlY29tbWVuZGVkKS5cbiAgICAgKiBAcGFyYW0gaG9zdF9uYW1lIEhvc3QgdG8gY29ubmVjdCB0b1xuICAgICAqIEBwYXJhbSBwb3J0IFBvcnQgdG8gY29ubmVjdCB0byBvbiBob3N0XG4gICAgICogQHBhcmFtIHNvY2tldF9vcHRpb25zIFNvY2tldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHRsc19vcHRzIE9wdGlvbmFsIFRMUyBjb25uZWN0aW9uIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gcHJveHlfb3B0aW9ucyBPcHRpb25hbCBwcm94eSBvcHRpb25zXG4gICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihib290c3RyYXAsIGhvc3RfbmFtZSwgcG9ydCwgc29ja2V0X29wdGlvbnMsIHRsc19vcHRzLCBwcm94eV9vcHRpb25zLCBoYW5kbGUpIHtcbiAgICAgICAgaWYgKHNvY2tldF9vcHRpb25zID09IG51bGwgfHwgc29ja2V0X29wdGlvbnMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihcIkh0dHBDbGllbnRDb25uZWN0aW9uIGNvbnN0cnVjdG9yOiBzb2NrZXRfb3B0aW9ucyBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihoYW5kbGVcbiAgICAgICAgICAgID8gaGFuZGxlXG4gICAgICAgICAgICA6IGJpbmRpbmdfMS5kZWZhdWx0Lmh0dHBfY29ubmVjdGlvbl9uZXcoYm9vdHN0cmFwICE9IG51bGwgPyBib290c3RyYXAubmF0aXZlX2hhbmRsZSgpIDogbnVsbCwgKGhhbmRsZSwgZXJyb3JfY29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uX3NldHVwKGhhbmRsZSwgZXJyb3JfY29kZSk7XG4gICAgICAgICAgICB9LCAoaGFuZGxlLCBlcnJvcl9jb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25fc2h1dGRvd24oaGFuZGxlLCBlcnJvcl9jb2RlKTtcbiAgICAgICAgICAgIH0sIGhvc3RfbmFtZSwgcG9ydCwgc29ja2V0X29wdGlvbnMubmF0aXZlX2hhbmRsZSgpLCB0bHNfb3B0cyA/IHRsc19vcHRzLm5hdGl2ZV9oYW5kbGUoKSA6IHVuZGVmaW5lZCwgcHJveHlfb3B0aW9ucyA/IHByb3h5X29wdGlvbnMuY3JlYXRlX25hdGl2ZV9oYW5kbGUoKSA6IHVuZGVmaW5lZCkpO1xuICAgICAgICB0aGlzLmJvb3RzdHJhcCA9IGJvb3RzdHJhcDtcbiAgICAgICAgdGhpcy5zb2NrZXRfb3B0aW9ucyA9IHNvY2tldF9vcHRpb25zO1xuICAgICAgICB0aGlzLnRsc19vcHRzID0gdGxzX29wdHM7XG4gICAgfVxuICAgIF9vbl9zZXR1cChuYXRpdmVfaGFuZGxlLCBlcnJvcl9jb2RlKSB7XG4gICAgICAgIGlmIChlcnJvcl9jb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IGVycm9yXzEuQ3J0RXJyb3IoZXJyb3JfY29kZSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdCcpO1xuICAgIH1cbiAgICBfb25fc2h1dGRvd24obmF0aXZlX2hhbmRsZSwgZXJyb3JfY29kZSkge1xuICAgICAgICBpZiAoZXJyb3JfY29kZSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBlcnJvcl8xLkNydEVycm9yKGVycm9yX2NvZGUpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ2Nsb3NlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB7QGxpbmsgSHR0cENsaWVudFN0cmVhbX0gdG8gY2Fycnkgb3V0IHRoZSByZXF1ZXN0L3Jlc3BvbnNlIGV4Y2hhbmdlLlxuICAgICAqXG4gICAgICogTk9URTogVGhlIHN0cmVhbSBzZW5kcyBubyBkYXRhIHVudGlsIDptZXRoOmBIdHRwQ2xpZW50U3RyZWFtLmFjdGl2YXRlKClgXG4gICAgICogaXMgY2FsbGVkLiBDYWxsIHtAbGluayBIdHRwU3RyZWFtLmFjdGl2YXRlfSB3aGVuIHlvdSdyZSByZWFkeSBmb3JcbiAgICAgKiBjYWxsYmFja3MgYW5kIGV2ZW50cyB0byBmaXJlLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0gVGhlIEh0dHBSZXF1ZXN0IHRvIGF0dGVtcHQgb24gdGhpcyBjb25uZWN0aW9uXG4gICAgICogQHJldHVybnMgQSBuZXcgc3RyZWFtIHRoYXQgd2lsbCBkZWxpdmVyIGV2ZW50cyBmb3IgdGhlIHJlcXVlc3RcbiAgICAgKi9cbiAgICByZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICAgICAgbGV0IHN0cmVhbTtcbiAgICAgICAgY29uc3Qgb25fcmVzcG9uc2VfaW1wbCA9IChzdGF0dXNfY29kZSwgaGVhZGVycykgPT4ge1xuICAgICAgICAgICAgc3RyZWFtLl9vbl9yZXNwb25zZShzdGF0dXNfY29kZSwgaGVhZGVycyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9uX2JvZHlfaW1wbCA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBzdHJlYW0uX29uX2JvZHkoZGF0YSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9uX2NvbXBsZXRlX2ltcGwgPSAoZXJyb3JfY29kZSkgPT4ge1xuICAgICAgICAgICAgc3RyZWFtLl9vbl9jb21wbGV0ZShlcnJvcl9jb2RlKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbmF0aXZlX2hhbmRsZSA9IGJpbmRpbmdfMS5kZWZhdWx0Lmh0dHBfc3RyZWFtX25ldyh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgcmVxdWVzdCwgb25fY29tcGxldGVfaW1wbCwgb25fcmVzcG9uc2VfaW1wbCwgb25fYm9keV9pbXBsKTtcbiAgICAgICAgcmV0dXJuIHN0cmVhbSA9IG5ldyBIdHRwQ2xpZW50U3RyZWFtKG5hdGl2ZV9oYW5kbGUsIHRoaXMsIHJlcXVlc3QpO1xuICAgIH1cbn1cbmV4cG9ydHMuSHR0cENsaWVudENvbm5lY3Rpb24gPSBIdHRwQ2xpZW50Q29ubmVjdGlvbjtcbi8qKlxuICogUmVwcmVzZW50cyBhIHNpbmdsZSBodHRwIG1lc3NhZ2UgZXhjaGFuZ2UgKHJlcXVlc3QvcmVzcG9uc2UpIGluIEhUVFAvMS4xLiBJbiBIMiwgaXQgbWF5XG4gKiBhbHNvIHJlcHJlc2VudCBhIFBVU0hfUFJPTUlTRSBmb2xsb3dlZCBieSB0aGUgYWNjb21wYW55aW5nIHJlc3BvbnNlLlxuICpcbiAqIE5PVEU6IEJpbmRpbmcgZWl0aGVyIHRoZSByZWFkeSBvciByZXNwb25zZSBldmVudCB3aWxsIHVuY29yayBhbnkgYnVmZmVyZWQgZXZlbnRzIGFuZCBzdGFydFxuICogZXZlbnQgZGVsaXZlcnlcbiAqXG4gKiBAY2F0ZWdvcnkgSFRUUFxuICovXG5jbGFzcyBIdHRwU3RyZWFtIGV4dGVuZHMgKDAsIG5hdGl2ZV9yZXNvdXJjZV8xLk5hdGl2ZVJlc291cmNlTWl4aW4pKGV2ZW50XzEuQnVmZmVyZWRFdmVudEVtaXR0ZXIpIHtcbiAgICBjb25zdHJ1Y3RvcihuYXRpdmVfaGFuZGxlLCBjb25uZWN0aW9uKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuX3N1cGVyKG5hdGl2ZV9oYW5kbGUpO1xuICAgICAgICB0aGlzLmNvcmsoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQmVnaW4gc2VuZGluZyB0aGUgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIFRoZSBzdHJlYW0gZG9lcyBub3RoaW5nIHVudGlsIHRoaXMgaXMgY2FsbGVkLiBDYWxsIGFjdGl2YXRlKCkgd2hlbiB5b3VcbiAgICAgKiBhcmUgcmVhZHkgZm9yIGl0cyBjYWxsYmFja3MgYW5kIGV2ZW50cyB0byBmaXJlLlxuICAgICAqL1xuICAgIGFjdGl2YXRlKCkge1xuICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5odHRwX3N0cmVhbV9hY3RpdmF0ZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyBhbmQgZW5kcyBhbGwgY29tbXVuaWNhdGlvbiBvbiB0aGlzIHN0cmVhbS4gQ2FsbGVkIGF1dG9tYXRpY2FsbHkgYWZ0ZXIgdGhlICdlbmQnXG4gICAgICogZXZlbnQgaXMgZGVsaXZlcmVkLiBDYWxsaW5nIHRoaXMgbWFudWFsbHkgaXMgb25seSBuZWNlc3NhcnkgaWYgeW91IHdpc2ggdG8gdGVybWluYXRlXG4gICAgICogY29tbXVuaWNhdGlvbiBtaWQtcmVxdWVzdC9yZXNwb25zZS5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuaHR0cF9zdHJlYW1fY2xvc2UodGhpcy5uYXRpdmVfaGFuZGxlKCkpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX29uX2JvZHkoZGF0YSkge1xuICAgICAgICB0aGlzLmVtaXQoJ2RhdGEnLCBkYXRhKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9vbl9jb21wbGV0ZShlcnJvcl9jb2RlKSB7XG4gICAgICAgIGlmIChlcnJvcl9jb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IGVycm9yXzEuQ3J0RXJyb3IoZXJyb3JfY29kZSkpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNjaGVkdWxlIGRlYXRoIGFmdGVyIGVuZCBpcyBkZWxpdmVyZWRcbiAgICAgICAgdGhpcy5vbignZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbWl0KCdlbmQnKTtcbiAgICB9XG59XG5leHBvcnRzLkh0dHBTdHJlYW0gPSBIdHRwU3RyZWFtO1xuLyoqXG4gKiBTdHJlYW0gdGhhdCBzZW5kcyBhIHJlcXVlc3QgYW5kIHJlY2VpdmVzIGEgcmVzcG9uc2UuXG4gKlxuICogQ3JlYXRlIGFuIEh0dHBDbGllbnRTdHJlYW0gd2l0aCB7QGxpbmsgSHR0cENsaWVudENvbm5lY3Rpb24ucmVxdWVzdH0uXG4gKlxuICogTk9URTogVGhlIHN0cmVhbSBzZW5kcyBubyBkYXRhIHVudGlsIHtAbGluayBIdHRwU3RyZWFtLmFjdGl2YXRlfSBpcyBjYWxsZWQuXG4gKiBDYWxsIHtAbGluayBIdHRwU3RyZWFtLmFjdGl2YXRlfSB3aGVuIHlvdSdyZSByZWFkeSBmb3IgY2FsbGJhY2tzIGFuZCBldmVudHMgdG8gZmlyZS5cbiAqXG4gKiBAY2F0ZWdvcnkgSFRUUFxuICovXG5jbGFzcyBIdHRwQ2xpZW50U3RyZWFtIGV4dGVuZHMgSHR0cFN0cmVhbSB7XG4gICAgY29uc3RydWN0b3IobmF0aXZlX2hhbmRsZSwgY29ubmVjdGlvbiwgcmVxdWVzdCkge1xuICAgICAgICBzdXBlcihuYXRpdmVfaGFuZGxlLCBjb25uZWN0aW9uKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSFRUUCBzdGF0dXMgY29kZSByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICogQHJldHVybiBFaXRoZXIgdGhlIHN0YXR1cyBjb2RlLCBvciB1bmRlZmluZWQgaWYgdGhlIHNlcnZlciByZXNwb25zZSBoYXMgbm90IGFycml2ZWQgeWV0LlxuICAgICAqL1xuICAgIHN0YXR1c19jb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNwb25zZV9zdGF0dXNfY29kZTtcbiAgICB9XG4gICAgLy8gT3ZlcnJpZGRlbiB0byBhbGxvdyB1bmNvcmtpbmcgb24gcmVhZHkgYW5kIHJlc3BvbnNlXG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHN1cGVyLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIGlmIChldmVudCA9PSAncmVzcG9uc2UnKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuY29yaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfb25fcmVzcG9uc2Uoc3RhdHVzX2NvZGUsIGhlYWRlcl9hcnJheSkge1xuICAgICAgICB0aGlzLnJlc3BvbnNlX3N0YXR1c19jb2RlID0gc3RhdHVzX2NvZGU7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IGV4cG9ydHMuSHR0cEhlYWRlcnMoaGVhZGVyX2FycmF5KTtcbiAgICAgICAgdGhpcy5lbWl0KCdyZXNwb25zZScsIHN0YXR1c19jb2RlLCBoZWFkZXJzKTtcbiAgICB9XG59XG5leHBvcnRzLkh0dHBDbGllbnRTdHJlYW0gPSBIdHRwQ2xpZW50U3RyZWFtO1xuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIGh0dHAgcmVzcG9uc2UgaGVhZGVycyBoYXZlIGFycml2ZWQuXG4gKlxuICogQGV2ZW50XG4gKi9cbkh0dHBDbGllbnRTdHJlYW0uUkVTUE9OU0UgPSAncmVzcG9uc2UnO1xuLyoqXG4gKiBFbWl0dGVkIHdoZW4gaHR0cCByZXNwb25zZSBkYXRhIGlzIGF2YWlsYWJsZS5cbiAqXG4gKiBAZXZlbnRcbiAqL1xuSHR0cENsaWVudFN0cmVhbS5EQVRBID0gJ2RhdGEnO1xuLyoqXG4gKiBFbWl0dGVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGluIHN0cmVhbSBwcm9jZXNzaW5nXG4gKlxuICogQGV2ZW50XG4gKi9cbkh0dHBDbGllbnRTdHJlYW0uRVJST1IgPSAnZXJyb3InO1xuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIHN0cmVhbSBoYXMgY29tcGxldGVkXG4gKlxuICogQGV2ZW50XG4gKi9cbkh0dHBDbGllbnRTdHJlYW0uRU5EID0gJ2VuZCc7XG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBpbmxpbmUgaGVhZGVycyBhcmUgZGVsaXZlcmVkIHdoaWxlIGNvbW11bmljYXRpbmcgb3ZlciBIMlxuICpcbiAqIEBldmVudFxuICovXG5IdHRwQ2xpZW50U3RyZWFtLkhFQURFUlMgPSAnaGVhZGVycyc7XG4vKipcbiAqIENyZWF0ZXMsIG1hbmFnZXMsIGFuZCB2ZW5kcyBjb25uZWN0aW9ucyB0byBhIGdpdmVuIGhvc3QvcG9ydCBlbmRwb2ludFxuICpcbiAqIEBjYXRlZ29yeSBIVFRQXG4gKi9cbmNsYXNzIEh0dHBDbGllbnRDb25uZWN0aW9uTWFuYWdlciBleHRlbmRzIG5hdGl2ZV9yZXNvdXJjZV8xLk5hdGl2ZVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYm9vdHN0cmFwIENsaWVudCBib290c3RyYXAgdG8gdXNlIHdoZW4gaW5pdGlhdGluZyBzb2NrZXQgY29ubmVjdGlvbnMuICBMZWF2ZSB1bmRlZmluZWQgdG8gdXNlIHRoZVxuICAgICAqICAgICAgICAgIGRlZmF1bHQgc3lzdGVtLXdpZGUgYm9vdHN0cmFwIChyZWNvbW1lbmRlZCkuXG4gICAgICogQHBhcmFtIGhvc3QgSG9zdCB0byBjb25uZWN0IHRvXG4gICAgICogQHBhcmFtIHBvcnQgUG9ydCB0byBjb25uZWN0IHRvIG9uIGhvc3RcbiAgICAgKiBAcGFyYW0gbWF4X2Nvbm5lY3Rpb25zIE1heGltdW0gbnVtYmVyIG9mIGNvbm5lY3Rpb25zIHRvIHBvb2xcbiAgICAgKiBAcGFyYW0gaW5pdGlhbF93aW5kb3dfc2l6ZSBPcHRpb25hbCBpbml0aWFsIHdpbmRvdyBzaXplXG4gICAgICogQHBhcmFtIHNvY2tldF9vcHRpb25zIFNvY2tldCBvcHRpb25zIHRvIHVzZSB3aGVuIGluaXRpYXRpbmcgc29ja2V0IGNvbm5lY3Rpb25zXG4gICAgICogQHBhcmFtIHRsc19vcHRzIE9wdGlvbmFsIFRMUyBjb25uZWN0aW9uIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gcHJveHlfb3B0aW9ucyBPcHRpb25hbCBwcm94eSBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYm9vdHN0cmFwLCBob3N0LCBwb3J0LCBtYXhfY29ubmVjdGlvbnMsIGluaXRpYWxfd2luZG93X3NpemUsIHNvY2tldF9vcHRpb25zLCB0bHNfb3B0cywgcHJveHlfb3B0aW9ucykge1xuICAgICAgICBpZiAoc29ja2V0X29wdGlvbnMgPT0gbnVsbCB8fCBzb2NrZXRfb3B0aW9ucyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKFwiSHR0cENsaWVudENvbm5lY3Rpb25NYW5hZ2VyIGNvbnN0cnVjdG9yOiBzb2NrZXRfb3B0aW9ucyBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihiaW5kaW5nXzEuZGVmYXVsdC5odHRwX2Nvbm5lY3Rpb25fbWFuYWdlcl9uZXcoYm9vdHN0cmFwICE9IG51bGwgPyBib290c3RyYXAubmF0aXZlX2hhbmRsZSgpIDogbnVsbCwgaG9zdCwgcG9ydCwgbWF4X2Nvbm5lY3Rpb25zLCBpbml0aWFsX3dpbmRvd19zaXplLCBzb2NrZXRfb3B0aW9ucy5uYXRpdmVfaGFuZGxlKCksIHRsc19vcHRzID8gdGxzX29wdHMubmF0aXZlX2hhbmRsZSgpIDogdW5kZWZpbmVkLCBwcm94eV9vcHRpb25zID8gcHJveHlfb3B0aW9ucy5jcmVhdGVfbmF0aXZlX2hhbmRsZSgpIDogdW5kZWZpbmVkLCB1bmRlZmluZWQgLyogb25fc2h1dGRvd24gKi8pKTtcbiAgICAgICAgdGhpcy5ib290c3RyYXAgPSBib290c3RyYXA7XG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgICAgIHRoaXMucG9ydCA9IHBvcnQ7XG4gICAgICAgIHRoaXMubWF4X2Nvbm5lY3Rpb25zID0gbWF4X2Nvbm5lY3Rpb25zO1xuICAgICAgICB0aGlzLmluaXRpYWxfd2luZG93X3NpemUgPSBpbml0aWFsX3dpbmRvd19zaXplO1xuICAgICAgICB0aGlzLnNvY2tldF9vcHRpb25zID0gc29ja2V0X29wdGlvbnM7XG4gICAgICAgIHRoaXMudGxzX29wdHMgPSB0bHNfb3B0cztcbiAgICAgICAgdGhpcy5wcm94eV9vcHRpb25zID0gcHJveHlfb3B0aW9ucztcbiAgICAgICAgdGhpcy5jb25uZWN0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgKiBWZW5kcyBhIGNvbm5lY3Rpb24gZnJvbSB0aGUgcG9vbFxuICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzdWx0cyBpbiBhbiBIdHRwQ2xpZW50Q29ubmVjdGlvbi4gV2hlbiBkb25lIHdpdGggdGhlIGNvbm5lY3Rpb24sIHJldHVyblxuICAgICogICAgICAgICAgaXQgdmlhIHtAbGluayByZWxlYXNlfVxuICAgICovXG4gICAgYWNxdWlyZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIE9ubHkgY3JlYXRlIDEgY29ubmVjdGlvbiBpbiBKUy9UUyBmcm9tIGVhY2ggbmF0aXZlIGNvbm5lY3Rpb25cbiAgICAgICAgICAgIGNvbnN0IG9uX2FjcXVpcmVkID0gKGhhbmRsZSwgZXJyb3JfY29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcl9jb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXJyb3JfMS5DcnRFcnJvcihlcnJvcl9jb2RlKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb25zLmdldChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gbmV3IEh0dHBDbGllbnRDb25uZWN0aW9uKHRoaXMuYm9vdHN0cmFwLCB0aGlzLmhvc3QsIHRoaXMucG9ydCwgdGhpcy5zb2NrZXRfb3B0aW9ucywgdGhpcy50bHNfb3B0cywgdGhpcy5wcm94eV9vcHRpb25zLCBoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLnNldChoYW5kbGUsIGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbnMuZGVsZXRlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlKGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0Lmh0dHBfY29ubmVjdGlvbl9tYW5hZ2VyX2FjcXVpcmUodGhpcy5uYXRpdmVfaGFuZGxlKCksIG9uX2FjcXVpcmVkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gdW51c2VkIGNvbm5lY3Rpb24gdG8gdGhlIHBvb2xcbiAgICAgKiBAcGFyYW0gY29ubmVjdGlvbiAtIFRoZSBjb25uZWN0aW9uIHRvIHJldHVyblxuICAgICovXG4gICAgcmVsZWFzZShjb25uZWN0aW9uKSB7XG4gICAgICAgIGlmIChjb25uZWN0aW9uID09IG51bGwgfHwgY29ubmVjdGlvbiA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKFwiSHR0cENsaWVudENvbm5lY3Rpb25NYW5hZ2VyIHJlbGVhc2U6IGNvbm5lY3Rpb24gbm90IGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuaHR0cF9jb25uZWN0aW9uX21hbmFnZXJfcmVsZWFzZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgY29ubmVjdGlvbi5uYXRpdmVfaGFuZGxlKCkpO1xuICAgIH1cbiAgICAvKiogQ2xvc2VzIGFsbCBjb25uZWN0aW9ucyBhbmQgcmVqZWN0cyBhbGwgcGVuZGluZyByZXF1ZXN0cyAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5odHRwX2Nvbm5lY3Rpb25fbWFuYWdlcl9jbG9zZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSk7XG4gICAgfVxufVxuZXhwb3J0cy5IdHRwQ2xpZW50Q29ubmVjdGlvbk1hbmFnZXIgPSBIdHRwQ2xpZW50Q29ubmVjdGlvbk1hbmFnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUGtjczExTGliID0gZXhwb3J0cy5UbHNDb25uZWN0aW9uT3B0aW9ucyA9IGV4cG9ydHMuU2VydmVyVGxzQ29udGV4dCA9IGV4cG9ydHMuQ2xpZW50VGxzQ29udGV4dCA9IGV4cG9ydHMuVGxzQ29udGV4dCA9IGV4cG9ydHMuVGxzQ29udGV4dE9wdGlvbnMgPSBleHBvcnRzLlNvY2tldE9wdGlvbnMgPSBleHBvcnRzLkNsaWVudEJvb3RzdHJhcCA9IGV4cG9ydHMuSW5wdXRTdHJlYW0gPSBleHBvcnRzLmlzX2FscG5fYXZhaWxhYmxlID0gZXhwb3J0cy5lbmFibGVfbG9nZ2luZyA9IGV4cG9ydHMuTG9nTGV2ZWwgPSBleHBvcnRzLmVycm9yX2NvZGVfdG9fbmFtZSA9IGV4cG9ydHMuZXJyb3JfY29kZV90b19zdHJpbmcgPSBleHBvcnRzLlNvY2tldERvbWFpbiA9IGV4cG9ydHMuU29ja2V0VHlwZSA9IGV4cG9ydHMuVGxzVmVyc2lvbiA9IHZvaWQgMDtcbi8qKlxuICpcbiAqIEEgbW9kdWxlIGNvbnRhaW5pbmcgYSBncmFiIGJhZyBvZiBzdXBwb3J0IGZvciBjb3JlIG5ldHdvcmsgSS9PIGZ1bmN0aW9uYWxpdHksIGluY2x1ZGluZyBzb2NrZXRzLCBUTFMsIEROUywgbG9nZ2luZyxcbiAqIGVycm9yIGhhbmRsaW5nLCBzdHJlYW1zLCBhbmQgY29ubmVjdGlvbiAtPiB0aHJlYWQgbWFwcGluZy5cbiAqXG4gKiBDYXRlZ29yaWVzIGluY2x1ZGU6XG4gKiAtIE5ldHdvcms6IHNvY2tldCBjb25maWd1cmF0aW9uXG4gKiAtIFRMUzogdGxzIGNvbmZpZ3VyYXRpb25cbiAqIC0gTG9nZ2luZzogbG9nZ2luZyBjb250cm9scyBhbmQgY29uZmlndXJhdGlvblxuICogLSBJTzogZXZlcnl0aGluZyBlbHNlXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKiBAbW9kdWxlIGlvXG4gKiBAbWVyZ2VUYXJnZXRcbiAqL1xuY29uc3QgYmluZGluZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JpbmRpbmdcIikpO1xuY29uc3QgbmF0aXZlX3Jlc291cmNlXzEgPSByZXF1aXJlKFwiLi9uYXRpdmVfcmVzb3VyY2VcIik7XG5jb25zdCBpb18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9pb1wiKTtcbnZhciBpb18yID0gcmVxdWlyZShcIi4uL2NvbW1vbi9pb1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlRsc1ZlcnNpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlvXzIuVGxzVmVyc2lvbjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNvY2tldFR5cGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlvXzIuU29ja2V0VHlwZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNvY2tldERvbWFpblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW9fMi5Tb2NrZXREb21haW47IH0gfSk7XG5jb25zdCBlcnJvcl8xID0gcmVxdWlyZShcIi4vZXJyb3JcIik7XG4vKipcbiAqIENvbnZlcnQgYSBuYXRpdmUgZXJyb3IgY29kZSBpbnRvIGEgaHVtYW4tcmVhZGFibGUgc3RyaW5nXG4gKiBAcGFyYW0gZXJyb3JfY29kZSAtIEFuIGVycm9yIGNvZGUgcmV0dXJuZWQgZnJvbSBhIG5hdGl2ZSBBUEkgY2FsbCwgb3IgZGVsaXZlcmVkXG4gKiB2aWEgY2FsbGJhY2suXG4gKiBAcmV0dXJucyBMb25nLWZvcm0gZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yXG4gKiBAc2VlIENydEVycm9yXG4gKlxuICogbm9kZWpzIG9ubHkuXG4gKlxuICogQGNhdGVnb3J5IFN5c3RlbVxuICovXG5mdW5jdGlvbiBlcnJvcl9jb2RlX3RvX3N0cmluZyhlcnJvcl9jb2RlKSB7XG4gICAgcmV0dXJuIGJpbmRpbmdfMS5kZWZhdWx0LmVycm9yX2NvZGVfdG9fc3RyaW5nKGVycm9yX2NvZGUpO1xufVxuZXhwb3J0cy5lcnJvcl9jb2RlX3RvX3N0cmluZyA9IGVycm9yX2NvZGVfdG9fc3RyaW5nO1xuLyoqXG4gKiBDb252ZXJ0IGEgbmF0aXZlIGVycm9yIGNvZGUgaW50byBhIGh1bWFuLXJlYWRhYmxlIGlkZW50aWZpZXJcbiAqIEBwYXJhbSBlcnJvcl9jb2RlIC0gQW4gZXJyb3IgY29kZSByZXR1cm5lZCBmcm9tIGEgbmF0aXZlIEFQSSBjYWxsLCBvciBkZWxpdmVyZWRcbiAqIHZpYSBjYWxsYmFjay5cbiAqIEByZXR1cm4gZXJyb3IgbmFtZSBhcyBhIHN0cmluZ1xuICogQHNlZSBDcnRFcnJvclxuICpcbiAqIG5vZGVqcyBvbmx5LlxuICpcbiAqIEBjYXRlZ29yeSBTeXN0ZW1cbiAqL1xuZnVuY3Rpb24gZXJyb3JfY29kZV90b19uYW1lKGVycm9yX2NvZGUpIHtcbiAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQuZXJyb3JfY29kZV90b19uYW1lKGVycm9yX2NvZGUpO1xufVxuZXhwb3J0cy5lcnJvcl9jb2RlX3RvX25hbWUgPSBlcnJvcl9jb2RlX3RvX25hbWU7XG4vKipcbiAqIFRoZSBhbW91bnQgb2YgZGV0YWlsIHRoYXQgd2lsbCBiZSBsb2dnZWRcbiAqIEBjYXRlZ29yeSBMb2dnaW5nXG4gKi9cbnZhciBMb2dMZXZlbDtcbihmdW5jdGlvbiAoTG9nTGV2ZWwpIHtcbiAgICAvKiogTm8gbG9nZ2luZyB3aGF0c29ldmVyLiBFcXVpdmFsZW50IHRvIG5ldmVyIGNhbGxpbmcge0BsaW5rIGVuYWJsZV9sb2dnaW5nfS4gKi9cbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIC8qKiBPbmx5IGZhdGFscy4gSW4gcHJhY3RpY2UsIHRoaXMgd2lsbCBub3QgZG8gbXVjaCwgYXMgdGhlIHByb2Nlc3Mgd2lsbCBsb2cgYW5kIHRoZW4gY3Jhc2ggKGludGVudGlvbmFsbHkpIGlmIGEgZmF0YWwgY29uZGl0aW9uIG9jY3VycyAqL1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiRkFUQUxcIl0gPSAxXSA9IFwiRkFUQUxcIjtcbiAgICAvKiogT25seSBlcnJvcnMgKi9cbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkVSUk9SXCJdID0gMl0gPSBcIkVSUk9SXCI7XG4gICAgLyoqIE9ubHkgd2FybmluZ3MgYW5kIGVycm9ycyAqL1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiV0FSTlwiXSA9IDNdID0gXCJXQVJOXCI7XG4gICAgLyoqIEluZm9ybWF0aW9uIGFib3V0IGNvbm5lY3Rpb24vc3RyZWFtIGNyZWF0aW9uL2Rlc3RydWN0aW9uIGV2ZW50cyAqL1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiSU5GT1wiXSA9IDRdID0gXCJJTkZPXCI7XG4gICAgLyoqIEVub3VnaCBpbmZvcm1hdGlvbiB0byBkZWJ1ZyB0aGUgY2hhaW4gb2YgZXZlbnRzIGEgZ2l2ZW4gbmV0d29yayBjb25uZWN0aW9uIGVuY291bnRlcnMgKi9cbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkRFQlVHXCJdID0gNV0gPSBcIkRFQlVHXCI7XG4gICAgLyoqIEV2ZXJ5dGhpbmcuIE9ubHkgdXNlIHRoaXMgaWYgeW91IHJlYWxseSBuZWVkIHRvIGtub3cgRVZFUlkgc2luZ2xlIGNhbGwgKi9cbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIlRSQUNFXCJdID0gNl0gPSBcIlRSQUNFXCI7XG59KShMb2dMZXZlbCA9IGV4cG9ydHMuTG9nTGV2ZWwgfHwgKGV4cG9ydHMuTG9nTGV2ZWwgPSB7fSkpO1xuLyoqXG4gKiBFbmFibGVzIGxvZ2dpbmcgb2YgdGhlIG5hdGl2ZSBBV1MgQ1JUIGxpYnJhcmllcy5cbiAqIEBwYXJhbSBsZXZlbCAtIFRoZSBsb2dnaW5nIGxldmVsIHRvIGZpbHRlciB0by4gSXQgaXMgbm90IHBvc3NpYmxlIHRvIGxvZyBsZXNzIHRoYW4gV0FSTi5cbiAqXG4gKiBub2RlanMgb25seS5cbiAqIEBjYXRlZ29yeSBMb2dnaW5nXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZV9sb2dnaW5nKGxldmVsKSB7XG4gICAgYmluZGluZ18xLmRlZmF1bHQuaW9fbG9nZ2luZ19lbmFibGUobGV2ZWwpO1xufVxuZXhwb3J0cy5lbmFibGVfbG9nZ2luZyA9IGVuYWJsZV9sb2dnaW5nO1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgQUxQTiBpcyBhdmFpbGFibGUgb24gdGhpcyBwbGF0Zm9ybSBuYXRpdmVseVxuICogQHJldHVybiB0cnVlIGlmIEFMUE4gaXMgc3VwcG9ydGVkIG5hdGl2ZWx5LCBmYWxzZSBvdGhlcndpc2VcbiAqXG4gKiBub2RlanMgb25seS5cbiAqIEBjYXRlZ29yeSBUTFNcbiovXG5mdW5jdGlvbiBpc19hbHBuX2F2YWlsYWJsZSgpIHtcbiAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQuaXNfYWxwbl9hdmFpbGFibGUoKTtcbn1cbmV4cG9ydHMuaXNfYWxwbl9hdmFpbGFibGUgPSBpc19hbHBuX2F2YWlsYWJsZTtcbi8qKlxuICogV3JhcHMgYSBgYGBSZWFkYWJsZWBgYCBmb3IgcmVhZGluZyBieSBuYXRpdmUgY29kZSwgdXNlZCB0byBzdHJlYW1cbiAqICBkYXRhIGludG8gdGhlIEFXUyBDUlQgbGlicmFyaWVzLlxuICpcbiAqIG5vZGVqcyBvbmx5LlxuICogQGNhdGVnb3J5IElPXG4gKi9cbmNsYXNzIElucHV0U3RyZWFtIGV4dGVuZHMgbmF0aXZlX3Jlc291cmNlXzEuTmF0aXZlUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSkge1xuICAgICAgICBzdXBlcihiaW5kaW5nXzEuZGVmYXVsdC5pb19pbnB1dF9zdHJlYW1fbmV3KDE2ICogMTAyNCkpO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5zb3VyY2Uub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgZGF0YSA9IEJ1ZmZlci5pc0J1ZmZlcihkYXRhKSA/IGRhdGEgOiBCdWZmZXIuZnJvbShkYXRhLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuaW9faW5wdXRfc3RyZWFtX2FwcGVuZCh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvdXJjZS5vbignZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQuaW9faW5wdXRfc3RyZWFtX2FwcGVuZCh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5JbnB1dFN0cmVhbSA9IElucHV0U3RyZWFtO1xuLyoqXG4gKiBSZXByZXNlbnRzIG5hdGl2ZSByZXNvdXJjZXMgcmVxdWlyZWQgdG8gYm9vdHN0cmFwIGEgY2xpZW50IGNvbm5lY3Rpb25cbiAqIFRoaW5ncyBsaWtlIGEgaG9zdCByZXNvbHZlciwgZXZlbnQgbG9vcCBncm91cCwgZXRjLiBUaGVyZSBzaG91bGQgb25seSBuZWVkXG4gKiB0byBiZSAxIG9mIHRoZXNlIHBlciBhcHBsaWNhdGlvbiwgaW4gbW9zdCBjYXNlcy5cbiAqXG4gKiBub2RlanMgb25seS5cbiAqIEBjYXRlZ29yeSBJT1xuICovXG5jbGFzcyBDbGllbnRCb290c3RyYXAgZXh0ZW5kcyBuYXRpdmVfcmVzb3VyY2VfMS5OYXRpdmVSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKGJpbmRpbmdfMS5kZWZhdWx0LmlvX2NsaWVudF9ib290c3RyYXBfbmV3KCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2xpZW50Qm9vdHN0cmFwID0gQ2xpZW50Qm9vdHN0cmFwO1xuLyoqXG4gKiBTdGFuZGFyZCBCZXJrZWxleSBzb2NrZXQgc3R5bGUgb3B0aW9ucy5cbiAqXG4gKiBub2RlanMgb25seS5cbiAqIEBjYXRlZ29yeSBOZXR3b3JrXG4qL1xuY2xhc3MgU29ja2V0T3B0aW9ucyBleHRlbmRzIG5hdGl2ZV9yZXNvdXJjZV8xLk5hdGl2ZVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlID0gaW9fMS5Tb2NrZXRUeXBlLlNUUkVBTSwgZG9tYWluID0gaW9fMS5Tb2NrZXREb21haW4uSVBWNiwgY29ubmVjdF90aW1lb3V0X21zID0gNTAwMCwga2VlcGFsaXZlID0gZmFsc2UsIGtlZXBfYWxpdmVfaW50ZXJ2YWxfc2VjID0gMCwga2VlcF9hbGl2ZV90aW1lb3V0X3NlYyA9IDAsIGtlZXBfYWxpdmVfbWF4X2ZhaWxlZF9wcm9iZXMgPSAwKSB7XG4gICAgICAgIHN1cGVyKGJpbmRpbmdfMS5kZWZhdWx0LmlvX3NvY2tldF9vcHRpb25zX25ldyh0eXBlLCBkb21haW4sIGNvbm5lY3RfdGltZW91dF9tcywga2VlcF9hbGl2ZV9pbnRlcnZhbF9zZWMsIGtlZXBfYWxpdmVfdGltZW91dF9zZWMsIGtlZXBfYWxpdmVfbWF4X2ZhaWxlZF9wcm9iZXMsIGtlZXBhbGl2ZSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuU29ja2V0T3B0aW9ucyA9IFNvY2tldE9wdGlvbnM7XG4vKipcbiAqIE9wdGlvbnMgZm9yIGNyZWF0aW5nIGEge0BsaW5rIENsaWVudFRsc0NvbnRleHR9IG9yIHtAbGluayBTZXJ2ZXJUbHNDb250ZXh0fS5cbiAqXG4gKiBub2RlanMgb25seS5cbiAqIEBjYXRlZ29yeSBUTFNcbiAqL1xuY2xhc3MgVGxzQ29udGV4dE9wdGlvbnMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKiogTWluaW11bSB2ZXJzaW9uIG9mIFRMUyB0byBzdXBwb3J0LiBVc2VzIE9TL3N5c3RlbSBkZWZhdWx0IGlmIHVuc3BlY2lmaWVkLiAqL1xuICAgICAgICB0aGlzLm1pbl90bHNfdmVyc2lvbiA9IGlvXzEuVGxzVmVyc2lvbi5EZWZhdWx0O1xuICAgICAgICAvKiogTGlzdCBvZiBBTFBOIHByb3RvY29scyB0byBiZSB1c2VkIG9uIHBsYXRmb3JtcyB3aGljaCBzdXBwb3J0IEFMUE4gKi9cbiAgICAgICAgdGhpcy5hbHBuX2xpc3QgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluIGNsaWVudCBtb2RlLCB0aGlzIHR1cm5zIG9mZiB4LjUwOSB2YWxpZGF0aW9uLiBEb24ndCBkbyB0aGlzIHVubGVzcyB5b3UgYXJlIHRlc3RpbmcuXG4gICAgICAgICAqIEl0IGlzIG11Y2ggYmV0dGVyIHRvIGp1c3Qgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgdHJ1c3Qgc3RvcmUgYW5kIHBhc3MgdGhlIHNlbGYtc2lnbmVkXG4gICAgICAgICAqIGNlcnRpZmljYXRlIGFzIHRoZSBjYV9maWxlIGFyZ3VtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBJbiBzZXJ2ZXIgbW9kZSAoU2VydmVyVGxzQ29udGV4dCksIHRoaXMgZGVmYXVsdHMgdG8gZmFsc2UuIElmIHlvdSB3YW50IHRvIGVuZm9yY2UgbXV0dWFsIFRMUyBvbiB0aGUgc2VydmVyLFxuICAgICAgICAgKiBzZXQgdGhpcyB0byB0cnVlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJpZnlfcGVlciA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBzeXN0ZW0gdHJ1c3Qgc3RvcmUuXG4gICAgICogQHBhcmFtIGNhX2RpcnBhdGggLSBPbmx5IHVzZWQgb24gVW5peC1zdHlsZSBzeXN0ZW1zIHdoZXJlIGFsbCB0cnVzdCBhbmNob3JzIGFyZVxuICAgICAqIHN0b3JlZCBpbiBhIGRpcmVjdG9yeSAoZS5nLiAvZXRjL3NzbC9jZXJ0cykuXG4gICAgICogQHBhcmFtIGNhX2ZpbGVwYXRoIC0gU2luZ2xlIGZpbGUgY29udGFpbmluZyBhbGwgdHJ1c3QgQ0FzLCBpbiBQRU0gZm9ybWF0XG4gICAgICovXG4gICAgb3ZlcnJpZGVfZGVmYXVsdF90cnVzdF9zdG9yZV9mcm9tX3BhdGgoY2FfZGlycGF0aCwgY2FfZmlsZXBhdGgpIHtcbiAgICAgICAgdGhpcy5jYV9kaXJwYXRoID0gY2FfZGlycGF0aDtcbiAgICAgICAgdGhpcy5jYV9maWxlcGF0aCA9IGNhX2ZpbGVwYXRoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIGRlZmF1bHQgc3lzdGVtIHRydXN0IHN0b3JlLlxuICAgICAqIEBwYXJhbSBjZXJ0aWZpY2F0ZV9hdXRob3JpdHkgLSBTdHJpbmcgY29udGFpbmluZyBhbGwgdHJ1c3QgQ0FzLCBpbiBQRU0gZm9ybWF0XG4gICAgICovXG4gICAgb3ZlcnJpZGVfZGVmYXVsdF90cnVzdF9zdG9yZShjZXJ0aWZpY2F0ZV9hdXRob3JpdHkpIHtcbiAgICAgICAgdGhpcy5jZXJ0aWZpY2F0ZV9hdXRob3JpdHkgPSBjZXJ0aWZpY2F0ZV9hdXRob3JpdHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBvcHRpb25zIGNvbmZpZ3VyZWQgZm9yIG11dHVhbCBUTFMgaW4gY2xpZW50IG1vZGUsXG4gICAgICogd2l0aCBjbGllbnQgY2VydGlmaWNhdGUgYW5kIHByaXZhdGUga2V5IHByb3ZpZGVkIGFzIGluLW1lbW9yeSBzdHJpbmdzLlxuICAgICAqIEBwYXJhbSBjZXJ0aWZpY2F0ZSAtIENsaWVudCBjZXJ0aWZpY2F0ZSBmaWxlIGNvbnRlbnRzLCBpbiBQRU0gZm9ybWF0XG4gICAgICogQHBhcmFtIHByaXZhdGVfa2V5IC0gQ2xpZW50IHByaXZhdGUga2V5IGZpbGUgY29udGVudHMsIGluIFBFTSBmb3JtYXRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIG5ld2x5IGNvbmZpZ3VyZWQgVGxzQ29udGV4dE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZV9jbGllbnRfd2l0aF9tdGxzKGNlcnRpZmljYXRlLCBwcml2YXRlX2tleSkge1xuICAgICAgICBsZXQgb3B0ID0gbmV3IFRsc0NvbnRleHRPcHRpb25zKCk7XG4gICAgICAgIG9wdC5jZXJ0aWZpY2F0ZSA9IGNlcnRpZmljYXRlO1xuICAgICAgICBvcHQucHJpdmF0ZV9rZXkgPSBwcml2YXRlX2tleTtcbiAgICAgICAgb3B0LnZlcmlmeV9wZWVyID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG9wdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIG9wdGlvbnMgY29uZmlndXJlZCBmb3IgbXV0dWFsIFRMUyBpbiBjbGllbnQgbW9kZSxcbiAgICAgKiB3aXRoIGNsaWVudCBjZXJ0aWZpY2F0ZSBhbmQgcHJpdmF0ZSBrZXkgcHJvdmlkZWQgdmlhIGZpbGVwYXRoLlxuICAgICAqIEBwYXJhbSBjZXJ0aWZpY2F0ZV9maWxlcGF0aCAtIFBhdGggdG8gY2xpZW50IGNlcnRpZmljYXRlLCBpbiBQRU0gZm9ybWF0XG4gICAgICogQHBhcmFtIHByaXZhdGVfa2V5X2ZpbGVwYXRoIC0gUGF0aCB0byBwcml2YXRlIGtleSwgaW4gUEVNIGZvcm1hdFxuICAgICAqXG4gICAgICogQHJldHVybnMgbmV3bHkgY29uZmlndXJlZCBUbHNDb250ZXh0T3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlX2NsaWVudF93aXRoX210bHNfZnJvbV9wYXRoKGNlcnRpZmljYXRlX2ZpbGVwYXRoLCBwcml2YXRlX2tleV9maWxlcGF0aCkge1xuICAgICAgICBsZXQgb3B0ID0gbmV3IFRsc0NvbnRleHRPcHRpb25zKCk7XG4gICAgICAgIG9wdC5jZXJ0aWZpY2F0ZV9maWxlcGF0aCA9IGNlcnRpZmljYXRlX2ZpbGVwYXRoO1xuICAgICAgICBvcHQucHJpdmF0ZV9rZXlfZmlsZXBhdGggPSBwcml2YXRlX2tleV9maWxlcGF0aDtcbiAgICAgICAgb3B0LnZlcmlmeV9wZWVyID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG9wdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIG9wdGlvbnMgZm9yIG11dHVhbCBUTFMgaW4gY2xpZW50IG1vZGUsXG4gICAgICogd2l0aCBjbGllbnQgY2VydGlmaWNhdGUgYW5kIHByaXZhdGUga2V5IGJ1bmRsZWQgaW4gYSBzaW5nbGUgUEtDUyMxMiBmaWxlLlxuICAgICAqIEBwYXJhbSBwa2NzMTJfZmlsZXBhdGggLSBQYXRoIHRvIFBLQ1MjMTIgZmlsZSBjb250YWluaW5nIGNsaWVudCBjZXJ0aWZpY2F0ZSBhbmQgcHJpdmF0ZSBrZXkuXG4gICAgICogQHBhcmFtIHBrY3MxMl9wYXNzd29yZCAtIFBLQ1MjMTIgcGFzc3dvcmRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIG5ld2x5IGNvbmZpZ3VyZWQgVGxzQ29udGV4dE9wdGlvbnMgb2JqZWN0XG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlX2NsaWVudF93aXRoX210bHNfcGtjczEyX2Zyb21fcGF0aChwa2NzMTJfZmlsZXBhdGgsIHBrY3MxMl9wYXNzd29yZCkge1xuICAgICAgICBsZXQgb3B0ID0gbmV3IFRsc0NvbnRleHRPcHRpb25zKCk7XG4gICAgICAgIG9wdC5wa2NzMTJfZmlsZXBhdGggPSBwa2NzMTJfZmlsZXBhdGg7XG4gICAgICAgIG9wdC5wa2NzMTJfcGFzc3dvcmQgPSBwa2NzMTJfcGFzc3dvcmQ7XG4gICAgICAgIG9wdC52ZXJpZnlfcGVlciA9IHRydWU7XG4gICAgICAgIHJldHVybiBvcHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFJlbmFtZWQgW1tjcmVhdGVfY2xpZW50X3dpdGhfbXRsc19wa2NzMTJfZnJvbV9wYXRoXV1cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlX2NsaWVudF93aXRoX210bHNfcGtjc19mcm9tX3BhdGgocGtjczEyX2ZpbGVwYXRoLCBwa2NzMTJfcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlX2NsaWVudF93aXRoX210bHNfcGtjczEyX2Zyb21fcGF0aChwa2NzMTJfZmlsZXBhdGgsIHBrY3MxMl9wYXNzd29yZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBvcHRpb25zIGNvbmZpZ3VyZWQgZm9yIG11dHVhbCBUTFMgaW4gY2xpZW50IG1vZGUsXG4gICAgICogdXNpbmcgYSBQS0NTIzExIGxpYnJhcnkgZm9yIHByaXZhdGUga2V5IG9wZXJhdGlvbnMuXG4gICAgICpcbiAgICAgKiBOT1RFOiBUaGlzIGNvbmZpZ3VyYXRpb24gb25seSB3b3JrcyBvbiBVbml4IGRldmljZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFBLQ1MjMTEgb3B0aW9uc1xuICAgICAqXG4gICAgICogQHJldHVybnMgbmV3bHkgY29uZmlndXJlZCBUbHNDb250ZXh0T3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlX2NsaWVudF93aXRoX210bHNfcGtjczExKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG9wdCA9IG5ldyBUbHNDb250ZXh0T3B0aW9ucygpO1xuICAgICAgICBvcHQucGtjczExX29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBvcHQudmVyaWZ5X3BlZXIgPSB0cnVlO1xuICAgICAgICByZXR1cm4gb3B0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgb3B0aW9ucyBjb25maWd1cmVkIGZvciBtdXR1YWwgVExTIGluIGNsaWVudCBtb2RlLFxuICAgICAqIHVzaW5nIGEgY2VydGlmaWNhdGUgaW4gYSBXaW5kb3dzIGNlcnRpZmljYXRlIHN0b3JlLlxuICAgICAqXG4gICAgICogTk9URTogV2luZG93cyBvbmx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNlcnRpZmljYXRlX3BhdGggLSBQYXRoIHRvIGNlcnRpZmljYXRlIGluIGEgV2luZG93cyBjZXJ0aWZpY2F0ZSBzdG9yZS5cbiAgICAgKiAgICAgIFRoZSBwYXRoIG11c3QgdXNlIGJhY2tzbGFzaGVzIGFuZCBlbmQgd2l0aCB0aGUgY2VydGlmaWNhdGUncyB0aHVtYnByaW50LlxuICAgICAqICAgICAgRXhhbXBsZTogYEN1cnJlbnRVc2VyXFxNWVxcQTExRjhBOUI1REY1Qjk4QkEzNTA4RkJDQTU3NUQwOTU3MEUwRDJDNmBcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlX2NsaWVudF93aXRoX210bHNfd2luZG93c19jZXJ0X3N0b3JlX3BhdGgoY2VydGlmaWNhdGVfcGF0aCkge1xuICAgICAgICBsZXQgb3B0ID0gbmV3IFRsc0NvbnRleHRPcHRpb25zKCk7XG4gICAgICAgIG9wdC53aW5kb3dzX2NlcnRfc3RvcmVfcGF0aCA9IGNlcnRpZmljYXRlX3BhdGg7XG4gICAgICAgIG9wdC52ZXJpZnlfcGVlciA9IHRydWU7XG4gICAgICAgIHJldHVybiBvcHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgVExTIGNvbnRleHQgd2l0aCBwZWVyIHZlcmlmaWNhdGlvbiBkaXNhYmxlZCwgYWxvbmcgd2l0aCBhIGNlcnRpZmljYXRlIGFuZCBwcml2YXRlIGtleVxuICAgICAqIEBwYXJhbSBjZXJ0aWZpY2F0ZV9maWxlcGF0aCAtIFBhdGggdG8gY2VydGlmaWNhdGUsIGluIFBFTSBmb3JtYXRcbiAgICAgKiBAcGFyYW0gcHJpdmF0ZV9rZXlfZmlsZXBhdGggLSBQYXRoIHRvIHByaXZhdGUga2V5LCBpbiBQRU0gZm9ybWF0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBuZXdseSBjb25maWd1cmVkIFRsc0NvbnRleHRPcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVfc2VydmVyX3dpdGhfbXRsc19mcm9tX3BhdGgoY2VydGlmaWNhdGVfZmlsZXBhdGgsIHByaXZhdGVfa2V5X2ZpbGVwYXRoKSB7XG4gICAgICAgIGxldCBvcHQgPSBuZXcgVGxzQ29udGV4dE9wdGlvbnMoKTtcbiAgICAgICAgb3B0LmNlcnRpZmljYXRlX2ZpbGVwYXRoID0gY2VydGlmaWNhdGVfZmlsZXBhdGg7XG4gICAgICAgIG9wdC5wcml2YXRlX2tleV9maWxlcGF0aCA9IHByaXZhdGVfa2V5X2ZpbGVwYXRoO1xuICAgICAgICBvcHQudmVyaWZ5X3BlZXIgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIG9wdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBUTFMgY29udGV4dCB3aXRoIHBlZXIgdmVyaWZpY2F0aW9uIGRpc2FibGVkLCBhbG9uZyB3aXRoIGEgY2VydGlmaWNhdGUgYW5kIHByaXZhdGUga2V5XG4gICAgICogaW4gUEtDUyMxMiBmb3JtYXRcbiAgICAgKiBAcGFyYW0gcGtjczEyX2ZpbGVwYXRoIC0gUGF0aCB0byBjZXJ0aWZpY2F0ZSwgaW4gUEtDUyMxMiBmb3JtYXRcbiAgICAgKiBAcGFyYW0gcGtjczEyX3Bhc3N3b3JkIC0gUEtDUyMxMiBQYXNzd29yZFxuICAgICAqXG4gICAgICogQHJldHVybnMgbmV3bHkgY29uZmlndXJlZCBUbHNDb250ZXh0T3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlX3NlcnZlcl93aXRoX210bHNfcGtjc19mcm9tX3BhdGgocGtjczEyX2ZpbGVwYXRoLCBwa2NzMTJfcGFzc3dvcmQpIHtcbiAgICAgICAgbGV0IG9wdCA9IG5ldyBUbHNDb250ZXh0T3B0aW9ucygpO1xuICAgICAgICBvcHQucGtjczEyX2ZpbGVwYXRoID0gcGtjczEyX2ZpbGVwYXRoO1xuICAgICAgICBvcHQucGtjczEyX3Bhc3N3b3JkID0gcGtjczEyX3Bhc3N3b3JkO1xuICAgICAgICBvcHQudmVyaWZ5X3BlZXIgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIG9wdDtcbiAgICB9XG59XG5leHBvcnRzLlRsc0NvbnRleHRPcHRpb25zID0gVGxzQ29udGV4dE9wdGlvbnM7XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgVExTIGNvbnRleHQgdXNlZCBmb3IgY2xpZW50L3NlcnZlciBUTFMgY29tbXVuaWNhdGlvbnMgb3ZlciBzb2NrZXRzLlxuICpcbiAqIEBzZWUgQ2xpZW50VGxzQ29udGV4dFxuICogQHNlZSBTZXJ2ZXJUbHNDb250ZXh0XG4gKlxuICogbm9kZWpzIG9ubHkuXG4gKiBAY2F0ZWdvcnkgVExTXG4gKi9cbmNsYXNzIFRsc0NvbnRleHQgZXh0ZW5kcyBuYXRpdmVfcmVzb3VyY2VfMS5OYXRpdmVSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoY3R4X29wdCkge1xuICAgICAgICBpZiAoY3R4X29wdCA9PSBudWxsIHx8IGN0eF9vcHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihcIlRsc0NvbnRleHQgY29uc3RydWN0b3I6IGN0eF9vcHQgbm90IGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoYmluZGluZ18xLmRlZmF1bHQuaW9fdGxzX2N0eF9uZXcoY3R4X29wdC5taW5fdGxzX3ZlcnNpb24sIGN0eF9vcHQuY2FfZmlsZXBhdGgsIGN0eF9vcHQuY2FfZGlycGF0aCwgY3R4X29wdC5jZXJ0aWZpY2F0ZV9hdXRob3JpdHksIChjdHhfb3B0LmFscG5fbGlzdCAmJiBjdHhfb3B0LmFscG5fbGlzdC5sZW5ndGggPiAwKSA/IGN0eF9vcHQuYWxwbl9saXN0LmpvaW4oJzsnKSA6IHVuZGVmaW5lZCwgY3R4X29wdC5jZXJ0aWZpY2F0ZV9maWxlcGF0aCwgY3R4X29wdC5jZXJ0aWZpY2F0ZSwgY3R4X29wdC5wcml2YXRlX2tleV9maWxlcGF0aCwgY3R4X29wdC5wcml2YXRlX2tleSwgY3R4X29wdC5wa2NzMTJfZmlsZXBhdGgsIGN0eF9vcHQucGtjczEyX3Bhc3N3b3JkLCBjdHhfb3B0LnBrY3MxMV9vcHRpb25zLCBjdHhfb3B0LndpbmRvd3NfY2VydF9zdG9yZV9wYXRoLCBjdHhfb3B0LnZlcmlmeV9wZWVyKSk7XG4gICAgfVxufVxuZXhwb3J0cy5UbHNDb250ZXh0ID0gVGxzQ29udGV4dDtcbi8qKlxuICogVExTIGNvbnRleHQgdXNlZCBmb3IgY2xpZW50IFRMUyBjb21tdW5pY2F0aW9ucyBvdmVyIHNvY2tldHMuIElmIG5vXG4gKiBvcHRpb25zIGFyZSBzdXBwbGllZCwgdGhlIGNvbnRleHQgd2lsbCBkZWZhdWx0IHRvIGVuYWJsaW5nIHBlZXIgdmVyaWZpY2F0aW9uXG4gKiBvbmx5LlxuICpcbiAqIG5vZGVqcyBvbmx5LlxuICogQGNhdGVnb3J5IFRMU1xuICovXG5jbGFzcyBDbGllbnRUbHNDb250ZXh0IGV4dGVuZHMgVGxzQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoY3R4X29wdCkge1xuICAgICAgICBpZiAoIWN0eF9vcHQpIHtcbiAgICAgICAgICAgIGN0eF9vcHQgPSBuZXcgVGxzQ29udGV4dE9wdGlvbnMoKTtcbiAgICAgICAgICAgIGN0eF9vcHQudmVyaWZ5X3BlZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGN0eF9vcHQpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2xpZW50VGxzQ29udGV4dCA9IENsaWVudFRsc0NvbnRleHQ7XG4vKipcbiAqIFRMUyBjb250ZXh0IHVzZWQgZm9yIHNlcnZlciBUTFMgY29tbXVuaWNhdGlvbnMgb3ZlciBzb2NrZXRzLiBJZiBub1xuICogb3B0aW9ucyBhcmUgc3VwcGxpZWQsIHRoZSBjb250ZXh0IHdpbGwgZGVmYXVsdCB0byBkaXNhYmxpbmcgcGVlciB2ZXJpZmljYXRpb25cbiAqIG9ubHkuXG4gKlxuICogbm9kZWpzIG9ubHkuXG4gKiBAY2F0ZWdvcnkgVExTXG4gKi9cbmNsYXNzIFNlcnZlclRsc0NvbnRleHQgZXh0ZW5kcyBUbHNDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihjdHhfb3B0KSB7XG4gICAgICAgIGlmICghY3R4X29wdCkge1xuICAgICAgICAgICAgY3R4X29wdCA9IG5ldyBUbHNDb250ZXh0T3B0aW9ucygpO1xuICAgICAgICAgICAgY3R4X29wdC52ZXJpZnlfcGVlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGN0eF9vcHQpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VydmVyVGxzQ29udGV4dCA9IFNlcnZlclRsc0NvbnRleHQ7XG4vKipcbiAqIFRMUyBvcHRpb25zIHRoYXQgYXJlIHVuaXF1ZSB0byBhIGdpdmVuIGNvbm5lY3Rpb24gdXNpbmcgYSBzaGFyZWQgVGxzQ29udGV4dC5cbiAqXG4gKiBub2RlanMgb25seS5cbiAqIEBjYXRlZ29yeSBUTFNcbiAqL1xuY2xhc3MgVGxzQ29ubmVjdGlvbk9wdGlvbnMgZXh0ZW5kcyBuYXRpdmVfcmVzb3VyY2VfMS5OYXRpdmVSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IodGxzX2N0eCwgc2VydmVyX25hbWUsIGFscG5fbGlzdCA9IFtdKSB7XG4gICAgICAgIGlmICh0bHNfY3R4ID09IG51bGwgfHwgdGxzX2N0eCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKFwiVGxzQ29ubmVjdGlvbk9wdGlvbnMgY29uc3RydWN0b3I6IHRsc19jdHggbm90IGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoYmluZGluZ18xLmRlZmF1bHQuaW9fdGxzX2Nvbm5lY3Rpb25fb3B0aW9uc19uZXcodGxzX2N0eC5uYXRpdmVfaGFuZGxlKCksIHNlcnZlcl9uYW1lLCAoYWxwbl9saXN0ICYmIGFscG5fbGlzdC5sZW5ndGggPiAwKSA/IGFscG5fbGlzdC5qb2luKCc7JykgOiB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy50bHNfY3R4ID0gdGxzX2N0eDtcbiAgICAgICAgdGhpcy5zZXJ2ZXJfbmFtZSA9IHNlcnZlcl9uYW1lO1xuICAgICAgICB0aGlzLmFscG5fbGlzdCA9IGFscG5fbGlzdDtcbiAgICB9XG59XG5leHBvcnRzLlRsc0Nvbm5lY3Rpb25PcHRpb25zID0gVGxzQ29ubmVjdGlvbk9wdGlvbnM7XG4vKipcbiAqIEhhbmRsZSB0byBhIGxvYWRlZCBQS0NTIzExIGxpYnJhcnkuXG4gKlxuICogRm9yIG1vc3QgdXNlIGNhc2VzLCBhIHNpbmdsZSBpbnN0YW5jZSBvZiBQa2NzMTFMaWIgc2hvdWxkIGJlIHVzZWRcbiAqIGZvciB0aGUgbGlmZXRpbWUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBub2RlanMgb25seS5cbiAqIEBjYXRlZ29yeSBUTFNcbiAqL1xuY2xhc3MgUGtjczExTGliIGV4dGVuZHMgbmF0aXZlX3Jlc291cmNlXzEuTmF0aXZlUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gUGF0aCB0byBQS0NTIzExIGxpYnJhcnkuXG4gICAgICogQHBhcmFtIGJlaGF2aW9yIC0gU3BlY2lmaWVzIGhvdyBgQ19Jbml0aWFsaXplKClgIGFuZCBgQ19GaW5hbGl6ZSgpYFxuICAgICAqICAgICAgICAgICAgICAgICAgIHdpbGwgYmUgY2FsbGVkIG9uIHRoZSBQS0NTIzExIGxpYnJhcnkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocGF0aCwgYmVoYXZpb3IgPSBQa2NzMTFMaWIuSW5pdGlhbGl6ZUZpbmFsaXplQmVoYXZpb3IuREVGQVVMVCkge1xuICAgICAgICBzdXBlcihiaW5kaW5nXzEuZGVmYXVsdC5pb19wa2NzMTFfbGliX25ldyhwYXRoLCBiZWhhdmlvcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHRoZSBQS0NTIzExIGxpYnJhcnkgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBmb3IgdGhlIEdDLlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5pb19wa2NzMTFfbGliX2Nsb3NlKHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG59XG5leHBvcnRzLlBrY3MxMUxpYiA9IFBrY3MxMUxpYjtcbihmdW5jdGlvbiAoUGtjczExTGliKSB7XG4gICAgLyoqXG4gICAgICogQ29udHJvbHMgYENfSW5pdGlhbGl6ZSgpYCBhbmQgYENfRmluYWxpemUoKWAgYXJlIGNhbGxlZCBvbiB0aGUgUEtDUyMxMSBsaWJyYXJ5LlxuICAgICAqL1xuICAgIGxldCBJbml0aWFsaXplRmluYWxpemVCZWhhdmlvcjtcbiAgICAoZnVuY3Rpb24gKEluaXRpYWxpemVGaW5hbGl6ZUJlaGF2aW9yKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IGJlaGF2aW9yIHRoYXQgYWNjb21tb2RhdGVzIG1vc3QgdXNlIGNhc2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBgQ19Jbml0aWFsaXplKClgIGlzIGNhbGxlZCBvbiBjcmVhdGlvbiwgYW5kIFwiYWxyZWFkeS1pbml0aWFsaXplZFwiXG4gICAgICAgICAqIGVycm9ycyBhcmUgaWdub3JlZC4gYENfRmluYWxpemUoKWAgaXMgbmV2ZXIgY2FsbGVkLCBqdXN0IGluIGNhc2VcbiAgICAgICAgICogYW5vdGhlciBwYXJ0IG9mIHlvdXIgYXBwbGljYXRpb24gaXMgc3RpbGwgdXNpbmcgdGhlIFBLQ1MjMTEgbGlicmFyeS5cbiAgICAgICAgICovXG4gICAgICAgIEluaXRpYWxpemVGaW5hbGl6ZUJlaGF2aW9yW0luaXRpYWxpemVGaW5hbGl6ZUJlaGF2aW9yW1wiREVGQVVMVFwiXSA9IDBdID0gXCJERUZBVUxUXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTa2lwIGNhbGxpbmcgYENfSW5pdGlhbGl6ZSgpYCBhbmQgYENfRmluYWxpemUoKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIFVzZSB0aGlzIGlmIHlvdXIgYXBwbGljYXRpb24gaGFzIGFscmVhZHkgaW5pdGlhbGl6ZWQgdGhlIFBLQ1MjMTEgbGlicmFyeSxcbiAgICAgICAgICogYW5kIHlvdSBkbyBub3Qgd2FudCBgQ19Jbml0aWFsaXplKClgIGNhbGxlZCBhZ2Fpbi5cbiAgICAgICAgICovXG4gICAgICAgIEluaXRpYWxpemVGaW5hbGl6ZUJlaGF2aW9yW0luaXRpYWxpemVGaW5hbGl6ZUJlaGF2aW9yW1wiT01JVFwiXSA9IDFdID0gXCJPTUlUXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgQ19Jbml0aWFsaXplKClgIGlzIGNhbGxlZCBvbiBjcmVhdGlvbiBhbmQgYENfRmluYWxpemUoKWAgaXMgY2FsbGVkIG9uIGNsZWFudXAuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIGBDX0luaXRpYWxpemUoKWAgcmVwb3J0cyB0aGF0J3MgaXQncyBhbHJlYWR5IGluaXRpYWxpemVkLCB0aGlzIGlzXG4gICAgICAgICAqIHRyZWF0ZWQgYXMgYW4gZXJyb3IuIFVzZSB0aGlzIGlmIHlvdSBuZWVkIHBlcmZlY3QgY2xlYW51cCAoZXg6IHJ1bm5pbmdcbiAgICAgICAgICogdmFsZ3JpbmQgd2l0aCAtLWxlYWstY2hlY2spLlxuICAgICAgICAgKi9cbiAgICAgICAgSW5pdGlhbGl6ZUZpbmFsaXplQmVoYXZpb3JbSW5pdGlhbGl6ZUZpbmFsaXplQmVoYXZpb3JbXCJTVFJJQ1RcIl0gPSAyXSA9IFwiU1RSSUNUXCI7XG4gICAgfSkoSW5pdGlhbGl6ZUZpbmFsaXplQmVoYXZpb3IgPSBQa2NzMTFMaWIuSW5pdGlhbGl6ZUZpbmFsaXplQmVoYXZpb3IgfHwgKFBrY3MxMUxpYi5Jbml0aWFsaXplRmluYWxpemVCZWhhdmlvciA9IHt9KSk7XG59KShQa2NzMTFMaWIgPSBleHBvcnRzLlBrY3MxMUxpYiB8fCAoZXhwb3J0cy5Qa2NzMTFMaWIgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW8uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMC5cbiAqL1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIE1vZHVsZSBmb3IgQVdTIElvVCBNUVRUIGNsaWVudCBjb25maWd1cmF0aW9uIGFuZCBjb25uZWN0aW9uIGVzdGFibGlzaG1lbnQuXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKiBAbW9kdWxlIGlvdFxuICogQG1lcmdlVGFyZ2V0XG4gKi9cbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9hd3NfaW90XCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9hd3NfaW90X21xdHQ1XCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlvdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5NcXR0Q2xpZW50Q29ubmVjdGlvbiA9IGV4cG9ydHMuTXF0dENsaWVudCA9IGV4cG9ydHMuTXF0dFdpbGwgPSBleHBvcnRzLlFvUyA9IGV4cG9ydHMuSHR0cFByb3h5T3B0aW9ucyA9IHZvaWQgMDtcbi8qKlxuICpcbiAqIEEgbW9kdWxlIGNvbnRhaW5pbmcgc3VwcG9ydCBmb3IgbXF0dCBjb25uZWN0aW9uIGVzdGFibGlzaG1lbnQgYW5kIG9wZXJhdGlvbnMuXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKiBAbW9kdWxlIG1xdHRcbiAqIEBtZXJnZVRhcmdldFxuICovXG5jb25zdCBiaW5kaW5nXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYmluZGluZ1wiKSk7XG5jb25zdCBuYXRpdmVfcmVzb3VyY2VfMSA9IHJlcXVpcmUoXCIuL25hdGl2ZV9yZXNvdXJjZVwiKTtcbmNvbnN0IGV2ZW50XzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2V2ZW50XCIpO1xuY29uc3QgY3J0ID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuLi9jb21tb24vbXF0dF9zaGFyZWRcIikpO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuY29uc3QgaW8gPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcIi4vaW9cIikpO1xudmFyIGh0dHBfMSA9IHJlcXVpcmUoXCIuL2h0dHBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJIdHRwUHJveHlPcHRpb25zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBodHRwXzEuSHR0cFByb3h5T3B0aW9uczsgfSB9KTtcbmNvbnN0IG1xdHRfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vbXF0dFwiKTtcbnZhciBtcXR0XzIgPSByZXF1aXJlKFwiLi4vY29tbW9uL21xdHRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJRb1NcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1xdHRfMi5Rb1M7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNcXR0V2lsbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbXF0dF8yLk1xdHRXaWxsOyB9IH0pO1xuLyoqXG4gKiBNUVRUIGNsaWVudFxuICpcbiAqIEBjYXRlZ29yeSBNUVRUXG4gKi9cbmNsYXNzIE1xdHRDbGllbnQgZXh0ZW5kcyBuYXRpdmVfcmVzb3VyY2VfMS5OYXRpdmVSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGJvb3RzdHJhcCBUaGUge0BsaW5rIENsaWVudEJvb3RzdHJhcH0gdG8gdXNlIGZvciBzb2NrZXQgY29ubmVjdGlvbnMuICBMZWF2ZSB1bmRlZmluZWQgdG8gdXNlIHRoZVxuICAgICAqICAgICAgICAgIGRlZmF1bHQgc3lzdGVtLXdpZGUgYm9vdHN0cmFwIChyZWNvbW1lbmRlZCkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYm9vdHN0cmFwID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN1cGVyKGJpbmRpbmdfMS5kZWZhdWx0Lm1xdHRfY2xpZW50X25ldyhib290c3RyYXAgIT0gbnVsbCA/IGJvb3RzdHJhcC5uYXRpdmVfaGFuZGxlKCkgOiBudWxsKSk7XG4gICAgICAgIHRoaXMuYm9vdHN0cmFwID0gYm9vdHN0cmFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHtAbGluayBNcXR0Q2xpZW50Q29ubmVjdGlvbn1cbiAgICAgKiBAcGFyYW0gY29uZmlnIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBtcXR0IGNvbm5lY3Rpb25cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBjb25uZWN0aW9uXG4gICAgICovXG4gICAgbmV3X2Nvbm5lY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXF0dENsaWVudENvbm5lY3Rpb24odGhpcywgY29uZmlnKTtcbiAgICB9XG59XG5leHBvcnRzLk1xdHRDbGllbnQgPSBNcXR0Q2xpZW50O1xuO1xuLyoqXG4gKiBNUVRUIGNsaWVudCBjb25uZWN0aW9uXG4gKlxuICogQGNhdGVnb3J5IE1RVFRcbiAqL1xuY2xhc3MgTXF0dENsaWVudENvbm5lY3Rpb24gZXh0ZW5kcyAoMCwgbmF0aXZlX3Jlc291cmNlXzEuTmF0aXZlUmVzb3VyY2VNaXhpbikoZXZlbnRfMS5CdWZmZXJlZEV2ZW50RW1pdHRlcikge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjbGllbnQgVGhlIGNsaWVudCB0aGF0IG93bnMgdGhpcyBjb25uZWN0aW9uXG4gICAgICogQHBhcmFtIGNvbmZpZyBUaGUgY29uZmlndXJhdGlvbiBmb3IgdGhpcyBjb25uZWN0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2xpZW50LCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICBpZiAoY29uZmlnID09IG51bGwgfHwgY29uZmlnID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yXzEuQ3J0RXJyb3IoXCJNcXR0Q2xpZW50Q29ubmVjdGlvbiBjb25zdHJ1Y3RvcjogY29uZmlnIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgd2lsbCwgZW5zdXJlIHRoYXQgaXRzIHBheWxvYWQgaXMgbm9ybWFsaXplZCB0byBhIERhdGFWaWV3XG4gICAgICAgIGNvbnN0IHdpbGwgPSBjb25maWcud2lsbCA/XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9waWM6IGNvbmZpZy53aWxsLnRvcGljLFxuICAgICAgICAgICAgICAgIHFvczogY29uZmlnLndpbGwucW9zLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IGNydC5ub3JtYWxpemVfcGF5bG9hZChjb25maWcud2lsbC5wYXlsb2FkKSxcbiAgICAgICAgICAgICAgICByZXRhaW46IGNvbmZpZy53aWxsLnJldGFpblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIC8qKiBjbGFtcCByZWNvbm5lY3Rpb24gdGltZSBvdXQgdmFsdWVzICovXG4gICAgICAgIHZhciBtaW5fc2VjID0gbXF0dF8xLkRFRkFVTFRfUkVDT05ORUNUX01JTl9TRUM7XG4gICAgICAgIHZhciBtYXhfc2VjID0gbXF0dF8xLkRFRkFVTFRfUkVDT05ORUNUX01BWF9TRUM7XG4gICAgICAgIGlmIChjb25maWcucmVjb25uZWN0X21pbl9zZWMpIHtcbiAgICAgICAgICAgIG1pbl9zZWMgPSBjb25maWcucmVjb25uZWN0X21pbl9zZWM7XG4gICAgICAgICAgICAvLyBjbGFtcCBtYXgsIGluIGNhc2UgdGhleSBvbmx5IHBhc3NlZCBpbiBtaW5cbiAgICAgICAgICAgIG1heF9zZWMgPSBNYXRoLm1heChtaW5fc2VjLCBtYXhfc2VjKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnJlY29ubmVjdF9tYXhfc2VjKSB7XG4gICAgICAgICAgICBtYXhfc2VjID0gY29uZmlnLnJlY29ubmVjdF9tYXhfc2VjO1xuICAgICAgICAgICAgLy8gY2xhbXAgbWluLCBpbiBjYXNlIHRoZXkgb25seSBwYXNzZWQgaW4gbWF4IChvciBwYXNzZWQgaW4gbWluID4gbWF4KVxuICAgICAgICAgICAgbWluX3NlYyA9IE1hdGgubWluKG1pbl9zZWMsIG1heF9zZWMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGllbnQgPT0gdW5kZWZpbmVkIHx8IGNsaWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5DcnRFcnJvcihcIk1xdHRDbGllbnRDb25uZWN0aW9uIGNvbnN0cnVjdG9yOiBjbGllbnQgbm90IGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5zb2NrZXRfb3B0aW9ucyA9PSB1bmRlZmluZWQgfHwgY29uZmlnLnNvY2tldF9vcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKFwiTXF0dENsaWVudENvbm5lY3Rpb24gY29uc3RydWN0b3I6IHNvY2tldF9vcHRpb25zIGluIGNvbmZpZ3VyYXRpb24gbm90IGRlZmluZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIoYmluZGluZ18xLmRlZmF1bHQubXF0dF9jbGllbnRfY29ubmVjdGlvbl9uZXcoY2xpZW50Lm5hdGl2ZV9oYW5kbGUoKSwgKGVycm9yX2NvZGUpID0+IHsgdGhpcy5fb25fY29ubmVjdGlvbl9pbnRlcnJ1cHRlZChlcnJvcl9jb2RlKTsgfSwgKHJldHVybl9jb2RlLCBzZXNzaW9uX3ByZXNlbnQpID0+IHsgdGhpcy5fb25fY29ubmVjdGlvbl9yZXN1bWVkKHJldHVybl9jb2RlLCBzZXNzaW9uX3ByZXNlbnQpOyB9LCBjb25maWcudGxzX2N0eCA/IGNvbmZpZy50bHNfY3R4Lm5hdGl2ZV9oYW5kbGUoKSA6IG51bGwsIHdpbGwsIGNvbmZpZy51c2VybmFtZSwgY29uZmlnLnBhc3N3b3JkLCBjb25maWcudXNlX3dlYnNvY2tldCwgY29uZmlnLnByb3h5X29wdGlvbnMgPyBjb25maWcucHJveHlfb3B0aW9ucy5jcmVhdGVfbmF0aXZlX2hhbmRsZSgpIDogdW5kZWZpbmVkLCBjb25maWcud2Vic29ja2V0X2hhbmRzaGFrZV90cmFuc2Zvcm0sIG1pbl9zZWMsIG1heF9zZWMpKTtcbiAgICAgICAgdGhpcy50bHNfY3R4ID0gY29uZmlnLnRsc19jdHg7XG4gICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0Lm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fb25fbWVzc2FnZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgdGhpcy5fb25fYW55X3B1Ymxpc2guYmluZCh0aGlzKSk7XG4gICAgICAgIC8qXG4gICAgICAgICAqIEZhaWxlZCBtcXR0IG9wZXJhdGlvbnMgKHdoaWNoIGlzIG5vcm1hbCkgZW1pdCBlcnJvciBldmVudHMgYXMgd2VsbCBhcyByZWplY3RpbmcgdGhlIG9yaWdpbmFsIHByb21pc2UuXG4gICAgICAgICAqIEJ5IGluc3RhbGxpbmcgYSBkZWZhdWx0IGVycm9yIGhhbmRsZXIgaGVyZSB3ZSBoZWxwIHByZXZlbnQgY29tbW9uIGlzc3VlcyB3aGVyZSBvcGVyYXRpb24gZmFpbHVyZXMgYnJpbmdcbiAgICAgICAgICogdGhlIHdob2xlIHByb2dyYW0gdG8gYW4gZW5kIGJlY2F1c2UgYSBoYW5kbGVyIHdhc24ndCBpbnN0YWxsZWQuICBQcm9ncmFtcyB0aGF0IGluc3RhbGwgdGhlaXIgb3duIGhhbmRsZXJcbiAgICAgICAgICogd2lsbCBiZSB1bmFmZmVjdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbignZXJyb3InLCAoZXJyb3IpID0+IHsgfSk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5tcXR0X2NsaWVudF9jb25uZWN0aW9uX2Nsb3NlKHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG4gICAgLy8gT3ZlcnJpZGRlbiB0byBhbGxvdyB1bmNvcmtpbmcgb24gcmVhZHlcbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgc3VwZXIub24oZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKGV2ZW50ID09ICdjb25uZWN0Jykge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmNvcmsoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcGVuIHRoZSBhY3R1YWwgY29ubmVjdGlvbiB0byB0aGUgc2VydmVyIChhc3luYykuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHdoaWNoIGNvbXBsZXRlcyB3aGV0aGVyIHRoZSBjb25uZWN0aW9uIHN1Y2NlZWRzIG9yIGZhaWxzLlxuICAgICAqICAgICAgICAgIElmIGNvbm5lY3Rpb24gZmFpbHMsIHRoZSBQcm9taXNlIHdpbGwgcmVqZWN0IHdpdGggYW4gZXhjZXB0aW9uLlxuICAgICAqICAgICAgICAgIElmIGNvbm5lY3Rpb24gc3VjY2VlZHMsIHRoZSBQcm9taXNlIHdpbGwgcmV0dXJuIGEgYm9vbGVhbiB0aGF0IGlzXG4gICAgICogICAgICAgICAgdHJ1ZSBmb3IgcmVzdW1pbmcgYW4gZXhpc3Rpbmcgc2Vzc2lvbiwgb3IgZmFsc2UgaWYgdGhlIHNlc3Npb24gaXMgbmV3XG4gICAgICovXG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0ID0gdGhpcy5fcmVqZWN0KHJlamVjdCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnNvY2tldF9vcHRpb25zID09IG51bGwgfHwgdGhpcy5jb25maWcuc29ja2V0X29wdGlvbnMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLkNydEVycm9yKFwiTXF0dENsaWVudENvbm5lY3Rpb24gY29ubmVjdDogc29ja2V0X29wdGlvbnMgaW4gY29uZmlndXJhdGlvbiBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dF9jbGllbnRfY29ubmVjdGlvbl9jb25uZWN0KHRoaXMubmF0aXZlX2hhbmRsZSgpLCB0aGlzLmNvbmZpZy5jbGllbnRfaWQsIHRoaXMuY29uZmlnLmhvc3RfbmFtZSwgdGhpcy5jb25maWcucG9ydCwgdGhpcy5jb25maWcuc29ja2V0X29wdGlvbnMubmF0aXZlX2hhbmRsZSgpLCB0aGlzLmNvbmZpZy5rZWVwX2FsaXZlLCB0aGlzLmNvbmZpZy5waW5nX3RpbWVvdXQsIHRoaXMuY29uZmlnLnByb3RvY29sX29wZXJhdGlvbl90aW1lb3V0LCB0aGlzLmNvbmZpZy5jbGVhbl9zZXNzaW9uLCB0aGlzLl9vbl9jb25uZWN0X2NhbGxiYWNrLmJpbmQodGhpcywgcmVzb2x2ZSwgcmVqZWN0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjb25uZWN0aW9uIHdpbGwgYXV0b21hdGljYWxseSByZWNvbm5lY3Qgd2hlbiBkaXNjb25uZWN0ZWQsIHJlbW92aW5nIHRoZSBuZWVkIGZvciB0aGlzIGZ1bmN0aW9uLlxuICAgICAqIFRvIGNlYXNlIGF1dG9tYXRpYyByZWNvbm5lY3Rpb24gYXR0ZW1wdHMsIGNhbGwge0BsaW5rIGRpc2Nvbm5lY3R9LlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgcmVjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QgPSB0aGlzLl9yZWplY3QocmVqZWN0KTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5tcXR0X2NsaWVudF9jb25uZWN0aW9uX3JlY29ubmVjdCh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgdGhpcy5fb25fY29ubmVjdF9jYWxsYmFjay5iaW5kKHRoaXMsIHJlc29sdmUsIHJlamVjdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoIG1lc3NhZ2UgKGFzeW5jKS5cbiAgICAgKiBJZiB0aGUgZGV2aWNlIGlzIG9mZmxpbmUsIHRoZSBQVUJMSVNIIHBhY2tldCB3aWxsIGJlIHNlbnQgb25jZSB0aGUgY29ubmVjdGlvbiByZXN1bWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRvcGljIFRvcGljIG5hbWVcbiAgICAgKiBAcGFyYW0gcGF5bG9hZCBDb250ZW50cyBvZiBtZXNzYWdlXG4gICAgICogQHBhcmFtIHFvcyBRdWFsaXR5IG9mIFNlcnZpY2UgZm9yIGRlbGl2ZXJpbmcgdGhpcyBtZXNzYWdlXG4gICAgICogQHBhcmFtIHJldGFpbiBJZiB0cnVlLCB0aGUgc2VydmVyIHdpbGwgc3RvcmUgdGhlIG1lc3NhZ2UgYW5kIGl0cyBRb1Mgc28gdGhhdCBpdCBjYW4gYmVcbiAgICAgKiAgICAgICAgICAgICAgIGRlbGl2ZXJlZCB0byBmdXR1cmUgc3Vic2NyaWJlcnMgd2hvc2Ugc3Vic2NyaXB0aW9ucyBtYXRjaCB0aGUgdG9waWMgbmFtZVxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugd2hpY2ggcmV0dXJucyBhIHtAbGluayBNcXR0UmVxdWVzdH0gd2hpY2ggd2lsbCBjb250YWluIHRoZSBwYWNrZXQgaWQgb2ZcbiAgICAgKiAgICAgICAgICB0aGUgUFVCTElTSCBwYWNrZXQuXG4gICAgICpcbiAgICAgKiAqIEZvciBRb1MgMCwgY29tcGxldGVzIGFzIHNvb24gYXMgdGhlIHBhY2tldCBpcyBzZW50LlxuICAgICAqICogRm9yIFFvUyAxLCBjb21wbGV0ZXMgd2hlbiBQVUJBQ0sgaXMgcmVjZWl2ZWQuXG4gICAgICogKiBGb3IgUW9TIDIsIGNvbXBsZXRlcyB3aGVuIFBVQkNPTVAgaXMgcmVjZWl2ZWQuXG4gICAgICovXG4gICAgcHVibGlzaCh0b3BpYywgcGF5bG9hZCwgcW9zLCByZXRhaW4gPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgLy8gU2tpcCBwYXlsb2FkIHNpbmNlIGl0IGNhbiBiZSBzZXZlcmFsIGRpZmZlcmVudCB0eXBlc1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAodG9waWMpICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcInRvcGljIGlzIG5vdCBhIHN0cmluZ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHFvcykgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwicW9zIGlzIG5vdCBhIG51bWJlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHJldGFpbikgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcInJldGFpbiBpcyBub3QgYSBib29sZWFuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QgPSB0aGlzLl9yZWplY3QocmVqZWN0KTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5tcXR0X2NsaWVudF9jb25uZWN0aW9uX3B1Ymxpc2godGhpcy5uYXRpdmVfaGFuZGxlKCksIHRvcGljLCBjcnQubm9ybWFsaXplX3BheWxvYWQocGF5bG9hZCksIHFvcywgcmV0YWluLCB0aGlzLl9vbl9wdWJhY2tfY2FsbGJhY2suYmluZCh0aGlzLCByZXNvbHZlLCByZWplY3QpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRvIGEgdG9waWMgZmlsdGVyIChhc3luYykuXG4gICAgICogVGhlIGNsaWVudCBzZW5kcyBhIFNVQlNDUklCRSBwYWNrZXQgYW5kIHRoZSBzZXJ2ZXIgcmVzcG9uZHMgd2l0aCBhIFNVQkFDSy5cbiAgICAgKlxuICAgICAqIHN1YnNjcmliZSgpIG1heSBiZSBjYWxsZWQgd2hpbGUgdGhlIGRldmljZSBpcyBvZmZsaW5lLCB0aG91Z2ggdGhlIGFzeW5jXG4gICAgICogb3BlcmF0aW9uIGNhbm5vdCBjb21wbGV0ZSBzdWNjZXNzZnVsbHkgdW50aWwgdGhlIGNvbm5lY3Rpb24gcmVzdW1lcy5cbiAgICAgKlxuICAgICAqIE9uY2Ugc3Vic2NyaWJlZCwgYGNhbGxiYWNrYCBpcyBpbnZva2VkIGVhY2ggdGltZSBhIG1lc3NhZ2UgbWF0Y2hpbmdcbiAgICAgKiB0aGUgYHRvcGljYCBpcyByZWNlaXZlZC4gSXQgaXMgcG9zc2libGUgZm9yIHN1Y2ggbWVzc2FnZXMgdG8gYXJyaXZlIGJlZm9yZVxuICAgICAqIHRoZSBTVUJBQ0sgaXMgcmVjZWl2ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG9waWMgU3Vic2NyaWJlIHRvIHRoaXMgdG9waWMgZmlsdGVyLCB3aGljaCBtYXkgaW5jbHVkZSB3aWxkY2FyZHNcbiAgICAgKiBAcGFyYW0gcW9zIE1heGltdW0gcmVxdWVzdGVkIFFvUyB0aGF0IHNlcnZlciBtYXkgdXNlIHdoZW4gc2VuZGluZyBtZXNzYWdlcyB0byB0aGUgY2xpZW50LlxuICAgICAqICAgICAgICAgICAgVGhlIHNlcnZlciBtYXkgZ3JhbnQgYSBsb3dlciBRb1MgaW4gdGhlIFNVQkFDS1xuICAgICAqIEBwYXJhbSBvbl9tZXNzYWdlIE9wdGlvbmFsIGNhbGxiYWNrIGludm9rZWQgd2hlbiBtZXNzYWdlIHJlY2VpdmVkLlxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugd2hpY2ggcmV0dXJucyBhIHtAbGluayBNcXR0U3Vic2NyaWJlUmVxdWVzdH0gd2hpY2ggd2lsbCBjb250YWluIHRoZVxuICAgICAqICAgICAgICAgIHJlc3VsdCBvZiB0aGUgU1VCU0NSSUJFLiBUaGUgUHJvbWlzZSByZXNvbHZlcyB3aGVuIGEgU1VCQUNLIGlzIHJldHVybmVkXG4gICAgICogICAgICAgICAgZnJvbSB0aGUgc2VydmVyIG9yIGlzIHJlamVjdGVkIHdoZW4gYW4gZXhjZXB0aW9uIG9jY3Vycy5cbiAgICAgKi9cbiAgICBzdWJzY3JpYmUodG9waWMsIHFvcywgb25fbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAodG9waWMpICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcInRvcGljIGlzIG5vdCBhIHN0cmluZ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHFvcykgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwicW9zIGlzIG5vdCBhIG51bWJlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0ID0gdGhpcy5fcmVqZWN0KHJlamVjdCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dF9jbGllbnRfY29ubmVjdGlvbl9zdWJzY3JpYmUodGhpcy5uYXRpdmVfaGFuZGxlKCksIHRvcGljLCBxb3MsIG9uX21lc3NhZ2UsIHRoaXMuX29uX3N1YmFja19jYWxsYmFjay5iaW5kKHRoaXMsIHJlc29sdmUsIHJlamVjdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnN1YnNjcmliZSBmcm9tIGEgdG9waWMgZmlsdGVyIChhc3luYykuXG4gICAgICogVGhlIGNsaWVudCBzZW5kcyBhbiBVTlNVQlNDUklCRSBwYWNrZXQsIGFuZCB0aGUgc2VydmVyIHJlc3BvbmRzIHdpdGggYW4gVU5TVUJBQ0suXG4gICAgICogQHBhcmFtIHRvcGljIFRoZSB0b3BpYyBmaWx0ZXIgdG8gdW5zdWJzY3JpYmUgZnJvbS4gTWF5IGNvbnRhaW4gd2lsZGNhcmRzLlxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugd2loY2ggcmV0dXJucyBhIHtAbGluayBNcXR0UmVxdWVzdH0gd2hpY2ggd2lsbCBjb250YWluIHRoZSBwYWNrZXQgaWRcbiAgICAgKiAgICAgICAgICBvZiB0aGUgVU5TVUJTQ1JJQkUgcGFja2V0IGJlaW5nIGFja25vd2xlZGdlZC4gUHJvbWlzZSBpcyByZXNvbHZlZCB3aGVuIGFuXG4gICAgICogICAgICAgICAgVU5TVUJBQ0sgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyIG9yIGlzIHJlamVjdGVkIHdoZW4gYW4gZXhjZXB0aW9uIG9jY3Vycy5cbiAgICAgKi9cbiAgICB1bnN1YnNjcmliZSh0b3BpYykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAodG9waWMpICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcInRvcGljIGlzIG5vdCBhIHN0cmluZ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0ID0gdGhpcy5fcmVqZWN0KHJlamVjdCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dF9jbGllbnRfY29ubmVjdGlvbl91bnN1YnNjcmliZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgdG9waWMsIHRoaXMuX29uX3Vuc3ViYWNrX2NhbGxiYWNrLmJpbmQodGhpcywgcmVzb2x2ZSwgcmVqZWN0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSBjb25uZWN0aW9uIChhc3luYykuXG4gICAgICpcbiAgICAgKiBXaWxsIGZyZWUgYWxsIG5hdGl2ZSByZXNvdXJjZXMsIHJlbmRlcmluZyB0aGUgY29ubmVjdGlvbiB1bnVzYWJsZSBhZnRlciB0aGUgZGlzY29ubmVjdCgpIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIHdoaWNoIGNvbXBsZXRlcyB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZC5cbiAgICAqL1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCA9IHRoaXMuX3JlamVjdChyZWplY3QpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdfMS5kZWZhdWx0Lm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fZGlzY29ubmVjdCh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgdGhpcy5fb25fZGlzY29ubmVjdF9jYWxsYmFjay5iaW5kKHRoaXMsIHJlc29sdmUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUXVlcmllcyBhIHNtYWxsIHNldCBvZiBudW1lcmljYWwgc3RhdGlzdGljcyBhYm91dCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY29ubmVjdGlvbidzIG9wZXJhdGlvbiBxdWV1ZVxuICAgICAqXG4gICAgICogQGdyb3VwIE5vZGUtb25seVxuICAgICAqL1xuICAgIGdldFF1ZXVlU3RhdGlzdGljcygpIHtcbiAgICAgICAgcmV0dXJuIGJpbmRpbmdfMS5kZWZhdWx0Lm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fZ2V0X3F1ZXVlX3N0YXRpc3RpY3ModGhpcy5uYXRpdmVfaGFuZGxlKCkpO1xuICAgIH1cbiAgICAvLyBXcmFwIGEgcHJvbWlzZSByZWplY3Rpb24gd2l0aCBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBhbHNvIGVtaXQgdGhlIGVycm9yIGFzIGFuIGV2ZW50XG4gICAgX3JlamVjdChyZWplY3QpIHtcbiAgICAgICAgcmV0dXJuIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBlcnJvcl8xLkNydEVycm9yKHJlYXNvbikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIF9vbl9jb25uZWN0aW9uX2ludGVycnVwdGVkKGVycm9yX2NvZGUpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdpbnRlcnJ1cHQnLCBuZXcgZXJyb3JfMS5DcnRFcnJvcihlcnJvcl9jb2RlKSk7XG4gICAgfVxuICAgIF9vbl9jb25uZWN0aW9uX3Jlc3VtZWQocmV0dXJuX2NvZGUsIHNlc3Npb25fcHJlc2VudCkge1xuICAgICAgICB0aGlzLmVtaXQoJ3Jlc3VtZScsIHJldHVybl9jb2RlLCBzZXNzaW9uX3ByZXNlbnQpO1xuICAgIH1cbiAgICBfb25fYW55X3B1Ymxpc2godG9waWMsIHBheWxvYWQsIGR1cCwgcW9zLCByZXRhaW4pIHtcbiAgICAgICAgdGhpcy5lbWl0KCdtZXNzYWdlJywgdG9waWMsIHBheWxvYWQsIGR1cCwgcW9zLCByZXRhaW4pO1xuICAgIH1cbiAgICBfb25fY29ubmVjdF9jYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIGVycm9yX2NvZGUsIHJldHVybl9jb2RlLCBzZXNzaW9uX3ByZXNlbnQpIHtcbiAgICAgICAgaWYgKGVycm9yX2NvZGUgPT0gMCAmJiByZXR1cm5fY29kZSA9PSAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHNlc3Npb25fcHJlc2VudCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3QnLCBzZXNzaW9uX3ByZXNlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVycm9yX2NvZGUgIT0gMCkge1xuICAgICAgICAgICAgcmVqZWN0KFwiRmFpbGVkIHRvIGNvbm5lY3Q6IFwiICsgaW8uZXJyb3JfY29kZV90b19zdHJpbmcoZXJyb3JfY29kZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KFwiU2VydmVyIHJlamVjdGVkIGNvbm5lY3Rpb24uXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9vbl9wdWJhY2tfY2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBwYWNrZXRfaWQsIGVycm9yX2NvZGUpIHtcbiAgICAgICAgaWYgKGVycm9yX2NvZGUgPT0gMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh7IHBhY2tldF9pZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChcIkZhaWxlZCB0byBwdWJsaXNoOiBcIiArIGlvLmVycm9yX2NvZGVfdG9fc3RyaW5nKGVycm9yX2NvZGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfb25fc3ViYWNrX2NhbGxiYWNrKHJlc29sdmUsIHJlamVjdCwgcGFja2V0X2lkLCB0b3BpYywgcW9zLCBlcnJvcl9jb2RlKSB7XG4gICAgICAgIGlmIChlcnJvcl9jb2RlID09IDApIHtcbiAgICAgICAgICAgIHJlc29sdmUoeyBwYWNrZXRfaWQsIHRvcGljLCBxb3MsIGVycm9yX2NvZGUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoXCJGYWlsZWQgdG8gc3Vic2NyaWJlOiBcIiArIGlvLmVycm9yX2NvZGVfdG9fc3RyaW5nKGVycm9yX2NvZGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfb25fdW5zdWJhY2tfY2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBwYWNrZXRfaWQsIGVycm9yX2NvZGUpIHtcbiAgICAgICAgaWYgKGVycm9yX2NvZGUgPT0gMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh7IHBhY2tldF9pZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChcIkZhaWxlZCB0byB1bnN1YnNjcmliZTogXCIgKyBpby5lcnJvcl9jb2RlX3RvX3N0cmluZyhlcnJvcl9jb2RlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX29uX2Rpc2Nvbm5lY3RfY2FsbGJhY2socmVzb2x2ZSkge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdCcpO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxufVxuZXhwb3J0cy5NcXR0Q2xpZW50Q29ubmVjdGlvbiA9IE1xdHRDbGllbnRDb25uZWN0aW9uO1xuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bGx5IGVzdGFibGlzaGVzIGl0c2VsZiBmb3IgdGhlIGZpcnN0IHRpbWVcbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dENsaWVudENvbm5lY3Rpb24uQ09OTkVDVCA9ICdjb25uZWN0Jztcbi8qKlxuICogRW1pdHRlZCB3aGVuIGNvbm5lY3Rpb24gaGFzIGRpc2Nvbm5lY3RlZCBzdWNjZXNzZnVsbHkuXG4gKlxuICogQGV2ZW50XG4gKi9cbk1xdHRDbGllbnRDb25uZWN0aW9uLkRJU0NPTk5FQ1QgPSAnZGlzY29ubmVjdCc7XG4vKipcbiAqIEVtaXR0ZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuICBUaGUgZXJyb3Igd2lsbCBjb250YWluIHRoZSBlcnJvclxuICogY29kZSBhbmQgbWVzc2FnZS5cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dENsaWVudENvbm5lY3Rpb24uRVJST1IgPSAnZXJyb3InO1xuLyoqXG4gKiBFbWl0dGVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgZHJvcHBlZCB1bmV4cGVjdGVkbHkuIFRoZSBlcnJvciB3aWxsIGNvbnRhaW4gdGhlIGVycm9yXG4gKiBjb2RlIGFuZCBtZXNzYWdlLiAgVGhlIHVuZGVybHlpbmcgbXF0dCBpbXBsZW1lbnRhdGlvbiB3aWxsIGF0dGVtcHQgdG8gcmVjb25uZWN0LlxuICpcbiAqIEBldmVudFxuICovXG5NcXR0Q2xpZW50Q29ubmVjdGlvbi5JTlRFUlJVUFQgPSAnaW50ZXJydXB0Jztcbi8qKlxuICogRW1pdHRlZCB3aGVuIHRoZSBjb25uZWN0aW9uIHJlY29ubmVjdHMgKGFmdGVyIGFuIGludGVycnVwdCkuIE9ubHkgdHJpZ2dlcnMgb24gY29ubmVjdGlvbnMgYWZ0ZXIgdGhlIGluaXRpYWwgb25lLlxuICpcbiAqIEBldmVudFxuICovXG5NcXR0Q2xpZW50Q29ubmVjdGlvbi5SRVNVTUUgPSAncmVzdW1lJztcbi8qKlxuICogRW1pdHRlZCB3aGVuIGFueSBNUVRUIHB1Ymxpc2ggbWVzc2FnZSBhcnJpdmVzLlxuICpcbiAqIEBldmVudFxuICovXG5NcXR0Q2xpZW50Q29ubmVjdGlvbi5NRVNTQUdFID0gJ21lc3NhZ2UnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXF0dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgQW1hem9uLmNvbSwgSW5jLiBvciBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wLlxuICovXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTXF0dDVDbGllbnQgPSBleHBvcnRzLkNsaWVudEV4dGVuZGVkVmFsaWRhdGlvbkFuZEZsb3dDb250cm9sID0gZXhwb3J0cy5DbGllbnRPcGVyYXRpb25RdWV1ZUJlaGF2aW9yID0gZXhwb3J0cy5IdHRwUHJveHlPcHRpb25zID0gdm9pZCAwO1xuLyoqXG4gKiBOb2RlLmpzIHNwZWNpZmljIE1RVFQ1IGNsaWVudCBpbXBsZW1lbnRhdGlvblxuICpcbiAqIERFVkVMT1BFUiBQUkVWSUVXIERJU0NMQUlNRVJcbiAqXG4gKiBNUVRUNSBzdXBwb3J0IGlzIGN1cnJlbnRseSBpbiAqKmRldmVsb3BlciBwcmV2aWV3KiouICBXZSBlbmNvdXJhZ2UgZmVlZGJhY2sgYXQgYWxsIHRpbWVzLCBidXQgZmVlZGJhY2sgZHVyaW5nIHRoZVxuICogcHJldmlldyB3aW5kb3cgaXMgZXNwZWNpYWxseSB2YWx1YWJsZSBpbiBzaGFwaW5nIHRoZSBmaW5hbCBwcm9kdWN0LiAgRHVyaW5nIHRoZSBwcmV2aWV3IHBlcmlvZCB3ZSBtYXkgbWFrZVxuICogYmFja3dhcmRzLWluY29tcGF0aWJsZSBjaGFuZ2VzIHRvIHRoZSBwdWJsaWMgQVBJLCBidXQgaW4gZ2VuZXJhbCwgdGhpcyBpcyBzb21ldGhpbmcgd2Ugd2lsbCB0cnkgb3VyIGJlc3QgdG8gYXZvaWQuXG4gKlxuICogW01RVFQ1IENsaWVudCBVc2VyIEd1aWRlXShodHRwczovL3d3dy5naXRodWIuY29tL2F3c2xhYnMvYXdzLWNydC1ub2RlanMvYmxvYi9tYWluL01RVFQ1LVVzZXJHdWlkZS5tZClcbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqIEBtb2R1bGUgbXF0dDVcbiAqIEBtZXJnZVRhcmdldFxuICpcbiAqL1xuY29uc3QgYmluZGluZ18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JpbmRpbmdcIikpO1xuY29uc3QgbmF0aXZlX3Jlc291cmNlXzEgPSByZXF1aXJlKFwiLi9uYXRpdmVfcmVzb3VyY2VcIik7XG5jb25zdCBldmVudF8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ldmVudFwiKTtcbmNvbnN0IGlvID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2lvXCIpKTtcbmNvbnN0IG1xdHRfc2hhcmVkID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuLi9jb21tb24vbXF0dF9zaGFyZWRcIikpO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xudmFyIGh0dHBfMSA9IHJlcXVpcmUoXCIuL2h0dHBcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJIdHRwUHJveHlPcHRpb25zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBodHRwXzEuSHR0cFByb3h5T3B0aW9uczsgfSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi4vY29tbW9uL21xdHQ1XCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi4vY29tbW9uL21xdHQ1X3BhY2tldFwiKSwgZXhwb3J0cyk7XG47XG4vKipcbiAqIENvbnRyb2xzIGhvdyBkaXNjb25uZWN0cyBhZmZlY3QgdGhlIHF1ZXVlZCBhbmQgaW4tcHJvZ3Jlc3Mgb3BlcmF0aW9ucyB0cmFja2VkIGJ5IHRoZSBjbGllbnQuICBBbHNvIGNvbnRyb2xzXG4gKiBob3cgb3BlcmF0aW9ucyBhcmUgaGFuZGxlZCB3aGlsZSB0aGUgY2xpZW50IGlzIG5vdCBjb25uZWN0ZWQuICBJbiBwYXJ0aWN1bGFyLCBpZiB0aGUgY2xpZW50IGlzIG5vdCBjb25uZWN0ZWQsXG4gKiB0aGVuIGFueSBvcGVyYXRpb24gdGhhdCB3b3VsZCBiZSBmYWlsZWQgb24gZGlzY29ubmVjdCAoYWNjb3JkaW5nIHRvIHRoZXNlIHJ1bGVzKSB3aWxsIGJlIHJlamVjdGVkLlxuICovXG52YXIgQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvcjtcbihmdW5jdGlvbiAoQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvcikge1xuICAgIC8qKiBTYW1lIGFzIEZhaWxRb3MwUHVibGlzaE9uRGlzY29ubmVjdCAqL1xuICAgIENsaWVudE9wZXJhdGlvblF1ZXVlQmVoYXZpb3JbQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvcltcIkRlZmF1bHRcIl0gPSAwXSA9IFwiRGVmYXVsdFwiO1xuICAgIC8qKlxuICAgICAqIFJlLXF1ZXVlcyBRb1MgMSsgcHVibGlzaGVzIG9uIGRpc2Nvbm5lY3Q7IHVuLWFja2VkIHB1Ymxpc2hlcyBnbyB0byB0aGUgZnJvbnQgd2hpbGUgdW5wcm9jZXNzZWQgcHVibGlzaGVzIHN0YXlcbiAgICAgKiBpbiBwbGFjZS4gIEFsbCBvdGhlciBvcGVyYXRpb25zIChRb1MgMCBwdWJsaXNoZXMsIHN1YnNjcmliZSwgdW5zdWJzY3JpYmUpIGFyZSBmYWlsZWQuXG4gICAgICovXG4gICAgQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvcltDbGllbnRPcGVyYXRpb25RdWV1ZUJlaGF2aW9yW1wiRmFpbE5vblFvczFQdWJsaXNoT25EaXNjb25uZWN0XCJdID0gMV0gPSBcIkZhaWxOb25Rb3MxUHVibGlzaE9uRGlzY29ubmVjdFwiO1xuICAgIC8qKlxuICAgICAqIFFvUyAwIHB1Ymxpc2hlcyB0aGF0IGFyZSBub3QgY29tcGxldGUgYXQgdGhlIHRpbWUgb2YgZGlzY29ubmVjdGlvbiBhcmUgZmFpbGVkLiAgVW4tYWNrZWQgUW9TIDErIHB1Ymxpc2hlcyBhcmVcbiAgICAgKiByZS1xdWV1ZWQgYXQgdGhlIGhlYWQgb2YgdGhlIGxpbmUgZm9yIGltbWVkaWF0ZSByZXRyYW5zbWlzc2lvbiBvbiBhIHNlc3Npb24gcmVzdW1wdGlvbi4gIEFsbCBvdGhlciBvcGVyYXRpb25zXG4gICAgICogYXJlIHJlcXVldWVkIGluIG9yaWdpbmFsIG9yZGVyIGJlaGluZCBhbnkgcmV0cmFuc21pc3Npb25zLlxuICAgICAqL1xuICAgIENsaWVudE9wZXJhdGlvblF1ZXVlQmVoYXZpb3JbQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvcltcIkZhaWxRb3MwUHVibGlzaE9uRGlzY29ubmVjdFwiXSA9IDJdID0gXCJGYWlsUW9zMFB1Ymxpc2hPbkRpc2Nvbm5lY3RcIjtcbiAgICAvKipcbiAgICAgKiBBbGwgb3BlcmF0aW9ucyB0aGF0IGFyZSBub3QgY29tcGxldGUgYXQgdGhlIHRpbWUgb2YgZGlzY29ubmVjdGlvbiBhcmUgZmFpbGVkLCBleGNlcHQgb3BlcmF0aW9ucyB0aGF0XG4gICAgICogdGhlIE1RVFQ1IHNwZWMgcmVxdWlyZXMgdG8gYmUgcmV0cmFuc21pdHRlZCAodW4tYWNrZWQgUW9TMSsgcHVibGlzaGVzKS5cbiAgICAgKi9cbiAgICBDbGllbnRPcGVyYXRpb25RdWV1ZUJlaGF2aW9yW0NsaWVudE9wZXJhdGlvblF1ZXVlQmVoYXZpb3JbXCJGYWlsQWxsT25EaXNjb25uZWN0XCJdID0gM10gPSBcIkZhaWxBbGxPbkRpc2Nvbm5lY3RcIjtcbn0pKENsaWVudE9wZXJhdGlvblF1ZXVlQmVoYXZpb3IgPSBleHBvcnRzLkNsaWVudE9wZXJhdGlvblF1ZXVlQmVoYXZpb3IgfHwgKGV4cG9ydHMuQ2xpZW50T3BlcmF0aW9uUXVldWVCZWhhdmlvciA9IHt9KSk7XG4vKipcbiAqIEFkZGl0aW9uYWwgY29udHJvbHMgZm9yIGNsaWVudCBiZWhhdmlvciB3aXRoIHJlc3BlY3QgdG8gb3BlcmF0aW9uIHZhbGlkYXRpb24gYW5kIGZsb3cgY29udHJvbDsgdGhlc2UgY2hlY2tzXG4gKiBnbyBiZXlvbmQgdGhlIE1RVFQ1IHNwZWMgdG8gcmVzcGVjdCBsaW1pdHMgb2Ygc3BlY2lmaWMgTVFUVCBicm9rZXJzLlxuICovXG52YXIgQ2xpZW50RXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2w7XG4oZnVuY3Rpb24gKENsaWVudEV4dGVuZGVkVmFsaWRhdGlvbkFuZEZsb3dDb250cm9sKSB7XG4gICAgLyoqXG4gICAgICogRG8gbm90IGRvIGFueSBhZGRpdGlvbmFsIHZhbGlkYXRpb24gb3IgZmxvdyBjb250cm9sXG4gICAgICovXG4gICAgQ2xpZW50RXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2xbQ2xpZW50RXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2xbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiBBcHBseSBhZGRpdGlvbmFsIGNsaWVudC1zaWRlIHZhbGlkYXRpb24gYW5kIG9wZXJhdGlvbmFsIGZsb3cgY29udHJvbCB0aGF0IHJlc3BlY3RzIHRoZVxuICAgICAqIGRlZmF1bHQgQVdTIElvVCBDb3JlIGxpbWl0cy5cbiAgICAgKlxuICAgICAqIEN1cnJlbnRseSBhcHBsaWVzIHRoZSBmb2xsb3dpbmcgYWRkaXRpb25hbCB2YWxpZGF0aW9uOlxuICAgICAqXG4gICAgICogMS4gTm8gbW9yZSB0aGFuIDggc3Vic2NyaXB0aW9ucyBwZXIgU1VCU0NSSUJFIHBhY2tldFxuICAgICAqIDEuIFRvcGljcyBhbmQgdG9waWMgZmlsdGVycyBoYXZlIGEgbWF4aW11bSBvZiA3IHNsYXNoZXMgKDggc2VnbWVudHMpLCBub3QgY291bnRpbmcgYW55IEFXUyBydWxlcyBwcmVmaXhcbiAgICAgKiAxLiBUb3BpY3MgbXVzdCBiZSA8PSAyNTYgYnl0ZXMgaW4gbGVuZ3RoXG4gICAgICogMS4gQ2xpZW50IGlkIG11c3QgYmUgPD0gMTI4IGJ5dGVzIGluIGxlbmd0aFxuICAgICAqXG4gICAgICogQWxzbyBhcHBsaWVzIHRoZSBmb2xsb3dpbmcgZmxvdyBjb250cm9sOlxuICAgICAqXG4gICAgICogMS4gT3V0Ym91bmQgdGhyb3VnaHB1dCB0aHJvdHRsZWQgdG8gNTEyS0Ivc1xuICAgICAqIDEuIE91dGJvdW5kIHB1Ymxpc2ggVFBTIHRocm90dGxlZCB0byAxMDBcbiAgICAgKi9cbiAgICBDbGllbnRFeHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbFtDbGllbnRFeHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbFtcIkF3c0lvdENvcmVEZWZhdWx0c1wiXSA9IDFdID0gXCJBd3NJb3RDb3JlRGVmYXVsdHNcIjtcbn0pKENsaWVudEV4dGVuZGVkVmFsaWRhdGlvbkFuZEZsb3dDb250cm9sID0gZXhwb3J0cy5DbGllbnRFeHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbCB8fCAoZXhwb3J0cy5DbGllbnRFeHRlbmRlZFZhbGlkYXRpb25BbmRGbG93Q29udHJvbCA9IHt9KSk7XG4vKipcbiAqIE5vZGUuanMgc3BlY2lmaWMgTVFUVDUgY2xpZW50IGltcGxlbWVudGF0aW9uXG4gKlxuICogREVWRUxPUEVSIFBSRVZJRVcgRElTQ0xBSU1FUlxuICpcbiAqIE1RVFQ1IHN1cHBvcnQgaXMgY3VycmVudGx5IGluICoqZGV2ZWxvcGVyIHByZXZpZXcqKi4gIFdlIGVuY291cmFnZSBmZWVkYmFjayBhdCBhbGwgdGltZXMsIGJ1dCBmZWVkYmFjayBkdXJpbmcgdGhlXG4gKiBwcmV2aWV3IHdpbmRvdyBpcyBlc3BlY2lhbGx5IHZhbHVhYmxlIGluIHNoYXBpbmcgdGhlIGZpbmFsIHByb2R1Y3QuICBEdXJpbmcgdGhlIHByZXZpZXcgcGVyaW9kIHdlIG1heSBtYWtlXG4gKiBiYWNrd2FyZHMtaW5jb21wYXRpYmxlIGNoYW5nZXMgdG8gdGhlIHB1YmxpYyBBUEksIGJ1dCBpbiBnZW5lcmFsLCB0aGlzIGlzIHNvbWV0aGluZyB3ZSB3aWxsIHRyeSBvdXIgYmVzdCB0byBhdm9pZC5cbiAqXG4gKiBOb3QgYWxsIHBhcnRzIG9mIHRoZSBNUVRUNSBzcGVjIGFyZSBzdXBwb3J0ZWQuIFdlIGN1cnJlbnRseSBkbyBub3Qgc3VwcG9ydDpcbiAqXG4gKiAqIEFVVEggcGFja2V0cyBhbmQgdGhlIGF1dGhlbnRpY2F0aW9uIGZpZWxkcyBpbiB0aGUgQ09OTkVDVCBwYWNrZXRcbiAqICogUW9TIDJcbiAqXG4gKiBbTVFUVDUgQ2xpZW50IFVzZXIgR3VpZGVdKGh0dHBzOi8vd3d3LmdpdGh1Yi5jb20vYXdzbGFicy9hd3MtY3J0LW5vZGVqcy9ibG9iL21haW4vTVFUVDUtVXNlckd1aWRlLm1kKVxuICpcbiAqIFRoaXMgY2xpZW50IGlzIGJhc2VkIG9uIG5hdGl2ZSByZXNvdXJjZXMuICBXaGVuIGZpbmlzaGVkIHdpdGggdGhlIGNsaWVudCwgeW91IG11c3QgY2FsbCBjbG9zZSgpIHRvIGRpc3Bvc2Ugb2ZcbiAqIHRoZW0gb3IgdGhleSB3aWxsIGxlYWsuXG4gKlxuICovXG5jbGFzcyBNcXR0NUNsaWVudCBleHRlbmRzICgwLCBuYXRpdmVfcmVzb3VyY2VfMS5OYXRpdmVSZXNvdXJjZU1peGluKShldmVudF8xLkJ1ZmZlcmVkRXZlbnRFbWl0dGVyKSB7XG4gICAgLyoqXG4gICAgICogQ2xpZW50IGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIGZvciB0aGlzIGNsaWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9zdXBlcihiaW5kaW5nXzEuZGVmYXVsdC5tcXR0NV9jbGllbnRfbmV3KHRoaXMsIGNvbmZpZywgKGNsaWVudCkgPT4geyBNcXR0NUNsaWVudC5fc19vbl9zdG9wcGVkKGNsaWVudCk7IH0sIChjbGllbnQpID0+IHsgTXF0dDVDbGllbnQuX3Nfb25fYXR0ZW1wdGluZ19jb25uZWN0KGNsaWVudCk7IH0sIChjbGllbnQsIGNvbm5hY2ssIHNldHRpbmdzKSA9PiB7IE1xdHQ1Q2xpZW50Ll9zX29uX2Nvbm5lY3Rpb25fc3VjY2VzcyhjbGllbnQsIGNvbm5hY2ssIHNldHRpbmdzKTsgfSwgKGNsaWVudCwgZXJyb3JDb2RlLCBjb25uYWNrKSA9PiB7IE1xdHQ1Q2xpZW50Ll9zX29uX2Nvbm5lY3Rpb25fZmFpbHVyZShjbGllbnQsIG5ldyBlcnJvcl8xLkNydEVycm9yKGVycm9yQ29kZSksIGNvbm5hY2spOyB9LCAoY2xpZW50LCBlcnJvckNvZGUsIGRpc2Nvbm5lY3QpID0+IHsgTXF0dDVDbGllbnQuX3Nfb25fZGlzY29ubmVjdGlvbihjbGllbnQsIG5ldyBlcnJvcl8xLkNydEVycm9yKGVycm9yQ29kZSksIGRpc2Nvbm5lY3QpOyB9LCAoY2xpZW50LCBtZXNzYWdlKSA9PiB7IE1xdHQ1Q2xpZW50Ll9zX29uX21lc3NhZ2VfcmVjZWl2ZWQoY2xpZW50LCBtZXNzYWdlKTsgfSwgY29uZmlnLmNsaWVudEJvb3RzdHJhcCA/IGNvbmZpZy5jbGllbnRCb290c3RyYXAubmF0aXZlX2hhbmRsZSgpIDogbnVsbCwgY29uZmlnLnNvY2tldE9wdGlvbnMgPyBjb25maWcuc29ja2V0T3B0aW9ucy5uYXRpdmVfaGFuZGxlKCkgOiBudWxsLCBjb25maWcudGxzQ3R4ID8gY29uZmlnLnRsc0N0eC5uYXRpdmVfaGFuZGxlKCkgOiBudWxsLCBjb25maWcuaHR0cFByb3h5T3B0aW9ucyA/IGNvbmZpZy5odHRwUHJveHlPcHRpb25zLmNyZWF0ZV9uYXRpdmVfaGFuZGxlKCkgOiBudWxsKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIGNsZWFudXAgb2YgbmF0aXZlIHJlc291cmNlcyBhc3NvY2lhdGVkIHdpdGggdGhlIE1RVFQ1IGNsaWVudC4gIE9uY2UgdGhpcyBoYXMgYmVlbiBpbnZva2VkLCBjYWxsYmFja3NcbiAgICAgKiBhbmQgZXZlbnRzIGFyZSBub3QgZ3VhcmFudGVlZCB0byBiZSByZWNlaXZlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgbXVzdCBiZSBjYWxsZWQgd2hlbiBmaW5pc2hlZCB3aXRoIGEgY2xpZW50OyBvdGhlcndpc2UsIG5hdGl2ZSByZXNvdXJjZXMgd2lsbCBsZWFrLiAgSXQgaXMgbm90IHNhZmVcbiAgICAgKiB0byBpbnZva2UgYW55IGZ1cnRoZXIgb3BlcmF0aW9ucyBvbiB0aGUgY2xpZW50IGFmdGVyIGNsb3NlKCkgaGFzIGJlZW4gY2FsbGVkLlxuICAgICAqXG4gICAgICogRm9yIGEgcnVubmluZyBjbGllbnQsIHNhZmUgYW5kIHByb3BlciBzaHV0ZG93biBjYW4gYmUgYWNjb21wbGlzaGVkIGJ5XG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IHN0b3BwZWQgPSBvbmNlKGNsaWVudCwgXCJzdG9wcGVkXCIpO1xuICAgICAqIGNsaWVudC5zdG9wKCk7XG4gICAgICogYXdhaXQgc3RvcHBlZDtcbiAgICAgKiBjbGllbnQuY2xvc2UoKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoaXMgaXMgYW4gYXN5bmNocm9ub3VzIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBncm91cCBOb2RlLW9ubHlcbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dDVfY2xpZW50X2Nsb3NlKHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgdGhlIE1RVFQ1IGNsaWVudCB0aGF0IHlvdSB3YW50IGl0IHRvIG1haW50YWluIGNvbm5lY3Rpdml0eSB0byB0aGUgY29uZmlndXJlZCBlbmRwb2ludC5cbiAgICAgKiBUaGUgY2xpZW50IHdpbGwgYXR0ZW1wdCB0byBzdGF5IGNvbm5lY3RlZCB1c2luZyB0aGUgcHJvcGVydGllcyBvZiB0aGUgcmVjb25uZWN0LXJlbGF0ZWQgcGFyYW1ldGVyc1xuICAgICAqIGluIHRoZSBtcXR0NSBjbGllbnQgY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgYW4gYXN5bmNocm9ub3VzIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBzdGFydCgpIHtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dDVfY2xpZW50X3N0YXJ0KHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgdGhlIE1RVFQ1IGNsaWVudCB0aGF0IHlvdSB3YW50IGl0IHRvIGVuZCBjb25uZWN0aXZpdHkgdG8gdGhlIGNvbmZpZ3VyZWQgZW5kcG9pbnQsIGRpc2Nvbm5lY3RpbmcgYW55XG4gICAgICogZXhpc3RpbmcgY29ubmVjdGlvbiBhbmQgaGFsdGluZyByZWNvbm5lY3Rpb24gYXR0ZW1wdHMuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uICBPbmNlIHRoZSBwcm9jZXNzIGNvbXBsZXRlcywgbm8gZnVydGhlciBldmVudHMgd2lsbCBiZSBlbWl0dGVkIHVudGlsIHRoZSBjbGllbnRcbiAgICAgKiBoYXMge0BsaW5rIHN0YXJ0fSBpbnZva2VkLiAgSW52b2tpbmcge0BsaW5rIHN0YXJ0IHN0YXJ0KCl9IGFmdGVyIGEge0BsaW5rIHN0b3Agc3RvcCgpfSB3aWxsIGFsd2F5cyByZXN1bHQgaW4gYVxuICAgICAqIG5ldyBNUVRUIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGlzY29ubmVjdFBhY2tldCAob3B0aW9uYWwpIHByb3BlcnRpZXMgb2YgYSBESVNDT05ORUNUIHBhY2tldCB0byBzZW5kIGFzIHBhcnQgb2YgdGhlIHNodXRkb3duIHByb2Nlc3NcbiAgICAgKi9cbiAgICBzdG9wKGRpc2Nvbm5lY3RQYWNrZXQpIHtcbiAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dDVfY2xpZW50X3N0b3AodGhpcy5uYXRpdmVfaGFuZGxlKCksIGRpc2Nvbm5lY3RQYWNrZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdG8gb25lIG9yIG1vcmUgdG9waWMgZmlsdGVycyBieSBxdWV1aW5nIGEgU1VCU0NSSUJFIHBhY2tldCB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0IFNVQlNDUklCRSBwYWNrZXQgdG8gc2VuZCB0byB0aGUgc2VydmVyXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZWplY3RlZCB3aXRoIGFuIGVycm9yIG9yIHJlc29sdmVkIHdpdGggdGhlIFNVQkFDSyByZXNwb25zZVxuICAgICAqL1xuICAgIHN1YnNjcmliZShwYWNrZXQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3VycmllZFByb21pc2VDYWxsYmFjayhjbGllbnQsIGVycm9yQ29kZSwgc3ViYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNcXR0NUNsaWVudC5fc19vbl9zdWJhY2tfY2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBjbGllbnQsIGVycm9yQ29kZSwgc3ViYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ18xLmRlZmF1bHQubXF0dDVfY2xpZW50X3N1YnNjcmliZSh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgcGFja2V0LCBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5zdWJzY3JpYmUgZnJvbSBvbmUgb3IgbW9yZSB0b3BpYyBmaWx0ZXJzIGJ5IHF1ZXVpbmcgYW4gVU5TVUJTQ1JJQkUgcGFja2V0IHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXQgVU5TVUJTQ1JJQkUgcGFja2V0IHRvIHNlbmQgdG8gdGhlIHNlcnZlclxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvciBvciByZXNvbHZlZCB3aXRoIHRoZSBVTlNVQkFDSyByZXNwb25zZVxuICAgICAqL1xuICAgIHVuc3Vic2NyaWJlKHBhY2tldCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKGNsaWVudCwgZXJyb3JDb2RlLCB1bnN1YmFjaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTXF0dDVDbGllbnQuX3Nfb25fdW5zdWJhY2tfY2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBjbGllbnQsIGVycm9yQ29kZSwgdW5zdWJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5tcXR0NV9jbGllbnRfdW5zdWJzY3JpYmUodGhpcy5uYXRpdmVfaGFuZGxlKCksIHBhY2tldCwgY3VycmllZFByb21pc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYSBtZXNzYWdlIHRvIHN1YnNjcmliaW5nIGNsaWVudHMgYnkgcXVldWluZyBhIFBVQkxJU0ggcGFja2V0IHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXQgUFVCTElTSCBwYWNrZXQgdG8gc2VuZCB0byB0aGUgc2VydmVyXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZWplY3RlZCB3aXRoIGFuIGVycm9yIG9yIHJlc29sdmVkIHdpdGggdGhlIFBVQkFDSyByZXNwb25zZSAoUW9TIDEpIG9yXG4gICAgICogdW5kZWZpbmVkIChRb1MgMClcbiAgICAgKi9cbiAgICBwdWJsaXNoKHBhY2tldCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0ICYmIHBhY2tldC5wYXlsb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhY2tldC5wYXlsb2FkID0gbXF0dF9zaGFyZWQubm9ybWFsaXplX3BheWxvYWQocGFja2V0LnBheWxvYWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKGNsaWVudCwgZXJyb3JDb2RlLCByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1xdHQ1Q2xpZW50Ll9zX29uX3B1YmFja19jYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIGNsaWVudCwgZXJyb3JDb2RlLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nXzEuZGVmYXVsdC5tcXR0NV9jbGllbnRfcHVibGlzaCh0aGlzLm5hdGl2ZV9oYW5kbGUoKSwgcGFja2V0LCBjdXJyaWVkUHJvbWlzZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUXVlcmllcyBhIHNtYWxsIHNldCBvZiBudW1lcmljYWwgc3RhdGlzdGljcyBhYm91dCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY2xpZW50J3Mgb3BlcmF0aW9uIHF1ZXVlXG4gICAgICpcbiAgICAgKiBAZ3JvdXAgTm9kZS1vbmx5XG4gICAgICovXG4gICAgZ2V0UXVldWVTdGF0aXN0aWNzKCkge1xuICAgICAgICByZXR1cm4gYmluZGluZ18xLmRlZmF1bHQubXF0dDVfY2xpZW50X2dldF9xdWV1ZV9zdGF0aXN0aWNzKHRoaXMubmF0aXZlX2hhbmRsZSgpKTtcbiAgICB9XG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHN1cGVyLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKlxuICAgICAqIFByaXZhdGUgaGVscGVyIGZ1bmN0aW9uc1xuICAgICAqXG4gICAgICogQ2FsbGJhY2tzIGNvbWUgdGhyb3VnaCBzdGF0aWMgZnVuY3Rpb25zIHNvIHRoYXQgdGhlIG5hdGl2ZSB0aHJlYWRzYWZlIGZ1bmN0aW9uIG9iamVjdHMgZG8gbm90XG4gICAgICogY2FwdHVyZSB0aGUgY2xpZW50IG9iamVjdCBpdHNlbGYsIHNpbXBsaWZ5aW5nIHRoZSBudW1iZXIgb2Ygc3Ryb25nIHJlZmVyZW5jZXMgdG8gdGhlIGNsaWVudCBmbG9hdGluZyBhcm91bmQuXG4gICAgICovXG4gICAgc3RhdGljIF9zX29uX3N0b3BwZWQoY2xpZW50KSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHN0b3BwZWRFdmVudCA9IHt9O1xuICAgICAgICAgICAgY2xpZW50LmVtaXQoTXF0dDVDbGllbnQuU1RPUFBFRCwgc3RvcHBlZEV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBfc19vbl9hdHRlbXB0aW5nX2Nvbm5lY3QoY2xpZW50KSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGF0dGVtcHRpbmdDb25uZWN0RXZlbnQgPSB7fTtcbiAgICAgICAgICAgIGNsaWVudC5lbWl0KE1xdHQ1Q2xpZW50LkFUVEVNUFRJTkdfQ09OTkVDVCwgYXR0ZW1wdGluZ0Nvbm5lY3RFdmVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgX3Nfb25fY29ubmVjdGlvbl9zdWNjZXNzKGNsaWVudCwgY29ubmFjaywgc2V0dGluZ3MpIHtcbiAgICAgICAgbGV0IGNvbm5lY3Rpb25TdWNjZXNzRXZlbnQgPSB7XG4gICAgICAgICAgICBjb25uYWNrOiBjb25uYWNrLFxuICAgICAgICAgICAgc2V0dGluZ3M6IHNldHRpbmdzXG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgY2xpZW50LmVtaXQoTXF0dDVDbGllbnQuQ09OTkVDVElPTl9TVUNDRVNTLCBjb25uZWN0aW9uU3VjY2Vzc0V2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBfc19vbl9jb25uZWN0aW9uX2ZhaWx1cmUoY2xpZW50LCBlcnJvciwgY29ubmFjaykge1xuICAgICAgICBsZXQgY29ubmVjdGlvbkZhaWx1cmVFdmVudCA9IHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICB9O1xuICAgICAgICBpZiAoY29ubmFjayAhPT0gbnVsbCAmJiBjb25uYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25GYWlsdXJlRXZlbnQuY29ubmFjayA9IGNvbm5hY2s7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICBjbGllbnQuZW1pdChNcXR0NUNsaWVudC5DT05ORUNUSU9OX0ZBSUxVUkUsIGNvbm5lY3Rpb25GYWlsdXJlRXZlbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIF9zX29uX2Rpc2Nvbm5lY3Rpb24oY2xpZW50LCBlcnJvciwgZGlzY29ubmVjdCkge1xuICAgICAgICBsZXQgZGlzY29ubmVjdGlvbkV2ZW50ID0ge1xuICAgICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgIH07XG4gICAgICAgIGlmIChkaXNjb25uZWN0ICE9PSBudWxsICYmIGRpc2Nvbm5lY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGlzY29ubmVjdGlvbkV2ZW50LmRpc2Nvbm5lY3QgPSBkaXNjb25uZWN0O1xuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgY2xpZW50LmVtaXQoTXF0dDVDbGllbnQuRElTQ09OTkVDVElPTiwgZGlzY29ubmVjdGlvbkV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBfc19vbl9zdWJhY2tfY2FsbGJhY2socmVzb2x2ZSwgcmVqZWN0LCBjbGllbnQsIGVycm9yQ29kZSwgc3ViYWNrKSB7XG4gICAgICAgIGlmIChlcnJvckNvZGUgPT0gMCAmJiBzdWJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzb2x2ZShzdWJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KGlvLmVycm9yX2NvZGVfdG9fc3RyaW5nKGVycm9yQ29kZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBfc19vbl91bnN1YmFja19jYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIGNsaWVudCwgZXJyb3JDb2RlLCB1bnN1YmFjaykge1xuICAgICAgICBpZiAoZXJyb3JDb2RlID09IDAgJiYgdW5zdWJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh1bnN1YmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoaW8uZXJyb3JfY29kZV90b19zdHJpbmcoZXJyb3JDb2RlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIF9zX29uX3B1YmFja19jYWxsYmFjayhyZXNvbHZlLCByZWplY3QsIGNsaWVudCwgZXJyb3JDb2RlLCByZXN1bHQpIHtcbiAgICAgICAgaWYgKGVycm9yQ29kZSA9PSAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoaW8uZXJyb3JfY29kZV90b19zdHJpbmcoZXJyb3JDb2RlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIF9zX29uX21lc3NhZ2VfcmVjZWl2ZWQoY2xpZW50LCBtZXNzYWdlKSB7XG4gICAgICAgIGxldCBtZXNzYWdlUmVjZWl2ZWRFdmVudCA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgICAgfTtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICBjbGllbnQuZW1pdChNcXR0NUNsaWVudC5NRVNTQUdFX1JFQ0VJVkVELCBtZXNzYWdlUmVjZWl2ZWRFdmVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuTXF0dDVDbGllbnQgPSBNcXR0NUNsaWVudDtcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjbGllbnQgZW5jb3VudGVycyBhIHNlcmlvdXMgZXJyb3IgY29uZGl0aW9uLCBzdWNoIGFzIGludmFsaWQgaW5wdXQsIG5hcGkgZmFpbHVyZXMsIGFuZFxuICogb3RoZXIgcG90ZW50aWFsbHkgdW5yZWNvdmVyYWJsZSBzaXR1YXRpb25zLlxuICpcbiAqIExpc3RlbmVyIHR5cGU6IHtAbGluayBFcnJvckV2ZW50TGlzdGVuZXJ9XG4gKlxuICogQGV2ZW50XG4gKi9cbk1xdHQ1Q2xpZW50LkVSUk9SID0gJ2Vycm9yJztcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIGFuIE1RVFQgUFVCTElTSCBwYWNrZXQgaXMgcmVjZWl2ZWQgYnkgdGhlIGNsaWVudC5cbiAqXG4gKiBMaXN0ZW5lciB0eXBlOiB7QGxpbmsgTWVzc2FnZVJlY2VpdmVkRXZlbnRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dDVDbGllbnQuTUVTU0FHRV9SRUNFSVZFRCA9ICdtZXNzYWdlUmVjZWl2ZWQnO1xuLyoqXG4gKiBFdmVudCBlbWl0dGVkIHdoZW4gdGhlIGNsaWVudCBiZWdpbnMgYSBjb25uZWN0aW9uIGF0dGVtcHQuXG4gKlxuICogTGlzdGVuZXIgdHlwZToge0BsaW5rIEF0dGVtcHRpbmdDb25uZWN0RXZlbnRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dDVDbGllbnQuQVRURU1QVElOR19DT05ORUNUID0gJ2F0dGVtcHRpbmdDb25uZWN0Jztcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjbGllbnQgc3VjY2Vzc2Z1bGx5IGVzdGFibGlzaGVzIGFuIE1RVFQgY29ubmVjdGlvbi4gIE9ubHkgZW1pdHRlZCBhZnRlclxuICogYW4ge0BsaW5rIEFUVEVNUFRJTkdfQ09OTkVDVCBhdHRlbXB0aW5nQ29ubmVjdH0gZXZlbnQuXG4gKlxuICogTGlzdGVuZXIgdHlwZToge0BsaW5rIENvbm5lY3Rpb25TdWNjZXNzRXZlbnRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dDVDbGllbnQuQ09OTkVDVElPTl9TVUNDRVNTID0gJ2Nvbm5lY3Rpb25TdWNjZXNzJztcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjbGllbnQgZmFpbHMgdG8gZXN0YWJsaXNoIGFuIE1RVFQgY29ubmVjdGlvbi4gIE9ubHkgZW1pdHRlZCBhZnRlclxuICogYW4ge0BsaW5rIEFUVEVNUFRJTkdfQ09OTkVDVCBhdHRlbXB0aW5nQ29ubmVjdH0gZXZlbnQuXG4gKlxuICogTGlzdGVuZXIgdHlwZToge0BsaW5rIENvbm5lY3Rpb25GYWlsdXJlRXZlbnRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dDVDbGllbnQuQ09OTkVDVElPTl9GQUlMVVJFID0gJ2Nvbm5lY3Rpb25GYWlsdXJlJztcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjbGllbnQncyBjdXJyZW50IGNvbm5lY3Rpb24gaXMgY2xvc2VkIGZvciBhbnkgcmVhc29uLiAgT25seSBlbWl0dGVkIGFmdGVyXG4gKiBhIHtAbGluayBDT05ORUNUSU9OX1NVQ0NFU1MgY29ubmVjdGlvblN1Y2Nlc3N9IGV2ZW50LlxuICpcbiAqIExpc3RlbmVyIHR5cGU6IHtAbGluayBEaXNjb25uZWN0aW9uRXZlbnRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dDVDbGllbnQuRElTQ09OTkVDVElPTiA9ICdkaXNjb25uZWN0aW9uJztcbi8qKlxuICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjbGllbnQgZmluaXNoZXMgc2h1dGRvd24gYXMgYSByZXN1bHQgb2YgdGhlIHVzZXIgaW52b2tpbmcge0BsaW5rIHN0b3B9LlxuICpcbiAqIExpc3RlbmVyIHR5cGU6IHtAbGluayBTdG9wcGVkRXZlbnRMaXN0ZW5lcn1cbiAqXG4gKiBAZXZlbnRcbiAqL1xuTXF0dDVDbGllbnQuU1RPUFBFRCA9ICdzdG9wcGVkJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1xdHQ1LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjAuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTmF0aXZlUmVzb3VyY2VNaXhpbiA9IGV4cG9ydHMuTmF0aXZlUmVzb3VyY2UgPSB2b2lkIDA7XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gb2JqZWN0IGFsbG9jYXRlZCBuYXRpdmVseSBpbnNpZGUgdGhlIEFXUyBDUlQuXG4gKiBAaW50ZXJuYWxcbiAqL1xuY2xhc3MgTmF0aXZlUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKGhhbmRsZSkge1xuICAgICAgICB0aGlzLmhhbmRsZSA9IGhhbmRsZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIG5hdGl2ZV9oYW5kbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZTtcbiAgICB9XG59XG5leHBvcnRzLk5hdGl2ZVJlc291cmNlID0gTmF0aXZlUmVzb3VyY2U7XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gb2JqZWN0IGFsbG9jYXRlZCBuYXRpdmVseSBpbnNpZGUgdGhlIEFXUyBDUlQgd2hpY2ggYWxzb1xuICogbmVlZHMgYSBub2RlL1RTIGJhc2UgY2xhc3NcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBOYXRpdmVSZXNvdXJjZU1peGluKEJhc2UpIHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgQmFzZSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlID0gYXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgc3VwZXIoLi4uYXJncyk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGUgPSBoYW5kbGU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICBfc3VwZXIoaGFuZGxlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGUgPSBoYW5kbGU7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICBuYXRpdmVfaGFuZGxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZTtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnRzLk5hdGl2ZVJlc291cmNlTWl4aW4gPSBOYXRpdmVSZXNvdXJjZU1peGluO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlX3Jlc291cmNlLmpzLm1hcCIsImZ1bmN0aW9uIHdlYnBhY2tFbXB0eUNvbnRleHQocmVxKSB7XG5cdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHR0aHJvdyBlO1xufVxud2VicGFja0VtcHR5Q29udGV4dC5rZXlzID0gKCkgPT4gKFtdKTtcbndlYnBhY2tFbXB0eUNvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG53ZWJwYWNrRW1wdHlDb250ZXh0LmlkID0gMTMwOTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0VtcHR5Q29udGV4dDsiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHZhbGlkYXRvciA9IHJlcXVpcmUoJy4vdmFsaWRhdG9yJyk7XG5jb25zdCBYTUxQYXJzZXIgPSByZXF1aXJlKCcuL3htbHBhcnNlci9YTUxQYXJzZXInKTtcbmNvbnN0IFhNTEJ1aWxkZXIgPSByZXF1aXJlKCcuL3htbGJ1aWxkZXIvanNvbjJ4bWwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFhNTFBhcnNlcjogWE1MUGFyc2VyLFxuICBYTUxWYWxpZGF0b3I6IHZhbGlkYXRvcixcbiAgWE1MQnVpbGRlcjogWE1MQnVpbGRlclxufSIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgbmFtZVN0YXJ0Q2hhciA9ICc6QS1aYS16X1xcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEJztcbmNvbnN0IG5hbWVDaGFyID0gbmFtZVN0YXJ0Q2hhciArICdcXFxcLS5cXFxcZFxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwJztcbmNvbnN0IG5hbWVSZWdleHAgPSAnWycgKyBuYW1lU3RhcnRDaGFyICsgJ11bJyArIG5hbWVDaGFyICsgJ10qJ1xuY29uc3QgcmVnZXhOYW1lID0gbmV3IFJlZ0V4cCgnXicgKyBuYW1lUmVnZXhwICsgJyQnKTtcblxuY29uc3QgZ2V0QWxsTWF0Y2hlcyA9IGZ1bmN0aW9uKHN0cmluZywgcmVnZXgpIHtcbiAgY29uc3QgbWF0Y2hlcyA9IFtdO1xuICBsZXQgbWF0Y2ggPSByZWdleC5leGVjKHN0cmluZyk7XG4gIHdoaWxlIChtYXRjaCkge1xuICAgIGNvbnN0IGFsbG1hdGNoZXMgPSBbXTtcbiAgICBhbGxtYXRjaGVzLnN0YXJ0SW5kZXggPSByZWdleC5sYXN0SW5kZXggLSBtYXRjaFswXS5sZW5ndGg7XG4gICAgY29uc3QgbGVuID0gbWF0Y2gubGVuZ3RoO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcbiAgICAgIGFsbG1hdGNoZXMucHVzaChtYXRjaFtpbmRleF0pO1xuICAgIH1cbiAgICBtYXRjaGVzLnB1c2goYWxsbWF0Y2hlcyk7XG4gICAgbWF0Y2ggPSByZWdleC5leGVjKHN0cmluZyk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59O1xuXG5jb25zdCBpc05hbWUgPSBmdW5jdGlvbihzdHJpbmcpIHtcbiAgY29uc3QgbWF0Y2ggPSByZWdleE5hbWUuZXhlYyhzdHJpbmcpO1xuICByZXR1cm4gIShtYXRjaCA9PT0gbnVsbCB8fCB0eXBlb2YgbWF0Y2ggPT09ICd1bmRlZmluZWQnKTtcbn07XG5cbmV4cG9ydHMuaXNFeGlzdCA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuIHR5cGVvZiB2ICE9PSAndW5kZWZpbmVkJztcbn07XG5cbmV4cG9ydHMuaXNFbXB0eU9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG59O1xuXG4vKipcbiAqIENvcHkgYWxsIHRoZSBwcm9wZXJ0aWVzIG9mIGEgaW50byBiLlxuICogQHBhcmFtIHsqfSB0YXJnZXRcbiAqIEBwYXJhbSB7Kn0gYVxuICovXG5leHBvcnRzLm1lcmdlID0gZnVuY3Rpb24odGFyZ2V0LCBhLCBhcnJheU1vZGUpIHtcbiAgaWYgKGEpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYSk7IC8vIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIG93biBwcm9wZXJ0aWVzXG4gICAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7IC8vZG9uJ3QgbWFrZSBpdCBpbmxpbmVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoYXJyYXlNb2RlID09PSAnc3RyaWN0Jykge1xuICAgICAgICB0YXJnZXRba2V5c1tpXV0gPSBbIGFba2V5c1tpXV0gXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtrZXlzW2ldXSA9IGFba2V5c1tpXV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuLyogZXhwb3J0cy5tZXJnZSA9ZnVuY3Rpb24gKGIsYSl7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKGIsYSk7XG59ICovXG5cbmV4cG9ydHMuZ2V0VmFsdWUgPSBmdW5jdGlvbih2KSB7XG4gIGlmIChleHBvcnRzLmlzRXhpc3QodikpIHtcbiAgICByZXR1cm4gdjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbi8vIGNvbnN0IGZha2VDYWxsID0gZnVuY3Rpb24oYSkge3JldHVybiBhO307XG4vLyBjb25zdCBmYWtlQ2FsbE5vUmV0dXJuID0gZnVuY3Rpb24oKSB7fTtcblxuZXhwb3J0cy5pc05hbWUgPSBpc05hbWU7XG5leHBvcnRzLmdldEFsbE1hdGNoZXMgPSBnZXRBbGxNYXRjaGVzO1xuZXhwb3J0cy5uYW1lUmVnZXhwID0gbmFtZVJlZ2V4cDtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgYWxsb3dCb29sZWFuQXR0cmlidXRlczogZmFsc2UsIC8vQSB0YWcgY2FuIGhhdmUgYXR0cmlidXRlcyB3aXRob3V0IGFueSB2YWx1ZVxuICB1bnBhaXJlZFRhZ3M6IFtdXG59O1xuXG4vL2NvbnN0IHRhZ3NQYXR0ZXJuID0gbmV3IFJlZ0V4cChcIjxcXFxcLz8oW1xcXFx3OlxcXFwtX1xcLl0rKVxcXFxzKlxcLz8+XCIsXCJnXCIpO1xuZXhwb3J0cy52YWxpZGF0ZSA9IGZ1bmN0aW9uICh4bWxEYXRhLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgLy94bWxEYXRhID0geG1sRGF0YS5yZXBsYWNlKC8oXFxyXFxufFxcbnxcXHIpL2dtLFwiXCIpOy8vbWFrZSBpdCBzaW5nbGUgbGluZVxuICAvL3htbERhdGEgPSB4bWxEYXRhLnJlcGxhY2UoLyheXFxzKjxcXD94bWwuKj9cXD8+KS9nLFwiXCIpOy8vUmVtb3ZlIFhNTCBzdGFydGluZyB0YWdcbiAgLy94bWxEYXRhID0geG1sRGF0YS5yZXBsYWNlKC8oPCFET0NUWVBFW1xcc1xcd1xcXCJcXC5cXC9cXC1cXDpdKyhcXFsuKlxcXSkqXFxzKj4pL2csXCJcIik7Ly9SZW1vdmUgRE9DVFlQRVxuICBjb25zdCB0YWdzID0gW107XG4gIGxldCB0YWdGb3VuZCA9IGZhbHNlO1xuXG4gIC8vaW5kaWNhdGVzIHRoYXQgdGhlIHJvb3QgdGFnIGhhcyBiZWVuIGNsb3NlZCAoYWthLiBkZXB0aCAwIGhhcyBiZWVuIHJlYWNoZWQpXG4gIGxldCByZWFjaGVkUm9vdCA9IGZhbHNlO1xuXG4gIGlmICh4bWxEYXRhWzBdID09PSAnXFx1ZmVmZicpIHtcbiAgICAvLyBjaGVjayBmb3IgYnl0ZSBvcmRlciBtYXJrIChCT00pXG4gICAgeG1sRGF0YSA9IHhtbERhdGEuc3Vic3RyKDEpO1xuICB9XG4gIFxuICBmb3IgKGxldCBpID0gMDsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcblxuICAgIGlmICh4bWxEYXRhW2ldID09PSAnPCcgJiYgeG1sRGF0YVtpKzFdID09PSAnPycpIHtcbiAgICAgIGkrPTI7XG4gICAgICBpID0gcmVhZFBJKHhtbERhdGEsaSk7XG4gICAgICBpZiAoaS5lcnIpIHJldHVybiBpO1xuICAgIH1lbHNlIGlmICh4bWxEYXRhW2ldID09PSAnPCcpIHtcbiAgICAgIC8vc3RhcnRpbmcgb2YgdGFnXG4gICAgICAvL3JlYWQgdW50aWwgeW91IHJlYWNoIHRvICc+JyBhdm9pZGluZyBhbnkgJz4nIGluIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgbGV0IHRhZ1N0YXJ0UG9zID0gaTtcbiAgICAgIGkrKztcbiAgICAgIFxuICAgICAgaWYgKHhtbERhdGFbaV0gPT09ICchJykge1xuICAgICAgICBpID0gcmVhZENvbW1lbnRBbmRDREFUQSh4bWxEYXRhLCBpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgY2xvc2luZ1RhZyA9IGZhbHNlO1xuICAgICAgICBpZiAoeG1sRGF0YVtpXSA9PT0gJy8nKSB7XG4gICAgICAgICAgLy9jbG9zaW5nIHRhZ1xuICAgICAgICAgIGNsb3NpbmdUYWcgPSB0cnVlO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICAvL3JlYWQgdGFnbmFtZVxuICAgICAgICBsZXQgdGFnTmFtZSA9ICcnO1xuICAgICAgICBmb3IgKDsgaSA8IHhtbERhdGEubGVuZ3RoICYmXG4gICAgICAgICAgeG1sRGF0YVtpXSAhPT0gJz4nICYmXG4gICAgICAgICAgeG1sRGF0YVtpXSAhPT0gJyAnICYmXG4gICAgICAgICAgeG1sRGF0YVtpXSAhPT0gJ1xcdCcgJiZcbiAgICAgICAgICB4bWxEYXRhW2ldICE9PSAnXFxuJyAmJlxuICAgICAgICAgIHhtbERhdGFbaV0gIT09ICdcXHInOyBpKytcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGFnTmFtZSArPSB4bWxEYXRhW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnRyaW0oKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0YWdOYW1lKTtcblxuICAgICAgICBpZiAodGFnTmFtZVt0YWdOYW1lLmxlbmd0aCAtIDFdID09PSAnLycpIHtcbiAgICAgICAgICAvL3NlbGYgY2xvc2luZyB0YWcgd2l0aG91dCBhdHRyaWJ1dGVzXG4gICAgICAgICAgdGFnTmFtZSA9IHRhZ05hbWUuc3Vic3RyaW5nKDAsIHRhZ05hbWUubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgLy9jb250aW51ZTtcbiAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2YWxpZGF0ZVRhZ05hbWUodGFnTmFtZSkpIHtcbiAgICAgICAgICBsZXQgbXNnO1xuICAgICAgICAgIGlmICh0YWdOYW1lLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG1zZyA9IFwiSW52YWxpZCBzcGFjZSBhZnRlciAnPCcuXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1zZyA9IFwiVGFnICdcIit0YWdOYW1lK1wiJyBpcyBhbiBpbnZhbGlkIG5hbWUuXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZFRhZycsIG1zZywgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIGkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWRBdHRyaWJ1dGVTdHIoeG1sRGF0YSwgaSk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkQXR0cicsIFwiQXR0cmlidXRlcyBmb3IgJ1wiK3RhZ05hbWUrXCInIGhhdmUgb3BlbiBxdW90ZS5cIiwgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIGkpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXR0clN0ciA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaSA9IHJlc3VsdC5pbmRleDtcblxuICAgICAgICBpZiAoYXR0clN0clthdHRyU3RyLmxlbmd0aCAtIDFdID09PSAnLycpIHtcbiAgICAgICAgICAvL3NlbGYgY2xvc2luZyB0YWdcbiAgICAgICAgICBjb25zdCBhdHRyU3RyU3RhcnQgPSBpIC0gYXR0clN0ci5sZW5ndGg7XG4gICAgICAgICAgYXR0clN0ciA9IGF0dHJTdHIuc3Vic3RyaW5nKDAsIGF0dHJTdHIubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgY29uc3QgaXNWYWxpZCA9IHZhbGlkYXRlQXR0cmlidXRlU3RyaW5nKGF0dHJTdHIsIG9wdGlvbnMpO1xuICAgICAgICAgIGlmIChpc1ZhbGlkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0YWdGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAvL2NvbnRpbnVlOyAvL3RleHQgbWF5IHByZXNlbnRzIGFmdGVyIHNlbGYgY2xvc2luZyB0YWdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy90aGUgcmVzdWx0IGZyb20gdGhlIG5lc3RlZCBmdW5jdGlvbiByZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgZXJyb3Igd2l0aGluIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vaW4gb3JkZXIgdG8gZ2V0IHRoZSAndHJ1ZScgZXJyb3IgbGluZSwgd2UgbmVlZCB0byBjYWxjdWxhdGUgdGhlIHBvc2l0aW9uIHdoZXJlIHRoZSBhdHRyaWJ1dGUgYmVnaW5zIChpIC0gYXR0clN0ci5sZW5ndGgpIGFuZCB0aGVuIGFkZCB0aGUgcG9zaXRpb24gd2l0aGluIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vdGhpcyBnaXZlcyB1cyB0aGUgYWJzb2x1dGUgaW5kZXggaW4gdGhlIGVudGlyZSB4bWwsIHdoaWNoIHdlIGNhbiB1c2UgdG8gZmluZCB0aGUgbGluZSBhdCBsYXN0XG4gICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoaXNWYWxpZC5lcnIuY29kZSwgaXNWYWxpZC5lcnIubXNnLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgYXR0clN0clN0YXJ0ICsgaXNWYWxpZC5lcnIubGluZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjbG9zaW5nVGFnKSB7XG4gICAgICAgICAgaWYgKCFyZXN1bHQudGFnQ2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRUYWcnLCBcIkNsb3NpbmcgdGFnICdcIit0YWdOYW1lK1wiJyBkb2Vzbid0IGhhdmUgcHJvcGVyIGNsb3NpbmcuXCIsIGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCBpKSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhdHRyU3RyLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRUYWcnLCBcIkNsb3NpbmcgdGFnICdcIit0YWdOYW1lK1wiJyBjYW4ndCBoYXZlIGF0dHJpYnV0ZXMgb3IgaW52YWxpZCBzdGFydGluZy5cIiwgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIHRhZ1N0YXJ0UG9zKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG90ZyA9IHRhZ3MucG9wKCk7XG4gICAgICAgICAgICBpZiAodGFnTmFtZSAhPT0gb3RnLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgbGV0IG9wZW5Qb3MgPSBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgb3RnLnRhZ1N0YXJ0UG9zKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkVGFnJyxcbiAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIGNsb3NpbmcgdGFnICdcIitvdGcudGFnTmFtZStcIicgKG9wZW5lZCBpbiBsaW5lIFwiK29wZW5Qb3MubGluZStcIiwgY29sIFwiK29wZW5Qb3MuY29sK1wiKSBpbnN0ZWFkIG9mIGNsb3NpbmcgdGFnICdcIit0YWdOYW1lK1wiJy5cIixcbiAgICAgICAgICAgICAgICBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgdGFnU3RhcnRQb3MpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy93aGVuIHRoZXJlIGFyZSBubyBtb3JlIHRhZ3MsIHdlIHJlYWNoZWQgdGhlIHJvb3QgbGV2ZWwuXG4gICAgICAgICAgICBpZiAodGFncy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICByZWFjaGVkUm9vdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0ZUF0dHJpYnV0ZVN0cmluZyhhdHRyU3RyLCBvcHRpb25zKTtcbiAgICAgICAgICBpZiAoaXNWYWxpZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy90aGUgcmVzdWx0IGZyb20gdGhlIG5lc3RlZCBmdW5jdGlvbiByZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgZXJyb3Igd2l0aGluIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vaW4gb3JkZXIgdG8gZ2V0IHRoZSAndHJ1ZScgZXJyb3IgbGluZSwgd2UgbmVlZCB0byBjYWxjdWxhdGUgdGhlIHBvc2l0aW9uIHdoZXJlIHRoZSBhdHRyaWJ1dGUgYmVnaW5zIChpIC0gYXR0clN0ci5sZW5ndGgpIGFuZCB0aGVuIGFkZCB0aGUgcG9zaXRpb24gd2l0aGluIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vdGhpcyBnaXZlcyB1cyB0aGUgYWJzb2x1dGUgaW5kZXggaW4gdGhlIGVudGlyZSB4bWwsIHdoaWNoIHdlIGNhbiB1c2UgdG8gZmluZCB0aGUgbGluZSBhdCBsYXN0XG4gICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoaXNWYWxpZC5lcnIuY29kZSwgaXNWYWxpZC5lcnIubXNnLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgaSAtIGF0dHJTdHIubGVuZ3RoICsgaXNWYWxpZC5lcnIubGluZSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vaWYgdGhlIHJvb3QgbGV2ZWwgaGFzIGJlZW4gcmVhY2hlZCBiZWZvcmUgLi4uXG4gICAgICAgICAgaWYgKHJlYWNoZWRSb290ID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRYbWwnLCAnTXVsdGlwbGUgcG9zc2libGUgcm9vdCBub2RlcyBmb3VuZC4nLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgaSkpO1xuICAgICAgICAgIH0gZWxzZSBpZihvcHRpb25zLnVucGFpcmVkVGFncy5pbmRleE9mKHRhZ05hbWUpICE9PSAtMSl7XG4gICAgICAgICAgICAvL2Rvbid0IHB1c2ggaW50byBzdGFja1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YWdzLnB1c2goe3RhZ05hbWUsIHRhZ1N0YXJ0UG9zfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRhZ0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vc2tpcCB0YWcgdGV4dCB2YWx1ZVxuICAgICAgICAvL0l0IG1heSBpbmNsdWRlIGNvbW1lbnRzIGFuZCBDREFUQSB2YWx1ZVxuICAgICAgICBmb3IgKGkrKzsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoeG1sRGF0YVtpXSA9PT0gJzwnKSB7XG4gICAgICAgICAgICBpZiAoeG1sRGF0YVtpICsgMV0gPT09ICchJykge1xuICAgICAgICAgICAgICAvL2NvbW1lbnQgb3IgQ0FEQVRBXG4gICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgaSA9IHJlYWRDb21tZW50QW5kQ0RBVEEoeG1sRGF0YSwgaSk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh4bWxEYXRhW2krMV0gPT09ICc/Jykge1xuICAgICAgICAgICAgICBpID0gcmVhZFBJKHhtbERhdGEsICsraSk7XG4gICAgICAgICAgICAgIGlmIChpLmVycikgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoeG1sRGF0YVtpXSA9PT0gJyYnKSB7XG4gICAgICAgICAgICBjb25zdCBhZnRlckFtcCA9IHZhbGlkYXRlQW1wZXJzYW5kKHhtbERhdGEsIGkpO1xuICAgICAgICAgICAgaWYgKGFmdGVyQW1wID09IC0xKVxuICAgICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRDaGFyJywgXCJjaGFyICcmJyBpcyBub3QgZXhwZWN0ZWQuXCIsIGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCBpKSk7XG4gICAgICAgICAgICBpID0gYWZ0ZXJBbXA7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpZiAocmVhY2hlZFJvb3QgPT09IHRydWUgJiYgIWlzV2hpdGVTcGFjZSh4bWxEYXRhW2ldKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRYbWwnLCBcIkV4dHJhIHRleHQgYXQgdGhlIGVuZFwiLCBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSAvL2VuZCBvZiByZWFkaW5nIHRhZyB0ZXh0IHZhbHVlXG4gICAgICAgIGlmICh4bWxEYXRhW2ldID09PSAnPCcpIHtcbiAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCBpc1doaXRlU3BhY2UoeG1sRGF0YVtpXSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRDaGFyJywgXCJjaGFyICdcIit4bWxEYXRhW2ldK1wiJyBpcyBub3QgZXhwZWN0ZWQuXCIsIGdldExpbmVOdW1iZXJGb3JQb3NpdGlvbih4bWxEYXRhLCBpKSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCF0YWdGb3VuZCkge1xuICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZFhtbCcsICdTdGFydCB0YWcgZXhwZWN0ZWQuJywgMSk7XG4gIH1lbHNlIGlmICh0YWdzLmxlbmd0aCA9PSAxKSB7XG4gICAgICByZXR1cm4gZ2V0RXJyb3JPYmplY3QoJ0ludmFsaWRUYWcnLCBcIlVuY2xvc2VkIHRhZyAnXCIrdGFnc1swXS50YWdOYW1lK1wiJy5cIiwgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIHRhZ3NbMF0udGFnU3RhcnRQb3MpKTtcbiAgfWVsc2UgaWYgKHRhZ3MubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkWG1sJywgXCJJbnZhbGlkICdcIitcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh0YWdzLm1hcCh0ID0+IHQudGFnTmFtZSksIG51bGwsIDQpLnJlcGxhY2UoL1xccj9cXG4vZywgJycpK1xuICAgICAgICAgIFwiJyBmb3VuZC5cIiwge2xpbmU6IDEsIGNvbDogMX0pO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBpc1doaXRlU3BhY2UoY2hhcil7XG4gIHJldHVybiBjaGFyID09PSAnICcgfHwgY2hhciA9PT0gJ1xcdCcgfHwgY2hhciA9PT0gJ1xcbicgIHx8IGNoYXIgPT09ICdcXHInO1xufVxuLyoqXG4gKiBSZWFkIFByb2Nlc3NpbmcgaW5zc3RydWN0aW9ucyBhbmQgc2tpcFxuICogQHBhcmFtIHsqfSB4bWxEYXRhXG4gKiBAcGFyYW0geyp9IGlcbiAqL1xuZnVuY3Rpb24gcmVhZFBJKHhtbERhdGEsIGkpIHtcbiAgY29uc3Qgc3RhcnQgPSBpO1xuICBmb3IgKDsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoeG1sRGF0YVtpXSA9PSAnPycgfHwgeG1sRGF0YVtpXSA9PSAnICcpIHtcbiAgICAgIC8vdGFnbmFtZVxuICAgICAgY29uc3QgdGFnbmFtZSA9IHhtbERhdGEuc3Vic3RyKHN0YXJ0LCBpIC0gc3RhcnQpO1xuICAgICAgaWYgKGkgPiA1ICYmIHRhZ25hbWUgPT09ICd4bWwnKSB7XG4gICAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZFhtbCcsICdYTUwgZGVjbGFyYXRpb24gYWxsb3dlZCBvbmx5IGF0IHRoZSBzdGFydCBvZiB0aGUgZG9jdW1lbnQuJywgZ2V0TGluZU51bWJlckZvclBvc2l0aW9uKHhtbERhdGEsIGkpKTtcbiAgICAgIH0gZWxzZSBpZiAoeG1sRGF0YVtpXSA9PSAnPycgJiYgeG1sRGF0YVtpICsgMV0gPT0gJz4nKSB7XG4gICAgICAgIC8vY2hlY2sgaWYgdmFsaWQgYXR0cmlidXQgc3RyaW5nXG4gICAgICAgIGkrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGk7XG59XG5cbmZ1bmN0aW9uIHJlYWRDb21tZW50QW5kQ0RBVEEoeG1sRGF0YSwgaSkge1xuICBpZiAoeG1sRGF0YS5sZW5ndGggPiBpICsgNSAmJiB4bWxEYXRhW2kgKyAxXSA9PT0gJy0nICYmIHhtbERhdGFbaSArIDJdID09PSAnLScpIHtcbiAgICAvL2NvbW1lbnRcbiAgICBmb3IgKGkgKz0gMzsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh4bWxEYXRhW2ldID09PSAnLScgJiYgeG1sRGF0YVtpICsgMV0gPT09ICctJyAmJiB4bWxEYXRhW2kgKyAyXSA9PT0gJz4nKSB7XG4gICAgICAgIGkgKz0gMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKFxuICAgIHhtbERhdGEubGVuZ3RoID4gaSArIDggJiZcbiAgICB4bWxEYXRhW2kgKyAxXSA9PT0gJ0QnICYmXG4gICAgeG1sRGF0YVtpICsgMl0gPT09ICdPJyAmJlxuICAgIHhtbERhdGFbaSArIDNdID09PSAnQycgJiZcbiAgICB4bWxEYXRhW2kgKyA0XSA9PT0gJ1QnICYmXG4gICAgeG1sRGF0YVtpICsgNV0gPT09ICdZJyAmJlxuICAgIHhtbERhdGFbaSArIDZdID09PSAnUCcgJiZcbiAgICB4bWxEYXRhW2kgKyA3XSA9PT0gJ0UnXG4gICkge1xuICAgIGxldCBhbmdsZUJyYWNrZXRzQ291bnQgPSAxO1xuICAgIGZvciAoaSArPSA4OyBpIDwgeG1sRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHhtbERhdGFbaV0gPT09ICc8Jykge1xuICAgICAgICBhbmdsZUJyYWNrZXRzQ291bnQrKztcbiAgICAgIH0gZWxzZSBpZiAoeG1sRGF0YVtpXSA9PT0gJz4nKSB7XG4gICAgICAgIGFuZ2xlQnJhY2tldHNDb3VudC0tO1xuICAgICAgICBpZiAoYW5nbGVCcmFja2V0c0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoXG4gICAgeG1sRGF0YS5sZW5ndGggPiBpICsgOSAmJlxuICAgIHhtbERhdGFbaSArIDFdID09PSAnWycgJiZcbiAgICB4bWxEYXRhW2kgKyAyXSA9PT0gJ0MnICYmXG4gICAgeG1sRGF0YVtpICsgM10gPT09ICdEJyAmJlxuICAgIHhtbERhdGFbaSArIDRdID09PSAnQScgJiZcbiAgICB4bWxEYXRhW2kgKyA1XSA9PT0gJ1QnICYmXG4gICAgeG1sRGF0YVtpICsgNl0gPT09ICdBJyAmJlxuICAgIHhtbERhdGFbaSArIDddID09PSAnWydcbiAgKSB7XG4gICAgZm9yIChpICs9IDg7IGkgPCB4bWxEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoeG1sRGF0YVtpXSA9PT0gJ10nICYmIHhtbERhdGFbaSArIDFdID09PSAnXScgJiYgeG1sRGF0YVtpICsgMl0gPT09ICc+Jykge1xuICAgICAgICBpICs9IDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpO1xufVxuXG5jb25zdCBkb3VibGVRdW90ZSA9ICdcIic7XG5jb25zdCBzaW5nbGVRdW90ZSA9IFwiJ1wiO1xuXG4vKipcbiAqIEtlZXAgcmVhZGluZyB4bWxEYXRhIHVudGlsICc8JyBpcyBmb3VuZCBvdXRzaWRlIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gKiBAcGFyYW0ge3N0cmluZ30geG1sRGF0YVxuICogQHBhcmFtIHtudW1iZXJ9IGlcbiAqL1xuZnVuY3Rpb24gcmVhZEF0dHJpYnV0ZVN0cih4bWxEYXRhLCBpKSB7XG4gIGxldCBhdHRyU3RyID0gJyc7XG4gIGxldCBzdGFydENoYXIgPSAnJztcbiAgbGV0IHRhZ0Nsb3NlZCA9IGZhbHNlO1xuICBmb3IgKDsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoeG1sRGF0YVtpXSA9PT0gZG91YmxlUXVvdGUgfHwgeG1sRGF0YVtpXSA9PT0gc2luZ2xlUXVvdGUpIHtcbiAgICAgIGlmIChzdGFydENoYXIgPT09ICcnKSB7XG4gICAgICAgIHN0YXJ0Q2hhciA9IHhtbERhdGFbaV07XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0Q2hhciAhPT0geG1sRGF0YVtpXSkge1xuICAgICAgICAvL2lmIHZhdWUgaXMgZW5jbG9zZWQgd2l0aCBkb3VibGUgcXVvdGUgdGhlbiBzaW5nbGUgcXVvdGVzIGFyZSBhbGxvd2VkIGluc2lkZSB0aGUgdmFsdWUgYW5kIHZpY2UgdmVyc2FcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0Q2hhciA9ICcnO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoeG1sRGF0YVtpXSA9PT0gJz4nKSB7XG4gICAgICBpZiAoc3RhcnRDaGFyID09PSAnJykge1xuICAgICAgICB0YWdDbG9zZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgYXR0clN0ciArPSB4bWxEYXRhW2ldO1xuICB9XG4gIGlmIChzdGFydENoYXIgIT09ICcnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogYXR0clN0cixcbiAgICBpbmRleDogaSxcbiAgICB0YWdDbG9zZWQ6IHRhZ0Nsb3NlZFxuICB9O1xufVxuXG4vKipcbiAqIFNlbGVjdCBhbGwgdGhlIGF0dHJpYnV0ZXMgd2hldGhlciB2YWxpZCBvciBpbnZhbGlkLlxuICovXG5jb25zdCB2YWxpZEF0dHJTdHJSZWd4cCA9IG5ldyBSZWdFeHAoJyhcXFxccyopKFteXFxcXHM9XSspKFxcXFxzKj0pPyhcXFxccyooW1xcJ1wiXSkoKFtcXFxcc1xcXFxTXSkqPylcXFxcNSk/JywgJ2cnKTtcblxuLy9hdHRyLCA9XCJzZFwiLCBhPVwiYW1pdCdzXCIsIGE9XCJzZFwiYj1cInNhZlwiLCBhYiAgY2Q9XCJcIlxuXG5mdW5jdGlvbiB2YWxpZGF0ZUF0dHJpYnV0ZVN0cmluZyhhdHRyU3RyLCBvcHRpb25zKSB7XG4gIC8vY29uc29sZS5sb2coXCJzdGFydDpcIithdHRyU3RyK1wiOmVuZFwiKTtcblxuICAvL2lmKGF0dHJTdHIudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7IC8vZW1wdHkgc3RyaW5nXG5cbiAgY29uc3QgbWF0Y2hlcyA9IHV0aWwuZ2V0QWxsTWF0Y2hlcyhhdHRyU3RyLCB2YWxpZEF0dHJTdHJSZWd4cCk7XG4gIGNvbnN0IGF0dHJOYW1lcyA9IHt9O1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChtYXRjaGVzW2ldWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy9ub3NwYWNlIGJlZm9yZSBhdHRyaWJ1dGUgbmFtZTogYT1cInNkXCJiPVwic2FmXCJcbiAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZEF0dHInLCBcIkF0dHJpYnV0ZSAnXCIrbWF0Y2hlc1tpXVsyXStcIicgaGFzIG5vIHNwYWNlIGluIHN0YXJ0aW5nLlwiLCBnZXRQb3NpdGlvbkZyb21NYXRjaChtYXRjaGVzW2ldKSlcbiAgICB9IGVsc2UgaWYgKG1hdGNoZXNbaV1bM10gIT09IHVuZGVmaW5lZCAmJiBtYXRjaGVzW2ldWzRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZEF0dHInLCBcIkF0dHJpYnV0ZSAnXCIrbWF0Y2hlc1tpXVsyXStcIicgaXMgd2l0aG91dCB2YWx1ZS5cIiwgZ2V0UG9zaXRpb25Gcm9tTWF0Y2gobWF0Y2hlc1tpXSkpO1xuICAgIH0gZWxzZSBpZiAobWF0Y2hlc1tpXVszXSA9PT0gdW5kZWZpbmVkICYmICFvcHRpb25zLmFsbG93Qm9vbGVhbkF0dHJpYnV0ZXMpIHtcbiAgICAgIC8vaW5kZXBlbmRlbnQgYXR0cmlidXRlOiBhYlxuICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkQXR0cicsIFwiYm9vbGVhbiBhdHRyaWJ1dGUgJ1wiK21hdGNoZXNbaV1bMl0rXCInIGlzIG5vdCBhbGxvd2VkLlwiLCBnZXRQb3NpdGlvbkZyb21NYXRjaChtYXRjaGVzW2ldKSk7XG4gICAgfVxuICAgIC8qIGVsc2UgaWYobWF0Y2hlc1tpXVs2XSA9PT0gdW5kZWZpbmVkKXsvL2F0dHJpYnV0ZSB3aXRob3V0IHZhbHVlOiBhYj1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyOiB7IGNvZGU6XCJJbnZhbGlkQXR0clwiLG1zZzpcImF0dHJpYnV0ZSBcIiArIG1hdGNoZXNbaV1bMl0gKyBcIiBoYXMgbm8gdmFsdWUgYXNzaWduZWQuXCJ9fTtcbiAgICAgICAgICAgICAgICB9ICovXG4gICAgY29uc3QgYXR0ck5hbWUgPSBtYXRjaGVzW2ldWzJdO1xuICAgIGlmICghdmFsaWRhdGVBdHRyTmFtZShhdHRyTmFtZSkpIHtcbiAgICAgIHJldHVybiBnZXRFcnJvck9iamVjdCgnSW52YWxpZEF0dHInLCBcIkF0dHJpYnV0ZSAnXCIrYXR0ck5hbWUrXCInIGlzIGFuIGludmFsaWQgbmFtZS5cIiwgZ2V0UG9zaXRpb25Gcm9tTWF0Y2gobWF0Y2hlc1tpXSkpO1xuICAgIH1cbiAgICBpZiAoIWF0dHJOYW1lcy5oYXNPd25Qcm9wZXJ0eShhdHRyTmFtZSkpIHtcbiAgICAgIC8vY2hlY2sgZm9yIGR1cGxpY2F0ZSBhdHRyaWJ1dGUuXG4gICAgICBhdHRyTmFtZXNbYXR0ck5hbWVdID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldEVycm9yT2JqZWN0KCdJbnZhbGlkQXR0cicsIFwiQXR0cmlidXRlICdcIithdHRyTmFtZStcIicgaXMgcmVwZWF0ZWQuXCIsIGdldFBvc2l0aW9uRnJvbU1hdGNoKG1hdGNoZXNbaV0pKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXJBbXBlcnNhbmQoeG1sRGF0YSwgaSkge1xuICBsZXQgcmUgPSAvXFxkLztcbiAgaWYgKHhtbERhdGFbaV0gPT09ICd4Jykge1xuICAgIGkrKztcbiAgICByZSA9IC9bXFxkYS1mQS1GXS87XG4gIH1cbiAgZm9yICg7IGkgPCB4bWxEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHhtbERhdGFbaV0gPT09ICc7JylcbiAgICAgIHJldHVybiBpO1xuICAgIGlmICgheG1sRGF0YVtpXS5tYXRjaChyZSkpXG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQW1wZXJzYW5kKHhtbERhdGEsIGkpIHtcbiAgLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3htbC8jZHQtY2hhcnJlZlxuICBpKys7XG4gIGlmICh4bWxEYXRhW2ldID09PSAnOycpXG4gICAgcmV0dXJuIC0xO1xuICBpZiAoeG1sRGF0YVtpXSA9PT0gJyMnKSB7XG4gICAgaSsrO1xuICAgIHJldHVybiB2YWxpZGF0ZU51bWJlckFtcGVyc2FuZCh4bWxEYXRhLCBpKTtcbiAgfVxuICBsZXQgY291bnQgPSAwO1xuICBmb3IgKDsgaSA8IHhtbERhdGEubGVuZ3RoOyBpKyssIGNvdW50KyspIHtcbiAgICBpZiAoeG1sRGF0YVtpXS5tYXRjaCgvXFx3LykgJiYgY291bnQgPCAyMClcbiAgICAgIGNvbnRpbnVlO1xuICAgIGlmICh4bWxEYXRhW2ldID09PSAnOycpXG4gICAgICBicmVhaztcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgcmV0dXJuIGk7XG59XG5cbmZ1bmN0aW9uIGdldEVycm9yT2JqZWN0KGNvZGUsIG1lc3NhZ2UsIGxpbmVOdW1iZXIpIHtcbiAgcmV0dXJuIHtcbiAgICBlcnI6IHtcbiAgICAgIGNvZGU6IGNvZGUsXG4gICAgICBtc2c6IG1lc3NhZ2UsXG4gICAgICBsaW5lOiBsaW5lTnVtYmVyLmxpbmUgfHwgbGluZU51bWJlcixcbiAgICAgIGNvbDogbGluZU51bWJlci5jb2wsXG4gICAgfSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVBdHRyTmFtZShhdHRyTmFtZSkge1xuICByZXR1cm4gdXRpbC5pc05hbWUoYXR0ck5hbWUpO1xufVxuXG4vLyBjb25zdCBzdGFydHNXaXRoWE1MID0gL154bWwvaTtcblxuZnVuY3Rpb24gdmFsaWRhdGVUYWdOYW1lKHRhZ25hbWUpIHtcbiAgcmV0dXJuIHV0aWwuaXNOYW1lKHRhZ25hbWUpIC8qICYmICF0YWduYW1lLm1hdGNoKHN0YXJ0c1dpdGhYTUwpICovO1xufVxuXG4vL3RoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgbGluZSBudW1iZXIgZm9yIHRoZSBjaGFyYWN0ZXIgYXQgdGhlIGdpdmVuIGluZGV4XG5mdW5jdGlvbiBnZXRMaW5lTnVtYmVyRm9yUG9zaXRpb24oeG1sRGF0YSwgaW5kZXgpIHtcbiAgY29uc3QgbGluZXMgPSB4bWxEYXRhLnN1YnN0cmluZygwLCBpbmRleCkuc3BsaXQoL1xccj9cXG4vKTtcbiAgcmV0dXJuIHtcbiAgICBsaW5lOiBsaW5lcy5sZW5ndGgsXG5cbiAgICAvLyBjb2x1bW4gbnVtYmVyIGlzIGxhc3QgbGluZSdzIGxlbmd0aCArIDEsIGJlY2F1c2UgY29sdW1uIG51bWJlcmluZyBzdGFydHMgYXQgMTpcbiAgICBjb2w6IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aCArIDFcbiAgfTtcbn1cblxuLy90aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgbWF0Y2ggd2l0aGluIGF0dHJTdHJcbmZ1bmN0aW9uIGdldFBvc2l0aW9uRnJvbU1hdGNoKG1hdGNoKSB7XG4gIHJldHVybiBtYXRjaC5zdGFydEluZGV4ICsgbWF0Y2hbMV0ubGVuZ3RoO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuLy9wYXJzZSBFbXB0eSBOb2RlIGFzIHNlbGYgY2xvc2luZyBub2RlXG5jb25zdCBidWlsZEZyb21PcmRlcmVkSnMgPSByZXF1aXJlKCcuL29yZGVyZWRKczJYbWwnKTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGF0dHJpYnV0ZU5hbWVQcmVmaXg6ICdAXycsXG4gIGF0dHJpYnV0ZXNHcm91cE5hbWU6IGZhbHNlLFxuICB0ZXh0Tm9kZU5hbWU6ICcjdGV4dCcsXG4gIGlnbm9yZUF0dHJpYnV0ZXM6IHRydWUsXG4gIGNkYXRhUHJvcE5hbWU6IGZhbHNlLFxuICBmb3JtYXQ6IGZhbHNlLFxuICBpbmRlbnRCeTogJyAgJyxcbiAgc3VwcHJlc3NFbXB0eU5vZGU6IGZhbHNlLFxuICBzdXBwcmVzc1VucGFpcmVkTm9kZTogdHJ1ZSxcbiAgc3VwcHJlc3NCb29sZWFuQXR0cmlidXRlczogdHJ1ZSxcbiAgdGFnVmFsdWVQcm9jZXNzb3I6IGZ1bmN0aW9uKGtleSwgYSkge1xuICAgIHJldHVybiBhO1xuICB9LFxuICBhdHRyaWJ1dGVWYWx1ZVByb2Nlc3NvcjogZnVuY3Rpb24oYXR0ck5hbWUsIGEpIHtcbiAgICByZXR1cm4gYTtcbiAgfSxcbiAgcHJlc2VydmVPcmRlcjogZmFsc2UsXG4gIGNvbW1lbnRQcm9wTmFtZTogZmFsc2UsXG4gIHVucGFpcmVkVGFnczogW10sXG4gIGVudGl0aWVzOiBbXG4gICAgeyByZWdleDogbmV3IFJlZ0V4cChcIiZcIiwgXCJnXCIpLCB2YWw6IFwiJmFtcDtcIiB9LC8vaXQgbXVzdCBiZSBvbiB0b3BcbiAgICB7IHJlZ2V4OiBuZXcgUmVnRXhwKFwiPlwiLCBcImdcIiksIHZhbDogXCImZ3Q7XCIgfSxcbiAgICB7IHJlZ2V4OiBuZXcgUmVnRXhwKFwiPFwiLCBcImdcIiksIHZhbDogXCImbHQ7XCIgfSxcbiAgICB7IHJlZ2V4OiBuZXcgUmVnRXhwKFwiXFwnXCIsIFwiZ1wiKSwgdmFsOiBcIiZhcG9zO1wiIH0sXG4gICAgeyByZWdleDogbmV3IFJlZ0V4cChcIlxcXCJcIiwgXCJnXCIpLCB2YWw6IFwiJnF1b3Q7XCIgfVxuICBdLFxuICBwcm9jZXNzRW50aXRpZXM6IHRydWUsXG4gIHN0b3BOb2RlczogW10sXG4gIC8vIHRyYW5zZm9ybVRhZ05hbWU6IGZhbHNlLFxuICAvLyB0cmFuc2Zvcm1BdHRyaWJ1dGVOYW1lOiBmYWxzZSxcbiAgb25lTGlzdEdyb3VwOiBmYWxzZVxufTtcblxuZnVuY3Rpb24gQnVpbGRlcihvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgaWYgKHRoaXMub3B0aW9ucy5pZ25vcmVBdHRyaWJ1dGVzIHx8IHRoaXMub3B0aW9ucy5hdHRyaWJ1dGVzR3JvdXBOYW1lKSB7XG4gICAgdGhpcy5pc0F0dHJpYnV0ZSA9IGZ1bmN0aW9uKC8qYSovKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmF0dHJQcmVmaXhMZW4gPSB0aGlzLm9wdGlvbnMuYXR0cmlidXRlTmFtZVByZWZpeC5sZW5ndGg7XG4gICAgdGhpcy5pc0F0dHJpYnV0ZSA9IGlzQXR0cmlidXRlO1xuICB9XG5cbiAgdGhpcy5wcm9jZXNzVGV4dE9yT2JqTm9kZSA9IHByb2Nlc3NUZXh0T3JPYmpOb2RlXG5cbiAgaWYgKHRoaXMub3B0aW9ucy5mb3JtYXQpIHtcbiAgICB0aGlzLmluZGVudGF0ZSA9IGluZGVudGF0ZTtcbiAgICB0aGlzLnRhZ0VuZENoYXIgPSAnPlxcbic7XG4gICAgdGhpcy5uZXdMaW5lID0gJ1xcbic7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5pbmRlbnRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9O1xuICAgIHRoaXMudGFnRW5kQ2hhciA9ICc+JztcbiAgICB0aGlzLm5ld0xpbmUgPSAnJztcbiAgfVxufVxuXG5CdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uKGpPYmopIHtcbiAgaWYodGhpcy5vcHRpb25zLnByZXNlcnZlT3JkZXIpe1xuICAgIHJldHVybiBidWlsZEZyb21PcmRlcmVkSnMoak9iaiwgdGhpcy5vcHRpb25zKTtcbiAgfWVsc2Uge1xuICAgIGlmKEFycmF5LmlzQXJyYXkoak9iaikgJiYgdGhpcy5vcHRpb25zLmFycmF5Tm9kZU5hbWUgJiYgdGhpcy5vcHRpb25zLmFycmF5Tm9kZU5hbWUubGVuZ3RoID4gMSl7XG4gICAgICBqT2JqID0ge1xuICAgICAgICBbdGhpcy5vcHRpb25zLmFycmF5Tm9kZU5hbWVdIDogak9ialxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5qMngoak9iaiwgMCkudmFsO1xuICB9XG59O1xuXG5CdWlsZGVyLnByb3RvdHlwZS5qMnggPSBmdW5jdGlvbihqT2JqLCBsZXZlbCkge1xuICBsZXQgYXR0clN0ciA9ICcnO1xuICBsZXQgdmFsID0gJyc7XG4gIGZvciAobGV0IGtleSBpbiBqT2JqKSB7XG4gICAgaWYgKHR5cGVvZiBqT2JqW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBzdXByZXNzIHVuZGVmaW5lZCBub2RlXG4gICAgfSBlbHNlIGlmIChqT2JqW2tleV0gPT09IG51bGwpIHtcbiAgICAgIGlmKGtleVswXSA9PT0gXCI/XCIpIHZhbCArPSB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyAnPycgKyB0aGlzLnRhZ0VuZENoYXI7XG4gICAgICBlbHNlIHZhbCArPSB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyAnLycgKyB0aGlzLnRhZ0VuZENoYXI7XG4gICAgICAvLyB2YWwgKz0gdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgJzwnICsga2V5ICsgJy8nICsgdGhpcy50YWdFbmRDaGFyO1xuICAgIH0gZWxzZSBpZiAoak9ialtrZXldIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgdmFsICs9IHRoaXMuYnVpbGRUZXh0VmFsTm9kZShqT2JqW2tleV0sIGtleSwgJycsIGxldmVsKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBqT2JqW2tleV0gIT09ICdvYmplY3QnKSB7XG4gICAgICAvL3ByZW1pdGl2ZSB0eXBlXG4gICAgICBjb25zdCBhdHRyID0gdGhpcy5pc0F0dHJpYnV0ZShrZXkpO1xuICAgICAgaWYgKGF0dHIpIHtcbiAgICAgICAgYXR0clN0ciArPSB0aGlzLmJ1aWxkQXR0clBhaXJTdHIoYXR0ciwgJycgKyBqT2JqW2tleV0pO1xuICAgICAgfWVsc2Uge1xuICAgICAgICAvL3RhZyB2YWx1ZVxuICAgICAgICBpZiAoa2V5ID09PSB0aGlzLm9wdGlvbnMudGV4dE5vZGVOYW1lKSB7XG4gICAgICAgICAgbGV0IG5ld3ZhbCA9IHRoaXMub3B0aW9ucy50YWdWYWx1ZVByb2Nlc3NvcihrZXksICcnICsgak9ialtrZXldKTtcbiAgICAgICAgICB2YWwgKz0gdGhpcy5yZXBsYWNlRW50aXRpZXNWYWx1ZShuZXd2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbCArPSB0aGlzLmJ1aWxkVGV4dFZhbE5vZGUoak9ialtrZXldLCBrZXksICcnLCBsZXZlbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoak9ialtrZXldKSkge1xuICAgICAgLy9yZXBlYXRlZCBub2Rlc1xuICAgICAgY29uc3QgYXJyTGVuID0gak9ialtrZXldLmxlbmd0aDtcbiAgICAgIGxldCBsaXN0VGFnVmFsID0gXCJcIjtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJyTGVuOyBqKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGpPYmpba2V5XVtqXTtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIC8vIHN1cHJlc3MgdW5kZWZpbmVkIG5vZGVcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtID09PSBudWxsKSB7XG4gICAgICAgICAgaWYoa2V5WzBdID09PSBcIj9cIikgdmFsICs9IHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArICc/JyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICAgICAgICBlbHNlIHZhbCArPSB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyAnLycgKyB0aGlzLnRhZ0VuZENoYXI7XG4gICAgICAgICAgLy8gdmFsICs9IHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArICcvJyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBpZih0aGlzLm9wdGlvbnMub25lTGlzdEdyb3VwICl7XG4gICAgICAgICAgICBsaXN0VGFnVmFsICs9IHRoaXMuajJ4KGl0ZW0sIGxldmVsICsgMSkudmFsO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgbGlzdFRhZ1ZhbCArPSB0aGlzLnByb2Nlc3NUZXh0T3JPYmpOb2RlKGl0ZW0sIGtleSwgbGV2ZWwpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpc3RUYWdWYWwgKz0gdGhpcy5idWlsZFRleHRWYWxOb2RlKGl0ZW0sIGtleSwgJycsIGxldmVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYodGhpcy5vcHRpb25zLm9uZUxpc3RHcm91cCl7XG4gICAgICAgIGxpc3RUYWdWYWwgPSB0aGlzLmJ1aWxkT2JqZWN0Tm9kZShsaXN0VGFnVmFsLCBrZXksICcnLCBsZXZlbCk7XG4gICAgICB9XG4gICAgICB2YWwgKz0gbGlzdFRhZ1ZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9uZXN0ZWQgbm9kZVxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdHRyaWJ1dGVzR3JvdXBOYW1lICYmIGtleSA9PT0gdGhpcy5vcHRpb25zLmF0dHJpYnV0ZXNHcm91cE5hbWUpIHtcbiAgICAgICAgY29uc3QgS3MgPSBPYmplY3Qua2V5cyhqT2JqW2tleV0pO1xuICAgICAgICBjb25zdCBMID0gS3MubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IEw7IGorKykge1xuICAgICAgICAgIGF0dHJTdHIgKz0gdGhpcy5idWlsZEF0dHJQYWlyU3RyKEtzW2pdLCAnJyArIGpPYmpba2V5XVtLc1tqXV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgKz0gdGhpcy5wcm9jZXNzVGV4dE9yT2JqTm9kZShqT2JqW2tleV0sIGtleSwgbGV2ZWwpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7YXR0clN0cjogYXR0clN0ciwgdmFsOiB2YWx9O1xufTtcblxuQnVpbGRlci5wcm90b3R5cGUuYnVpbGRBdHRyUGFpclN0ciA9IGZ1bmN0aW9uKGF0dHJOYW1lLCB2YWwpe1xuICB2YWwgPSB0aGlzLm9wdGlvbnMuYXR0cmlidXRlVmFsdWVQcm9jZXNzb3IoYXR0ck5hbWUsICcnICsgdmFsKTtcbiAgdmFsID0gdGhpcy5yZXBsYWNlRW50aXRpZXNWYWx1ZSh2YWwpO1xuICBpZiAodGhpcy5vcHRpb25zLnN1cHByZXNzQm9vbGVhbkF0dHJpYnV0ZXMgJiYgdmFsID09PSBcInRydWVcIikge1xuICAgIHJldHVybiAnICcgKyBhdHRyTmFtZTtcbiAgfSBlbHNlIHJldHVybiAnICcgKyBhdHRyTmFtZSArICc9XCInICsgdmFsICsgJ1wiJztcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc1RleHRPck9iak5vZGUgKG9iamVjdCwga2V5LCBsZXZlbCkge1xuICBjb25zdCByZXN1bHQgPSB0aGlzLmoyeChvYmplY3QsIGxldmVsICsgMSk7XG4gIGlmIChvYmplY3RbdGhpcy5vcHRpb25zLnRleHROb2RlTmFtZV0gIT09IHVuZGVmaW5lZCAmJiBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiB0aGlzLmJ1aWxkVGV4dFZhbE5vZGUob2JqZWN0W3RoaXMub3B0aW9ucy50ZXh0Tm9kZU5hbWVdLCBrZXksIHJlc3VsdC5hdHRyU3RyLCBsZXZlbCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuYnVpbGRPYmplY3ROb2RlKHJlc3VsdC52YWwsIGtleSwgcmVzdWx0LmF0dHJTdHIsIGxldmVsKTtcbiAgfVxufVxuXG5CdWlsZGVyLnByb3RvdHlwZS5idWlsZE9iamVjdE5vZGUgPSBmdW5jdGlvbih2YWwsIGtleSwgYXR0clN0ciwgbGV2ZWwpIHtcbiAgaWYodmFsID09PSBcIlwiKXtcbiAgICBpZihrZXlbMF0gPT09IFwiP1wiKSByZXR1cm4gIHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArIGF0dHJTdHIrICc/JyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyBhdHRyU3RyICsgdGhpcy5jbG9zZVRhZyhrZXkpICsgdGhpcy50YWdFbmRDaGFyO1xuICAgIH1cbiAgfWVsc2V7XG5cbiAgICBsZXQgdGFnRW5kRXhwID0gJzwvJyArIGtleSArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICBsZXQgcGlDbG9zaW5nQ2hhciA9IFwiXCI7XG4gICAgXG4gICAgaWYoa2V5WzBdID09PSBcIj9cIikge1xuICAgICAgcGlDbG9zaW5nQ2hhciA9IFwiP1wiO1xuICAgICAgdGFnRW5kRXhwID0gXCJcIjtcbiAgICB9XG4gIFxuICAgIGlmIChhdHRyU3RyICYmIHZhbC5pbmRleE9mKCc8JykgPT09IC0xKSB7XG4gICAgICByZXR1cm4gKCB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyAga2V5ICsgYXR0clN0ciArIHBpQ2xvc2luZ0NoYXIgKyAnPicgKyB2YWwgKyB0YWdFbmRFeHAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5jb21tZW50UHJvcE5hbWUgIT09IGZhbHNlICYmIGtleSA9PT0gdGhpcy5vcHRpb25zLmNvbW1lbnRQcm9wTmFtZSAmJiBwaUNsb3NpbmdDaGFyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZW50YXRlKGxldmVsKSArIGA8IS0tJHt2YWx9LS0+YCArIHRoaXMubmV3TGluZTtcbiAgICB9ZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyAnPCcgKyBrZXkgKyBhdHRyU3RyICsgcGlDbG9zaW5nQ2hhciArIHRoaXMudGFnRW5kQ2hhciArXG4gICAgICAgIHZhbCArXG4gICAgICAgIHRoaXMuaW5kZW50YXRlKGxldmVsKSArIHRhZ0VuZEV4cCAgICApO1xuICAgIH1cbiAgfVxufVxuXG5CdWlsZGVyLnByb3RvdHlwZS5jbG9zZVRhZyA9IGZ1bmN0aW9uKGtleSl7XG4gIGxldCBjbG9zZVRhZyA9IFwiXCI7XG4gIGlmKHRoaXMub3B0aW9ucy51bnBhaXJlZFRhZ3MuaW5kZXhPZihrZXkpICE9PSAtMSl7IC8vdW5wYWlyZWRcbiAgICBpZighdGhpcy5vcHRpb25zLnN1cHByZXNzVW5wYWlyZWROb2RlKSBjbG9zZVRhZyA9IFwiL1wiXG4gIH1lbHNlIGlmKHRoaXMub3B0aW9ucy5zdXBwcmVzc0VtcHR5Tm9kZSl7IC8vZW1wdHlcbiAgICBjbG9zZVRhZyA9IFwiL1wiO1xuICB9ZWxzZXtcbiAgICBjbG9zZVRhZyA9IGA+PC8ke2tleX1gXG4gIH1cbiAgcmV0dXJuIGNsb3NlVGFnO1xufVxuXG5mdW5jdGlvbiBidWlsZEVtcHR5T2JqTm9kZSh2YWwsIGtleSwgYXR0clN0ciwgbGV2ZWwpIHtcbiAgaWYgKHZhbCAhPT0gJycpIHtcbiAgICByZXR1cm4gdGhpcy5idWlsZE9iamVjdE5vZGUodmFsLCBrZXksIGF0dHJTdHIsIGxldmVsKTtcbiAgfSBlbHNlIHtcbiAgICBpZihrZXlbMF0gPT09IFwiP1wiKSByZXR1cm4gIHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArIGF0dHJTdHIrICc/JyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiAgdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgJzwnICsga2V5ICsgYXR0clN0ciArICcvJyArIHRoaXMudGFnRW5kQ2hhcjtcbiAgICAgIC8vIHJldHVybiB0aGlzLmJ1aWxkVGFnU3RyKGxldmVsLGtleSwgYXR0clN0cik7XG4gICAgfVxuICB9XG59XG5cbkJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkVGV4dFZhbE5vZGUgPSBmdW5jdGlvbih2YWwsIGtleSwgYXR0clN0ciwgbGV2ZWwpIHtcbiAgaWYgKHRoaXMub3B0aW9ucy5jZGF0YVByb3BOYW1lICE9PSBmYWxzZSAmJiBrZXkgPT09IHRoaXMub3B0aW9ucy5jZGF0YVByb3BOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZW50YXRlKGxldmVsKSArIGA8IVtDREFUQVske3ZhbH1dXT5gICsgIHRoaXMubmV3TGluZTtcbiAgfWVsc2UgaWYgKHRoaXMub3B0aW9ucy5jb21tZW50UHJvcE5hbWUgIT09IGZhbHNlICYmIGtleSA9PT0gdGhpcy5vcHRpb25zLmNvbW1lbnRQcm9wTmFtZSkge1xuICAgIHJldHVybiB0aGlzLmluZGVudGF0ZShsZXZlbCkgKyBgPCEtLSR7dmFsfS0tPmAgKyAgdGhpcy5uZXdMaW5lO1xuICB9ZWxzZSBpZihrZXlbMF0gPT09IFwiP1wiKSB7Ly9QSSB0YWdcbiAgICByZXR1cm4gIHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArIGF0dHJTdHIrICc/JyArIHRoaXMudGFnRW5kQ2hhcjsgXG4gIH1lbHNle1xuICAgIGxldCB0ZXh0VmFsdWUgPSB0aGlzLm9wdGlvbnMudGFnVmFsdWVQcm9jZXNzb3Ioa2V5LCB2YWwpO1xuICAgIHRleHRWYWx1ZSA9IHRoaXMucmVwbGFjZUVudGl0aWVzVmFsdWUodGV4dFZhbHVlKTtcbiAgXG4gICAgaWYoIHRleHRWYWx1ZSA9PT0gJycpe1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZW50YXRlKGxldmVsKSArICc8JyArIGtleSArIGF0dHJTdHIgKyB0aGlzLmNsb3NlVGFnKGtleSkgKyB0aGlzLnRhZ0VuZENoYXI7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gdGhpcy5pbmRlbnRhdGUobGV2ZWwpICsgJzwnICsga2V5ICsgYXR0clN0ciArICc+JyArXG4gICAgICAgICB0ZXh0VmFsdWUgK1xuICAgICAgICAnPC8nICsga2V5ICsgdGhpcy50YWdFbmRDaGFyO1xuICAgIH1cbiAgfVxufVxuXG5CdWlsZGVyLnByb3RvdHlwZS5yZXBsYWNlRW50aXRpZXNWYWx1ZSA9IGZ1bmN0aW9uKHRleHRWYWx1ZSl7XG4gIGlmKHRleHRWYWx1ZSAmJiB0ZXh0VmFsdWUubGVuZ3RoID4gMCAmJiB0aGlzLm9wdGlvbnMucHJvY2Vzc0VudGl0aWVzKXtcbiAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5vcHRpb25zLmVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLm9wdGlvbnMuZW50aXRpZXNbaV07XG4gICAgICB0ZXh0VmFsdWUgPSB0ZXh0VmFsdWUucmVwbGFjZShlbnRpdHkucmVnZXgsIGVudGl0eS52YWwpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGV4dFZhbHVlO1xufVxuXG5mdW5jdGlvbiBpbmRlbnRhdGUobGV2ZWwpIHtcbiAgcmV0dXJuIHRoaXMub3B0aW9ucy5pbmRlbnRCeS5yZXBlYXQobGV2ZWwpO1xufVxuXG5mdW5jdGlvbiBpc0F0dHJpYnV0ZShuYW1lIC8qLCBvcHRpb25zKi8pIHtcbiAgaWYgKG5hbWUuc3RhcnRzV2l0aCh0aGlzLm9wdGlvbnMuYXR0cmlidXRlTmFtZVByZWZpeCkpIHtcbiAgICByZXR1cm4gbmFtZS5zdWJzdHIodGhpcy5hdHRyUHJlZml4TGVuKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCdWlsZGVyO1xuIiwiY29uc3QgRU9MID0gXCJcXG5cIjtcblxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7YXJyYXl9IGpBcnJheSBcbiAqIEBwYXJhbSB7YW55fSBvcHRpb25zIFxuICogQHJldHVybnMgXG4gKi9cbmZ1bmN0aW9uIHRvWG1sKGpBcnJheSwgb3B0aW9ucykge1xuICAgIGxldCBpbmRlbnRhdGlvbiA9IFwiXCI7XG4gICAgaWYgKG9wdGlvbnMuZm9ybWF0ICYmIG9wdGlvbnMuaW5kZW50QnkubGVuZ3RoID4gMCkge1xuICAgICAgICBpbmRlbnRhdGlvbiA9IEVPTDtcbiAgICB9XG4gICAgcmV0dXJuIGFyclRvU3RyKGpBcnJheSwgb3B0aW9ucywgXCJcIiwgaW5kZW50YXRpb24pO1xufVxuXG5mdW5jdGlvbiBhcnJUb1N0cihhcnIsIG9wdGlvbnMsIGpQYXRoLCBpbmRlbnRhdGlvbikge1xuICAgIGxldCB4bWxTdHIgPSBcIlwiO1xuICAgIGxldCBpc1ByZXZpb3VzRWxlbWVudFRhZyA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdGFnT2JqID0gYXJyW2ldO1xuICAgICAgICBjb25zdCB0YWdOYW1lID0gcHJvcE5hbWUodGFnT2JqKTtcbiAgICAgICAgbGV0IG5ld0pQYXRoID0gXCJcIjtcbiAgICAgICAgaWYgKGpQYXRoLmxlbmd0aCA9PT0gMCkgbmV3SlBhdGggPSB0YWdOYW1lXG4gICAgICAgIGVsc2UgbmV3SlBhdGggPSBgJHtqUGF0aH0uJHt0YWdOYW1lfWA7XG5cbiAgICAgICAgaWYgKHRhZ05hbWUgPT09IG9wdGlvbnMudGV4dE5vZGVOYW1lKSB7XG4gICAgICAgICAgICBsZXQgdGFnVGV4dCA9IHRhZ09ialt0YWdOYW1lXTtcbiAgICAgICAgICAgIGlmICghaXNTdG9wTm9kZShuZXdKUGF0aCwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICB0YWdUZXh0ID0gb3B0aW9ucy50YWdWYWx1ZVByb2Nlc3Nvcih0YWdOYW1lLCB0YWdUZXh0KTtcbiAgICAgICAgICAgICAgICB0YWdUZXh0ID0gcmVwbGFjZUVudGl0aWVzVmFsdWUodGFnVGV4dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNQcmV2aW91c0VsZW1lbnRUYWcpIHtcbiAgICAgICAgICAgICAgICB4bWxTdHIgKz0gaW5kZW50YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4bWxTdHIgKz0gdGFnVGV4dDtcbiAgICAgICAgICAgIGlzUHJldmlvdXNFbGVtZW50VGFnID0gZmFsc2U7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0YWdOYW1lID09PSBvcHRpb25zLmNkYXRhUHJvcE5hbWUpIHtcbiAgICAgICAgICAgIGlmIChpc1ByZXZpb3VzRWxlbWVudFRhZykge1xuICAgICAgICAgICAgICAgIHhtbFN0ciArPSBpbmRlbnRhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhtbFN0ciArPSBgPCFbQ0RBVEFbJHt0YWdPYmpbdGFnTmFtZV1bMF1bb3B0aW9ucy50ZXh0Tm9kZU5hbWVdfV1dPmA7XG4gICAgICAgICAgICBpc1ByZXZpb3VzRWxlbWVudFRhZyA9IGZhbHNlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAodGFnTmFtZSA9PT0gb3B0aW9ucy5jb21tZW50UHJvcE5hbWUpIHtcbiAgICAgICAgICAgIHhtbFN0ciArPSBpbmRlbnRhdGlvbiArIGA8IS0tJHt0YWdPYmpbdGFnTmFtZV1bMF1bb3B0aW9ucy50ZXh0Tm9kZU5hbWVdfS0tPmA7XG4gICAgICAgICAgICBpc1ByZXZpb3VzRWxlbWVudFRhZyA9IHRydWU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0YWdOYW1lWzBdID09PSBcIj9cIikge1xuICAgICAgICAgICAgY29uc3QgYXR0U3RyID0gYXR0cl90b19zdHIodGFnT2JqW1wiOkBcIl0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgdGVtcEluZCA9IHRhZ05hbWUgPT09IFwiP3htbFwiID8gXCJcIiA6IGluZGVudGF0aW9uO1xuICAgICAgICAgICAgbGV0IHBpVGV4dE5vZGVOYW1lID0gdGFnT2JqW3RhZ05hbWVdWzBdW29wdGlvbnMudGV4dE5vZGVOYW1lXTtcbiAgICAgICAgICAgIHBpVGV4dE5vZGVOYW1lID0gcGlUZXh0Tm9kZU5hbWUubGVuZ3RoICE9PSAwID8gXCIgXCIgKyBwaVRleHROb2RlTmFtZSA6IFwiXCI7IC8vcmVtb3ZlIGV4dHJhIHNwYWNpbmdcbiAgICAgICAgICAgIHhtbFN0ciArPSB0ZW1wSW5kICsgYDwke3RhZ05hbWV9JHtwaVRleHROb2RlTmFtZX0ke2F0dFN0cn0/PmA7XG4gICAgICAgICAgICBpc1ByZXZpb3VzRWxlbWVudFRhZyA9IHRydWU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV3SWRlbnRhdGlvbiA9IGluZGVudGF0aW9uO1xuICAgICAgICBpZiAobmV3SWRlbnRhdGlvbiAhPT0gXCJcIikge1xuICAgICAgICAgICAgbmV3SWRlbnRhdGlvbiArPSBvcHRpb25zLmluZGVudEJ5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF0dFN0ciA9IGF0dHJfdG9fc3RyKHRhZ09ialtcIjpAXCJdLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgdGFnU3RhcnQgPSBpbmRlbnRhdGlvbiArIGA8JHt0YWdOYW1lfSR7YXR0U3RyfWA7XG4gICAgICAgIGNvbnN0IHRhZ1ZhbHVlID0gYXJyVG9TdHIodGFnT2JqW3RhZ05hbWVdLCBvcHRpb25zLCBuZXdKUGF0aCwgbmV3SWRlbnRhdGlvbik7XG4gICAgICAgIGlmIChvcHRpb25zLnVucGFpcmVkVGFncy5pbmRleE9mKHRhZ05hbWUpICE9PSAtMSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VwcHJlc3NVbnBhaXJlZE5vZGUpIHhtbFN0ciArPSB0YWdTdGFydCArIFwiPlwiO1xuICAgICAgICAgICAgZWxzZSB4bWxTdHIgKz0gdGFnU3RhcnQgKyBcIi8+XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoKCF0YWdWYWx1ZSB8fCB0YWdWYWx1ZS5sZW5ndGggPT09IDApICYmIG9wdGlvbnMuc3VwcHJlc3NFbXB0eU5vZGUpIHtcbiAgICAgICAgICAgIHhtbFN0ciArPSB0YWdTdGFydCArIFwiLz5cIjtcbiAgICAgICAgfSBlbHNlIGlmICh0YWdWYWx1ZSAmJiB0YWdWYWx1ZS5lbmRzV2l0aChcIj5cIikpIHtcbiAgICAgICAgICAgIHhtbFN0ciArPSB0YWdTdGFydCArIGA+JHt0YWdWYWx1ZX0ke2luZGVudGF0aW9ufTwvJHt0YWdOYW1lfT5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeG1sU3RyICs9IHRhZ1N0YXJ0ICsgXCI+XCI7XG4gICAgICAgICAgICBpZiAodGFnVmFsdWUgJiYgaW5kZW50YXRpb24gIT09IFwiXCIgJiYgKHRhZ1ZhbHVlLmluY2x1ZGVzKFwiLz5cIikgfHwgdGFnVmFsdWUuaW5jbHVkZXMoXCI8L1wiKSkpIHtcbiAgICAgICAgICAgICAgICB4bWxTdHIgKz0gaW5kZW50YXRpb24gKyBvcHRpb25zLmluZGVudEJ5ICsgdGFnVmFsdWUgKyBpbmRlbnRhdGlvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeG1sU3RyICs9IHRhZ1ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeG1sU3RyICs9IGA8LyR7dGFnTmFtZX0+YDtcbiAgICAgICAgfVxuICAgICAgICBpc1ByZXZpb3VzRWxlbWVudFRhZyA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHhtbFN0cjtcbn1cblxuZnVuY3Rpb24gcHJvcE5hbWUob2JqKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgIGlmIChrZXkgIT09IFwiOkBcIikgcmV0dXJuIGtleTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGF0dHJfdG9fc3RyKGF0dHJNYXAsIG9wdGlvbnMpIHtcbiAgICBsZXQgYXR0clN0ciA9IFwiXCI7XG4gICAgaWYgKGF0dHJNYXAgJiYgIW9wdGlvbnMuaWdub3JlQXR0cmlidXRlcykge1xuICAgICAgICBmb3IgKGxldCBhdHRyIGluIGF0dHJNYXApIHtcbiAgICAgICAgICAgIGxldCBhdHRyVmFsID0gb3B0aW9ucy5hdHRyaWJ1dGVWYWx1ZVByb2Nlc3NvcihhdHRyLCBhdHRyTWFwW2F0dHJdKTtcbiAgICAgICAgICAgIGF0dHJWYWwgPSByZXBsYWNlRW50aXRpZXNWYWx1ZShhdHRyVmFsLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChhdHRyVmFsID09PSB0cnVlICYmIG9wdGlvbnMuc3VwcHJlc3NCb29sZWFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGF0dHJTdHIgKz0gYCAke2F0dHIuc3Vic3RyKG9wdGlvbnMuYXR0cmlidXRlTmFtZVByZWZpeC5sZW5ndGgpfWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJTdHIgKz0gYCAke2F0dHIuc3Vic3RyKG9wdGlvbnMuYXR0cmlidXRlTmFtZVByZWZpeC5sZW5ndGgpfT1cIiR7YXR0clZhbH1cImA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGF0dHJTdHI7XG59XG5cbmZ1bmN0aW9uIGlzU3RvcE5vZGUoalBhdGgsIG9wdGlvbnMpIHtcbiAgICBqUGF0aCA9IGpQYXRoLnN1YnN0cigwLCBqUGF0aC5sZW5ndGggLSBvcHRpb25zLnRleHROb2RlTmFtZS5sZW5ndGggLSAxKTtcbiAgICBsZXQgdGFnTmFtZSA9IGpQYXRoLnN1YnN0cihqUGF0aC5sYXN0SW5kZXhPZihcIi5cIikgKyAxKTtcbiAgICBmb3IgKGxldCBpbmRleCBpbiBvcHRpb25zLnN0b3BOb2Rlcykge1xuICAgICAgICBpZiAob3B0aW9ucy5zdG9wTm9kZXNbaW5kZXhdID09PSBqUGF0aCB8fCBvcHRpb25zLnN0b3BOb2Rlc1tpbmRleF0gPT09IFwiKi5cIiArIHRhZ05hbWUpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VFbnRpdGllc1ZhbHVlKHRleHRWYWx1ZSwgb3B0aW9ucykge1xuICAgIGlmICh0ZXh0VmFsdWUgJiYgdGV4dFZhbHVlLmxlbmd0aCA+IDAgJiYgb3B0aW9ucy5wcm9jZXNzRW50aXRpZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLmVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRpdHkgPSBvcHRpb25zLmVudGl0aWVzW2ldO1xuICAgICAgICAgICAgdGV4dFZhbHVlID0gdGV4dFZhbHVlLnJlcGxhY2UoZW50aXR5LnJlZ2V4LCBlbnRpdHkudmFsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dFZhbHVlO1xufVxubW9kdWxlLmV4cG9ydHMgPSB0b1htbDtcbiIsIi8vVE9ETzogaGFuZGxlIGNvbW1lbnRzXG5mdW5jdGlvbiByZWFkRG9jVHlwZSh4bWxEYXRhLCBpKXtcbiAgICBcbiAgICBjb25zdCBlbnRpdGllcyA9IHt9O1xuICAgIGlmKCB4bWxEYXRhW2kgKyAzXSA9PT0gJ08nICYmXG4gICAgICAgICB4bWxEYXRhW2kgKyA0XSA9PT0gJ0MnICYmXG4gICAgICAgICB4bWxEYXRhW2kgKyA1XSA9PT0gJ1QnICYmXG4gICAgICAgICB4bWxEYXRhW2kgKyA2XSA9PT0gJ1knICYmXG4gICAgICAgICB4bWxEYXRhW2kgKyA3XSA9PT0gJ1AnICYmXG4gICAgICAgICB4bWxEYXRhW2kgKyA4XSA9PT0gJ0UnKVxuICAgIHsgICAgXG4gICAgICAgIGkgPSBpKzk7XG4gICAgICAgIGxldCBhbmdsZUJyYWNrZXRzQ291bnQgPSAxO1xuICAgICAgICBsZXQgaGFzQm9keSA9IGZhbHNlLCBjb21tZW50ID0gZmFsc2U7XG4gICAgICAgIGxldCBleHAgPSBcIlwiO1xuICAgICAgICBmb3IoO2k8eG1sRGF0YS5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgIGlmICh4bWxEYXRhW2ldID09PSAnPCcgJiYgIWNvbW1lbnQpIHsgLy9EZXRlcm1pbmUgdGhlIHRhZyB0eXBlXG4gICAgICAgICAgICAgICAgaWYoIGhhc0JvZHkgJiYgaXNFbnRpdHkoeG1sRGF0YSwgaSkpe1xuICAgICAgICAgICAgICAgICAgICBpICs9IDc7IFxuICAgICAgICAgICAgICAgICAgICBbZW50aXR5TmFtZSwgdmFsLGldID0gcmVhZEVudGl0eUV4cCh4bWxEYXRhLGkrMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbC5pbmRleE9mKFwiJlwiKSA9PT0gLTEpIC8vUGFyYW1ldGVyIGVudGl0aWVzIGFyZSBub3Qgc3VwcG9ydGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdGllc1sgdmFsaWRhdGVFbnRpdHlOYW1lKGVudGl0eU5hbWUpIF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVneCA6IFJlZ0V4cCggYCYke2VudGl0eU5hbWV9O2AsXCJnXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbDogdmFsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKCBoYXNCb2R5ICYmIGlzRWxlbWVudCh4bWxEYXRhLCBpKSkgIGkgKz0gODsvL05vdCBzdXBwb3J0ZWRcbiAgICAgICAgICAgICAgICBlbHNlIGlmKCBoYXNCb2R5ICYmIGlzQXR0bGlzdCh4bWxEYXRhLCBpKSkgIGkgKz0gODsvL05vdCBzdXBwb3J0ZWRcbiAgICAgICAgICAgICAgICBlbHNlIGlmKCBoYXNCb2R5ICYmIGlzTm90YXRpb24oeG1sRGF0YSwgaSkpIGkgKz0gOTsvL05vdCBzdXBwb3J0ZWRcbiAgICAgICAgICAgICAgICBlbHNlIGlmKCBpc0NvbW1lbnQpICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGVsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBET0NUWVBFXCIpO1xuXG4gICAgICAgICAgICAgICAgYW5nbGVCcmFja2V0c0NvdW50Kys7XG4gICAgICAgICAgICAgICAgZXhwID0gXCJcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeG1sRGF0YVtpXSA9PT0gJz4nKSB7IC8vUmVhZCB0YWcgY29udGVudFxuICAgICAgICAgICAgICAgIGlmKGNvbW1lbnQpe1xuICAgICAgICAgICAgICAgICAgICBpZiggeG1sRGF0YVtpIC0gMV0gPT09IFwiLVwiICYmIHhtbERhdGFbaSAtIDJdID09PSBcIi1cIil7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmdsZUJyYWNrZXRzQ291bnQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBhbmdsZUJyYWNrZXRzQ291bnQtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFuZ2xlQnJhY2tldHNDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfWVsc2UgaWYoIHhtbERhdGFbaV0gPT09ICdbJyl7XG4gICAgICAgICAgICAgICAgaGFzQm9keSA9IHRydWU7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBleHAgKz0geG1sRGF0YVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihhbmdsZUJyYWNrZXRzQ291bnQgIT09IDApe1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmNsb3NlZCBET0NUWVBFYCk7XG4gICAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIFRhZyBpbnN0ZWFkIG9mIERPQ1RZUEVgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtlbnRpdGllcywgaX07XG59XG5cbmZ1bmN0aW9uIHJlYWRFbnRpdHlFeHAoeG1sRGF0YSxpKXtcbiAgICAvL0V4dGVybmFsIGVudGl0aWVzIGFyZSBub3Qgc3VwcG9ydGVkXG4gICAgLy8gICAgPCFFTlRJVFkgZXh0IFNZU1RFTSBcImh0dHA6Ly9ub3JtYWwtd2Vic2l0ZS5jb21cIiA+XG5cbiAgICAvL1BhcmFtZXRlciBlbnRpdGllcyBhcmUgbm90IHN1cHBvcnRlZFxuICAgIC8vICAgIDwhRU5USVRZIGVudGl0eW5hbWUgXCImYW5vdGhlckVsZW1lbnQ7XCI+XG5cbiAgICAvL0ludGVybmFsIGVudGl0aWVzIGFyZSBzdXBwb3J0ZWRcbiAgICAvLyAgICA8IUVOVElUWSBlbnRpdHluYW1lIFwicmVwbGFjZW1lbnQgdGV4dFwiPlxuICAgIFxuICAgIC8vcmVhZCBFbnRpdHlOYW1lXG4gICAgbGV0IGVudGl0eU5hbWUgPSBcIlwiO1xuICAgIGZvciAoOyBpIDwgeG1sRGF0YS5sZW5ndGggJiYgKHhtbERhdGFbaV0gIT09IFwiJ1wiICYmIHhtbERhdGFbaV0gIT09ICdcIicgKTsgaSsrKSB7XG4gICAgICAgIC8vIGlmKHhtbERhdGFbaV0gPT09IFwiIFwiKSBjb250aW51ZTtcbiAgICAgICAgLy8gZWxzZSBcbiAgICAgICAgZW50aXR5TmFtZSArPSB4bWxEYXRhW2ldO1xuICAgIH1cbiAgICBlbnRpdHlOYW1lID0gZW50aXR5TmFtZS50cmltKCk7XG4gICAgaWYoZW50aXR5TmFtZS5pbmRleE9mKFwiIFwiKSAhPT0gLTEpIHRocm93IG5ldyBFcnJvcihcIkV4dGVybmFsIGVudGl0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcIik7XG5cbiAgICAvL3JlYWQgRW50aXR5IFZhbHVlXG4gICAgY29uc3Qgc3RhcnRDaGFyID0geG1sRGF0YVtpKytdO1xuICAgIGxldCB2YWwgPSBcIlwiXG4gICAgZm9yICg7IGkgPCB4bWxEYXRhLmxlbmd0aCAmJiB4bWxEYXRhW2ldICE9PSBzdGFydENoYXIgOyBpKyspIHtcbiAgICAgICAgdmFsICs9IHhtbERhdGFbaV07XG4gICAgfVxuICAgIHJldHVybiBbZW50aXR5TmFtZSwgdmFsLCBpXTtcbn1cblxuZnVuY3Rpb24gaXNDb21tZW50KHhtbERhdGEsIGkpe1xuICAgIGlmKHhtbERhdGFbaSsxXSA9PT0gJyEnICYmXG4gICAgeG1sRGF0YVtpKzJdID09PSAnLScgJiZcbiAgICB4bWxEYXRhW2krM10gPT09ICctJykgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2Vcbn1cbmZ1bmN0aW9uIGlzRW50aXR5KHhtbERhdGEsIGkpe1xuICAgIGlmKHhtbERhdGFbaSsxXSA9PT0gJyEnICYmXG4gICAgeG1sRGF0YVtpKzJdID09PSAnRScgJiZcbiAgICB4bWxEYXRhW2krM10gPT09ICdOJyAmJlxuICAgIHhtbERhdGFbaSs0XSA9PT0gJ1QnICYmXG4gICAgeG1sRGF0YVtpKzVdID09PSAnSScgJiZcbiAgICB4bWxEYXRhW2krNl0gPT09ICdUJyAmJlxuICAgIHhtbERhdGFbaSs3XSA9PT0gJ1knKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxufVxuZnVuY3Rpb24gaXNFbGVtZW50KHhtbERhdGEsIGkpe1xuICAgIGlmKHhtbERhdGFbaSsxXSA9PT0gJyEnICYmXG4gICAgeG1sRGF0YVtpKzJdID09PSAnRScgJiZcbiAgICB4bWxEYXRhW2krM10gPT09ICdMJyAmJlxuICAgIHhtbERhdGFbaSs0XSA9PT0gJ0UnICYmXG4gICAgeG1sRGF0YVtpKzVdID09PSAnTScgJiZcbiAgICB4bWxEYXRhW2krNl0gPT09ICdFJyAmJlxuICAgIHhtbERhdGFbaSs3XSA9PT0gJ04nICYmXG4gICAgeG1sRGF0YVtpKzhdID09PSAnVCcpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIGlzQXR0bGlzdCh4bWxEYXRhLCBpKXtcbiAgICBpZih4bWxEYXRhW2krMV0gPT09ICchJyAmJlxuICAgIHhtbERhdGFbaSsyXSA9PT0gJ0EnICYmXG4gICAgeG1sRGF0YVtpKzNdID09PSAnVCcgJiZcbiAgICB4bWxEYXRhW2krNF0gPT09ICdUJyAmJlxuICAgIHhtbERhdGFbaSs1XSA9PT0gJ0wnICYmXG4gICAgeG1sRGF0YVtpKzZdID09PSAnSScgJiZcbiAgICB4bWxEYXRhW2krN10gPT09ICdTJyAmJlxuICAgIHhtbERhdGFbaSs4XSA9PT0gJ1QnKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxufVxuZnVuY3Rpb24gaXNOb3RhdGlvbih4bWxEYXRhLCBpKXtcbiAgICBpZih4bWxEYXRhW2krMV0gPT09ICchJyAmJlxuICAgIHhtbERhdGFbaSsyXSA9PT0gJ04nICYmXG4gICAgeG1sRGF0YVtpKzNdID09PSAnTycgJiZcbiAgICB4bWxEYXRhW2krNF0gPT09ICdUJyAmJlxuICAgIHhtbERhdGFbaSs1XSA9PT0gJ0EnICYmXG4gICAgeG1sRGF0YVtpKzZdID09PSAnVCcgJiZcbiAgICB4bWxEYXRhW2krN10gPT09ICdJJyAmJlxuICAgIHhtbERhdGFbaSs4XSA9PT0gJ08nICYmXG4gICAgeG1sRGF0YVtpKzldID09PSAnTicpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG59XG5cbi8vYW4gZW50aXR5IG5hbWUgc2hvdWxkIG5vdCBjb250YWlucyBzcGVjaWFsIGNoYXJhY3RlcnMgdGhhdCBtYXkgYmUgdXNlZCBpbiByZWdleFxuLy9FZyAhP1xcXFxcXC9bXSQle31eJiooKTw+XG5jb25zdCBzcGVjaWFsQ2hhciA9IFwiIT9cXFxcXFwvW10kJXt9XiYqKCk8PnwrXCI7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRW50aXR5TmFtZShuYW1lKXtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwZWNpYWxDaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoID0gc3BlY2lhbENoYXJbaV07XG4gICAgICAgIGlmKG5hbWUuaW5kZXhPZihjaCkgIT09IC0xKSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY2hhcmFjdGVyICR7Y2h9IGluIGVudGl0eSBuYW1lYCk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlYWREb2NUeXBlOyIsIlxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgcHJlc2VydmVPcmRlcjogZmFsc2UsXG4gICAgYXR0cmlidXRlTmFtZVByZWZpeDogJ0BfJyxcbiAgICBhdHRyaWJ1dGVzR3JvdXBOYW1lOiBmYWxzZSxcbiAgICB0ZXh0Tm9kZU5hbWU6ICcjdGV4dCcsXG4gICAgaWdub3JlQXR0cmlidXRlczogdHJ1ZSxcbiAgICByZW1vdmVOU1ByZWZpeDogZmFsc2UsIC8vIHJlbW92ZSBOUyBmcm9tIHRhZyBuYW1lIG9yIGF0dHJpYnV0ZSBuYW1lIGlmIHRydWVcbiAgICBhbGxvd0Jvb2xlYW5BdHRyaWJ1dGVzOiBmYWxzZSwgLy9hIHRhZyBjYW4gaGF2ZSBhdHRyaWJ1dGVzIHdpdGhvdXQgYW55IHZhbHVlXG4gICAgLy9pZ25vcmVSb290RWxlbWVudCA6IGZhbHNlLFxuICAgIHBhcnNlVGFnVmFsdWU6IHRydWUsXG4gICAgcGFyc2VBdHRyaWJ1dGVWYWx1ZTogZmFsc2UsXG4gICAgdHJpbVZhbHVlczogdHJ1ZSwgLy9UcmltIHN0cmluZyB2YWx1ZXMgb2YgdGFnIGFuZCBhdHRyaWJ1dGVzXG4gICAgY2RhdGFQcm9wTmFtZTogZmFsc2UsXG4gICAgbnVtYmVyUGFyc2VPcHRpb25zOiB7XG4gICAgICBoZXg6IHRydWUsXG4gICAgICBsZWFkaW5nWmVyb3M6IHRydWUsXG4gICAgICBlTm90YXRpb246IHRydWVcbiAgICB9LFxuICAgIHRhZ1ZhbHVlUHJvY2Vzc29yOiBmdW5jdGlvbih0YWdOYW1lLCB2YWwpIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfSxcbiAgICBhdHRyaWJ1dGVWYWx1ZVByb2Nlc3NvcjogZnVuY3Rpb24oYXR0ck5hbWUsIHZhbCkge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuICAgIHN0b3BOb2RlczogW10sIC8vbmVzdGVkIHRhZ3Mgd2lsbCBub3QgYmUgcGFyc2VkIGV2ZW4gZm9yIGVycm9yc1xuICAgIGFsd2F5c0NyZWF0ZVRleHROb2RlOiBmYWxzZSxcbiAgICBpc0FycmF5OiAoKSA9PiBmYWxzZSxcbiAgICBjb21tZW50UHJvcE5hbWU6IGZhbHNlLFxuICAgIHVucGFpcmVkVGFnczogW10sXG4gICAgcHJvY2Vzc0VudGl0aWVzOiB0cnVlLFxuICAgIGh0bWxFbnRpdGllczogZmFsc2UsXG4gICAgaWdub3JlRGVjbGFyYXRpb246IGZhbHNlLFxuICAgIGlnbm9yZVBpVGFnczogZmFsc2UsXG4gICAgdHJhbnNmb3JtVGFnTmFtZTogZmFsc2UsXG4gICAgdHJhbnNmb3JtQXR0cmlidXRlTmFtZTogZmFsc2UsXG4gICAgdXBkYXRlVGFnOiBmdW5jdGlvbih0YWdOYW1lLCBqUGF0aCwgYXR0cnMpe1xuICAgICAgcmV0dXJuIHRhZ05hbWVcbiAgICB9LFxuICAgIC8vIHNraXBFbXB0eUxpc3RJdGVtOiBmYWxzZVxufTtcbiAgIFxuY29uc3QgYnVpbGRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG59O1xuXG5leHBvcnRzLmJ1aWxkT3B0aW9ucyA9IGJ1aWxkT3B0aW9ucztcbmV4cG9ydHMuZGVmYXVsdE9wdGlvbnMgPSBkZWZhdWx0T3B0aW9uczsiLCIndXNlIHN0cmljdCc7XG4vLy9AdHMtY2hlY2tcblxuY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcbmNvbnN0IHhtbE5vZGUgPSByZXF1aXJlKCcuL3htbE5vZGUnKTtcbmNvbnN0IHJlYWREb2NUeXBlID0gcmVxdWlyZShcIi4vRG9jVHlwZVJlYWRlclwiKTtcbmNvbnN0IHRvTnVtYmVyID0gcmVxdWlyZShcInN0cm51bVwiKTtcblxuY29uc3QgcmVneCA9XG4gICc8KCghXFxcXFtDREFUQVxcXFxbKFtcXFxcc1xcXFxTXSo/KShdXT4pKXwoKE5BTUU6KT8oTkFNRSkpKFtePl0qKT58KChcXFxcLykoTkFNRSlcXFxccyo+KSkoW148XSopJ1xuICAucmVwbGFjZSgvTkFNRS9nLCB1dGlsLm5hbWVSZWdleHApO1xuXG4vL2NvbnN0IHRhZ3NSZWd4ID0gbmV3IFJlZ0V4cChcIjwoXFxcXC8/W1xcXFx3OlxcXFwtXFwuX10rKShbXj5dKik+KFxcXFxzKlwiK2NkYXRhUmVneCtcIikqKFtePF0rKT9cIixcImdcIik7XG4vL2NvbnN0IHRhZ3NSZWd4ID0gbmV3IFJlZ0V4cChcIjwoXFxcXC8/KSgoXFxcXHcqOik/KFtcXFxcdzpcXFxcLVxcLl9dKykpKFtePl0qKT4oW148XSopKFwiK2NkYXRhUmVneCtcIihbXjxdKikpKihbXjxdKyk/XCIsXCJnXCIpO1xuXG5jbGFzcyBPcmRlcmVkT2JqUGFyc2Vye1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKXtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuY3VycmVudE5vZGUgPSBudWxsO1xuICAgIHRoaXMudGFnc05vZGVTdGFjayA9IFtdO1xuICAgIHRoaXMuZG9jVHlwZUVudGl0aWVzID0ge307XG4gICAgdGhpcy5sYXN0RW50aXRpZXMgPSB7XG4gICAgICBcImFwb3NcIiA6IHsgcmVnZXg6IC8mKGFwb3N8IzM5fCN4MjcpOy9nLCB2YWwgOiBcIidcIn0sXG4gICAgICBcImd0XCIgOiB7IHJlZ2V4OiAvJihndHwjNjJ8I3gzRSk7L2csIHZhbCA6IFwiPlwifSxcbiAgICAgIFwibHRcIiA6IHsgcmVnZXg6IC8mKGx0fCM2MHwjeDNDKTsvZywgdmFsIDogXCI8XCJ9LFxuICAgICAgXCJxdW90XCIgOiB7IHJlZ2V4OiAvJihxdW90fCMzNHwjeDIyKTsvZywgdmFsIDogXCJcXFwiXCJ9LFxuICAgIH07XG4gICAgdGhpcy5hbXBFbnRpdHkgPSB7IHJlZ2V4OiAvJihhbXB8IzM4fCN4MjYpOy9nLCB2YWwgOiBcIiZcIn07XG4gICAgdGhpcy5odG1sRW50aXRpZXMgPSB7XG4gICAgICBcInNwYWNlXCI6IHsgcmVnZXg6IC8mKG5ic3B8IzE2MCk7L2csIHZhbDogXCIgXCIgfSxcbiAgICAgIC8vIFwibHRcIiA6IHsgcmVnZXg6IC8mKGx0fCM2MCk7L2csIHZhbDogXCI8XCIgfSxcbiAgICAgIC8vIFwiZ3RcIiA6IHsgcmVnZXg6IC8mKGd0fCM2Mik7L2csIHZhbDogXCI+XCIgfSxcbiAgICAgIC8vIFwiYW1wXCIgOiB7IHJlZ2V4OiAvJihhbXB8IzM4KTsvZywgdmFsOiBcIiZcIiB9LFxuICAgICAgLy8gXCJxdW90XCIgOiB7IHJlZ2V4OiAvJihxdW90fCMzNCk7L2csIHZhbDogXCJcXFwiXCIgfSxcbiAgICAgIC8vIFwiYXBvc1wiIDogeyByZWdleDogLyYoYXBvc3wjMzkpOy9nLCB2YWw6IFwiJ1wiIH0sXG4gICAgICBcImNlbnRcIiA6IHsgcmVnZXg6IC8mKGNlbnR8IzE2Mik7L2csIHZhbDogXCLColwiIH0sXG4gICAgICBcInBvdW5kXCIgOiB7IHJlZ2V4OiAvJihwb3VuZHwjMTYzKTsvZywgdmFsOiBcIsKjXCIgfSxcbiAgICAgIFwieWVuXCIgOiB7IHJlZ2V4OiAvJih5ZW58IzE2NSk7L2csIHZhbDogXCLCpVwiIH0sXG4gICAgICBcImV1cm9cIiA6IHsgcmVnZXg6IC8mKGV1cm98IzgzNjQpOy9nLCB2YWw6IFwi4oKsXCIgfSxcbiAgICAgIFwiY29weXJpZ2h0XCIgOiB7IHJlZ2V4OiAvJihjb3B5fCMxNjkpOy9nLCB2YWw6IFwiwqlcIiB9LFxuICAgICAgXCJyZWdcIiA6IHsgcmVnZXg6IC8mKHJlZ3wjMTc0KTsvZywgdmFsOiBcIsKuXCIgfSxcbiAgICAgIFwiaW5yXCIgOiB7IHJlZ2V4OiAvJihpbnJ8IzgzNzcpOy9nLCB2YWw6IFwi4oK5XCIgfSxcbiAgICB9O1xuICAgIHRoaXMuYWRkRXh0ZXJuYWxFbnRpdGllcyA9IGFkZEV4dGVybmFsRW50aXRpZXM7XG4gICAgdGhpcy5wYXJzZVhtbCA9IHBhcnNlWG1sO1xuICAgIHRoaXMucGFyc2VUZXh0RGF0YSA9IHBhcnNlVGV4dERhdGE7XG4gICAgdGhpcy5yZXNvbHZlTmFtZVNwYWNlID0gcmVzb2x2ZU5hbWVTcGFjZTtcbiAgICB0aGlzLmJ1aWxkQXR0cmlidXRlc01hcCA9IGJ1aWxkQXR0cmlidXRlc01hcDtcbiAgICB0aGlzLmlzSXRTdG9wTm9kZSA9IGlzSXRTdG9wTm9kZTtcbiAgICB0aGlzLnJlcGxhY2VFbnRpdGllc1ZhbHVlID0gcmVwbGFjZUVudGl0aWVzVmFsdWU7XG4gICAgdGhpcy5yZWFkU3RvcE5vZGVEYXRhID0gcmVhZFN0b3BOb2RlRGF0YTtcbiAgICB0aGlzLnNhdmVUZXh0VG9QYXJlbnRUYWcgPSBzYXZlVGV4dFRvUGFyZW50VGFnO1xuICAgIHRoaXMuYWRkQ2hpbGQgPSBhZGRDaGlsZDtcbiAgfVxuXG59XG5cbmZ1bmN0aW9uIGFkZEV4dGVybmFsRW50aXRpZXMoZXh0ZXJuYWxFbnRpdGllcyl7XG4gIGNvbnN0IGVudEtleXMgPSBPYmplY3Qua2V5cyhleHRlcm5hbEVudGl0aWVzKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZW50ID0gZW50S2V5c1tpXTtcbiAgICB0aGlzLmxhc3RFbnRpdGllc1tlbnRdID0ge1xuICAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKFwiJlwiK2VudCtcIjtcIixcImdcIiksXG4gICAgICAgdmFsIDogZXh0ZXJuYWxFbnRpdGllc1tlbnRdXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbFxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBqUGF0aFxuICogQHBhcmFtIHtib29sZWFufSBkb250VHJpbVxuICogQHBhcmFtIHtib29sZWFufSBoYXNBdHRyaWJ1dGVzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzTGVhZk5vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZXNjYXBlRW50aXRpZXNcbiAqL1xuZnVuY3Rpb24gcGFyc2VUZXh0RGF0YSh2YWwsIHRhZ05hbWUsIGpQYXRoLCBkb250VHJpbSwgaGFzQXR0cmlidXRlcywgaXNMZWFmTm9kZSwgZXNjYXBlRW50aXRpZXMpIHtcbiAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50cmltVmFsdWVzICYmICFkb250VHJpbSkge1xuICAgICAgdmFsID0gdmFsLnRyaW0oKTtcbiAgICB9XG4gICAgaWYodmFsLmxlbmd0aCA+IDApe1xuICAgICAgaWYoIWVzY2FwZUVudGl0aWVzKSB2YWwgPSB0aGlzLnJlcGxhY2VFbnRpdGllc1ZhbHVlKHZhbCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG5ld3ZhbCA9IHRoaXMub3B0aW9ucy50YWdWYWx1ZVByb2Nlc3Nvcih0YWdOYW1lLCB2YWwsIGpQYXRoLCBoYXNBdHRyaWJ1dGVzLCBpc0xlYWZOb2RlKTtcbiAgICAgIGlmKG5ld3ZhbCA9PT0gbnVsbCB8fCBuZXd2YWwgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgIC8vZG9uJ3QgcGFyc2VcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1lbHNlIGlmKHR5cGVvZiBuZXd2YWwgIT09IHR5cGVvZiB2YWwgfHwgbmV3dmFsICE9PSB2YWwpe1xuICAgICAgICAvL292ZXJ3cml0ZVxuICAgICAgICByZXR1cm4gbmV3dmFsO1xuICAgICAgfWVsc2UgaWYodGhpcy5vcHRpb25zLnRyaW1WYWx1ZXMpe1xuICAgICAgICByZXR1cm4gcGFyc2VWYWx1ZSh2YWwsIHRoaXMub3B0aW9ucy5wYXJzZVRhZ1ZhbHVlLCB0aGlzLm9wdGlvbnMubnVtYmVyUGFyc2VPcHRpb25zKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBjb25zdCB0cmltbWVkVmFsID0gdmFsLnRyaW0oKTtcbiAgICAgICAgaWYodHJpbW1lZFZhbCA9PT0gdmFsKXtcbiAgICAgICAgICByZXR1cm4gcGFyc2VWYWx1ZSh2YWwsIHRoaXMub3B0aW9ucy5wYXJzZVRhZ1ZhbHVlLCB0aGlzLm9wdGlvbnMubnVtYmVyUGFyc2VPcHRpb25zKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlTmFtZVNwYWNlKHRhZ25hbWUpIHtcbiAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVOU1ByZWZpeCkge1xuICAgIGNvbnN0IHRhZ3MgPSB0YWduYW1lLnNwbGl0KCc6Jyk7XG4gICAgY29uc3QgcHJlZml4ID0gdGFnbmFtZS5jaGFyQXQoMCkgPT09ICcvJyA/ICcvJyA6ICcnO1xuICAgIGlmICh0YWdzWzBdID09PSAneG1sbnMnKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGlmICh0YWdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgdGFnbmFtZSA9IHByZWZpeCArIHRhZ3NbMV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0YWduYW1lO1xufVxuXG4vL1RPRE86IGNoYW5nZSByZWdleCB0byBjYXB0dXJlIE5TXG4vL2NvbnN0IGF0dHJzUmVneCA9IG5ldyBSZWdFeHAoXCIoW1xcXFx3XFxcXC1cXFxcLlxcXFw6XSspXFxcXHMqPVxcXFxzKihbJ1xcXCJdKSgoLnxcXG4pKj8pXFxcXDJcIixcImdtXCIpO1xuY29uc3QgYXR0cnNSZWd4ID0gbmV3IFJlZ0V4cCgnKFteXFxcXHM9XSspXFxcXHMqKD1cXFxccyooW1xcJ1wiXSkoW1xcXFxzXFxcXFNdKj8pXFxcXDMpPycsICdnbScpO1xuXG5mdW5jdGlvbiBidWlsZEF0dHJpYnV0ZXNNYXAoYXR0clN0ciwgalBhdGgsIHRhZ05hbWUpIHtcbiAgaWYgKCF0aGlzLm9wdGlvbnMuaWdub3JlQXR0cmlidXRlcyAmJiB0eXBlb2YgYXR0clN0ciA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBhdHRyU3RyID0gYXR0clN0ci5yZXBsYWNlKC9cXHI/XFxuL2csICcgJyk7XG4gICAgLy9hdHRyU3RyID0gYXR0clN0ciB8fCBhdHRyU3RyLnRyaW0oKTtcblxuICAgIGNvbnN0IG1hdGNoZXMgPSB1dGlsLmdldEFsbE1hdGNoZXMoYXR0clN0ciwgYXR0cnNSZWd4KTtcbiAgICBjb25zdCBsZW4gPSBtYXRjaGVzLmxlbmd0aDsgLy9kb24ndCBtYWtlIGl0IGlubGluZVxuICAgIGNvbnN0IGF0dHJzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3QgYXR0ck5hbWUgPSB0aGlzLnJlc29sdmVOYW1lU3BhY2UobWF0Y2hlc1tpXVsxXSk7XG4gICAgICBsZXQgb2xkVmFsID0gbWF0Y2hlc1tpXVs0XTtcbiAgICAgIGxldCBhTmFtZSA9IHRoaXMub3B0aW9ucy5hdHRyaWJ1dGVOYW1lUHJlZml4ICsgYXR0ck5hbWU7XG4gICAgICBpZiAoYXR0ck5hbWUubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhbnNmb3JtQXR0cmlidXRlTmFtZSkge1xuICAgICAgICAgIGFOYW1lID0gdGhpcy5vcHRpb25zLnRyYW5zZm9ybUF0dHJpYnV0ZU5hbWUoYU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmKGFOYW1lID09PSBcIl9fcHJvdG9fX1wiKSBhTmFtZSAgPSBcIiNfX3Byb3RvX19cIjtcbiAgICAgICAgaWYgKG9sZFZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmltVmFsdWVzKSB7XG4gICAgICAgICAgICBvbGRWYWwgPSBvbGRWYWwudHJpbSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvbGRWYWwgPSB0aGlzLnJlcGxhY2VFbnRpdGllc1ZhbHVlKG9sZFZhbCk7XG4gICAgICAgICAgY29uc3QgbmV3VmFsID0gdGhpcy5vcHRpb25zLmF0dHJpYnV0ZVZhbHVlUHJvY2Vzc29yKGF0dHJOYW1lLCBvbGRWYWwsIGpQYXRoKTtcbiAgICAgICAgICBpZihuZXdWYWwgPT09IG51bGwgfHwgbmV3VmFsID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgLy9kb24ndCBwYXJzZVxuICAgICAgICAgICAgYXR0cnNbYU5hbWVdID0gb2xkVmFsO1xuICAgICAgICAgIH1lbHNlIGlmKHR5cGVvZiBuZXdWYWwgIT09IHR5cGVvZiBvbGRWYWwgfHwgbmV3VmFsICE9PSBvbGRWYWwpe1xuICAgICAgICAgICAgLy9vdmVyd3JpdGVcbiAgICAgICAgICAgIGF0dHJzW2FOYW1lXSA9IG5ld1ZhbDtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIC8vcGFyc2VcbiAgICAgICAgICAgIGF0dHJzW2FOYW1lXSA9IHBhcnNlVmFsdWUoXG4gICAgICAgICAgICAgIG9sZFZhbCxcbiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBhcnNlQXR0cmlidXRlVmFsdWUsXG4gICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5udW1iZXJQYXJzZU9wdGlvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5hbGxvd0Jvb2xlYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgYXR0cnNbYU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIU9iamVjdC5rZXlzKGF0dHJzKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdHRyaWJ1dGVzR3JvdXBOYW1lKSB7XG4gICAgICBjb25zdCBhdHRyQ29sbGVjdGlvbiA9IHt9O1xuICAgICAgYXR0ckNvbGxlY3Rpb25bdGhpcy5vcHRpb25zLmF0dHJpYnV0ZXNHcm91cE5hbWVdID0gYXR0cnM7XG4gICAgICByZXR1cm4gYXR0ckNvbGxlY3Rpb247XG4gICAgfVxuICAgIHJldHVybiBhdHRyc1xuICB9XG59XG5cbmNvbnN0IHBhcnNlWG1sID0gZnVuY3Rpb24oeG1sRGF0YSkge1xuICB4bWxEYXRhID0geG1sRGF0YS5yZXBsYWNlKC9cXHJcXG4/L2csIFwiXFxuXCIpOyAvL1RPRE86IHJlbW92ZSB0aGlzIGxpbmVcbiAgY29uc3QgeG1sT2JqID0gbmV3IHhtbE5vZGUoJyF4bWwnKTtcbiAgbGV0IGN1cnJlbnROb2RlID0geG1sT2JqO1xuICBsZXQgdGV4dERhdGEgPSBcIlwiO1xuICBsZXQgalBhdGggPSBcIlwiO1xuICBmb3IobGV0IGk9MDsgaTwgeG1sRGF0YS5sZW5ndGg7IGkrKyl7Ly9mb3IgZWFjaCBjaGFyIGluIFhNTCBkYXRhXG4gICAgY29uc3QgY2ggPSB4bWxEYXRhW2ldO1xuICAgIGlmKGNoID09PSAnPCcpe1xuICAgICAgLy8gY29uc3QgbmV4dEluZGV4ID0gaSsxO1xuICAgICAgLy8gY29uc3QgXzJuZENoYXIgPSB4bWxEYXRhW25leHRJbmRleF07XG4gICAgICBpZiggeG1sRGF0YVtpKzFdID09PSAnLycpIHsvL0Nsb3NpbmcgVGFnXG4gICAgICAgIGNvbnN0IGNsb3NlSW5kZXggPSBmaW5kQ2xvc2luZ0luZGV4KHhtbERhdGEsIFwiPlwiLCBpLCBcIkNsb3NpbmcgVGFnIGlzIG5vdCBjbG9zZWQuXCIpXG4gICAgICAgIGxldCB0YWdOYW1lID0geG1sRGF0YS5zdWJzdHJpbmcoaSsyLGNsb3NlSW5kZXgpLnRyaW0oKTtcblxuICAgICAgICBpZih0aGlzLm9wdGlvbnMucmVtb3ZlTlNQcmVmaXgpe1xuICAgICAgICAgIGNvbnN0IGNvbG9uSW5kZXggPSB0YWdOYW1lLmluZGV4T2YoXCI6XCIpO1xuICAgICAgICAgIGlmKGNvbG9uSW5kZXggIT09IC0xKXtcbiAgICAgICAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnN1YnN0cihjb2xvbkluZGV4KzEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMub3B0aW9ucy50cmFuc2Zvcm1UYWdOYW1lKSB7XG4gICAgICAgICAgdGFnTmFtZSA9IHRoaXMub3B0aW9ucy50cmFuc2Zvcm1UYWdOYW1lKHRhZ05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoY3VycmVudE5vZGUpe1xuICAgICAgICAgIHRleHREYXRhID0gdGhpcy5zYXZlVGV4dFRvUGFyZW50VGFnKHRleHREYXRhLCBjdXJyZW50Tm9kZSwgalBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9jaGVjayBpZiBsYXN0IHRhZyBvZiBuZXN0ZWQgdGFnIHdhcyB1bnBhaXJlZCB0YWdcbiAgICAgICAgY29uc3QgbGFzdFRhZ05hbWUgPSBqUGF0aC5zdWJzdHJpbmcoalBhdGgubGFzdEluZGV4T2YoXCIuXCIpKzEpO1xuICAgICAgICBpZih0YWdOYW1lICYmIHRoaXMub3B0aW9ucy51bnBhaXJlZFRhZ3MuaW5kZXhPZih0YWdOYW1lKSAhPT0gLTEgKXtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucGFpcmVkIHRhZyBjYW4gbm90IGJlIHVzZWQgYXMgY2xvc2luZyB0YWc6IDwvJHt0YWdOYW1lfT5gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJvcEluZGV4ID0gMFxuICAgICAgICBpZihsYXN0VGFnTmFtZSAmJiB0aGlzLm9wdGlvbnMudW5wYWlyZWRUYWdzLmluZGV4T2YobGFzdFRhZ05hbWUpICE9PSAtMSApe1xuICAgICAgICAgIHByb3BJbmRleCA9IGpQYXRoLmxhc3RJbmRleE9mKCcuJywgalBhdGgubGFzdEluZGV4T2YoJy4nKS0xKVxuICAgICAgICAgIHRoaXMudGFnc05vZGVTdGFjay5wb3AoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcHJvcEluZGV4ID0galBhdGgubGFzdEluZGV4T2YoXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGpQYXRoID0galBhdGguc3Vic3RyaW5nKDAsIHByb3BJbmRleCk7XG5cbiAgICAgICAgY3VycmVudE5vZGUgPSB0aGlzLnRhZ3NOb2RlU3RhY2sucG9wKCk7Ly9hdm9pZCByZWN1cnNpb24sIHNldCB0aGUgcGFyZW50IHRhZyBzY29wZVxuICAgICAgICB0ZXh0RGF0YSA9IFwiXCI7XG4gICAgICAgIGkgPSBjbG9zZUluZGV4O1xuICAgICAgfSBlbHNlIGlmKCB4bWxEYXRhW2krMV0gPT09ICc/Jykge1xuXG4gICAgICAgIGxldCB0YWdEYXRhID0gcmVhZFRhZ0V4cCh4bWxEYXRhLGksIGZhbHNlLCBcIj8+XCIpO1xuICAgICAgICBpZighdGFnRGF0YSkgdGhyb3cgbmV3IEVycm9yKFwiUGkgVGFnIGlzIG5vdCBjbG9zZWQuXCIpO1xuXG4gICAgICAgIHRleHREYXRhID0gdGhpcy5zYXZlVGV4dFRvUGFyZW50VGFnKHRleHREYXRhLCBjdXJyZW50Tm9kZSwgalBhdGgpO1xuICAgICAgICBpZiggKHRoaXMub3B0aW9ucy5pZ25vcmVEZWNsYXJhdGlvbiAmJiB0YWdEYXRhLnRhZ05hbWUgPT09IFwiP3htbFwiKSB8fCB0aGlzLm9wdGlvbnMuaWdub3JlUGlUYWdzKXtcblxuICAgICAgICB9ZWxzZXtcbiAgXG4gICAgICAgICAgY29uc3QgY2hpbGROb2RlID0gbmV3IHhtbE5vZGUodGFnRGF0YS50YWdOYW1lKTtcbiAgICAgICAgICBjaGlsZE5vZGUuYWRkKHRoaXMub3B0aW9ucy50ZXh0Tm9kZU5hbWUsIFwiXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmKHRhZ0RhdGEudGFnTmFtZSAhPT0gdGFnRGF0YS50YWdFeHAgJiYgdGFnRGF0YS5hdHRyRXhwUHJlc2VudCl7XG4gICAgICAgICAgICBjaGlsZE5vZGVbXCI6QFwiXSA9IHRoaXMuYnVpbGRBdHRyaWJ1dGVzTWFwKHRhZ0RhdGEudGFnRXhwLCBqUGF0aCwgdGFnRGF0YS50YWdOYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5hZGRDaGlsZChjdXJyZW50Tm9kZSwgY2hpbGROb2RlLCBqUGF0aClcblxuICAgICAgICB9XG5cblxuICAgICAgICBpID0gdGFnRGF0YS5jbG9zZUluZGV4ICsgMTtcbiAgICAgIH0gZWxzZSBpZih4bWxEYXRhLnN1YnN0cihpICsgMSwgMykgPT09ICchLS0nKSB7XG4gICAgICAgIGNvbnN0IGVuZEluZGV4ID0gZmluZENsb3NpbmdJbmRleCh4bWxEYXRhLCBcIi0tPlwiLCBpKzQsIFwiQ29tbWVudCBpcyBub3QgY2xvc2VkLlwiKVxuICAgICAgICBpZih0aGlzLm9wdGlvbnMuY29tbWVudFByb3BOYW1lKXtcbiAgICAgICAgICBjb25zdCBjb21tZW50ID0geG1sRGF0YS5zdWJzdHJpbmcoaSArIDQsIGVuZEluZGV4IC0gMik7XG5cbiAgICAgICAgICB0ZXh0RGF0YSA9IHRoaXMuc2F2ZVRleHRUb1BhcmVudFRhZyh0ZXh0RGF0YSwgY3VycmVudE5vZGUsIGpQYXRoKTtcblxuICAgICAgICAgIGN1cnJlbnROb2RlLmFkZCh0aGlzLm9wdGlvbnMuY29tbWVudFByb3BOYW1lLCBbIHsgW3RoaXMub3B0aW9ucy50ZXh0Tm9kZU5hbWVdIDogY29tbWVudCB9IF0pO1xuICAgICAgICB9XG4gICAgICAgIGkgPSBlbmRJbmRleDtcbiAgICAgIH0gZWxzZSBpZiggeG1sRGF0YS5zdWJzdHIoaSArIDEsIDIpID09PSAnIUQnKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWREb2NUeXBlKHhtbERhdGEsIGkpO1xuICAgICAgICB0aGlzLmRvY1R5cGVFbnRpdGllcyA9IHJlc3VsdC5lbnRpdGllcztcbiAgICAgICAgaSA9IHJlc3VsdC5pO1xuICAgICAgfWVsc2UgaWYoeG1sRGF0YS5zdWJzdHIoaSArIDEsIDIpID09PSAnIVsnKSB7XG4gICAgICAgIGNvbnN0IGNsb3NlSW5kZXggPSBmaW5kQ2xvc2luZ0luZGV4KHhtbERhdGEsIFwiXV0+XCIsIGksIFwiQ0RBVEEgaXMgbm90IGNsb3NlZC5cIikgLSAyO1xuICAgICAgICBjb25zdCB0YWdFeHAgPSB4bWxEYXRhLnN1YnN0cmluZyhpICsgOSxjbG9zZUluZGV4KTtcblxuICAgICAgICB0ZXh0RGF0YSA9IHRoaXMuc2F2ZVRleHRUb1BhcmVudFRhZyh0ZXh0RGF0YSwgY3VycmVudE5vZGUsIGpQYXRoKTtcblxuICAgICAgICAvL2NkYXRhIHNob3VsZCBiZSBzZXQgZXZlbiBpZiBpdCBpcyAwIGxlbmd0aCBzdHJpbmdcbiAgICAgICAgaWYodGhpcy5vcHRpb25zLmNkYXRhUHJvcE5hbWUpe1xuICAgICAgICAgIC8vIGxldCB2YWwgPSB0aGlzLnBhcnNlVGV4dERhdGEodGFnRXhwLCB0aGlzLm9wdGlvbnMuY2RhdGFQcm9wTmFtZSwgalBhdGggKyBcIi5cIiArIHRoaXMub3B0aW9ucy5jZGF0YVByb3BOYW1lLCB0cnVlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgLy8gaWYoIXZhbCkgdmFsID0gXCJcIjtcbiAgICAgICAgICBjdXJyZW50Tm9kZS5hZGQodGhpcy5vcHRpb25zLmNkYXRhUHJvcE5hbWUsIFsgeyBbdGhpcy5vcHRpb25zLnRleHROb2RlTmFtZV0gOiB0YWdFeHAgfSBdKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgbGV0IHZhbCA9IHRoaXMucGFyc2VUZXh0RGF0YSh0YWdFeHAsIGN1cnJlbnROb2RlLnRhZ25hbWUsIGpQYXRoLCB0cnVlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgaWYodmFsID09IHVuZGVmaW5lZCkgdmFsID0gXCJcIjtcbiAgICAgICAgICBjdXJyZW50Tm9kZS5hZGQodGhpcy5vcHRpb25zLnRleHROb2RlTmFtZSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaSA9IGNsb3NlSW5kZXggKyAyO1xuICAgICAgfWVsc2Ugey8vT3BlbmluZyB0YWdcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlYWRUYWdFeHAoeG1sRGF0YSxpLCB0aGlzLm9wdGlvbnMucmVtb3ZlTlNQcmVmaXgpO1xuICAgICAgICBsZXQgdGFnTmFtZT0gcmVzdWx0LnRhZ05hbWU7XG4gICAgICAgIGxldCB0YWdFeHAgPSByZXN1bHQudGFnRXhwO1xuICAgICAgICBsZXQgYXR0ckV4cFByZXNlbnQgPSByZXN1bHQuYXR0ckV4cFByZXNlbnQ7XG4gICAgICAgIGxldCBjbG9zZUluZGV4ID0gcmVzdWx0LmNsb3NlSW5kZXg7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2Zvcm1UYWdOYW1lKSB7XG4gICAgICAgICAgdGFnTmFtZSA9IHRoaXMub3B0aW9ucy50cmFuc2Zvcm1UYWdOYW1lKHRhZ05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvL3NhdmUgdGV4dCBhcyBjaGlsZCBub2RlXG4gICAgICAgIGlmIChjdXJyZW50Tm9kZSAmJiB0ZXh0RGF0YSkge1xuICAgICAgICAgIGlmKGN1cnJlbnROb2RlLnRhZ25hbWUgIT09ICcheG1sJyl7XG4gICAgICAgICAgICAvL3doZW4gbmVzdGVkIHRhZyBpcyBmb3VuZFxuICAgICAgICAgICAgdGV4dERhdGEgPSB0aGlzLnNhdmVUZXh0VG9QYXJlbnRUYWcodGV4dERhdGEsIGN1cnJlbnROb2RlLCBqUGF0aCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vY2hlY2sgaWYgbGFzdCB0YWcgd2FzIHVucGFpcmVkIHRhZ1xuICAgICAgICBjb25zdCBsYXN0VGFnID0gY3VycmVudE5vZGU7XG4gICAgICAgIGlmKGxhc3RUYWcgJiYgdGhpcy5vcHRpb25zLnVucGFpcmVkVGFncy5pbmRleE9mKGxhc3RUYWcudGFnbmFtZSkgIT09IC0xICl7XG4gICAgICAgICAgY3VycmVudE5vZGUgPSB0aGlzLnRhZ3NOb2RlU3RhY2sucG9wKCk7XG4gICAgICAgICAgalBhdGggPSBqUGF0aC5zdWJzdHJpbmcoMCwgalBhdGgubGFzdEluZGV4T2YoXCIuXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0YWdOYW1lICE9PSB4bWxPYmoudGFnbmFtZSl7XG4gICAgICAgICAgalBhdGggKz0galBhdGggPyBcIi5cIiArIHRhZ05hbWUgOiB0YWdOYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzSXRTdG9wTm9kZSh0aGlzLm9wdGlvbnMuc3RvcE5vZGVzLCBqUGF0aCwgdGFnTmFtZSkpIHsgLy9UT0RPOiBuYW1lc3BhY2VcbiAgICAgICAgICBsZXQgdGFnQ29udGVudCA9IFwiXCI7XG4gICAgICAgICAgLy9zZWxmLWNsb3NpbmcgdGFnXG4gICAgICAgICAgaWYodGFnRXhwLmxlbmd0aCA+IDAgJiYgdGFnRXhwLmxhc3RJbmRleE9mKFwiL1wiKSA9PT0gdGFnRXhwLmxlbmd0aCAtIDEpe1xuICAgICAgICAgICAgaSA9IHJlc3VsdC5jbG9zZUluZGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL3VucGFpcmVkIHRhZ1xuICAgICAgICAgIGVsc2UgaWYodGhpcy5vcHRpb25zLnVucGFpcmVkVGFncy5pbmRleE9mKHRhZ05hbWUpICE9PSAtMSl7XG4gICAgICAgICAgICBpID0gcmVzdWx0LmNsb3NlSW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vbm9ybWFsIHRhZ1xuICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAvL3JlYWQgdW50aWwgY2xvc2luZyB0YWcgaXMgZm91bmRcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucmVhZFN0b3BOb2RlRGF0YSh4bWxEYXRhLCB0YWdOYW1lLCBjbG9zZUluZGV4ICsgMSk7XG4gICAgICAgICAgICBpZighcmVzdWx0KSB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZW5kIG9mICR7dGFnTmFtZX1gKTtcbiAgICAgICAgICAgIGkgPSByZXN1bHQuaTtcbiAgICAgICAgICAgIHRhZ0NvbnRlbnQgPSByZXN1bHQudGFnQ29udGVudDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSBuZXcgeG1sTm9kZSh0YWdOYW1lKTtcbiAgICAgICAgICBpZih0YWdOYW1lICE9PSB0YWdFeHAgJiYgYXR0ckV4cFByZXNlbnQpe1xuICAgICAgICAgICAgY2hpbGROb2RlW1wiOkBcIl0gPSB0aGlzLmJ1aWxkQXR0cmlidXRlc01hcCh0YWdFeHAsIGpQYXRoLCB0YWdOYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYodGFnQ29udGVudCkge1xuICAgICAgICAgICAgdGFnQ29udGVudCA9IHRoaXMucGFyc2VUZXh0RGF0YSh0YWdDb250ZW50LCB0YWdOYW1lLCBqUGF0aCwgdHJ1ZSwgYXR0ckV4cFByZXNlbnQsIHRydWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBqUGF0aCA9IGpQYXRoLnN1YnN0cigwLCBqUGF0aC5sYXN0SW5kZXhPZihcIi5cIikpO1xuICAgICAgICAgIGNoaWxkTm9kZS5hZGQodGhpcy5vcHRpb25zLnRleHROb2RlTmFtZSwgdGFnQ29udGVudCk7XG4gICAgICAgICAgXG4gICAgICAgICAgdGhpcy5hZGRDaGlsZChjdXJyZW50Tm9kZSwgY2hpbGROb2RlLCBqUGF0aClcbiAgICAgICAgfWVsc2V7XG4gIC8vc2VsZkNsb3NpbmcgdGFnXG4gICAgICAgICAgaWYodGFnRXhwLmxlbmd0aCA+IDAgJiYgdGFnRXhwLmxhc3RJbmRleE9mKFwiL1wiKSA9PT0gdGFnRXhwLmxlbmd0aCAtIDEpe1xuICAgICAgICAgICAgaWYodGFnTmFtZVt0YWdOYW1lLmxlbmd0aCAtIDFdID09PSBcIi9cIil7IC8vcmVtb3ZlIHRyYWlsaW5nICcvJ1xuICAgICAgICAgICAgICB0YWdOYW1lID0gdGFnTmFtZS5zdWJzdHIoMCwgdGFnTmFtZS5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgdGFnRXhwID0gdGFnTmFtZTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICB0YWdFeHAgPSB0YWdFeHAuc3Vic3RyKDAsIHRhZ0V4cC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYodGhpcy5vcHRpb25zLnRyYW5zZm9ybVRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgdGFnTmFtZSA9IHRoaXMub3B0aW9ucy50cmFuc2Zvcm1UYWdOYW1lKHRhZ05hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSBuZXcgeG1sTm9kZSh0YWdOYW1lKTtcbiAgICAgICAgICAgIGlmKHRhZ05hbWUgIT09IHRhZ0V4cCAmJiBhdHRyRXhwUHJlc2VudCl7XG4gICAgICAgICAgICAgIGNoaWxkTm9kZVtcIjpAXCJdID0gdGhpcy5idWlsZEF0dHJpYnV0ZXNNYXAodGFnRXhwLCBqUGF0aCwgdGFnTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKGN1cnJlbnROb2RlLCBjaGlsZE5vZGUsIGpQYXRoKVxuICAgICAgICAgICAgalBhdGggPSBqUGF0aC5zdWJzdHIoMCwgalBhdGgubGFzdEluZGV4T2YoXCIuXCIpKTtcbiAgICAgICAgICB9XG4gICAgLy9vcGVuaW5nIHRhZ1xuICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSBuZXcgeG1sTm9kZSggdGFnTmFtZSk7XG4gICAgICAgICAgICB0aGlzLnRhZ3NOb2RlU3RhY2sucHVzaChjdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKHRhZ05hbWUgIT09IHRhZ0V4cCAmJiBhdHRyRXhwUHJlc2VudCl7XG4gICAgICAgICAgICAgIGNoaWxkTm9kZVtcIjpAXCJdID0gdGhpcy5idWlsZEF0dHJpYnV0ZXNNYXAodGFnRXhwLCBqUGF0aCwgdGFnTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKGN1cnJlbnROb2RlLCBjaGlsZE5vZGUsIGpQYXRoKVxuICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRleHREYXRhID0gXCJcIjtcbiAgICAgICAgICBpID0gY2xvc2VJbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgdGV4dERhdGEgKz0geG1sRGF0YVtpXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHhtbE9iai5jaGlsZDtcbn1cblxuZnVuY3Rpb24gYWRkQ2hpbGQoY3VycmVudE5vZGUsIGNoaWxkTm9kZSwgalBhdGgpe1xuICBjb25zdCByZXN1bHQgPSB0aGlzLm9wdGlvbnMudXBkYXRlVGFnKGNoaWxkTm9kZS50YWduYW1lLCBqUGF0aCwgY2hpbGROb2RlW1wiOkBcIl0pXG4gIGlmKHJlc3VsdCA9PT0gZmFsc2Upe1xuICB9ZWxzZSBpZih0eXBlb2YgcmVzdWx0ID09PSBcInN0cmluZ1wiKXtcbiAgICBjaGlsZE5vZGUudGFnbmFtZSA9IHJlc3VsdFxuICAgIGN1cnJlbnROb2RlLmFkZENoaWxkKGNoaWxkTm9kZSk7XG4gIH1lbHNle1xuICAgIGN1cnJlbnROb2RlLmFkZENoaWxkKGNoaWxkTm9kZSk7XG4gIH1cbn1cblxuY29uc3QgcmVwbGFjZUVudGl0aWVzVmFsdWUgPSBmdW5jdGlvbih2YWwpe1xuXG4gIGlmKHRoaXMub3B0aW9ucy5wcm9jZXNzRW50aXRpZXMpe1xuICAgIGZvcihsZXQgZW50aXR5TmFtZSBpbiB0aGlzLmRvY1R5cGVFbnRpdGllcyl7XG4gICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmRvY1R5cGVFbnRpdGllc1tlbnRpdHlOYW1lXTtcbiAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKCBlbnRpdHkucmVneCwgZW50aXR5LnZhbCk7XG4gICAgfVxuICAgIGZvcihsZXQgZW50aXR5TmFtZSBpbiB0aGlzLmxhc3RFbnRpdGllcyl7XG4gICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmxhc3RFbnRpdGllc1tlbnRpdHlOYW1lXTtcbiAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKCBlbnRpdHkucmVnZXgsIGVudGl0eS52YWwpO1xuICAgIH1cbiAgICBpZih0aGlzLm9wdGlvbnMuaHRtbEVudGl0aWVzKXtcbiAgICAgIGZvcihsZXQgZW50aXR5TmFtZSBpbiB0aGlzLmh0bWxFbnRpdGllcyl7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuaHRtbEVudGl0aWVzW2VudGl0eU5hbWVdO1xuICAgICAgICB2YWwgPSB2YWwucmVwbGFjZSggZW50aXR5LnJlZ2V4LCBlbnRpdHkudmFsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFsID0gdmFsLnJlcGxhY2UoIHRoaXMuYW1wRW50aXR5LnJlZ2V4LCB0aGlzLmFtcEVudGl0eS52YWwpO1xuICB9XG4gIHJldHVybiB2YWw7XG59XG5mdW5jdGlvbiBzYXZlVGV4dFRvUGFyZW50VGFnKHRleHREYXRhLCBjdXJyZW50Tm9kZSwgalBhdGgsIGlzTGVhZk5vZGUpIHtcbiAgaWYgKHRleHREYXRhKSB7IC8vc3RvcmUgcHJldmlvdXNseSBjb2xsZWN0ZWQgZGF0YSBhcyB0ZXh0Tm9kZVxuICAgIGlmKGlzTGVhZk5vZGUgPT09IHVuZGVmaW5lZCkgaXNMZWFmTm9kZSA9IE9iamVjdC5rZXlzKGN1cnJlbnROb2RlLmNoaWxkKS5sZW5ndGggPT09IDBcbiAgICBcbiAgICB0ZXh0RGF0YSA9IHRoaXMucGFyc2VUZXh0RGF0YSh0ZXh0RGF0YSxcbiAgICAgIGN1cnJlbnROb2RlLnRhZ25hbWUsXG4gICAgICBqUGF0aCxcbiAgICAgIGZhbHNlLFxuICAgICAgY3VycmVudE5vZGVbXCI6QFwiXSA/IE9iamVjdC5rZXlzKGN1cnJlbnROb2RlW1wiOkBcIl0pLmxlbmd0aCAhPT0gMCA6IGZhbHNlLFxuICAgICAgaXNMZWFmTm9kZSk7XG5cbiAgICBpZiAodGV4dERhdGEgIT09IHVuZGVmaW5lZCAmJiB0ZXh0RGF0YSAhPT0gXCJcIilcbiAgICAgIGN1cnJlbnROb2RlLmFkZCh0aGlzLm9wdGlvbnMudGV4dE5vZGVOYW1lLCB0ZXh0RGF0YSk7XG4gICAgdGV4dERhdGEgPSBcIlwiO1xuICB9XG4gIHJldHVybiB0ZXh0RGF0YTtcbn1cblxuLy9UT0RPOiB1c2UgalBhdGggdG8gc2ltcGxpZnkgdGhlIGxvZ2ljXG4vKipcbiAqIFxuICogQHBhcmFtIHtzdHJpbmdbXX0gc3RvcE5vZGVzIFxuICogQHBhcmFtIHtzdHJpbmd9IGpQYXRoXG4gKiBAcGFyYW0ge3N0cmluZ30gY3VycmVudFRhZ05hbWUgXG4gKi9cbmZ1bmN0aW9uIGlzSXRTdG9wTm9kZShzdG9wTm9kZXMsIGpQYXRoLCBjdXJyZW50VGFnTmFtZSl7XG4gIGNvbnN0IGFsbE5vZGVzRXhwID0gXCIqLlwiICsgY3VycmVudFRhZ05hbWU7XG4gIGZvciAoY29uc3Qgc3RvcE5vZGVQYXRoIGluIHN0b3BOb2Rlcykge1xuICAgIGNvbnN0IHN0b3BOb2RlRXhwID0gc3RvcE5vZGVzW3N0b3BOb2RlUGF0aF07XG4gICAgaWYoIGFsbE5vZGVzRXhwID09PSBzdG9wTm9kZUV4cCB8fCBqUGF0aCA9PT0gc3RvcE5vZGVFeHAgICkgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHRhZyBFeHByZXNzaW9uIGFuZCB3aGVyZSBpdCBpcyBlbmRpbmcgaGFuZGxpbmcgc2luZ2xlLWRvdWJsZSBxdW90ZXMgc2l0dWF0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30geG1sRGF0YSBcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIHN0YXJ0aW5nIGluZGV4XG4gKiBAcmV0dXJucyBcbiAqL1xuZnVuY3Rpb24gdGFnRXhwV2l0aENsb3NpbmdJbmRleCh4bWxEYXRhLCBpLCBjbG9zaW5nQ2hhciA9IFwiPlwiKXtcbiAgbGV0IGF0dHJCb3VuZGFyeTtcbiAgbGV0IHRhZ0V4cCA9IFwiXCI7XG4gIGZvciAobGV0IGluZGV4ID0gaTsgaW5kZXggPCB4bWxEYXRhLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGxldCBjaCA9IHhtbERhdGFbaW5kZXhdO1xuICAgIGlmIChhdHRyQm91bmRhcnkpIHtcbiAgICAgICAgaWYgKGNoID09PSBhdHRyQm91bmRhcnkpIGF0dHJCb3VuZGFyeSA9IFwiXCI7Ly9yZXNldFxuICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcIicgfHwgY2ggPT09IFwiJ1wiKSB7XG4gICAgICAgIGF0dHJCb3VuZGFyeSA9IGNoO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09IGNsb3NpbmdDaGFyWzBdKSB7XG4gICAgICBpZihjbG9zaW5nQ2hhclsxXSl7XG4gICAgICAgIGlmKHhtbERhdGFbaW5kZXggKyAxXSA9PT0gY2xvc2luZ0NoYXJbMV0pe1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB0YWdFeHAsXG4gICAgICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRhdGE6IHRhZ0V4cCxcbiAgICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXHQnKSB7XG4gICAgICBjaCA9IFwiIFwiXG4gICAgfVxuICAgIHRhZ0V4cCArPSBjaDtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kQ2xvc2luZ0luZGV4KHhtbERhdGEsIHN0ciwgaSwgZXJyTXNnKXtcbiAgY29uc3QgY2xvc2luZ0luZGV4ID0geG1sRGF0YS5pbmRleE9mKHN0ciwgaSk7XG4gIGlmKGNsb3NpbmdJbmRleCA9PT0gLTEpe1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJNc2cpXG4gIH1lbHNle1xuICAgIHJldHVybiBjbG9zaW5nSW5kZXggKyBzdHIubGVuZ3RoIC0gMTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWFkVGFnRXhwKHhtbERhdGEsaSwgcmVtb3ZlTlNQcmVmaXgsIGNsb3NpbmdDaGFyID0gXCI+XCIpe1xuICBjb25zdCByZXN1bHQgPSB0YWdFeHBXaXRoQ2xvc2luZ0luZGV4KHhtbERhdGEsIGkrMSwgY2xvc2luZ0NoYXIpO1xuICBpZighcmVzdWx0KSByZXR1cm47XG4gIGxldCB0YWdFeHAgPSByZXN1bHQuZGF0YTtcbiAgY29uc3QgY2xvc2VJbmRleCA9IHJlc3VsdC5pbmRleDtcbiAgY29uc3Qgc2VwYXJhdG9ySW5kZXggPSB0YWdFeHAuc2VhcmNoKC9cXHMvKTtcbiAgbGV0IHRhZ05hbWUgPSB0YWdFeHA7XG4gIGxldCBhdHRyRXhwUHJlc2VudCA9IHRydWU7XG4gIGlmKHNlcGFyYXRvckluZGV4ICE9PSAtMSl7Ly9zZXBhcmF0ZSB0YWcgbmFtZSBhbmQgYXR0cmlidXRlcyBleHByZXNzaW9uXG4gICAgdGFnTmFtZSA9IHRhZ0V4cC5zdWJzdHIoMCwgc2VwYXJhdG9ySW5kZXgpLnJlcGxhY2UoL1xcc1xccyokLywgJycpO1xuICAgIHRhZ0V4cCA9IHRhZ0V4cC5zdWJzdHIoc2VwYXJhdG9ySW5kZXggKyAxKTtcbiAgfVxuXG4gIGlmKHJlbW92ZU5TUHJlZml4KXtcbiAgICBjb25zdCBjb2xvbkluZGV4ID0gdGFnTmFtZS5pbmRleE9mKFwiOlwiKTtcbiAgICBpZihjb2xvbkluZGV4ICE9PSAtMSl7XG4gICAgICB0YWdOYW1lID0gdGFnTmFtZS5zdWJzdHIoY29sb25JbmRleCsxKTtcbiAgICAgIGF0dHJFeHBQcmVzZW50ID0gdGFnTmFtZSAhPT0gcmVzdWx0LmRhdGEuc3Vic3RyKGNvbG9uSW5kZXggKyAxKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRhZ05hbWU6IHRhZ05hbWUsXG4gICAgdGFnRXhwOiB0YWdFeHAsXG4gICAgY2xvc2VJbmRleDogY2xvc2VJbmRleCxcbiAgICBhdHRyRXhwUHJlc2VudDogYXR0ckV4cFByZXNlbnQsXG4gIH1cbn1cbi8qKlxuICogZmluZCBwYWlyZWQgdGFnIGZvciBhIHN0b3Agbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHhtbERhdGEgXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZSBcbiAqIEBwYXJhbSB7bnVtYmVyfSBpIFxuICovXG5mdW5jdGlvbiByZWFkU3RvcE5vZGVEYXRhKHhtbERhdGEsIHRhZ05hbWUsIGkpe1xuICBjb25zdCBzdGFydEluZGV4ID0gaTtcbiAgLy8gU3RhcnRpbmcgYXQgMSBzaW5jZSB3ZSBhbHJlYWR5IGhhdmUgYW4gb3BlbiB0YWdcbiAgbGV0IG9wZW5UYWdDb3VudCA9IDE7XG5cbiAgZm9yICg7IGkgPCB4bWxEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYoIHhtbERhdGFbaV0gPT09IFwiPFwiKXsgXG4gICAgICBpZiAoeG1sRGF0YVtpKzFdID09PSBcIi9cIikgey8vY2xvc2UgdGFnXG4gICAgICAgICAgY29uc3QgY2xvc2VJbmRleCA9IGZpbmRDbG9zaW5nSW5kZXgoeG1sRGF0YSwgXCI+XCIsIGksIGAke3RhZ05hbWV9IGlzIG5vdCBjbG9zZWRgKTtcbiAgICAgICAgICBsZXQgY2xvc2VUYWdOYW1lID0geG1sRGF0YS5zdWJzdHJpbmcoaSsyLGNsb3NlSW5kZXgpLnRyaW0oKTtcbiAgICAgICAgICBpZihjbG9zZVRhZ05hbWUgPT09IHRhZ05hbWUpe1xuICAgICAgICAgICAgb3BlblRhZ0NvdW50LS07XG4gICAgICAgICAgICBpZiAob3BlblRhZ0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGFnQ29udGVudDogeG1sRGF0YS5zdWJzdHJpbmcoc3RhcnRJbmRleCwgaSksXG4gICAgICAgICAgICAgICAgaSA6IGNsb3NlSW5kZXhcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpPWNsb3NlSW5kZXg7XG4gICAgICAgIH0gZWxzZSBpZih4bWxEYXRhW2krMV0gPT09ICc/JykgeyBcbiAgICAgICAgICBjb25zdCBjbG9zZUluZGV4ID0gZmluZENsb3NpbmdJbmRleCh4bWxEYXRhLCBcIj8+XCIsIGkrMSwgXCJTdG9wTm9kZSBpcyBub3QgY2xvc2VkLlwiKVxuICAgICAgICAgIGk9Y2xvc2VJbmRleDtcbiAgICAgICAgfSBlbHNlIGlmKHhtbERhdGEuc3Vic3RyKGkgKyAxLCAzKSA9PT0gJyEtLScpIHsgXG4gICAgICAgICAgY29uc3QgY2xvc2VJbmRleCA9IGZpbmRDbG9zaW5nSW5kZXgoeG1sRGF0YSwgXCItLT5cIiwgaSszLCBcIlN0b3BOb2RlIGlzIG5vdCBjbG9zZWQuXCIpXG4gICAgICAgICAgaT1jbG9zZUluZGV4O1xuICAgICAgICB9IGVsc2UgaWYoeG1sRGF0YS5zdWJzdHIoaSArIDEsIDIpID09PSAnIVsnKSB7IFxuICAgICAgICAgIGNvbnN0IGNsb3NlSW5kZXggPSBmaW5kQ2xvc2luZ0luZGV4KHhtbERhdGEsIFwiXV0+XCIsIGksIFwiU3RvcE5vZGUgaXMgbm90IGNsb3NlZC5cIikgLSAyO1xuICAgICAgICAgIGk9Y2xvc2VJbmRleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB0YWdEYXRhID0gcmVhZFRhZ0V4cCh4bWxEYXRhLCBpLCAnPicpXG5cbiAgICAgICAgICBpZiAodGFnRGF0YSkge1xuICAgICAgICAgICAgY29uc3Qgb3BlblRhZ05hbWUgPSB0YWdEYXRhICYmIHRhZ0RhdGEudGFnTmFtZTtcbiAgICAgICAgICAgIGlmIChvcGVuVGFnTmFtZSA9PT0gdGFnTmFtZSAmJiB0YWdEYXRhLnRhZ0V4cFt0YWdEYXRhLnRhZ0V4cC5sZW5ndGgtMV0gIT09IFwiL1wiKSB7XG4gICAgICAgICAgICAgIG9wZW5UYWdDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaT10YWdEYXRhLmNsb3NlSW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gIH0vL2VuZCBmb3IgbG9vcFxufVxuXG5mdW5jdGlvbiBwYXJzZVZhbHVlKHZhbCwgc2hvdWxkUGFyc2UsIG9wdGlvbnMpIHtcbiAgaWYgKHNob3VsZFBhcnNlICYmIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgLy9jb25zb2xlLmxvZyhvcHRpb25zKVxuICAgIGNvbnN0IG5ld3ZhbCA9IHZhbC50cmltKCk7XG4gICAgaWYobmV3dmFsID09PSAndHJ1ZScgKSByZXR1cm4gdHJ1ZTtcbiAgICBlbHNlIGlmKG5ld3ZhbCA9PT0gJ2ZhbHNlJyApIHJldHVybiBmYWxzZTtcbiAgICBlbHNlIHJldHVybiB0b051bWJlcih2YWwsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGlmICh1dGlsLmlzRXhpc3QodmFsKSkge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gT3JkZXJlZE9ialBhcnNlcjtcbiIsImNvbnN0IHsgYnVpbGRPcHRpb25zfSA9IHJlcXVpcmUoXCIuL09wdGlvbnNCdWlsZGVyXCIpO1xuY29uc3QgT3JkZXJlZE9ialBhcnNlciA9IHJlcXVpcmUoXCIuL09yZGVyZWRPYmpQYXJzZXJcIik7XG5jb25zdCB7IHByZXR0aWZ5fSA9IHJlcXVpcmUoXCIuL25vZGUyanNvblwiKTtcbmNvbnN0IHZhbGlkYXRvciA9IHJlcXVpcmUoJy4uL3ZhbGlkYXRvcicpO1xuXG5jbGFzcyBYTUxQYXJzZXJ7XG4gICAgXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyl7XG4gICAgICAgIHRoaXMuZXh0ZXJuYWxFbnRpdGllcyA9IHt9O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBidWlsZE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIFxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSBYTUwgZGF0cyB0byBKUyBvYmplY3QgXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QnVmZmVyfSB4bWxEYXRhIFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3R9IHZhbGlkYXRpb25PcHRpb24gXG4gICAgICovXG4gICAgcGFyc2UoeG1sRGF0YSx2YWxpZGF0aW9uT3B0aW9uKXtcbiAgICAgICAgaWYodHlwZW9mIHhtbERhdGEgPT09IFwic3RyaW5nXCIpe1xuICAgICAgICB9ZWxzZSBpZiggeG1sRGF0YS50b1N0cmluZyl7XG4gICAgICAgICAgICB4bWxEYXRhID0geG1sRGF0YS50b1N0cmluZygpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlhNTCBkYXRhIGlzIGFjY2VwdGVkIGluIFN0cmluZyBvciBCeXRlc1tdIGZvcm0uXCIpXG4gICAgICAgIH1cbiAgICAgICAgaWYoIHZhbGlkYXRpb25PcHRpb24pe1xuICAgICAgICAgICAgaWYodmFsaWRhdGlvbk9wdGlvbiA9PT0gdHJ1ZSkgdmFsaWRhdGlvbk9wdGlvbiA9IHt9OyAvL3ZhbGlkYXRlIHdpdGggZGVmYXVsdCBvcHRpb25zXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRvci52YWxpZGF0ZSh4bWxEYXRhLCB2YWxpZGF0aW9uT3B0aW9uKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoIGAke3Jlc3VsdC5lcnIubXNnfToke3Jlc3VsdC5lcnIubGluZX06JHtyZXN1bHQuZXJyLmNvbH1gIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yZGVyZWRPYmpQYXJzZXIgPSBuZXcgT3JkZXJlZE9ialBhcnNlcih0aGlzLm9wdGlvbnMpO1xuICAgICAgICBvcmRlcmVkT2JqUGFyc2VyLmFkZEV4dGVybmFsRW50aXRpZXModGhpcy5leHRlcm5hbEVudGl0aWVzKTtcbiAgICAgICAgY29uc3Qgb3JkZXJlZFJlc3VsdCA9IG9yZGVyZWRPYmpQYXJzZXIucGFyc2VYbWwoeG1sRGF0YSk7XG4gICAgICAgIGlmKHRoaXMub3B0aW9ucy5wcmVzZXJ2ZU9yZGVyIHx8IG9yZGVyZWRSZXN1bHQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIG9yZGVyZWRSZXN1bHQ7XG4gICAgICAgIGVsc2UgcmV0dXJuIHByZXR0aWZ5KG9yZGVyZWRSZXN1bHQsIHRoaXMub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIEVudGl0eSB3aGljaCBpcyBub3QgYnkgZGVmYXVsdCBzdXBwb3J0ZWQgYnkgdGhpcyBsaWJyYXJ5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgXG4gICAgICovXG4gICAgYWRkRW50aXR5KGtleSwgdmFsdWUpe1xuICAgICAgICBpZih2YWx1ZS5pbmRleE9mKFwiJlwiKSAhPT0gLTEpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW50aXR5IHZhbHVlIGNhbid0IGhhdmUgJyYnXCIpXG4gICAgICAgIH1lbHNlIGlmKGtleS5pbmRleE9mKFwiJlwiKSAhPT0gLTEgfHwga2V5LmluZGV4T2YoXCI7XCIpICE9PSAtMSl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbiBlbnRpdHkgbXVzdCBiZSBzZXQgd2l0aG91dCAnJicgYW5kICc7Jy4gRWcuIHVzZSAnI3hEJyBmb3IgJyYjeEQ7J1wiKVxuICAgICAgICB9ZWxzZSBpZih2YWx1ZSA9PT0gXCImXCIpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQW4gZW50aXR5IHdpdGggdmFsdWUgJyYnIGlzIG5vdCBwZXJtaXR0ZWRcIik7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5leHRlcm5hbEVudGl0aWVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBYTUxQYXJzZXI7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFxuICogQHBhcmFtIHthcnJheX0gbm9kZSBcbiAqIEBwYXJhbSB7YW55fSBvcHRpb25zIFxuICogQHJldHVybnMgXG4gKi9cbmZ1bmN0aW9uIHByZXR0aWZ5KG5vZGUsIG9wdGlvbnMpe1xuICByZXR1cm4gY29tcHJlc3MoIG5vZGUsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFxuICogQHBhcmFtIHthcnJheX0gYXJyIFxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgXG4gKiBAcGFyYW0ge3N0cmluZ30galBhdGggXG4gKiBAcmV0dXJucyBvYmplY3RcbiAqL1xuZnVuY3Rpb24gY29tcHJlc3MoYXJyLCBvcHRpb25zLCBqUGF0aCl7XG4gIGxldCB0ZXh0O1xuICBjb25zdCBjb21wcmVzc2VkT2JqID0ge307XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdGFnT2JqID0gYXJyW2ldO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcE5hbWUodGFnT2JqKTtcbiAgICBsZXQgbmV3SnBhdGggPSBcIlwiO1xuICAgIGlmKGpQYXRoID09PSB1bmRlZmluZWQpIG5ld0pwYXRoID0gcHJvcGVydHk7XG4gICAgZWxzZSBuZXdKcGF0aCA9IGpQYXRoICsgXCIuXCIgKyBwcm9wZXJ0eTtcblxuICAgIGlmKHByb3BlcnR5ID09PSBvcHRpb25zLnRleHROb2RlTmFtZSl7XG4gICAgICBpZih0ZXh0ID09PSB1bmRlZmluZWQpIHRleHQgPSB0YWdPYmpbcHJvcGVydHldO1xuICAgICAgZWxzZSB0ZXh0ICs9IFwiXCIgKyB0YWdPYmpbcHJvcGVydHldO1xuICAgIH1lbHNlIGlmKHByb3BlcnR5ID09PSB1bmRlZmluZWQpe1xuICAgICAgY29udGludWU7XG4gICAgfWVsc2UgaWYodGFnT2JqW3Byb3BlcnR5XSl7XG4gICAgICBcbiAgICAgIGxldCB2YWwgPSBjb21wcmVzcyh0YWdPYmpbcHJvcGVydHldLCBvcHRpb25zLCBuZXdKcGF0aCk7XG4gICAgICBjb25zdCBpc0xlYWYgPSBpc0xlYWZUYWcodmFsLCBvcHRpb25zKTtcblxuICAgICAgaWYodGFnT2JqW1wiOkBcIl0pe1xuICAgICAgICBhc3NpZ25BdHRyaWJ1dGVzKCB2YWwsIHRhZ09ialtcIjpAXCJdLCBuZXdKcGF0aCwgb3B0aW9ucyk7XG4gICAgICB9ZWxzZSBpZihPYmplY3Qua2V5cyh2YWwpLmxlbmd0aCA9PT0gMSAmJiB2YWxbb3B0aW9ucy50ZXh0Tm9kZU5hbWVdICE9PSB1bmRlZmluZWQgJiYgIW9wdGlvbnMuYWx3YXlzQ3JlYXRlVGV4dE5vZGUpe1xuICAgICAgICB2YWwgPSB2YWxbb3B0aW9ucy50ZXh0Tm9kZU5hbWVdO1xuICAgICAgfWVsc2UgaWYoT2JqZWN0LmtleXModmFsKS5sZW5ndGggPT09IDApe1xuICAgICAgICBpZihvcHRpb25zLmFsd2F5c0NyZWF0ZVRleHROb2RlKSB2YWxbb3B0aW9ucy50ZXh0Tm9kZU5hbWVdID0gXCJcIjtcbiAgICAgICAgZWxzZSB2YWwgPSBcIlwiO1xuICAgICAgfVxuXG4gICAgICBpZihjb21wcmVzc2VkT2JqW3Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkICYmIGNvbXByZXNzZWRPYmouaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgIGlmKCFBcnJheS5pc0FycmF5KGNvbXByZXNzZWRPYmpbcHJvcGVydHldKSkge1xuICAgICAgICAgICAgY29tcHJlc3NlZE9ialtwcm9wZXJ0eV0gPSBbIGNvbXByZXNzZWRPYmpbcHJvcGVydHldIF07XG4gICAgICAgIH1cbiAgICAgICAgY29tcHJlc3NlZE9ialtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vVE9ETzogaWYgYSBub2RlIGlzIG5vdCBhbiBhcnJheSwgdGhlbiBjaGVjayBpZiBpdCBzaG91bGQgYmUgYW4gYXJyYXlcbiAgICAgICAgLy9hbHNvIGRldGVybWluZSBpZiBpdCBpcyBhIGxlYWYgbm9kZVxuICAgICAgICBpZiAob3B0aW9ucy5pc0FycmF5KHByb3BlcnR5LCBuZXdKcGF0aCwgaXNMZWFmICkpIHtcbiAgICAgICAgICBjb21wcmVzc2VkT2JqW3Byb3BlcnR5XSA9IFt2YWxdO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBjb21wcmVzc2VkT2JqW3Byb3BlcnR5XSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgfVxuICAvLyBpZih0ZXh0ICYmIHRleHQubGVuZ3RoID4gMCkgY29tcHJlc3NlZE9ialtvcHRpb25zLnRleHROb2RlTmFtZV0gPSB0ZXh0O1xuICBpZih0eXBlb2YgdGV4dCA9PT0gXCJzdHJpbmdcIil7XG4gICAgaWYodGV4dC5sZW5ndGggPiAwKSBjb21wcmVzc2VkT2JqW29wdGlvbnMudGV4dE5vZGVOYW1lXSA9IHRleHQ7XG4gIH1lbHNlIGlmKHRleHQgIT09IHVuZGVmaW5lZCkgY29tcHJlc3NlZE9ialtvcHRpb25zLnRleHROb2RlTmFtZV0gPSB0ZXh0O1xuICByZXR1cm4gY29tcHJlc3NlZE9iajtcbn1cblxuZnVuY3Rpb24gcHJvcE5hbWUob2JqKXtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgaWYoa2V5ICE9PSBcIjpAXCIpIHJldHVybiBrZXk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzaWduQXR0cmlidXRlcyhvYmosIGF0dHJNYXAsIGpwYXRoLCBvcHRpb25zKXtcbiAgaWYgKGF0dHJNYXApIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYXR0ck1hcCk7XG4gICAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7IC8vZG9uJ3QgbWFrZSBpdCBpbmxpbmVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBhdHJyTmFtZSA9IGtleXNbaV07XG4gICAgICBpZiAob3B0aW9ucy5pc0FycmF5KGF0cnJOYW1lLCBqcGF0aCArIFwiLlwiICsgYXRyck5hbWUsIHRydWUsIHRydWUpKSB7XG4gICAgICAgIG9ialthdHJyTmFtZV0gPSBbIGF0dHJNYXBbYXRyck5hbWVdIF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmpbYXRyck5hbWVdID0gYXR0ck1hcFthdHJyTmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzTGVhZlRhZyhvYmosIG9wdGlvbnMpe1xuICBjb25zdCB7IHRleHROb2RlTmFtZSB9ID0gb3B0aW9ucztcbiAgY29uc3QgcHJvcENvdW50ID0gT2JqZWN0LmtleXMob2JqKS5sZW5ndGg7XG4gIFxuICBpZiAocHJvcENvdW50ID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoXG4gICAgcHJvcENvdW50ID09PSAxICYmXG4gICAgKG9ialt0ZXh0Tm9kZU5hbWVdIHx8IHR5cGVvZiBvYmpbdGV4dE5vZGVOYW1lXSA9PT0gXCJib29sZWFuXCIgfHwgb2JqW3RleHROb2RlTmFtZV0gPT09IDApXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5wcmV0dGlmeSA9IHByZXR0aWZ5O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jbGFzcyBYbWxOb2Rle1xuICBjb25zdHJ1Y3Rvcih0YWduYW1lKSB7XG4gICAgdGhpcy50YWduYW1lID0gdGFnbmFtZTtcbiAgICB0aGlzLmNoaWxkID0gW107IC8vbmVzdGVkIHRhZ3MsIHRleHQsIGNkYXRhLCBjb21tZW50cyBpbiBvcmRlclxuICAgIHRoaXNbXCI6QFwiXSA9IHt9OyAvL2F0dHJpYnV0ZXMgbWFwXG4gIH1cbiAgYWRkKGtleSx2YWwpe1xuICAgIC8vIHRoaXMuY2hpbGQucHVzaCgge25hbWUgOiBrZXksIHZhbDogdmFsLCBpc0NkYXRhOiBpc0NkYXRhIH0pO1xuICAgIGlmKGtleSA9PT0gXCJfX3Byb3RvX19cIikga2V5ID0gXCIjX19wcm90b19fXCI7XG4gICAgdGhpcy5jaGlsZC5wdXNoKCB7W2tleV06IHZhbCB9KTtcbiAgfVxuICBhZGRDaGlsZChub2RlKSB7XG4gICAgaWYobm9kZS50YWduYW1lID09PSBcIl9fcHJvdG9fX1wiKSBub2RlLnRhZ25hbWUgPSBcIiNfX3Byb3RvX19cIjtcbiAgICBpZihub2RlW1wiOkBcIl0gJiYgT2JqZWN0LmtleXMobm9kZVtcIjpAXCJdKS5sZW5ndGggPiAwKXtcbiAgICAgIHRoaXMuY2hpbGQucHVzaCggeyBbbm9kZS50YWduYW1lXTogbm9kZS5jaGlsZCwgW1wiOkBcIl06IG5vZGVbXCI6QFwiXSB9KTtcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuY2hpbGQucHVzaCggeyBbbm9kZS50YWduYW1lXTogbm9kZS5jaGlsZCB9KTtcbiAgICB9XG4gIH07XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gWG1sTm9kZTsiLCJjb25zdCBoZXhSZWdleCA9IC9eWy0rXT8weFthLWZBLUYwLTldKyQvO1xuY29uc3QgbnVtUmVnZXggPSAvXihbXFwtXFwrXSk/KDAqKShcXC5bMC05XSsoW2VFXVxcLT9bMC05XSspP3xbMC05XSsoXFwuWzAtOV0rKFtlRV1cXC0/WzAtOV0rKT8pPykkLztcbi8vIGNvbnN0IG9jdFJlZ2V4ID0gLzB4W2EtejAtOV0rLztcbi8vIGNvbnN0IGJpblJlZ2V4ID0gLzB4W2EtejAtOV0rLztcblxuXG4vL3BvbHlmaWxsXG5pZiAoIU51bWJlci5wYXJzZUludCAmJiB3aW5kb3cucGFyc2VJbnQpIHtcbiAgICBOdW1iZXIucGFyc2VJbnQgPSB3aW5kb3cucGFyc2VJbnQ7XG59XG5pZiAoIU51bWJlci5wYXJzZUZsb2F0ICYmIHdpbmRvdy5wYXJzZUZsb2F0KSB7XG4gICAgTnVtYmVyLnBhcnNlRmxvYXQgPSB3aW5kb3cucGFyc2VGbG9hdDtcbn1cblxuICBcbmNvbnN0IGNvbnNpZGVyID0ge1xuICAgIGhleCA6ICB0cnVlLFxuICAgIGxlYWRpbmdaZXJvczogdHJ1ZSxcbiAgICBkZWNpbWFsUG9pbnQ6IFwiXFwuXCIsXG4gICAgZU5vdGF0aW9uOiB0cnVlXG4gICAgLy9za2lwTGlrZTogL3JlZ2V4L1xufTtcblxuZnVuY3Rpb24gdG9OdW1iZXIoc3RyLCBvcHRpb25zID0ge30pe1xuICAgIC8vIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBjb25zaWRlcik7XG4gICAgLy8gaWYob3B0LmxlYWRpbmdaZXJvcyA9PT0gZmFsc2Upe1xuICAgIC8vICAgICBvcHRpb25zLmxlYWRpbmdaZXJvcyA9IGZhbHNlO1xuICAgIC8vIH1lbHNlIGlmKG9wdC5oZXggPT09IGZhbHNlKXtcbiAgICAvLyAgICAgb3B0aW9ucy5oZXggPSBmYWxzZTtcbiAgICAvLyB9XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgY29uc2lkZXIsIG9wdGlvbnMgKTtcbiAgICBpZighc3RyIHx8IHR5cGVvZiBzdHIgIT09IFwic3RyaW5nXCIgKSByZXR1cm4gc3RyO1xuICAgIFxuICAgIGxldCB0cmltbWVkU3RyICA9IHN0ci50cmltKCk7XG4gICAgLy8gaWYodHJpbW1lZFN0ciA9PT0gXCIwLjBcIikgcmV0dXJuIDA7XG4gICAgLy8gZWxzZSBpZih0cmltbWVkU3RyID09PSBcIiswLjBcIikgcmV0dXJuIDA7XG4gICAgLy8gZWxzZSBpZih0cmltbWVkU3RyID09PSBcIi0wLjBcIikgcmV0dXJuIC0wO1xuXG4gICAgaWYob3B0aW9ucy5za2lwTGlrZSAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuc2tpcExpa2UudGVzdCh0cmltbWVkU3RyKSkgcmV0dXJuIHN0cjtcbiAgICBlbHNlIGlmIChvcHRpb25zLmhleCAmJiBoZXhSZWdleC50ZXN0KHRyaW1tZWRTdHIpKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIucGFyc2VJbnQodHJpbW1lZFN0ciwgMTYpO1xuICAgIC8vIH0gZWxzZSBpZiAob3B0aW9ucy5wYXJzZU9jdCAmJiBvY3RSZWdleC50ZXN0KHN0cikpIHtcbiAgICAvLyAgICAgcmV0dXJuIE51bWJlci5wYXJzZUludCh2YWwsIDgpO1xuICAgIC8vIH1lbHNlIGlmIChvcHRpb25zLnBhcnNlQmluICYmIGJpblJlZ2V4LnRlc3Qoc3RyKSkge1xuICAgIC8vICAgICByZXR1cm4gTnVtYmVyLnBhcnNlSW50KHZhbCwgMik7XG4gICAgfWVsc2V7XG4gICAgICAgIC8vc2VwYXJhdGUgbmVnYXRpdmUgc2lnbiwgbGVhZGluZyB6ZXJvcywgYW5kIHJlc3QgbnVtYmVyXG4gICAgICAgIGNvbnN0IG1hdGNoID0gbnVtUmVnZXguZXhlYyh0cmltbWVkU3RyKTtcbiAgICAgICAgaWYobWF0Y2gpe1xuICAgICAgICAgICAgY29uc3Qgc2lnbiA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgY29uc3QgbGVhZGluZ1plcm9zID0gbWF0Y2hbMl07XG4gICAgICAgICAgICBsZXQgbnVtVHJpbW1lZEJ5WmVyb3MgPSB0cmltWmVyb3MobWF0Y2hbM10pOyAvL2NvbXBsZXRlIG51bSB3aXRob3V0IGxlYWRpbmcgemVyb3NcbiAgICAgICAgICAgIC8vdHJpbSBlbmRpbmcgemVyb3MgZm9yIGZsb2F0aW5nIG51bWJlclxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBlTm90YXRpb24gPSBtYXRjaFs0XSB8fCBtYXRjaFs2XTtcbiAgICAgICAgICAgIGlmKCFvcHRpb25zLmxlYWRpbmdaZXJvcyAmJiBsZWFkaW5nWmVyb3MubGVuZ3RoID4gMCAmJiBzaWduICYmIHRyaW1tZWRTdHJbMl0gIT09IFwiLlwiKSByZXR1cm4gc3RyOyAvLy0wMTIzXG4gICAgICAgICAgICBlbHNlIGlmKCFvcHRpb25zLmxlYWRpbmdaZXJvcyAmJiBsZWFkaW5nWmVyb3MubGVuZ3RoID4gMCAmJiAhc2lnbiAmJiB0cmltbWVkU3RyWzFdICE9PSBcIi5cIikgcmV0dXJuIHN0cjsgLy8wMTIzXG4gICAgICAgICAgICBlbHNley8vbm8gbGVhZGluZyB6ZXJvcyBvciBsZWFkaW5nIHplcm9zIGFyZSBhbGxvd2VkXG4gICAgICAgICAgICAgICAgY29uc3QgbnVtID0gTnVtYmVyKHRyaW1tZWRTdHIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bVN0ciA9IFwiXCIgKyBudW07XG4gICAgICAgICAgICAgICAgaWYobnVtU3RyLnNlYXJjaCgvW2VFXS8pICE9PSAtMSl7IC8vZ2l2ZW4gbnVtYmVyIGlzIGxvbmcgYW5kIHBhcnNlZCB0byBlTm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYob3B0aW9ucy5lTm90YXRpb24pIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihlTm90YXRpb24peyAvL2dpdmVuIG51bWJlciBoYXMgZW5vdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuZU5vdGF0aW9uKSByZXR1cm4gbnVtO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBzdHI7XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYodHJpbW1lZFN0ci5pbmRleE9mKFwiLlwiKSAhPT0gLTEpeyAvL2Zsb2F0aW5nIG51bWJlclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBkZWNpbWFsUGFydCA9IG1hdGNoWzVdLnN1YnN0cigxKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgaW50UGFydCA9IHRyaW1tZWRTdHIuc3Vic3RyKDAsdHJpbW1lZFN0ci5pbmRleE9mKFwiLlwiKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IHAgPSBudW1TdHIuaW5kZXhPZihcIi5cIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGdpdmVuSW50UGFydCA9IG51bVN0ci5zdWJzdHIoMCxwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgZ2l2ZW5EZWNQYXJ0ID0gbnVtU3RyLnN1YnN0cihwKzEpO1xuICAgICAgICAgICAgICAgICAgICBpZihudW1TdHIgPT09IFwiMFwiICYmIChudW1UcmltbWVkQnlaZXJvcyA9PT0gXCJcIikgKSByZXR1cm4gbnVtOyAvLzAuMFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKG51bVN0ciA9PT0gbnVtVHJpbW1lZEJ5WmVyb3MpIHJldHVybiBudW07IC8vMC40NTYuIDAuNzkwMDBcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiggc2lnbiAmJiBudW1TdHIgPT09IFwiLVwiK251bVRyaW1tZWRCeVplcm9zKSByZXR1cm4gbnVtO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBzdHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKGxlYWRpbmdaZXJvcyl7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmKG51bVRyaW1tZWRCeVplcm9zID09PSBudW1TdHIpe1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYob3B0aW9ucy5sZWFkaW5nWmVyb3MpIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBlbHNlIHJldHVybiBzdHI7XG4gICAgICAgICAgICAgICAgICAgIC8vIH1lbHNlIHJldHVybiBzdHI7XG4gICAgICAgICAgICAgICAgICAgIGlmKG51bVRyaW1tZWRCeVplcm9zID09PSBudW1TdHIpIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoc2lnbitudW1UcmltbWVkQnlaZXJvcyA9PT0gbnVtU3RyKSByZXR1cm4gbnVtO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBzdHI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYodHJpbW1lZFN0ciA9PT0gbnVtU3RyKSByZXR1cm4gbnVtO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYodHJpbW1lZFN0ciA9PT0gc2lnbitudW1TdHIpIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgLy8gZWxzZXtcbiAgICAgICAgICAgICAgICAvLyAgICAgLy9udW1iZXIgd2l0aCArLy0gc2lnblxuICAgICAgICAgICAgICAgIC8vICAgICB0cmltbWVkU3RyLnRlc3QoL1stK11bMC05XSk7XG5cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVsc2UgaWYoIWVOb3RhdGlvbiAmJiB0cmltbWVkU3RyICYmIHRyaW1tZWRTdHIgIT09IE51bWJlcih0cmltbWVkU3RyKSApIHJldHVybiBzdHI7XG4gICAgICAgICAgICBcbiAgICAgICAgfWVsc2V7IC8vbm9uLW51bWVyaWMgc3RyaW5nXG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFxuICogQHBhcmFtIHtzdHJpbmd9IG51bVN0ciB3aXRob3V0IGxlYWRpbmcgemVyb3NcbiAqIEByZXR1cm5zIFxuICovXG5mdW5jdGlvbiB0cmltWmVyb3MobnVtU3RyKXtcbiAgICBpZihudW1TdHIgJiYgbnVtU3RyLmluZGV4T2YoXCIuXCIpICE9PSAtMSl7Ly9mbG9hdFxuICAgICAgICBudW1TdHIgPSBudW1TdHIucmVwbGFjZSgvMCskLywgXCJcIik7IC8vcmVtb3ZlIGVuZGluZyB6ZXJvc1xuICAgICAgICBpZihudW1TdHIgPT09IFwiLlwiKSAgbnVtU3RyID0gXCIwXCI7XG4gICAgICAgIGVsc2UgaWYobnVtU3RyWzBdID09PSBcIi5cIikgIG51bVN0ciA9IFwiMFwiK251bVN0cjtcbiAgICAgICAgZWxzZSBpZihudW1TdHJbbnVtU3RyLmxlbmd0aC0xXSA9PT0gXCIuXCIpICBudW1TdHIgPSBudW1TdHIuc3Vic3RyKDAsbnVtU3RyLmxlbmd0aC0xKTtcbiAgICAgICAgcmV0dXJuIG51bVN0cjtcbiAgICB9XG4gICAgcmV0dXJuIG51bVN0cjtcbn1cbm1vZHVsZS5leHBvcnRzID0gdG9OdW1iZXJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV2ZW50c1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJvc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInByb2Nlc3NcIik7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImV4cG9ydCB2YXIgU2VsZWN0b3JUeXBlO1xuKGZ1bmN0aW9uIChTZWxlY3RvclR5cGUpIHtcbiAgICBTZWxlY3RvclR5cGVbXCJFTlZcIl0gPSBcImVudlwiO1xuICAgIFNlbGVjdG9yVHlwZVtcIkNPTkZJR1wiXSA9IFwic2hhcmVkIGNvbmZpZyBlbnRyeVwiO1xufSkoU2VsZWN0b3JUeXBlIHx8IChTZWxlY3RvclR5cGUgPSB7fSkpO1xuZXhwb3J0IGNvbnN0IGJvb2xlYW5TZWxlY3RvciA9IChvYmosIGtleSwgdHlwZSkgPT4ge1xuICAgIGlmICghKGtleSBpbiBvYmopKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGlmIChvYmpba2V5XSA9PT0gXCJ0cnVlXCIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChvYmpba2V5XSA9PT0gXCJmYWxzZVwiKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgbG9hZCAke3R5cGV9IFwiJHtrZXl9XCIuIEV4cGVjdGVkIFwidHJ1ZVwiIG9yIFwiZmFsc2VcIiwgZ290ICR7b2JqW2tleV19LmApO1xufTtcbiIsImltcG9ydCB7IGJvb2xlYW5TZWxlY3RvciwgU2VsZWN0b3JUeXBlIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtY29uZmlnLXByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgRU5WX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlQgPSBcIkFXU19VU0VfRFVBTFNUQUNLX0VORFBPSU5UXCI7XG5leHBvcnQgY29uc3QgQ09ORklHX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlQgPSBcInVzZV9kdWFsc3RhY2tfZW5kcG9pbnRcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlQgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMgPSB7XG4gICAgZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yOiAoZW52KSA9PiBib29sZWFuU2VsZWN0b3IoZW52LCBFTlZfVVNFX0RVQUxTVEFDS19FTkRQT0lOVCwgU2VsZWN0b3JUeXBlLkVOViksXG4gICAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4gYm9vbGVhblNlbGVjdG9yKHByb2ZpbGUsIENPTkZJR19VU0VfRFVBTFNUQUNLX0VORFBPSU5ULCBTZWxlY3RvclR5cGUuQ09ORklHKSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbn07XG4iLCJpbXBvcnQgeyBib29sZWFuU2VsZWN0b3IsIFNlbGVjdG9yVHlwZSB9IGZyb20gXCJAYXdzLXNkay91dGlsLWNvbmZpZy1wcm92aWRlclwiO1xuZXhwb3J0IGNvbnN0IEVOVl9VU0VfRklQU19FTkRQT0lOVCA9IFwiQVdTX1VTRV9GSVBTX0VORFBPSU5UXCI7XG5leHBvcnQgY29uc3QgQ09ORklHX1VTRV9GSVBTX0VORFBPSU5UID0gXCJ1c2VfZmlwc19lbmRwb2ludFwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfVVNFX0ZJUFNfRU5EUE9JTlQgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TID0ge1xuICAgIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudikgPT4gYm9vbGVhblNlbGVjdG9yKGVudiwgRU5WX1VTRV9GSVBTX0VORFBPSU5ULCBTZWxlY3RvclR5cGUuRU5WKSxcbiAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBib29sZWFuU2VsZWN0b3IocHJvZmlsZSwgQ09ORklHX1VTRV9GSVBTX0VORFBPSU5ULCBTZWxlY3RvclR5cGUuQ09ORklHKSxcbiAgICBkZWZhdWx0OiBmYWxzZSxcbn07XG4iLCJleHBvcnQgY29uc3QgUkVHSU9OX0VOVl9OQU1FID0gXCJBV1NfUkVHSU9OXCI7XG5leHBvcnQgY29uc3QgUkVHSU9OX0lOSV9OQU1FID0gXCJyZWdpb25cIjtcbmV4cG9ydCBjb25zdCBOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUyA9IHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltSRUdJT05fRU5WX05BTUVdLFxuICAgIGNvbmZpZ0ZpbGVTZWxlY3RvcjogKHByb2ZpbGUpID0+IHByb2ZpbGVbUkVHSU9OX0lOSV9OQU1FXSxcbiAgICBkZWZhdWx0OiAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlZ2lvbiBpcyBtaXNzaW5nXCIpO1xuICAgIH0sXG59O1xuZXhwb3J0IGNvbnN0IE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMgPSB7XG4gICAgcHJlZmVycmVkRmlsZTogXCJjcmVkZW50aWFsc1wiLFxufTtcbiIsImV4cG9ydCBjb25zdCBpc0ZpcHNSZWdpb24gPSAocmVnaW9uKSA9PiB0eXBlb2YgcmVnaW9uID09PSBcInN0cmluZ1wiICYmIChyZWdpb24uc3RhcnRzV2l0aChcImZpcHMtXCIpIHx8IHJlZ2lvbi5lbmRzV2l0aChcIi1maXBzXCIpKTtcbiIsImltcG9ydCB7IGlzRmlwc1JlZ2lvbiB9IGZyb20gXCIuL2lzRmlwc1JlZ2lvblwiO1xuZXhwb3J0IGNvbnN0IGdldFJlYWxSZWdpb24gPSAocmVnaW9uKSA9PiBpc0ZpcHNSZWdpb24ocmVnaW9uKVxuICAgID8gW1wiZmlwcy1hd3MtZ2xvYmFsXCIsIFwiYXdzLWZpcHNcIl0uaW5jbHVkZXMocmVnaW9uKVxuICAgICAgICA/IFwidXMtZWFzdC0xXCJcbiAgICAgICAgOiByZWdpb24ucmVwbGFjZSgvZmlwcy0oZGtyLXxwcm9kLSk/fC1maXBzLywgXCJcIilcbiAgICA6IHJlZ2lvbjtcbiIsImltcG9ydCB7IGdldFJlYWxSZWdpb24gfSBmcm9tIFwiLi9nZXRSZWFsUmVnaW9uXCI7XG5pbXBvcnQgeyBpc0ZpcHNSZWdpb24gfSBmcm9tIFwiLi9pc0ZpcHNSZWdpb25cIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlUmVnaW9uQ29uZmlnID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgeyByZWdpb24sIHVzZUZpcHNFbmRwb2ludCB9ID0gaW5wdXQ7XG4gICAgaWYgKCFyZWdpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVnaW9uIGlzIG1pc3NpbmdcIik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlucHV0LFxuICAgICAgICByZWdpb246IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVnaW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFJlYWxSZWdpb24ocmVnaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVkUmVnaW9uID0gYXdhaXQgcmVnaW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UmVhbFJlZ2lvbihwcm92aWRlZFJlZ2lvbik7XG4gICAgICAgIH0sXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvdmlkZWRSZWdpb24gPSB0eXBlb2YgcmVnaW9uID09PSBcInN0cmluZ1wiID8gcmVnaW9uIDogYXdhaXQgcmVnaW9uKCk7XG4gICAgICAgICAgICBpZiAoaXNGaXBzUmVnaW9uKHByb3ZpZGVkUmVnaW9uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB1c2VGaXBzRW5kcG9pbnQgIT09IFwiZnVuY3Rpb25cIiA/IFByb21pc2UucmVzb2x2ZSghIXVzZUZpcHNFbmRwb2ludCkgOiB1c2VGaXBzRW5kcG9pbnQoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbiIsImV4cG9ydCB2YXIgRmllbGRQb3NpdGlvbjtcbihmdW5jdGlvbiAoRmllbGRQb3NpdGlvbikge1xuICAgIEZpZWxkUG9zaXRpb25bRmllbGRQb3NpdGlvbltcIkhFQURFUlwiXSA9IDBdID0gXCJIRUFERVJcIjtcbiAgICBGaWVsZFBvc2l0aW9uW0ZpZWxkUG9zaXRpb25bXCJUUkFJTEVSXCJdID0gMV0gPSBcIlRSQUlMRVJcIjtcbn0pKEZpZWxkUG9zaXRpb24gfHwgKEZpZWxkUG9zaXRpb24gPSB7fSkpO1xuIiwiZXhwb3J0IGNsYXNzIEh0dHBSZXF1ZXN0IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIjtcbiAgICAgICAgdGhpcy5ob3N0bmFtZSA9IG9wdGlvbnMuaG9zdG5hbWUgfHwgXCJsb2NhbGhvc3RcIjtcbiAgICAgICAgdGhpcy5wb3J0ID0gb3B0aW9ucy5wb3J0O1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gb3B0aW9ucy5xdWVyeSB8fCB7fTtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICB0aGlzLmJvZHkgPSBvcHRpb25zLmJvZHk7XG4gICAgICAgIHRoaXMucHJvdG9jb2wgPSBvcHRpb25zLnByb3RvY29sXG4gICAgICAgICAgICA/IG9wdGlvbnMucHJvdG9jb2wuc2xpY2UoLTEpICE9PSBcIjpcIlxuICAgICAgICAgICAgICAgID8gYCR7b3B0aW9ucy5wcm90b2NvbH06YFxuICAgICAgICAgICAgICAgIDogb3B0aW9ucy5wcm90b2NvbFxuICAgICAgICAgICAgOiBcImh0dHBzOlwiO1xuICAgICAgICB0aGlzLnBhdGggPSBvcHRpb25zLnBhdGggPyAob3B0aW9ucy5wYXRoLmNoYXJBdCgwKSAhPT0gXCIvXCIgPyBgLyR7b3B0aW9ucy5wYXRofWAgOiBvcHRpb25zLnBhdGgpIDogXCIvXCI7XG4gICAgICAgIHRoaXMudXNlcm5hbWUgPSBvcHRpb25zLnVzZXJuYW1lO1xuICAgICAgICB0aGlzLnBhc3N3b3JkID0gb3B0aW9ucy5wYXNzd29yZDtcbiAgICAgICAgdGhpcy5mcmFnbWVudCA9IG9wdGlvbnMuZnJhZ21lbnQ7XG4gICAgfVxuICAgIHN0YXRpYyBpc0luc3RhbmNlKHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCByZXEgPSByZXF1ZXN0O1xuICAgICAgICByZXR1cm4gKFwibWV0aG9kXCIgaW4gcmVxICYmXG4gICAgICAgICAgICBcInByb3RvY29sXCIgaW4gcmVxICYmXG4gICAgICAgICAgICBcImhvc3RuYW1lXCIgaW4gcmVxICYmXG4gICAgICAgICAgICBcInBhdGhcIiBpbiByZXEgJiZcbiAgICAgICAgICAgIHR5cGVvZiByZXFbXCJxdWVyeVwiXSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgdHlwZW9mIHJlcVtcImhlYWRlcnNcIl0gPT09IFwib2JqZWN0XCIpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgY29uc3QgY2xvbmVkID0gbmV3IEh0dHBSZXF1ZXN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLnRoaXMuaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNsb25lZC5xdWVyeSlcbiAgICAgICAgICAgIGNsb25lZC5xdWVyeSA9IGNsb25lUXVlcnkoY2xvbmVkLnF1ZXJ5KTtcbiAgICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9XG59XG5mdW5jdGlvbiBjbG9uZVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHF1ZXJ5KS5yZWR1Y2UoKGNhcnJ5LCBwYXJhbU5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSBxdWVyeVtwYXJhbU5hbWVdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY2FycnksXG4gICAgICAgICAgICBbcGFyYW1OYW1lXTogQXJyYXkuaXNBcnJheShwYXJhbSkgPyBbLi4ucGFyYW1dIDogcGFyYW0sXG4gICAgICAgIH07XG4gICAgfSwge30pO1xufVxuIiwiZXhwb3J0IGNsYXNzIEh0dHBSZXNwb25zZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLnN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGU7XG4gICAgICAgIHRoaXMucmVhc29uID0gb3B0aW9ucy5yZWFzb247XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcbiAgICAgICAgdGhpcy5ib2R5ID0gb3B0aW9ucy5ib2R5O1xuICAgIH1cbiAgICBzdGF0aWMgaXNJbnN0YW5jZShyZXNwb25zZSkge1xuICAgICAgICBpZiAoIXJlc3BvbnNlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcmVzcC5zdGF0dXNDb2RlID09PSBcIm51bWJlclwiICYmIHR5cGVvZiByZXNwLmhlYWRlcnMgPT09IFwib2JqZWN0XCI7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuY29uc3QgQ09OVEVOVF9MRU5HVEhfSEVBREVSID0gXCJjb250ZW50LWxlbmd0aFwiO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlKGJvZHlMZW5ndGhDaGVja2VyKSB7XG4gICAgcmV0dXJuIChuZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gYXJncy5yZXF1ZXN0O1xuICAgICAgICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgICAgICAgICAgY29uc3QgeyBib2R5LCBoZWFkZXJzIH0gPSByZXF1ZXN0O1xuICAgICAgICAgICAgaWYgKGJvZHkgJiZcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhoZWFkZXJzKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChzdHIpID0+IHN0ci50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgICAgICAuaW5kZXhPZihDT05URU5UX0xFTkdUSF9IRUFERVIpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGJvZHlMZW5ndGhDaGVja2VyKGJvZHkpO1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBbQ09OVEVOVF9MRU5HVEhfSEVBREVSXTogU3RyaW5nKGxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dCh7XG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBjb250ZW50TGVuZ3RoTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gICAgc3RlcDogXCJidWlsZFwiLFxuICAgIHRhZ3M6IFtcIlNFVF9DT05URU5UX0xFTkdUSFwiLCBcIkNPTlRFTlRfTEVOR1RIXCJdLFxuICAgIG5hbWU6IFwiY29udGVudExlbmd0aE1pZGRsZXdhcmVcIixcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgZ2V0Q29udGVudExlbmd0aFBsdWdpbiA9IChvcHRpb25zKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZChjb250ZW50TGVuZ3RoTWlkZGxld2FyZShvcHRpb25zLmJvZHlMZW5ndGhDaGVja2VyKSwgY29udGVudExlbmd0aE1pZGRsZXdhcmVPcHRpb25zKTtcbiAgICB9LFxufSk7XG4iLCJpbXBvcnQgeyBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlIH0gZnJvbSBcIi4vZGVzZXJpYWxpemVyTWlkZGxld2FyZVwiO1xuaW1wb3J0IHsgc2VyaWFsaXplck1pZGRsZXdhcmUgfSBmcm9tIFwiLi9zZXJpYWxpemVyTWlkZGxld2FyZVwiO1xuZXhwb3J0IGNvbnN0IGRlc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24gPSB7XG4gICAgbmFtZTogXCJkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlXCIsXG4gICAgc3RlcDogXCJkZXNlcmlhbGl6ZVwiLFxuICAgIHRhZ3M6IFtcIkRFU0VSSUFMSVpFUlwiXSxcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3Qgc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24gPSB7XG4gICAgbmFtZTogXCJzZXJpYWxpemVyTWlkZGxld2FyZVwiLFxuICAgIHN0ZXA6IFwic2VyaWFsaXplXCIsXG4gICAgdGFnczogW1wiU0VSSUFMSVpFUlwiXSxcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VyZGVQbHVnaW4oY29uZmlnLCBzZXJpYWxpemVyLCBkZXNlcmlhbGl6ZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcHBseVRvU3RhY2s6IChjb21tYW5kU3RhY2spID0+IHtcbiAgICAgICAgICAgIGNvbW1hbmRTdGFjay5hZGQoZGVzZXJpYWxpemVyTWlkZGxld2FyZShjb25maWcsIGRlc2VyaWFsaXplciksIGRlc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24pO1xuICAgICAgICAgICAgY29tbWFuZFN0YWNrLmFkZChzZXJpYWxpemVyTWlkZGxld2FyZShjb25maWcsIHNlcmlhbGl6ZXIpLCBzZXJpYWxpemVyTWlkZGxld2FyZU9wdGlvbik7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiIsImV4cG9ydCBjb25zdCBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlID0gKG9wdGlvbnMsIGRlc2VyaWFsaXplcikgPT4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgY29uc3QgeyByZXNwb25zZSB9ID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBhd2FpdCBkZXNlcmlhbGl6ZXIocmVzcG9uc2UsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICBvdXRwdXQ6IHBhcnNlZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCIkcmVzcG9uc2VcIiwge1xuICAgICAgICAgICAgdmFsdWU6IHJlc3BvbnNlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCEoJyRtZXRhZGF0YScgaW4gZXJyb3IpKSB7XG4gICAgICAgICAgICBjb25zdCBoaW50ID0gYERlc2VyaWFsaXphdGlvbiBlcnJvcjogdG8gc2VlIHRoZSByYXcgcmVzcG9uc2UsIGluc3BlY3QgdGhlIGhpZGRlbiBmaWVsZCB7ZXJyb3J9LiRyZXNwb25zZSBvbiB0aGlzIG9iamVjdC5gO1xuICAgICAgICAgICAgZXJyb3IubWVzc2FnZSArPSBcIlxcbiAgXCIgKyBoaW50O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG4iLCJleHBvcnQgY29uc3Qgc2VyaWFsaXplck1pZGRsZXdhcmUgPSAob3B0aW9ucywgc2VyaWFsaXplcikgPT4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBjb250ZXh0LmVuZHBvaW50VjI/LnVybCAmJiBvcHRpb25zLnVybFBhcnNlclxuICAgICAgICA/IGFzeW5jICgpID0+IG9wdGlvbnMudXJsUGFyc2VyKGNvbnRleHQuZW5kcG9pbnRWMi51cmwpXG4gICAgICAgIDogb3B0aW9ucy5lbmRwb2ludDtcbiAgICBpZiAoIWVuZHBvaW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHZhbGlkIGVuZHBvaW50IHByb3ZpZGVyIGF2YWlsYWJsZS5cIik7XG4gICAgfVxuICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCBzZXJpYWxpemVyKGFyZ3MuaW5wdXQsIHsgLi4ub3B0aW9ucywgZW5kcG9pbnQgfSk7XG4gICAgcmV0dXJuIG5leHQoe1xuICAgICAgICAuLi5hcmdzLFxuICAgICAgICByZXF1ZXN0LFxuICAgIH0pO1xufTtcbiIsImV4cG9ydCBjb25zdCByZXNvbHZlUGFyYW1zRm9yUzMgPSBhc3luYyAoZW5kcG9pbnRQYXJhbXMpID0+IHtcbiAgICBjb25zdCBidWNrZXQgPSBlbmRwb2ludFBhcmFtcz8uQnVja2V0IHx8IFwiXCI7XG4gICAgaWYgKHR5cGVvZiBlbmRwb2ludFBhcmFtcy5CdWNrZXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgZW5kcG9pbnRQYXJhbXMuQnVja2V0ID0gYnVja2V0LnJlcGxhY2UoLyMvZywgZW5jb2RlVVJJQ29tcG9uZW50KFwiI1wiKSkucmVwbGFjZSgvXFw/L2csIGVuY29kZVVSSUNvbXBvbmVudChcIj9cIikpO1xuICAgIH1cbiAgICBpZiAoaXNBcm5CdWNrZXROYW1lKGJ1Y2tldCkpIHtcbiAgICAgICAgaWYgKGVuZHBvaW50UGFyYW1zLkZvcmNlUGF0aFN0eWxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXRoLXN0eWxlIGFkZHJlc3NpbmcgY2Fubm90IGJlIHVzZWQgd2l0aCBBUk4gYnVja2V0c1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICghaXNEbnNDb21wYXRpYmxlQnVja2V0TmFtZShidWNrZXQpIHx8XG4gICAgICAgIChidWNrZXQuaW5kZXhPZihcIi5cIikgIT09IC0xICYmICFTdHJpbmcoZW5kcG9pbnRQYXJhbXMuRW5kcG9pbnQpLnN0YXJ0c1dpdGgoXCJodHRwOlwiKSkgfHxcbiAgICAgICAgYnVja2V0LnRvTG93ZXJDYXNlKCkgIT09IGJ1Y2tldCB8fFxuICAgICAgICBidWNrZXQubGVuZ3RoIDwgMykge1xuICAgICAgICBlbmRwb2ludFBhcmFtcy5Gb3JjZVBhdGhTdHlsZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChlbmRwb2ludFBhcmFtcy5EaXNhYmxlTXVsdGlSZWdpb25BY2Nlc3NQb2ludHMpIHtcbiAgICAgICAgZW5kcG9pbnRQYXJhbXMuZGlzYWJsZU11bHRpUmVnaW9uQWNjZXNzUG9pbnRzID0gdHJ1ZTtcbiAgICAgICAgZW5kcG9pbnRQYXJhbXMuRGlzYWJsZU1SQVAgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZW5kcG9pbnRQYXJhbXM7XG59O1xuY29uc3QgRE9NQUlOX1BBVFRFUk4gPSAvXlthLXowLTldW2EtejAtOVxcLlxcLV17MSw2MX1bYS16MC05XSQvO1xuY29uc3QgSVBfQUREUkVTU19QQVRURVJOID0gLyhcXGQrXFwuKXszfVxcZCsvO1xuY29uc3QgRE9UU19QQVRURVJOID0gL1xcLlxcLi87XG5leHBvcnQgY29uc3QgRE9UX1BBVFRFUk4gPSAvXFwuLztcbmV4cG9ydCBjb25zdCBTM19IT1NUTkFNRV9QQVRURVJOID0gL14oLitcXC4pP3MzKC1maXBzKT8oXFwuZHVhbHN0YWNrKT9bLi1dKFthLXowLTktXSspXFwuLztcbmV4cG9ydCBjb25zdCBpc0Ruc0NvbXBhdGlibGVCdWNrZXROYW1lID0gKGJ1Y2tldE5hbWUpID0+IERPTUFJTl9QQVRURVJOLnRlc3QoYnVja2V0TmFtZSkgJiYgIUlQX0FERFJFU1NfUEFUVEVSTi50ZXN0KGJ1Y2tldE5hbWUpICYmICFET1RTX1BBVFRFUk4udGVzdChidWNrZXROYW1lKTtcbmV4cG9ydCBjb25zdCBpc0FybkJ1Y2tldE5hbWUgPSAoYnVja2V0TmFtZSkgPT4ge1xuICAgIGNvbnN0IFthcm4sIHBhcnRpdGlvbiwgc2VydmljZSwgcmVnaW9uLCBhY2NvdW50LCB0eXBlT3JJZF0gPSBidWNrZXROYW1lLnNwbGl0KFwiOlwiKTtcbiAgICBjb25zdCBpc0FybiA9IGFybiA9PT0gXCJhcm5cIiAmJiBidWNrZXROYW1lLnNwbGl0KFwiOlwiKS5sZW5ndGggPj0gNjtcbiAgICBjb25zdCBpc1ZhbGlkQXJuID0gW2FybiwgcGFydGl0aW9uLCBzZXJ2aWNlLCBhY2NvdW50LCB0eXBlT3JJZF0uZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCA9PT0gNTtcbiAgICBpZiAoaXNBcm4gJiYgIWlzVmFsaWRBcm4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIEFSTjogJHtidWNrZXROYW1lfSB3YXMgYW4gaW52YWxpZCBBUk4uYCk7XG4gICAgfVxuICAgIHJldHVybiBhcm4gPT09IFwiYXJuXCIgJiYgISFwYXJ0aXRpb24gJiYgISFzZXJ2aWNlICYmICEhYWNjb3VudCAmJiAhIXR5cGVPcklkO1xufTtcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVDb25maWdWYWx1ZVByb3ZpZGVyID0gKGNvbmZpZ0tleSwgY2Fub25pY2FsRW5kcG9pbnRQYXJhbUtleSwgY29uZmlnKSA9PiB7XG4gICAgY29uc3QgY29uZmlnUHJvdmlkZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbmZpZ1ZhbHVlID0gY29uZmlnW2NvbmZpZ0tleV0gPz8gY29uZmlnW2Nhbm9uaWNhbEVuZHBvaW50UGFyYW1LZXldO1xuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZ1ZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25maWdWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25maWdWYWx1ZTtcbiAgICB9O1xuICAgIGlmIChjb25maWdLZXkgPT09IFwiZW5kcG9pbnRcIiB8fCBjYW5vbmljYWxFbmRwb2ludFBhcmFtS2V5ID09PSBcImVuZHBvaW50XCIpIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYXdhaXQgY29uZmlnUHJvdmlkZXIoKTtcbiAgICAgICAgICAgIGlmIChlbmRwb2ludCAmJiB0eXBlb2YgZW5kcG9pbnQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJ1cmxcIiBpbiBlbmRwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW5kcG9pbnQudXJsLmhyZWY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcImhvc3RuYW1lXCIgaW4gZW5kcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm90b2NvbCwgaG9zdG5hbWUsIHBvcnQsIHBhdGggfSA9IGVuZHBvaW50O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7cHJvdG9jb2x9Ly8ke2hvc3RuYW1lfSR7cG9ydCA/IFwiOlwiICsgcG9ydCA6IFwiXCJ9JHtwYXRofWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVuZHBvaW50O1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY29uZmlnUHJvdmlkZXI7XG59O1xuIiwiaW1wb3J0IHsgcmVzb2x2ZVBhcmFtc0ZvclMzIH0gZnJvbSBcIi4uL3NlcnZpY2UtY3VzdG9taXphdGlvbnNcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbmZpZ1ZhbHVlUHJvdmlkZXIgfSBmcm9tIFwiLi9jcmVhdGVDb25maWdWYWx1ZVByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgZ2V0RW5kcG9pbnRGcm9tSW5zdHJ1Y3Rpb25zID0gYXN5bmMgKGNvbW1hbmRJbnB1dCwgaW5zdHJ1Y3Rpb25zU3VwcGxpZXIsIGNsaWVudENvbmZpZywgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVuZHBvaW50UGFyYW1zID0gYXdhaXQgcmVzb2x2ZVBhcmFtcyhjb21tYW5kSW5wdXQsIGluc3RydWN0aW9uc1N1cHBsaWVyLCBjbGllbnRDb25maWcpO1xuICAgIGlmICh0eXBlb2YgY2xpZW50Q29uZmlnLmVuZHBvaW50UHJvdmlkZXIgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb25maWcuZW5kcG9pbnRQcm92aWRlciBpcyBub3Qgc2V0LlwiKTtcbiAgICB9XG4gICAgY29uc3QgZW5kcG9pbnQgPSBjbGllbnRDb25maWcuZW5kcG9pbnRQcm92aWRlcihlbmRwb2ludFBhcmFtcywgY29udGV4dCk7XG4gICAgcmV0dXJuIGVuZHBvaW50O1xufTtcbmV4cG9ydCBjb25zdCByZXNvbHZlUGFyYW1zID0gYXN5bmMgKGNvbW1hbmRJbnB1dCwgaW5zdHJ1Y3Rpb25zU3VwcGxpZXIsIGNsaWVudENvbmZpZykgPT4ge1xuICAgIGNvbnN0IGVuZHBvaW50UGFyYW1zID0ge307XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zU3VwcGxpZXI/LmdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zPy4oKSB8fCB7fTtcbiAgICBmb3IgKGNvbnN0IFtuYW1lLCBpbnN0cnVjdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMoaW5zdHJ1Y3Rpb25zKSkge1xuICAgICAgICBzd2l0Y2ggKGluc3RydWN0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdGF0aWNDb250ZXh0UGFyYW1zXCI6XG4gICAgICAgICAgICAgICAgZW5kcG9pbnRQYXJhbXNbbmFtZV0gPSBpbnN0cnVjdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjb250ZXh0UGFyYW1zXCI6XG4gICAgICAgICAgICAgICAgZW5kcG9pbnRQYXJhbXNbbmFtZV0gPSBjb21tYW5kSW5wdXRbaW5zdHJ1Y3Rpb24ubmFtZV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY2xpZW50Q29udGV4dFBhcmFtc1wiOlxuICAgICAgICAgICAgY2FzZSBcImJ1aWx0SW5QYXJhbXNcIjpcbiAgICAgICAgICAgICAgICBlbmRwb2ludFBhcmFtc1tuYW1lXSA9IGF3YWl0IGNyZWF0ZUNvbmZpZ1ZhbHVlUHJvdmlkZXIoaW5zdHJ1Y3Rpb24ubmFtZSwgbmFtZSwgY2xpZW50Q29uZmlnKSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgZW5kcG9pbnQgcGFyYW1ldGVyIGluc3RydWN0aW9uOiBcIiArIEpTT04uc3RyaW5naWZ5KGluc3RydWN0aW9uKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKGluc3RydWN0aW9ucykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZW5kcG9pbnRQYXJhbXMsIGNsaWVudENvbmZpZyk7XG4gICAgfVxuICAgIGlmIChTdHJpbmcoY2xpZW50Q29uZmlnLnNlcnZpY2VJZCkudG9Mb3dlckNhc2UoKSA9PT0gXCJzM1wiKSB7XG4gICAgICAgIGF3YWl0IHJlc29sdmVQYXJhbXNGb3JTMyhlbmRwb2ludFBhcmFtcyk7XG4gICAgfVxuICAgIHJldHVybiBlbmRwb2ludFBhcmFtcztcbn07XG4iLCJpbXBvcnQgeyBzZXJpYWxpemVyTWlkZGxld2FyZU9wdGlvbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXNlcmRlXCI7XG5pbXBvcnQgeyBlbmRwb2ludE1pZGRsZXdhcmUgfSBmcm9tIFwiLi9lbmRwb2ludE1pZGRsZXdhcmVcIjtcbmV4cG9ydCBjb25zdCBlbmRwb2ludE1pZGRsZXdhcmVPcHRpb25zID0ge1xuICAgIHN0ZXA6IFwic2VyaWFsaXplXCIsXG4gICAgdGFnczogW1wiRU5EUE9JTlRfUEFSQU1FVEVSU1wiLCBcIkVORFBPSU5UX1YyXCIsIFwiRU5EUE9JTlRcIl0sXG4gICAgbmFtZTogXCJlbmRwb2ludFYyTWlkZGxld2FyZVwiLFxuICAgIG92ZXJyaWRlOiB0cnVlLFxuICAgIHJlbGF0aW9uOiBcImJlZm9yZVwiLFxuICAgIHRvTWlkZGxld2FyZTogc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24ubmFtZSxcbn07XG5leHBvcnQgY29uc3QgZ2V0RW5kcG9pbnRQbHVnaW4gPSAoY29uZmlnLCBpbnN0cnVjdGlvbnMpID0+ICh7XG4gICAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICAgICAgY2xpZW50U3RhY2suYWRkUmVsYXRpdmVUbyhlbmRwb2ludE1pZGRsZXdhcmUoe1xuICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zLFxuICAgICAgICB9KSwgZW5kcG9pbnRNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuIiwiaW1wb3J0IHsgZ2V0RW5kcG9pbnRGcm9tSW5zdHJ1Y3Rpb25zIH0gZnJvbSBcIi4vYWRhcHRvcnMvZ2V0RW5kcG9pbnRGcm9tSW5zdHJ1Y3Rpb25zXCI7XG5leHBvcnQgY29uc3QgZW5kcG9pbnRNaWRkbGV3YXJlID0gKHsgY29uZmlnLCBpbnN0cnVjdGlvbnMsIH0pID0+IHtcbiAgICByZXR1cm4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYXdhaXQgZ2V0RW5kcG9pbnRGcm9tSW5zdHJ1Y3Rpb25zKGFyZ3MuaW5wdXQsIHtcbiAgICAgICAgICAgIGdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LCB7IC4uLmNvbmZpZyB9LCBjb250ZXh0KTtcbiAgICAgICAgY29udGV4dC5lbmRwb2ludFYyID0gZW5kcG9pbnQ7XG4gICAgICAgIGNvbnRleHQuYXV0aFNjaGVtZXMgPSBlbmRwb2ludC5wcm9wZXJ0aWVzPy5hdXRoU2NoZW1lcztcbiAgICAgICAgY29uc3QgYXV0aFNjaGVtZSA9IGNvbnRleHQuYXV0aFNjaGVtZXM/LlswXTtcbiAgICAgICAgaWYgKGF1dGhTY2hlbWUpIHtcbiAgICAgICAgICAgIGNvbnRleHRbXCJzaWduaW5nX3JlZ2lvblwiXSA9IGF1dGhTY2hlbWUuc2lnbmluZ1JlZ2lvbjtcbiAgICAgICAgICAgIGNvbnRleHRbXCJzaWduaW5nX3NlcnZpY2VcIl0gPSBhdXRoU2NoZW1lLnNpZ25pbmdOYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuIiwiZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZVByb3ZpZGVyID0gKGlucHV0KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUoaW5wdXQpO1xuICAgIHJldHVybiAoKSA9PiBwcm9taXNpZmllZDtcbn07XG4iLCJpbXBvcnQgeyBwYXJzZVF1ZXJ5U3RyaW5nIH0gZnJvbSBcIkBhd3Mtc2RrL3F1ZXJ5c3RyaW5nLXBhcnNlclwiO1xuZXhwb3J0IGNvbnN0IHBhcnNlVXJsID0gKHVybCkgPT4ge1xuICAgIGlmICh0eXBlb2YgdXJsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBwYXJzZVVybChuZXcgVVJMKHVybCkpO1xuICAgIH1cbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwYXRobmFtZSwgcG9ydCwgcHJvdG9jb2wsIHNlYXJjaCB9ID0gdXJsO1xuICAgIGxldCBxdWVyeTtcbiAgICBpZiAoc2VhcmNoKSB7XG4gICAgICAgIHF1ZXJ5ID0gcGFyc2VRdWVyeVN0cmluZyhzZWFyY2gpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydDogcG9ydCA/IHBhcnNlSW50KHBvcnQpIDogdW5kZWZpbmVkLFxuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgcGF0aDogcGF0aG5hbWUsXG4gICAgICAgIHF1ZXJ5LFxuICAgIH07XG59O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmcocXVlcnlzdHJpbmcpIHtcbiAgICBjb25zdCBxdWVyeSA9IHt9O1xuICAgIHF1ZXJ5c3RyaW5nID0gcXVlcnlzdHJpbmcucmVwbGFjZSgvXlxcPy8sIFwiXCIpO1xuICAgIGlmIChxdWVyeXN0cmluZykge1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcXVlcnlzdHJpbmcuc3BsaXQoXCImXCIpKSB7XG4gICAgICAgICAgICBsZXQgW2tleSwgdmFsdWUgPSBudWxsXSA9IHBhaXIuc3BsaXQoXCI9XCIpO1xuICAgICAgICAgICAga2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGtleSk7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShrZXkgaW4gcXVlcnkpKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShxdWVyeVtrZXldKSkge1xuICAgICAgICAgICAgICAgIHF1ZXJ5W2tleV0ucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBxdWVyeVtrZXldID0gW3F1ZXJ5W2tleV0sIHZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcXVlcnk7XG59XG4iLCJpbXBvcnQgeyBub3JtYWxpemVQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay91dGlsLW1pZGRsZXdhcmVcIjtcbmltcG9ydCB7IHRvRW5kcG9pbnRWMSB9IGZyb20gXCIuL2FkYXB0b3JzL3RvRW5kcG9pbnRWMVwiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVFbmRwb2ludENvbmZpZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHRscyA9IGlucHV0LnRscyA/PyB0cnVlO1xuICAgIGNvbnN0IHsgZW5kcG9pbnQgfSA9IGlucHV0O1xuICAgIGNvbnN0IGN1c3RvbUVuZHBvaW50UHJvdmlkZXIgPSBlbmRwb2ludCAhPSBudWxsID8gYXN5bmMgKCkgPT4gdG9FbmRwb2ludFYxKGF3YWl0IG5vcm1hbGl6ZVByb3ZpZGVyKGVuZHBvaW50KSgpKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBpc0N1c3RvbUVuZHBvaW50ID0gISFlbmRwb2ludDtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5pbnB1dCxcbiAgICAgICAgZW5kcG9pbnQ6IGN1c3RvbUVuZHBvaW50UHJvdmlkZXIsXG4gICAgICAgIHRscyxcbiAgICAgICAgaXNDdXN0b21FbmRwb2ludCxcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IG5vcm1hbGl6ZVByb3ZpZGVyKGlucHV0LnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGZhbHNlKSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBub3JtYWxpemVQcm92aWRlcihpbnB1dC51c2VGaXBzRW5kcG9pbnQgPz8gZmFsc2UpLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgcGFyc2VVcmwgfSBmcm9tIFwiQGF3cy1zZGsvdXJsLXBhcnNlclwiO1xuZXhwb3J0IGNvbnN0IHRvRW5kcG9pbnRWMSA9IChlbmRwb2ludCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZW5kcG9pbnQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgaWYgKFwidXJsXCIgaW4gZW5kcG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVVybChlbmRwb2ludC51cmwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbmRwb2ludDtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlVXJsKGVuZHBvaW50KTtcbn07XG4iLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG59XG5leHBvcnQgY29uc3QgaG9zdEhlYWRlck1pZGRsZXdhcmUgPSAob3B0aW9ucykgPT4gKG5leHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKGFyZ3MucmVxdWVzdCkpXG4gICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgIGNvbnN0IHsgcmVxdWVzdCB9ID0gYXJncztcbiAgICBjb25zdCB7IGhhbmRsZXJQcm90b2NvbCA9IFwiXCIgfSA9IG9wdGlvbnMucmVxdWVzdEhhbmRsZXIubWV0YWRhdGEgfHwge307XG4gICAgaWYgKGhhbmRsZXJQcm90b2NvbC5pbmRleE9mKFwiaDJcIikgPj0gMCAmJiAhcmVxdWVzdC5oZWFkZXJzW1wiOmF1dGhvcml0eVwiXSkge1xuICAgICAgICBkZWxldGUgcmVxdWVzdC5oZWFkZXJzW1wiaG9zdFwiXTtcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzW1wiOmF1dGhvcml0eVwiXSA9IFwiXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFyZXF1ZXN0LmhlYWRlcnNbXCJob3N0XCJdKSB7XG4gICAgICAgIGxldCBob3N0ID0gcmVxdWVzdC5ob3N0bmFtZTtcbiAgICAgICAgaWYgKHJlcXVlc3QucG9ydCAhPSBudWxsKVxuICAgICAgICAgICAgaG9zdCArPSBgOiR7cmVxdWVzdC5wb3J0fWA7XG4gICAgICAgIHJlcXVlc3QuaGVhZGVyc1tcImhvc3RcIl0gPSBob3N0O1xuICAgIH1cbiAgICByZXR1cm4gbmV4dChhcmdzKTtcbn07XG5leHBvcnQgY29uc3QgaG9zdEhlYWRlck1pZGRsZXdhcmVPcHRpb25zID0ge1xuICAgIG5hbWU6IFwiaG9zdEhlYWRlck1pZGRsZXdhcmVcIixcbiAgICBzdGVwOiBcImJ1aWxkXCIsXG4gICAgcHJpb3JpdHk6IFwibG93XCIsXG4gICAgdGFnczogW1wiSE9TVFwiXSxcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgZ2V0SG9zdEhlYWRlclBsdWdpbiA9IChvcHRpb25zKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZChob3N0SGVhZGVyTWlkZGxld2FyZShvcHRpb25zKSwgaG9zdEhlYWRlck1pZGRsZXdhcmVPcHRpb25zKTtcbiAgICB9LFxufSk7XG4iLCJleHBvcnQgY29uc3QgbG9nZ2VyTWlkZGxld2FyZSA9ICgpID0+IChuZXh0LCBjb250ZXh0KSA9PiBhc3luYyAoYXJncykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgICAgICAgY29uc3QgeyBjbGllbnROYW1lLCBjb21tYW5kTmFtZSwgbG9nZ2VyLCBkeW5hbW9EYkRvY3VtZW50Q2xpZW50T3B0aW9ucyA9IHt9IH0gPSBjb250ZXh0O1xuICAgICAgICBjb25zdCB7IG92ZXJyaWRlSW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2csIG92ZXJyaWRlT3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nIH0gPSBkeW5hbW9EYkRvY3VtZW50Q2xpZW50T3B0aW9ucztcbiAgICAgICAgY29uc3QgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2cgPSBvdmVycmlkZUlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nID8/IGNvbnRleHQuaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c7XG4gICAgICAgIGNvbnN0IG91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZyA9IG92ZXJyaWRlT3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nID8/IGNvbnRleHQub3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nO1xuICAgICAgICBjb25zdCB7ICRtZXRhZGF0YSwgLi4ub3V0cHV0V2l0aG91dE1ldGFkYXRhIH0gPSByZXNwb25zZS5vdXRwdXQ7XG4gICAgICAgIGxvZ2dlcj8uaW5mbz8uKHtcbiAgICAgICAgICAgIGNsaWVudE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgICAgIGlucHV0OiBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyhhcmdzLmlucHV0KSxcbiAgICAgICAgICAgIG91dHB1dDogb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nKG91dHB1dFdpdGhvdXRNZXRhZGF0YSksXG4gICAgICAgICAgICBtZXRhZGF0YTogJG1ldGFkYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnROYW1lLCBjb21tYW5kTmFtZSwgbG9nZ2VyLCBkeW5hbW9EYkRvY3VtZW50Q2xpZW50T3B0aW9ucyA9IHt9IH0gPSBjb250ZXh0O1xuICAgICAgICBjb25zdCB7IG92ZXJyaWRlSW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2cgfSA9IGR5bmFtb0RiRG9jdW1lbnRDbGllbnRPcHRpb25zO1xuICAgICAgICBjb25zdCBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyA9IG92ZXJyaWRlSW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2cgPz8gY29udGV4dC5pbnB1dEZpbHRlclNlbnNpdGl2ZUxvZztcbiAgICAgICAgbG9nZ2VyPy5lcnJvcj8uKHtcbiAgICAgICAgICAgIGNsaWVudE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgICAgIGlucHV0OiBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyhhcmdzLmlucHV0KSxcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgbWV0YWRhdGE6IGVycm9yLiRtZXRhZGF0YSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgbG9nZ2VyTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gICAgbmFtZTogXCJsb2dnZXJNaWRkbGV3YXJlXCIsXG4gICAgdGFnczogW1wiTE9HR0VSXCJdLFxuICAgIHN0ZXA6IFwiaW5pdGlhbGl6ZVwiLFxuICAgIG92ZXJyaWRlOiB0cnVlLFxufTtcbmV4cG9ydCBjb25zdCBnZXRMb2dnZXJQbHVnaW4gPSAob3B0aW9ucykgPT4gKHtcbiAgICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgICAgICBjbGllbnRTdGFjay5hZGQobG9nZ2VyTWlkZGxld2FyZSgpLCBsb2dnZXJNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuIiwiaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuY29uc3QgVFJBQ0VfSURfSEVBREVSX05BTUUgPSBcIlgtQW16bi1UcmFjZS1JZFwiO1xuY29uc3QgRU5WX0xBTUJEQV9GVU5DVElPTl9OQU1FID0gXCJBV1NfTEFNQkRBX0ZVTkNUSU9OX05BTUVcIjtcbmNvbnN0IEVOVl9UUkFDRV9JRCA9IFwiX1hfQU1aTl9UUkFDRV9JRFwiO1xuZXhwb3J0IGNvbnN0IHJlY3Vyc2lvbkRldGVjdGlvbk1pZGRsZXdhcmUgPSAob3B0aW9ucykgPT4gKG5leHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgY29uc3QgeyByZXF1ZXN0IH0gPSBhcmdzO1xuICAgIGlmICghSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSB8fFxuICAgICAgICBvcHRpb25zLnJ1bnRpbWUgIT09IFwibm9kZVwiIHx8XG4gICAgICAgIHJlcXVlc3QuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShUUkFDRV9JRF9IRUFERVJfTkFNRSkpIHtcbiAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgfVxuICAgIGNvbnN0IGZ1bmN0aW9uTmFtZSA9IHByb2Nlc3MuZW52W0VOVl9MQU1CREFfRlVOQ1RJT05fTkFNRV07XG4gICAgY29uc3QgdHJhY2VJZCA9IHByb2Nlc3MuZW52W0VOVl9UUkFDRV9JRF07XG4gICAgY29uc3Qgbm9uRW1wdHlTdHJpbmcgPSAoc3RyKSA9PiB0eXBlb2Ygc3RyID09PSBcInN0cmluZ1wiICYmIHN0ci5sZW5ndGggPiAwO1xuICAgIGlmIChub25FbXB0eVN0cmluZyhmdW5jdGlvbk5hbWUpICYmIG5vbkVtcHR5U3RyaW5nKHRyYWNlSWQpKSB7XG4gICAgICAgIHJlcXVlc3QuaGVhZGVyc1tUUkFDRV9JRF9IRUFERVJfTkFNRV0gPSB0cmFjZUlkO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dCh7XG4gICAgICAgIC4uLmFyZ3MsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGFkZFJlY3Vyc2lvbkRldGVjdGlvbk1pZGRsZXdhcmVPcHRpb25zID0ge1xuICAgIHN0ZXA6IFwiYnVpbGRcIixcbiAgICB0YWdzOiBbXCJSRUNVUlNJT05fREVURUNUSU9OXCJdLFxuICAgIG5hbWU6IFwicmVjdXJzaW9uRGV0ZWN0aW9uTWlkZGxld2FyZVwiLFxuICAgIG92ZXJyaWRlOiB0cnVlLFxuICAgIHByaW9yaXR5OiBcImxvd1wiLFxufTtcbmV4cG9ydCBjb25zdCBnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4gPSAob3B0aW9ucykgPT4gKHtcbiAgICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgICAgICBjbGllbnRTdGFjay5hZGQocmVjdXJzaW9uRGV0ZWN0aW9uTWlkZGxld2FyZShvcHRpb25zKSwgYWRkUmVjdXJzaW9uRGV0ZWN0aW9uTWlkZGxld2FyZU9wdGlvbnMpO1xuICAgIH0sXG59KTtcbiIsImV4cG9ydCB2YXIgUkVUUllfTU9ERVM7XG4oZnVuY3Rpb24gKFJFVFJZX01PREVTKSB7XG4gICAgUkVUUllfTU9ERVNbXCJTVEFOREFSRFwiXSA9IFwic3RhbmRhcmRcIjtcbiAgICBSRVRSWV9NT0RFU1tcIkFEQVBUSVZFXCJdID0gXCJhZGFwdGl2ZVwiO1xufSkoUkVUUllfTU9ERVMgfHwgKFJFVFJZX01PREVTID0ge30pKTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX01BWF9BVFRFTVBUUyA9IDM7XG5leHBvcnQgY29uc3QgREVGQVVMVF9SRVRSWV9NT0RFID0gUkVUUllfTU9ERVMuU1RBTkRBUkQ7XG4iLCJleHBvcnQgY29uc3QgQ0xPQ0tfU0tFV19FUlJPUl9DT0RFUyA9IFtcbiAgICBcIkF1dGhGYWlsdXJlXCIsXG4gICAgXCJJbnZhbGlkU2lnbmF0dXJlRXhjZXB0aW9uXCIsXG4gICAgXCJSZXF1ZXN0RXhwaXJlZFwiLFxuICAgIFwiUmVxdWVzdEluVGhlRnV0dXJlXCIsXG4gICAgXCJSZXF1ZXN0VGltZVRvb1NrZXdlZFwiLFxuICAgIFwiU2lnbmF0dXJlRG9lc05vdE1hdGNoXCIsXG5dO1xuZXhwb3J0IGNvbnN0IFRIUk9UVExJTkdfRVJST1JfQ09ERVMgPSBbXG4gICAgXCJCYW5kd2lkdGhMaW1pdEV4Y2VlZGVkXCIsXG4gICAgXCJFQzJUaHJvdHRsZWRFeGNlcHRpb25cIixcbiAgICBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICBcIlByaW9yUmVxdWVzdE5vdENvbXBsZXRlXCIsXG4gICAgXCJQcm92aXNpb25lZFRocm91Z2hwdXRFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICAgIFwiUmVxdWVzdExpbWl0RXhjZWVkZWRcIixcbiAgICBcIlJlcXVlc3RUaHJvdHRsZWRcIixcbiAgICBcIlJlcXVlc3RUaHJvdHRsZWRFeGNlcHRpb25cIixcbiAgICBcIlNsb3dEb3duXCIsXG4gICAgXCJUaHJvdHRsZWRFeGNlcHRpb25cIixcbiAgICBcIlRocm90dGxpbmdcIixcbiAgICBcIlRocm90dGxpbmdFeGNlcHRpb25cIixcbiAgICBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiLFxuICAgIFwiVHJhbnNhY3Rpb25JblByb2dyZXNzRXhjZXB0aW9uXCIsXG5dO1xuZXhwb3J0IGNvbnN0IFRSQU5TSUVOVF9FUlJPUl9DT0RFUyA9IFtcIkFib3J0RXJyb3JcIiwgXCJUaW1lb3V0RXJyb3JcIiwgXCJSZXF1ZXN0VGltZW91dFwiLCBcIlJlcXVlc3RUaW1lb3V0RXhjZXB0aW9uXCJdO1xuZXhwb3J0IGNvbnN0IFRSQU5TSUVOVF9FUlJPUl9TVEFUVVNfQ09ERVMgPSBbNTAwLCA1MDIsIDUwMywgNTA0XTtcbmV4cG9ydCBjb25zdCBOT0RFSlNfVElNRU9VVF9FUlJPUl9DT0RFUyA9IFtcIkVDT05OUkVTRVRcIiwgXCJFQ09OTlJFRlVTRURcIiwgXCJFUElQRVwiLCBcIkVUSU1FRE9VVFwiXTtcbiIsImltcG9ydCB7IENMT0NLX1NLRVdfRVJST1JfQ09ERVMsIE5PREVKU19USU1FT1VUX0VSUk9SX0NPREVTLCBUSFJPVFRMSU5HX0VSUk9SX0NPREVTLCBUUkFOU0lFTlRfRVJST1JfQ09ERVMsIFRSQU5TSUVOVF9FUlJPUl9TVEFUVVNfQ09ERVMsIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgaXNSZXRyeWFibGVCeVRyYWl0ID0gKGVycm9yKSA9PiBlcnJvci4kcmV0cnlhYmxlICE9PSB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgaXNDbG9ja1NrZXdFcnJvciA9IChlcnJvcikgPT4gQ0xPQ0tfU0tFV19FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnJvci5uYW1lKTtcbmV4cG9ydCBjb25zdCBpc1Rocm90dGxpbmdFcnJvciA9IChlcnJvcikgPT4gZXJyb3IuJG1ldGFkYXRhPy5odHRwU3RhdHVzQ29kZSA9PT0gNDI5IHx8XG4gICAgVEhST1RUTElOR19FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnJvci5uYW1lKSB8fFxuICAgIGVycm9yLiRyZXRyeWFibGU/LnRocm90dGxpbmcgPT0gdHJ1ZTtcbmV4cG9ydCBjb25zdCBpc1RyYW5zaWVudEVycm9yID0gKGVycm9yKSA9PiBUUkFOU0lFTlRfRVJST1JfQ09ERVMuaW5jbHVkZXMoZXJyb3IubmFtZSkgfHxcbiAgICBOT0RFSlNfVElNRU9VVF9FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnJvcj8uY29kZSB8fCBcIlwiKSB8fFxuICAgIFRSQU5TSUVOVF9FUlJPUl9TVEFUVVNfQ09ERVMuaW5jbHVkZXMoZXJyb3IuJG1ldGFkYXRhPy5odHRwU3RhdHVzQ29kZSB8fCAwKTtcbmV4cG9ydCBjb25zdCBpc1NlcnZlckVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yLiRtZXRhZGF0YT8uaHR0cFN0YXR1c0NvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBzdGF0dXNDb2RlID0gZXJyb3IuJG1ldGFkYXRhLmh0dHBTdGF0dXNDb2RlO1xuICAgICAgICBpZiAoNTAwIDw9IHN0YXR1c0NvZGUgJiYgc3RhdHVzQ29kZSA8PSA1OTkgJiYgIWlzVHJhbnNpZW50RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG4iLCJpbXBvcnQgeyBpc1Rocm90dGxpbmdFcnJvciB9IGZyb20gXCJAYXdzLXNkay9zZXJ2aWNlLWVycm9yLWNsYXNzaWZpY2F0aW9uXCI7XG5leHBvcnQgY2xhc3MgRGVmYXVsdFJhdGVMaW1pdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuY3VycmVudENhcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGFzdE1heFJhdGUgPSAwO1xuICAgICAgICB0aGlzLm1lYXN1cmVkVHhSYXRlID0gMDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0Q291bnQgPSAwO1xuICAgICAgICB0aGlzLmxhc3RUaW1lc3RhbXAgPSAwO1xuICAgICAgICB0aGlzLnRpbWVXaW5kb3cgPSAwO1xuICAgICAgICB0aGlzLmJldGEgPSBvcHRpb25zPy5iZXRhID8/IDAuNztcbiAgICAgICAgdGhpcy5taW5DYXBhY2l0eSA9IG9wdGlvbnM/Lm1pbkNhcGFjaXR5ID8/IDE7XG4gICAgICAgIHRoaXMubWluRmlsbFJhdGUgPSBvcHRpb25zPy5taW5GaWxsUmF0ZSA/PyAwLjU7XG4gICAgICAgIHRoaXMuc2NhbGVDb25zdGFudCA9IG9wdGlvbnM/LnNjYWxlQ29uc3RhbnQgPz8gMC40O1xuICAgICAgICB0aGlzLnNtb290aCA9IG9wdGlvbnM/LnNtb290aCA/PyAwLjg7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lSW5TZWNvbmRzID0gdGhpcy5nZXRDdXJyZW50VGltZUluU2Vjb25kcygpO1xuICAgICAgICB0aGlzLmxhc3RUaHJvdHRsZVRpbWUgPSBjdXJyZW50VGltZUluU2Vjb25kcztcbiAgICAgICAgdGhpcy5sYXN0VHhSYXRlQnVja2V0ID0gTWF0aC5mbG9vcih0aGlzLmdldEN1cnJlbnRUaW1lSW5TZWNvbmRzKCkpO1xuICAgICAgICB0aGlzLmZpbGxSYXRlID0gdGhpcy5taW5GaWxsUmF0ZTtcbiAgICAgICAgdGhpcy5tYXhDYXBhY2l0eSA9IHRoaXMubWluQ2FwYWNpdHk7XG4gICAgfVxuICAgIGdldEN1cnJlbnRUaW1lSW5TZWNvbmRzKCkge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAvIDEwMDA7XG4gICAgfVxuICAgIGFzeW5jIGdldFNlbmRUb2tlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNxdWlyZVRva2VuQnVja2V0KDEpO1xuICAgIH1cbiAgICBhc3luYyBhY3F1aXJlVG9rZW5CdWNrZXQoYW1vdW50KSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWZpbGxUb2tlbkJ1Y2tldCgpO1xuICAgICAgICBpZiAoYW1vdW50ID4gdGhpcy5jdXJyZW50Q2FwYWNpdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gKChhbW91bnQgLSB0aGlzLmN1cnJlbnRDYXBhY2l0eSkgLyB0aGlzLmZpbGxSYXRlKSAqIDEwMDA7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudENhcGFjaXR5ID0gdGhpcy5jdXJyZW50Q2FwYWNpdHkgLSBhbW91bnQ7XG4gICAgfVxuICAgIHJlZmlsbFRva2VuQnVja2V0KCkge1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSB0aGlzLmdldEN1cnJlbnRUaW1lSW5TZWNvbmRzKCk7XG4gICAgICAgIGlmICghdGhpcy5sYXN0VGltZXN0YW1wKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsbEFtb3VudCA9ICh0aW1lc3RhbXAgLSB0aGlzLmxhc3RUaW1lc3RhbXApICogdGhpcy5maWxsUmF0ZTtcbiAgICAgICAgdGhpcy5jdXJyZW50Q2FwYWNpdHkgPSBNYXRoLm1pbih0aGlzLm1heENhcGFjaXR5LCB0aGlzLmN1cnJlbnRDYXBhY2l0eSArIGZpbGxBbW91bnQpO1xuICAgICAgICB0aGlzLmxhc3RUaW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgfVxuICAgIHVwZGF0ZUNsaWVudFNlbmRpbmdSYXRlKHJlc3BvbnNlKSB7XG4gICAgICAgIGxldCBjYWxjdWxhdGVkUmF0ZTtcbiAgICAgICAgdGhpcy51cGRhdGVNZWFzdXJlZFJhdGUoKTtcbiAgICAgICAgaWYgKGlzVGhyb3R0bGluZ0Vycm9yKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgY29uc3QgcmF0ZVRvVXNlID0gIXRoaXMuZW5hYmxlZCA/IHRoaXMubWVhc3VyZWRUeFJhdGUgOiBNYXRoLm1pbih0aGlzLm1lYXN1cmVkVHhSYXRlLCB0aGlzLmZpbGxSYXRlKTtcbiAgICAgICAgICAgIHRoaXMubGFzdE1heFJhdGUgPSByYXRlVG9Vc2U7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRpbWVXaW5kb3coKTtcbiAgICAgICAgICAgIHRoaXMubGFzdFRocm90dGxlVGltZSA9IHRoaXMuZ2V0Q3VycmVudFRpbWVJblNlY29uZHMoKTtcbiAgICAgICAgICAgIGNhbGN1bGF0ZWRSYXRlID0gdGhpcy5jdWJpY1Rocm90dGxlKHJhdGVUb1VzZSk7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZVRva2VuQnVja2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRpbWVXaW5kb3coKTtcbiAgICAgICAgICAgIGNhbGN1bGF0ZWRSYXRlID0gdGhpcy5jdWJpY1N1Y2Nlc3ModGhpcy5nZXRDdXJyZW50VGltZUluU2Vjb25kcygpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdSYXRlID0gTWF0aC5taW4oY2FsY3VsYXRlZFJhdGUsIDIgKiB0aGlzLm1lYXN1cmVkVHhSYXRlKTtcbiAgICAgICAgdGhpcy51cGRhdGVUb2tlbkJ1Y2tldFJhdGUobmV3UmF0ZSk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZVRpbWVXaW5kb3coKSB7XG4gICAgICAgIHRoaXMudGltZVdpbmRvdyA9IHRoaXMuZ2V0UHJlY2lzZShNYXRoLnBvdygodGhpcy5sYXN0TWF4UmF0ZSAqICgxIC0gdGhpcy5iZXRhKSkgLyB0aGlzLnNjYWxlQ29uc3RhbnQsIDEgLyAzKSk7XG4gICAgfVxuICAgIGN1YmljVGhyb3R0bGUocmF0ZVRvVXNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFByZWNpc2UocmF0ZVRvVXNlICogdGhpcy5iZXRhKTtcbiAgICB9XG4gICAgY3ViaWNTdWNjZXNzKHRpbWVzdGFtcCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcmVjaXNlKHRoaXMuc2NhbGVDb25zdGFudCAqIE1hdGgucG93KHRpbWVzdGFtcCAtIHRoaXMubGFzdFRocm90dGxlVGltZSAtIHRoaXMudGltZVdpbmRvdywgMykgKyB0aGlzLmxhc3RNYXhSYXRlKTtcbiAgICB9XG4gICAgZW5hYmxlVG9rZW5CdWNrZXQoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIHVwZGF0ZVRva2VuQnVja2V0UmF0ZShuZXdSYXRlKSB7XG4gICAgICAgIHRoaXMucmVmaWxsVG9rZW5CdWNrZXQoKTtcbiAgICAgICAgdGhpcy5maWxsUmF0ZSA9IE1hdGgubWF4KG5ld1JhdGUsIHRoaXMubWluRmlsbFJhdGUpO1xuICAgICAgICB0aGlzLm1heENhcGFjaXR5ID0gTWF0aC5tYXgobmV3UmF0ZSwgdGhpcy5taW5DYXBhY2l0eSk7XG4gICAgICAgIHRoaXMuY3VycmVudENhcGFjaXR5ID0gTWF0aC5taW4odGhpcy5jdXJyZW50Q2FwYWNpdHksIHRoaXMubWF4Q2FwYWNpdHkpO1xuICAgIH1cbiAgICB1cGRhdGVNZWFzdXJlZFJhdGUoKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmdldEN1cnJlbnRUaW1lSW5TZWNvbmRzKCk7XG4gICAgICAgIGNvbnN0IHRpbWVCdWNrZXQgPSBNYXRoLmZsb29yKHQgKiAyKSAvIDI7XG4gICAgICAgIHRoaXMucmVxdWVzdENvdW50Kys7XG4gICAgICAgIGlmICh0aW1lQnVja2V0ID4gdGhpcy5sYXN0VHhSYXRlQnVja2V0KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UmF0ZSA9IHRoaXMucmVxdWVzdENvdW50IC8gKHRpbWVCdWNrZXQgLSB0aGlzLmxhc3RUeFJhdGVCdWNrZXQpO1xuICAgICAgICAgICAgdGhpcy5tZWFzdXJlZFR4UmF0ZSA9IHRoaXMuZ2V0UHJlY2lzZShjdXJyZW50UmF0ZSAqIHRoaXMuc21vb3RoICsgdGhpcy5tZWFzdXJlZFR4UmF0ZSAqICgxIC0gdGhpcy5zbW9vdGgpKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdENvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMubGFzdFR4UmF0ZUJ1Y2tldCA9IHRpbWVCdWNrZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UHJlY2lzZShudW0pIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQobnVtLnRvRml4ZWQoOCkpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBERUZBVUxUX1JFVFJZX0RFTEFZX0JBU0UgPSAxMDA7XG5leHBvcnQgY29uc3QgTUFYSU1VTV9SRVRSWV9ERUxBWSA9IDIwICogMTAwMDtcbmV4cG9ydCBjb25zdCBUSFJPVFRMSU5HX1JFVFJZX0RFTEFZX0JBU0UgPSA1MDA7XG5leHBvcnQgY29uc3QgSU5JVElBTF9SRVRSWV9UT0tFTlMgPSA1MDA7XG5leHBvcnQgY29uc3QgUkVUUllfQ09TVCA9IDU7XG5leHBvcnQgY29uc3QgVElNRU9VVF9SRVRSWV9DT1NUID0gMTA7XG5leHBvcnQgY29uc3QgTk9fUkVUUllfSU5DUkVNRU5UID0gMTtcbmV4cG9ydCBjb25zdCBJTlZPQ0FUSU9OX0lEX0hFQURFUiA9IFwiYW16LXNkay1pbnZvY2F0aW9uLWlkXCI7XG5leHBvcnQgY29uc3QgUkVRVUVTVF9IRUFERVIgPSBcImFtei1zZGstcmVxdWVzdFwiO1xuIiwiaW1wb3J0IHsgTUFYSU1VTV9SRVRSWV9ERUxBWSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZURlZmF1bHRSZXRyeVRva2VuID0gKHsgcmV0cnlEZWxheSwgcmV0cnlDb3VudCwgcmV0cnlDb3N0LCB9KSA9PiB7XG4gICAgY29uc3QgZ2V0UmV0cnlDb3VudCA9ICgpID0+IHJldHJ5Q291bnQ7XG4gICAgY29uc3QgZ2V0UmV0cnlEZWxheSA9ICgpID0+IE1hdGgubWluKE1BWElNVU1fUkVUUllfREVMQVksIHJldHJ5RGVsYXkpO1xuICAgIGNvbnN0IGdldFJldHJ5Q29zdCA9ICgpID0+IHJldHJ5Q29zdDtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRSZXRyeUNvdW50LFxuICAgICAgICBnZXRSZXRyeURlbGF5LFxuICAgICAgICBnZXRSZXRyeUNvc3QsXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBERUZBVUxUX01BWF9BVFRFTVBUUywgUkVUUllfTU9ERVMgfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IERFRkFVTFRfUkVUUllfREVMQVlfQkFTRSwgSU5JVElBTF9SRVRSWV9UT0tFTlMsIE5PX1JFVFJZX0lOQ1JFTUVOVCwgUkVUUllfQ09TVCwgVEhST1RUTElOR19SRVRSWV9ERUxBWV9CQVNFLCBUSU1FT1VUX1JFVFJZX0NPU1QsIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0UmV0cnlCYWNrb2ZmU3RyYXRlZ3kgfSBmcm9tIFwiLi9kZWZhdWx0UmV0cnlCYWNrb2ZmU3RyYXRlZ3lcIjtcbmltcG9ydCB7IGNyZWF0ZURlZmF1bHRSZXRyeVRva2VuIH0gZnJvbSBcIi4vZGVmYXVsdFJldHJ5VG9rZW5cIjtcbmV4cG9ydCBjbGFzcyBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKG1heEF0dGVtcHRzKSB7XG4gICAgICAgIHRoaXMubWF4QXR0ZW1wdHMgPSBtYXhBdHRlbXB0cztcbiAgICAgICAgdGhpcy5tb2RlID0gUkVUUllfTU9ERVMuU1RBTkRBUkQ7XG4gICAgICAgIHRoaXMuY2FwYWNpdHkgPSBJTklUSUFMX1JFVFJZX1RPS0VOUztcbiAgICAgICAgdGhpcy5yZXRyeUJhY2tvZmZTdHJhdGVneSA9IGdldERlZmF1bHRSZXRyeUJhY2tvZmZTdHJhdGVneSgpO1xuICAgICAgICB0aGlzLm1heEF0dGVtcHRzUHJvdmlkZXIgPSB0eXBlb2YgbWF4QXR0ZW1wdHMgPT09IFwiZnVuY3Rpb25cIiA/IG1heEF0dGVtcHRzIDogYXN5bmMgKCkgPT4gbWF4QXR0ZW1wdHM7XG4gICAgfVxuICAgIGFzeW5jIGFjcXVpcmVJbml0aWFsUmV0cnlUb2tlbihyZXRyeVRva2VuU2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZURlZmF1bHRSZXRyeVRva2VuKHtcbiAgICAgICAgICAgIHJldHJ5RGVsYXk6IERFRkFVTFRfUkVUUllfREVMQVlfQkFTRSxcbiAgICAgICAgICAgIHJldHJ5Q291bnQ6IDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyByZWZyZXNoUmV0cnlUb2tlbkZvclJldHJ5KHRva2VuLCBlcnJvckluZm8pIHtcbiAgICAgICAgY29uc3QgbWF4QXR0ZW1wdHMgPSBhd2FpdCB0aGlzLmdldE1heEF0dGVtcHRzKCk7XG4gICAgICAgIGlmICh0aGlzLnNob3VsZFJldHJ5KHRva2VuLCBlcnJvckluZm8sIG1heEF0dGVtcHRzKSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JUeXBlID0gZXJyb3JJbmZvLmVycm9yVHlwZTtcbiAgICAgICAgICAgIHRoaXMucmV0cnlCYWNrb2ZmU3RyYXRlZ3kuc2V0RGVsYXlCYXNlKGVycm9yVHlwZSA9PT0gXCJUSFJPVFRMSU5HXCIgPyBUSFJPVFRMSU5HX1JFVFJZX0RFTEFZX0JBU0UgOiBERUZBVUxUX1JFVFJZX0RFTEFZX0JBU0UpO1xuICAgICAgICAgICAgY29uc3QgZGVsYXlGcm9tRXJyb3JUeXBlID0gdGhpcy5yZXRyeUJhY2tvZmZTdHJhdGVneS5jb21wdXRlTmV4dEJhY2tvZmZEZWxheSh0b2tlbi5nZXRSZXRyeUNvdW50KCkpO1xuICAgICAgICAgICAgY29uc3QgcmV0cnlEZWxheSA9IGVycm9ySW5mby5yZXRyeUFmdGVySGludFxuICAgICAgICAgICAgICAgID8gTWF0aC5tYXgoZXJyb3JJbmZvLnJldHJ5QWZ0ZXJIaW50LmdldFRpbWUoKSAtIERhdGUubm93KCkgfHwgMCwgZGVsYXlGcm9tRXJyb3JUeXBlKVxuICAgICAgICAgICAgICAgIDogZGVsYXlGcm9tRXJyb3JUeXBlO1xuICAgICAgICAgICAgY29uc3QgY2FwYWNpdHlDb3N0ID0gdGhpcy5nZXRDYXBhY2l0eUNvc3QoZXJyb3JUeXBlKTtcbiAgICAgICAgICAgIHRoaXMuY2FwYWNpdHkgLT0gY2FwYWNpdHlDb3N0O1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZURlZmF1bHRSZXRyeVRva2VuKHtcbiAgICAgICAgICAgICAgICByZXRyeURlbGF5LFxuICAgICAgICAgICAgICAgIHJldHJ5Q291bnQ6IHRva2VuLmdldFJldHJ5Q291bnQoKSArIDEsXG4gICAgICAgICAgICAgICAgcmV0cnlDb3N0OiBjYXBhY2l0eUNvc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyByZXRyeSB0b2tlbiBhdmFpbGFibGVcIik7XG4gICAgfVxuICAgIHJlY29yZFN1Y2Nlc3ModG9rZW4pIHtcbiAgICAgICAgdGhpcy5jYXBhY2l0eSA9IE1hdGgubWF4KElOSVRJQUxfUkVUUllfVE9LRU5TLCB0aGlzLmNhcGFjaXR5ICsgKHRva2VuLmdldFJldHJ5Q29zdCgpID8/IE5PX1JFVFJZX0lOQ1JFTUVOVCkpO1xuICAgIH1cbiAgICBnZXRDYXBhY2l0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FwYWNpdHk7XG4gICAgfVxuICAgIGFzeW5jIGdldE1heEF0dGVtcHRzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubWF4QXR0ZW1wdHNQcm92aWRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBNYXggYXR0ZW1wdHMgcHJvdmlkZXIgY291bGQgbm90IHJlc29sdmUuIFVzaW5nIGRlZmF1bHQgb2YgJHtERUZBVUxUX01BWF9BVFRFTVBUU31gKTtcbiAgICAgICAgICAgIHJldHVybiBERUZBVUxUX01BWF9BVFRFTVBUUztcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaG91bGRSZXRyeSh0b2tlblRvUmVuZXcsIGVycm9ySW5mbywgbWF4QXR0ZW1wdHMpIHtcbiAgICAgICAgY29uc3QgYXR0ZW1wdHMgPSB0b2tlblRvUmVuZXcuZ2V0UmV0cnlDb3VudCgpO1xuICAgICAgICByZXR1cm4gKGF0dGVtcHRzIDwgbWF4QXR0ZW1wdHMgJiZcbiAgICAgICAgICAgIHRoaXMuY2FwYWNpdHkgPj0gdGhpcy5nZXRDYXBhY2l0eUNvc3QoZXJyb3JJbmZvLmVycm9yVHlwZSkgJiZcbiAgICAgICAgICAgIHRoaXMuaXNSZXRyeWFibGVFcnJvcihlcnJvckluZm8uZXJyb3JUeXBlKSk7XG4gICAgfVxuICAgIGdldENhcGFjaXR5Q29zdChlcnJvclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yVHlwZSA9PT0gXCJUUkFOU0lFTlRcIiA/IFRJTUVPVVRfUkVUUllfQ09TVCA6IFJFVFJZX0NPU1Q7XG4gICAgfVxuICAgIGlzUmV0cnlhYmxlRXJyb3IoZXJyb3JUeXBlKSB7XG4gICAgICAgIHJldHVybiBlcnJvclR5cGUgPT09IFwiVEhST1RUTElOR1wiIHx8IGVycm9yVHlwZSA9PT0gXCJUUkFOU0lFTlRcIjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBERUZBVUxUX1JFVFJZX0RFTEFZX0JBU0UsIE1BWElNVU1fUkVUUllfREVMQVkgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0UmV0cnlCYWNrb2ZmU3RyYXRlZ3kgPSAoKSA9PiB7XG4gICAgbGV0IGRlbGF5QmFzZSA9IERFRkFVTFRfUkVUUllfREVMQVlfQkFTRTtcbiAgICBjb25zdCBjb21wdXRlTmV4dEJhY2tvZmZEZWxheSA9IChhdHRlbXB0cykgPT4ge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLm1pbihNQVhJTVVNX1JFVFJZX0RFTEFZLCBNYXRoLnJhbmRvbSgpICogMiAqKiBhdHRlbXB0cyAqIGRlbGF5QmFzZSkpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0RGVsYXlCYXNlID0gKGRlbGF5KSA9PiB7XG4gICAgICAgIGRlbGF5QmFzZSA9IGRlbGF5O1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29tcHV0ZU5leHRCYWNrb2ZmRGVsYXksXG4gICAgICAgIHNldERlbGF5QmFzZSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IFJFVFJZX01PREVTIH0gZnJvbSBcIi4vY29uZmlnXCI7XG5pbXBvcnQgeyBEZWZhdWx0UmF0ZUxpbWl0ZXIgfSBmcm9tIFwiLi9EZWZhdWx0UmF0ZUxpbWl0ZXJcIjtcbmltcG9ydCB7IFN0YW5kYXJkUmV0cnlTdHJhdGVneSB9IGZyb20gXCIuL1N0YW5kYXJkUmV0cnlTdHJhdGVneVwiO1xuZXhwb3J0IGNsYXNzIEFkYXB0aXZlUmV0cnlTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3IobWF4QXR0ZW1wdHNQcm92aWRlciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1heEF0dGVtcHRzUHJvdmlkZXIgPSBtYXhBdHRlbXB0c1Byb3ZpZGVyO1xuICAgICAgICB0aGlzLm1vZGUgPSBSRVRSWV9NT0RFUy5BREFQVElWRTtcbiAgICAgICAgY29uc3QgeyByYXRlTGltaXRlciB9ID0gb3B0aW9ucyA/PyB7fTtcbiAgICAgICAgdGhpcy5yYXRlTGltaXRlciA9IHJhdGVMaW1pdGVyID8/IG5ldyBEZWZhdWx0UmF0ZUxpbWl0ZXIoKTtcbiAgICAgICAgdGhpcy5zdGFuZGFyZFJldHJ5U3RyYXRlZ3kgPSBuZXcgU3RhbmRhcmRSZXRyeVN0cmF0ZWd5KG1heEF0dGVtcHRzUHJvdmlkZXIpO1xuICAgIH1cbiAgICBhc3luYyBhY3F1aXJlSW5pdGlhbFJldHJ5VG9rZW4ocmV0cnlUb2tlblNjb3BlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmF0ZUxpbWl0ZXIuZ2V0U2VuZFRva2VuKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YW5kYXJkUmV0cnlTdHJhdGVneS5hY3F1aXJlSW5pdGlhbFJldHJ5VG9rZW4ocmV0cnlUb2tlblNjb3BlKTtcbiAgICB9XG4gICAgYXN5bmMgcmVmcmVzaFJldHJ5VG9rZW5Gb3JSZXRyeSh0b2tlblRvUmVuZXcsIGVycm9ySW5mbykge1xuICAgICAgICB0aGlzLnJhdGVMaW1pdGVyLnVwZGF0ZUNsaWVudFNlbmRpbmdSYXRlKGVycm9ySW5mbyk7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YW5kYXJkUmV0cnlTdHJhdGVneS5yZWZyZXNoUmV0cnlUb2tlbkZvclJldHJ5KHRva2VuVG9SZW5ldywgZXJyb3JJbmZvKTtcbiAgICB9XG4gICAgcmVjb3JkU3VjY2Vzcyh0b2tlbikge1xuICAgICAgICB0aGlzLnJhdGVMaW1pdGVyLnVwZGF0ZUNsaWVudFNlbmRpbmdSYXRlKHt9KTtcbiAgICAgICAgdGhpcy5zdGFuZGFyZFJldHJ5U3RyYXRlZ3kucmVjb3JkU3VjY2Vzcyh0b2tlbik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgbm9ybWFsaXplUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1taWRkbGV3YXJlXCI7XG5pbXBvcnQgeyBBZGFwdGl2ZVJldHJ5U3RyYXRlZ3ksIERFRkFVTFRfTUFYX0FUVEVNUFRTLCBERUZBVUxUX1JFVFJZX01PREUsIFJFVFJZX01PREVTLCBTdGFuZGFyZFJldHJ5U3RyYXRlZ3ksIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtcmV0cnlcIjtcbmV4cG9ydCBjb25zdCBFTlZfTUFYX0FUVEVNUFRTID0gXCJBV1NfTUFYX0FUVEVNUFRTXCI7XG5leHBvcnQgY29uc3QgQ09ORklHX01BWF9BVFRFTVBUUyA9IFwibWF4X2F0dGVtcHRzXCI7XG5leHBvcnQgY29uc3QgTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUyA9IHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBlbnZbRU5WX01BWF9BVFRFTVBUU107XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBtYXhBdHRlbXB0ID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG1heEF0dGVtcHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVudmlyb25tZW50IHZhcmlhYmxlICR7RU5WX01BWF9BVFRFTVBUU30gbWFzdCBiZSBhIG51bWJlciwgZ290IFwiJHt2YWx1ZX1cImApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXhBdHRlbXB0O1xuICAgIH0sXG4gICAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHByb2ZpbGVbQ09ORklHX01BWF9BVFRFTVBUU107XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBtYXhBdHRlbXB0ID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG1heEF0dGVtcHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNoYXJlZCBjb25maWcgZmlsZSBlbnRyeSAke0NPTkZJR19NQVhfQVRURU1QVFN9IG1hc3QgYmUgYSBudW1iZXIsIGdvdCBcIiR7dmFsdWV9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4QXR0ZW1wdDtcbiAgICB9LFxuICAgIGRlZmF1bHQ6IERFRkFVTFRfTUFYX0FUVEVNUFRTLFxufTtcbmV4cG9ydCBjb25zdCByZXNvbHZlUmV0cnlDb25maWcgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB7IHJldHJ5U3RyYXRlZ3kgfSA9IGlucHV0O1xuICAgIGNvbnN0IG1heEF0dGVtcHRzID0gbm9ybWFsaXplUHJvdmlkZXIoaW5wdXQubWF4QXR0ZW1wdHMgPz8gREVGQVVMVF9NQVhfQVRURU1QVFMpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlucHV0LFxuICAgICAgICBtYXhBdHRlbXB0cyxcbiAgICAgICAgcmV0cnlTdHJhdGVneTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJldHJ5U3RyYXRlZ3kpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0cnlTdHJhdGVneTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJldHJ5TW9kZSA9IGF3YWl0IG5vcm1hbGl6ZVByb3ZpZGVyKGlucHV0LnJldHJ5TW9kZSkoKTtcbiAgICAgICAgICAgIGlmIChyZXRyeU1vZGUgPT09IFJFVFJZX01PREVTLkFEQVBUSVZFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBZGFwdGl2ZVJldHJ5U3RyYXRlZ3kobWF4QXR0ZW1wdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kobWF4QXR0ZW1wdHMpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IEVOVl9SRVRSWV9NT0RFID0gXCJBV1NfUkVUUllfTU9ERVwiO1xuZXhwb3J0IGNvbnN0IENPTkZJR19SRVRSWV9NT0RFID0gXCJyZXRyeV9tb2RlXCI7XG5leHBvcnQgY29uc3QgTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TID0ge1xuICAgIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudikgPT4gZW52W0VOVl9SRVRSWV9NT0RFXSxcbiAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBwcm9maWxlW0NPTkZJR19SRVRSWV9NT0RFXSxcbiAgICBkZWZhdWx0OiBERUZBVUxUX1JFVFJZX01PREUsXG59O1xuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjcnlwdG9cIik7IiwiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuY29uc3Qgcm5kczhQb29sID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTsgLy8gIyBvZiByYW5kb20gdmFsdWVzIHRvIHByZS1hbGxvY2F0ZVxuXG5sZXQgcG9vbFB0ciA9IHJuZHM4UG9vbC5sZW5ndGg7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIGlmIChwb29sUHRyID4gcm5kczhQb29sLmxlbmd0aCAtIDE2KSB7XG4gICAgY3J5cHRvLnJhbmRvbUZpbGxTeW5jKHJuZHM4UG9vbCk7XG4gICAgcG9vbFB0ciA9IDA7XG4gIH1cblxuICByZXR1cm4gcm5kczhQb29sLnNsaWNlKHBvb2xQdHIsIHBvb2xQdHIgKz0gMTYpO1xufSIsImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxuY29uc3QgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIGNvbnN0IHV1aWQgPSAoYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV0pLnRvTG93ZXJDYXNlKCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwiaW1wb3J0IFJFR0VYIGZyb20gJy4vcmVnZXguanMnO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGU7IiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICByZXR1cm4gc3RyaW5naWZ5KHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCwgSHR0cFJlc3BvbnNlIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IGlzU2VydmVyRXJyb3IsIGlzVGhyb3R0bGluZ0Vycm9yLCBpc1RyYW5zaWVudEVycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3NlcnZpY2UtZXJyb3ItY2xhc3NpZmljYXRpb25cIjtcbmltcG9ydCB7IElOVk9DQVRJT05fSURfSEVBREVSLCBSRVFVRVNUX0hFQURFUiB9IGZyb20gXCJAYXdzLXNkay91dGlsLXJldHJ5XCI7XG5pbXBvcnQgeyB2NCB9IGZyb20gXCJ1dWlkXCI7XG5pbXBvcnQgeyBhc1Nka0Vycm9yIH0gZnJvbSBcIi4vdXRpbFwiO1xuZXhwb3J0IGNvbnN0IHJldHJ5TWlkZGxld2FyZSA9IChvcHRpb25zKSA9PiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBsZXQgcmV0cnlTdHJhdGVneSA9IGF3YWl0IG9wdGlvbnMucmV0cnlTdHJhdGVneSgpO1xuICAgIGNvbnN0IG1heEF0dGVtcHRzID0gYXdhaXQgb3B0aW9ucy5tYXhBdHRlbXB0cygpO1xuICAgIGlmIChpc1JldHJ5U3RyYXRlZ3lWMihyZXRyeVN0cmF0ZWd5KSkge1xuICAgICAgICByZXRyeVN0cmF0ZWd5ID0gcmV0cnlTdHJhdGVneTtcbiAgICAgICAgbGV0IHJldHJ5VG9rZW4gPSBhd2FpdCByZXRyeVN0cmF0ZWd5LmFjcXVpcmVJbml0aWFsUmV0cnlUb2tlbihjb250ZXh0W1wicGFydGl0aW9uX2lkXCJdKTtcbiAgICAgICAgbGV0IGxhc3RFcnJvciA9IG5ldyBFcnJvcigpO1xuICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgICAgICBsZXQgdG90YWxSZXRyeURlbGF5ID0gMDtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0IH0gPSBhcmdzO1xuICAgICAgICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzW0lOVk9DQVRJT05fSURfSEVBREVSXSA9IHY0KCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKEh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UocmVxdWVzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzW1JFUVVFU1RfSEVBREVSXSA9IGBhdHRlbXB0PSR7YXR0ZW1wdHMgKyAxfTsgbWF4PSR7bWF4QXR0ZW1wdHN9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyByZXNwb25zZSwgb3V0cHV0IH0gPSBhd2FpdCBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHJ5U3RyYXRlZ3kucmVjb3JkU3VjY2VzcyhyZXRyeVRva2VuKTtcbiAgICAgICAgICAgICAgICBvdXRwdXQuJG1ldGFkYXRhLmF0dGVtcHRzID0gYXR0ZW1wdHMgKyAxO1xuICAgICAgICAgICAgICAgIG91dHB1dC4kbWV0YWRhdGEudG90YWxSZXRyeURlbGF5ID0gdG90YWxSZXRyeURlbGF5O1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3BvbnNlLCBvdXRwdXQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0cnlFcnJvckluZm8gPSBnZXRSZXRyeUVycm9ySW5mbyhlKTtcbiAgICAgICAgICAgICAgICBsYXN0RXJyb3IgPSBhc1Nka0Vycm9yKGUpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHJ5VG9rZW4gPSBhd2FpdCByZXRyeVN0cmF0ZWd5LnJlZnJlc2hSZXRyeVRva2VuRm9yUmV0cnkocmV0cnlUb2tlbiwgcmV0cnlFcnJvckluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAocmVmcmVzaEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbGFzdEVycm9yLiRtZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEVycm9yLiRtZXRhZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RFcnJvci4kbWV0YWRhdGEuYXR0ZW1wdHMgPSBhdHRlbXB0cyArIDE7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RFcnJvci4kbWV0YWRhdGEudG90YWxSZXRyeURlbGF5ID0gdG90YWxSZXRyeURlbGF5O1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBsYXN0RXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF0dGVtcHRzID0gcmV0cnlUb2tlbi5nZXRSZXRyeUNvdW50KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsYXkgPSByZXRyeVRva2VuLmdldFJldHJ5RGVsYXkoKTtcbiAgICAgICAgICAgICAgICB0b3RhbFJldHJ5RGVsYXkgKz0gZGVsYXk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0cnlTdHJhdGVneSA9IHJldHJ5U3RyYXRlZ3k7XG4gICAgICAgIGlmIChyZXRyeVN0cmF0ZWd5Py5tb2RlKVxuICAgICAgICAgICAgY29udGV4dC51c2VyQWdlbnQgPSBbLi4uKGNvbnRleHQudXNlckFnZW50IHx8IFtdKSwgW1wiY2ZnL3JldHJ5LW1vZGVcIiwgcmV0cnlTdHJhdGVneS5tb2RlXV07XG4gICAgICAgIHJldHVybiByZXRyeVN0cmF0ZWd5LnJldHJ5KG5leHQsIGFyZ3MpO1xuICAgIH1cbn07XG5jb25zdCBpc1JldHJ5U3RyYXRlZ3lWMiA9IChyZXRyeVN0cmF0ZWd5KSA9PiB0eXBlb2YgcmV0cnlTdHJhdGVneS5hY3F1aXJlSW5pdGlhbFJldHJ5VG9rZW4gIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICB0eXBlb2YgcmV0cnlTdHJhdGVneS5yZWZyZXNoUmV0cnlUb2tlbkZvclJldHJ5ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHJldHJ5U3RyYXRlZ3kucmVjb3JkU3VjY2VzcyAhPT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IGdldFJldHJ5RXJyb3JJbmZvID0gKGVycm9yKSA9PiB7XG4gICAgY29uc3QgZXJyb3JJbmZvID0ge1xuICAgICAgICBlcnJvclR5cGU6IGdldFJldHJ5RXJyb3JUeXBlKGVycm9yKSxcbiAgICB9O1xuICAgIGNvbnN0IHJldHJ5QWZ0ZXJIaW50ID0gZ2V0UmV0cnlBZnRlckhpbnQoZXJyb3IuJHJlc3BvbnNlKTtcbiAgICBpZiAocmV0cnlBZnRlckhpbnQpIHtcbiAgICAgICAgZXJyb3JJbmZvLnJldHJ5QWZ0ZXJIaW50ID0gcmV0cnlBZnRlckhpbnQ7XG4gICAgfVxuICAgIHJldHVybiBlcnJvckluZm87XG59O1xuY29uc3QgZ2V0UmV0cnlFcnJvclR5cGUgPSAoZXJyb3IpID0+IHtcbiAgICBpZiAoaXNUaHJvdHRsaW5nRXJyb3IoZXJyb3IpKVxuICAgICAgICByZXR1cm4gXCJUSFJPVFRMSU5HXCI7XG4gICAgaWYgKGlzVHJhbnNpZW50RXJyb3IoZXJyb3IpKVxuICAgICAgICByZXR1cm4gXCJUUkFOU0lFTlRcIjtcbiAgICBpZiAoaXNTZXJ2ZXJFcnJvcihlcnJvcikpXG4gICAgICAgIHJldHVybiBcIlNFUlZFUl9FUlJPUlwiO1xuICAgIHJldHVybiBcIkNMSUVOVF9FUlJPUlwiO1xufTtcbmV4cG9ydCBjb25zdCByZXRyeU1pZGRsZXdhcmVPcHRpb25zID0ge1xuICAgIG5hbWU6IFwicmV0cnlNaWRkbGV3YXJlXCIsXG4gICAgdGFnczogW1wiUkVUUllcIl0sXG4gICAgc3RlcDogXCJmaW5hbGl6ZVJlcXVlc3RcIixcbiAgICBwcmlvcml0eTogXCJoaWdoXCIsXG4gICAgb3ZlcnJpZGU6IHRydWUsXG59O1xuZXhwb3J0IGNvbnN0IGdldFJldHJ5UGx1Z2luID0gKG9wdGlvbnMpID0+ICh7XG4gICAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICAgICAgY2xpZW50U3RhY2suYWRkKHJldHJ5TWlkZGxld2FyZShvcHRpb25zKSwgcmV0cnlNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuZXhwb3J0IGNvbnN0IGdldFJldHJ5QWZ0ZXJIaW50ID0gKHJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKCFIdHRwUmVzcG9uc2UuaXNJbnN0YW5jZShyZXNwb25zZSkpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCByZXRyeUFmdGVySGVhZGVyTmFtZSA9IE9iamVjdC5rZXlzKHJlc3BvbnNlLmhlYWRlcnMpLmZpbmQoKGtleSkgPT4ga2V5LnRvTG93ZXJDYXNlKCkgPT09IFwicmV0cnktYWZ0ZXJcIik7XG4gICAgaWYgKCFyZXRyeUFmdGVySGVhZGVyTmFtZSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHJldHJ5QWZ0ZXIgPSByZXNwb25zZS5oZWFkZXJzW3JldHJ5QWZ0ZXJIZWFkZXJOYW1lXTtcbiAgICBjb25zdCByZXRyeUFmdGVyU2Vjb25kcyA9IE51bWJlcihyZXRyeUFmdGVyKTtcbiAgICBpZiAoIU51bWJlci5pc05hTihyZXRyeUFmdGVyU2Vjb25kcykpXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShyZXRyeUFmdGVyU2Vjb25kcyAqIDEwMDApO1xuICAgIGNvbnN0IHJldHJ5QWZ0ZXJEYXRlID0gbmV3IERhdGUocmV0cnlBZnRlcik7XG4gICAgcmV0dXJuIHJldHJ5QWZ0ZXJEYXRlO1xufTtcbiIsImV4cG9ydCBjb25zdCBhc1Nka0Vycm9yID0gKGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBPYmplY3QpXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBFcnJvcigpLCBlcnJvcik7XG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgQVdTIFNESyBlcnJvciB3cmFwcGVyIGZvciAke2Vycm9yfWApO1xufTtcbiIsImV4cG9ydCBjb25zdCBtZW1vaXplID0gKHByb3ZpZGVyLCBpc0V4cGlyZWQsIHJlcXVpcmVzUmVmcmVzaCkgPT4ge1xuICAgIGxldCByZXNvbHZlZDtcbiAgICBsZXQgcGVuZGluZztcbiAgICBsZXQgaGFzUmVzdWx0O1xuICAgIGxldCBpc0NvbnN0YW50ID0gZmFsc2U7XG4gICAgY29uc3QgY29hbGVzY2VQcm92aWRlciA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFwZW5kaW5nKSB7XG4gICAgICAgICAgICBwZW5kaW5nID0gcHJvdmlkZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSBhd2FpdCBwZW5kaW5nO1xuICAgICAgICAgICAgaGFzUmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlzQ29uc3RhbnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHBlbmRpbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgIH07XG4gICAgaWYgKGlzRXhwaXJlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBhc3luYyAob3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgaWYgKCFoYXNSZXN1bHQgfHwgb3B0aW9ucz8uZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWQgPSBhd2FpdCBjb2FsZXNjZVByb3ZpZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBhc3luYyAob3B0aW9ucykgPT4ge1xuICAgICAgICBpZiAoIWhhc1Jlc3VsdCB8fCBvcHRpb25zPy5mb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICAgIHJlc29sdmVkID0gYXdhaXQgY29hbGVzY2VQcm92aWRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NvbnN0YW50KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcXVpcmVzUmVmcmVzaCAmJiAhcmVxdWlyZXNSZWZyZXNoKHJlc29sdmVkKSkge1xuICAgICAgICAgICAgaXNDb25zdGFudCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRXhwaXJlZChyZXNvbHZlZCkpIHtcbiAgICAgICAgICAgIGF3YWl0IGNvYWxlc2NlUHJvdmlkZXIoKTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgfTtcbn07XG4iLCJjb25zdCBTSE9SVF9UT19IRVggPSB7fTtcbmNvbnN0IEhFWF9UT19TSE9SVCA9IHt9O1xuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgIGxldCBlbmNvZGVkQnl0ZSA9IGkudG9TdHJpbmcoMTYpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGVuY29kZWRCeXRlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBlbmNvZGVkQnl0ZSA9IGAwJHtlbmNvZGVkQnl0ZX1gO1xuICAgIH1cbiAgICBTSE9SVF9UT19IRVhbaV0gPSBlbmNvZGVkQnl0ZTtcbiAgICBIRVhfVE9fU0hPUlRbZW5jb2RlZEJ5dGVdID0gaTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSGV4KGVuY29kZWQpIHtcbiAgICBpZiAoZW5jb2RlZC5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkhleCBlbmNvZGVkIHN0cmluZ3MgbXVzdCBoYXZlIGFuIGV2ZW4gbnVtYmVyIGxlbmd0aFwiKTtcbiAgICB9XG4gICAgY29uc3Qgb3V0ID0gbmV3IFVpbnQ4QXJyYXkoZW5jb2RlZC5sZW5ndGggLyAyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuY29kZWQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlZEJ5dGUgPSBlbmNvZGVkLnNsaWNlKGksIGkgKyAyKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoZW5jb2RlZEJ5dGUgaW4gSEVYX1RPX1NIT1JUKSB7XG4gICAgICAgICAgICBvdXRbaSAvIDJdID0gSEVYX1RPX1NIT1JUW2VuY29kZWRCeXRlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGRlY29kZSB1bnJlY29nbml6ZWQgc2VxdWVuY2UgJHtlbmNvZGVkQnl0ZX0gYXMgaGV4YWRlY2ltYWxgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvSGV4KGJ5dGVzKSB7XG4gICAgbGV0IG91dCA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5ieXRlTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgb3V0ICs9IFNIT1JUX1RPX0hFWFtieXRlc1tpXV07XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4iLCJpbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuZXhwb3J0IGNsYXNzIEludDY0IHtcbiAgICBjb25zdHJ1Y3RvcihieXRlcykge1xuICAgICAgICB0aGlzLmJ5dGVzID0gYnl0ZXM7XG4gICAgICAgIGlmIChieXRlcy5ieXRlTGVuZ3RoICE9PSA4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnQ2NCBidWZmZXJzIG11c3QgYmUgZXhhY3RseSA4IGJ5dGVzXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tTnVtYmVyKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyID4gOTIyMzM3MjAzNjg1NDc3NjAwMCB8fCBudW1iZXIgPCAtOTIyMzM3MjAzNjg1NDc3NjAwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke251bWJlcn0gaXMgdG9vIGxhcmdlIChvciwgaWYgbmVnYXRpdmUsIHRvbyBzbWFsbCkgdG8gcmVwcmVzZW50IGFzIGFuIEludDY0YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDcsIHJlbWFpbmluZyA9IE1hdGguYWJzKE1hdGgucm91bmQobnVtYmVyKSk7IGkgPiAtMSAmJiByZW1haW5pbmcgPiAwOyBpLS0sIHJlbWFpbmluZyAvPSAyNTYpIHtcbiAgICAgICAgICAgIGJ5dGVzW2ldID0gcmVtYWluaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICBuZWdhdGUoYnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSW50NjQoYnl0ZXMpO1xuICAgIH1cbiAgICB2YWx1ZU9mKCkge1xuICAgICAgICBjb25zdCBieXRlcyA9IHRoaXMuYnl0ZXMuc2xpY2UoMCk7XG4gICAgICAgIGNvbnN0IG5lZ2F0aXZlID0gYnl0ZXNbMF0gJiAwYjEwMDAwMDAwO1xuICAgICAgICBpZiAobmVnYXRpdmUpIHtcbiAgICAgICAgICAgIG5lZ2F0ZShieXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRvSGV4KGJ5dGVzKSwgMTYpICogKG5lZ2F0aXZlID8gLTEgOiAxKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcodGhpcy52YWx1ZU9mKCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5lZ2F0ZShieXRlcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgIGJ5dGVzW2ldIF49IDB4ZmY7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSA3OyBpID4gLTE7IGktLSkge1xuICAgICAgICBieXRlc1tpXSsrO1xuICAgICAgICBpZiAoYnl0ZXNbaV0gIT09IDApXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBmcm9tSGV4LCB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuaW1wb3J0IHsgSW50NjQgfSBmcm9tIFwiLi9JbnQ2NFwiO1xuZXhwb3J0IGNsYXNzIEhlYWRlck1hcnNoYWxsZXIge1xuICAgIGNvbnN0cnVjdG9yKHRvVXRmOCwgZnJvbVV0ZjgpIHtcbiAgICAgICAgdGhpcy50b1V0ZjggPSB0b1V0Zjg7XG4gICAgICAgIHRoaXMuZnJvbVV0ZjggPSBmcm9tVXRmODtcbiAgICB9XG4gICAgZm9ybWF0KGhlYWRlcnMpIHtcbiAgICAgICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICAgICAgY29uc3QgYnl0ZXMgPSB0aGlzLmZyb21VdGY4KGhlYWRlck5hbWUpO1xuICAgICAgICAgICAgY2h1bmtzLnB1c2goVWludDhBcnJheS5mcm9tKFtieXRlcy5ieXRlTGVuZ3RoXSksIGJ5dGVzLCB0aGlzLmZvcm1hdEhlYWRlclZhbHVlKGhlYWRlcnNbaGVhZGVyTmFtZV0pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdXQgPSBuZXcgVWludDhBcnJheShjaHVua3MucmVkdWNlKChjYXJyeSwgYnl0ZXMpID0+IGNhcnJ5ICsgYnl0ZXMuYnl0ZUxlbmd0aCwgMCkpO1xuICAgICAgICBsZXQgcG9zaXRpb24gPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGNodW5rIG9mIGNodW5rcykge1xuICAgICAgICAgICAgb3V0LnNldChjaHVuaywgcG9zaXRpb24pO1xuICAgICAgICAgICAgcG9zaXRpb24gKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBmb3JtYXRIZWFkZXJWYWx1ZShoZWFkZXIpIHtcbiAgICAgICAgc3dpdGNoIChoZWFkZXIudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKFtoZWFkZXIudmFsdWUgPyAwIDogMV0pO1xuICAgICAgICAgICAgY2FzZSBcImJ5dGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKFsyLCBoZWFkZXIudmFsdWVdKTtcbiAgICAgICAgICAgIGNhc2UgXCJzaG9ydFwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IHNob3J0VmlldyA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMykpO1xuICAgICAgICAgICAgICAgIHNob3J0Vmlldy5zZXRVaW50OCgwLCAzKTtcbiAgICAgICAgICAgICAgICBzaG9ydFZpZXcuc2V0SW50MTYoMSwgaGVhZGVyLnZhbHVlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHNob3J0Vmlldy5idWZmZXIpO1xuICAgICAgICAgICAgY2FzZSBcImludGVnZXJcIjpcbiAgICAgICAgICAgICAgICBjb25zdCBpbnRWaWV3ID0gbmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcig1KSk7XG4gICAgICAgICAgICAgICAgaW50Vmlldy5zZXRVaW50OCgwLCA0KTtcbiAgICAgICAgICAgICAgICBpbnRWaWV3LnNldEludDMyKDEsIGhlYWRlci52YWx1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShpbnRWaWV3LmJ1ZmZlcik7XG4gICAgICAgICAgICBjYXNlIFwibG9uZ1wiOlxuICAgICAgICAgICAgICAgIGNvbnN0IGxvbmdCeXRlcyA9IG5ldyBVaW50OEFycmF5KDkpO1xuICAgICAgICAgICAgICAgIGxvbmdCeXRlc1swXSA9IDU7XG4gICAgICAgICAgICAgICAgbG9uZ0J5dGVzLnNldChoZWFkZXIudmFsdWUuYnl0ZXMsIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb25nQnl0ZXM7XG4gICAgICAgICAgICBjYXNlIFwiYmluYXJ5XCI6XG4gICAgICAgICAgICAgICAgY29uc3QgYmluVmlldyA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMyArIGhlYWRlci52YWx1ZS5ieXRlTGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgYmluVmlldy5zZXRVaW50OCgwLCA2KTtcbiAgICAgICAgICAgICAgICBiaW5WaWV3LnNldFVpbnQxNigxLCBoZWFkZXIudmFsdWUuYnl0ZUxlbmd0aCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpbkJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYmluVmlldy5idWZmZXIpO1xuICAgICAgICAgICAgICAgIGJpbkJ5dGVzLnNldChoZWFkZXIudmFsdWUsIDMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBiaW5CeXRlcztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICBjb25zdCB1dGY4Qnl0ZXMgPSB0aGlzLmZyb21VdGY4KGhlYWRlci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyVmlldyA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMyArIHV0ZjhCeXRlcy5ieXRlTGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgc3RyVmlldy5zZXRVaW50OCgwLCA3KTtcbiAgICAgICAgICAgICAgICBzdHJWaWV3LnNldFVpbnQxNigxLCB1dGY4Qnl0ZXMuYnl0ZUxlbmd0aCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ckJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoc3RyVmlldy5idWZmZXIpO1xuICAgICAgICAgICAgICAgIHN0ckJ5dGVzLnNldCh1dGY4Qnl0ZXMsIDMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJCeXRlcztcbiAgICAgICAgICAgIGNhc2UgXCJ0aW1lc3RhbXBcIjpcbiAgICAgICAgICAgICAgICBjb25zdCB0c0J5dGVzID0gbmV3IFVpbnQ4QXJyYXkoOSk7XG4gICAgICAgICAgICAgICAgdHNCeXRlc1swXSA9IDg7XG4gICAgICAgICAgICAgICAgdHNCeXRlcy5zZXQoSW50NjQuZnJvbU51bWJlcihoZWFkZXIudmFsdWUudmFsdWVPZigpKS5ieXRlcywgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRzQnl0ZXM7XG4gICAgICAgICAgICBjYXNlIFwidXVpZFwiOlxuICAgICAgICAgICAgICAgIGlmICghVVVJRF9QQVRURVJOLnRlc3QoaGVhZGVyLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgVVVJRCByZWNlaXZlZDogJHtoZWFkZXIudmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHV1aWRCeXRlcyA9IG5ldyBVaW50OEFycmF5KDE3KTtcbiAgICAgICAgICAgICAgICB1dWlkQnl0ZXNbMF0gPSA5O1xuICAgICAgICAgICAgICAgIHV1aWRCeXRlcy5zZXQoZnJvbUhleChoZWFkZXIudmFsdWUucmVwbGFjZSgvXFwtL2csIFwiXCIpKSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV1aWRCeXRlcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJzZShoZWFkZXJzKSB7XG4gICAgICAgIGNvbnN0IG91dCA9IHt9O1xuICAgICAgICBsZXQgcG9zaXRpb24gPSAwO1xuICAgICAgICB3aGlsZSAocG9zaXRpb24gPCBoZWFkZXJzLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVMZW5ndGggPSBoZWFkZXJzLmdldFVpbnQ4KHBvc2l0aW9uKyspO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMudG9VdGY4KG5ldyBVaW50OEFycmF5KGhlYWRlcnMuYnVmZmVyLCBoZWFkZXJzLmJ5dGVPZmZzZXQgKyBwb3NpdGlvbiwgbmFtZUxlbmd0aCkpO1xuICAgICAgICAgICAgcG9zaXRpb24gKz0gbmFtZUxlbmd0aDtcbiAgICAgICAgICAgIHN3aXRjaCAoaGVhZGVycy5nZXRVaW50OChwb3NpdGlvbisrKSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgb3V0W25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQk9PTEVBTl9UQUcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCT09MRUFOX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBCWVRFX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBoZWFkZXJzLmdldEludDgocG9zaXRpb24rKyksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgb3V0W25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogU0hPUlRfVEFHLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGhlYWRlcnMuZ2V0SW50MTYocG9zaXRpb24sIGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBJTlRfVEFHLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGhlYWRlcnMuZ2V0SW50MzIocG9zaXRpb24sIGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gNDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBMT05HX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgSW50NjQobmV3IFVpbnQ4QXJyYXkoaGVhZGVycy5idWZmZXIsIGhlYWRlcnMuYnl0ZU9mZnNldCArIHBvc2l0aW9uLCA4KSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IDg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmluYXJ5TGVuZ3RoID0gaGVhZGVycy5nZXRVaW50MTYocG9zaXRpb24sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgb3V0W25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQklOQVJZX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgVWludDhBcnJheShoZWFkZXJzLmJ1ZmZlciwgaGVhZGVycy5ieXRlT2Zmc2V0ICsgcG9zaXRpb24sIGJpbmFyeUxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IGJpbmFyeUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdMZW5ndGggPSBoZWFkZXJzLmdldFVpbnQxNihwb3NpdGlvbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSAyO1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBTVFJJTkdfVEFHLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMudG9VdGY4KG5ldyBVaW50OEFycmF5KGhlYWRlcnMuYnVmZmVyLCBoZWFkZXJzLmJ5dGVPZmZzZXQgKyBwb3NpdGlvbiwgc3RyaW5nTGVuZ3RoKSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IHN0cmluZ0xlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBUSU1FU1RBTVBfVEFHLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKG5ldyBJbnQ2NChuZXcgVWludDhBcnJheShoZWFkZXJzLmJ1ZmZlciwgaGVhZGVycy5ieXRlT2Zmc2V0ICsgcG9zaXRpb24sIDgpKS52YWx1ZU9mKCkpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSA4O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHV1aWRCeXRlcyA9IG5ldyBVaW50OEFycmF5KGhlYWRlcnMuYnVmZmVyLCBoZWFkZXJzLmJ5dGVPZmZzZXQgKyBwb3NpdGlvbiwgMTYpO1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSAxNjtcbiAgICAgICAgICAgICAgICAgICAgb3V0W25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogVVVJRF9UQUcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYCR7dG9IZXgodXVpZEJ5dGVzLnN1YmFycmF5KDAsIDQpKX0tJHt0b0hleCh1dWlkQnl0ZXMuc3ViYXJyYXkoNCwgNikpfS0ke3RvSGV4KHV1aWRCeXRlcy5zdWJhcnJheSg2LCA4KSl9LSR7dG9IZXgodXVpZEJ5dGVzLnN1YmFycmF5KDgsIDEwKSl9LSR7dG9IZXgodXVpZEJ5dGVzLnN1YmFycmF5KDEwKSl9YCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgaGVhZGVyIHR5cGUgdGFnYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG59XG52YXIgSEVBREVSX1ZBTFVFX1RZUEU7XG4oZnVuY3Rpb24gKEhFQURFUl9WQUxVRV9UWVBFKSB7XG4gICAgSEVBREVSX1ZBTFVFX1RZUEVbSEVBREVSX1ZBTFVFX1RZUEVbXCJib29sVHJ1ZVwiXSA9IDBdID0gXCJib29sVHJ1ZVwiO1xuICAgIEhFQURFUl9WQUxVRV9UWVBFW0hFQURFUl9WQUxVRV9UWVBFW1wiYm9vbEZhbHNlXCJdID0gMV0gPSBcImJvb2xGYWxzZVwiO1xuICAgIEhFQURFUl9WQUxVRV9UWVBFW0hFQURFUl9WQUxVRV9UWVBFW1wiYnl0ZVwiXSA9IDJdID0gXCJieXRlXCI7XG4gICAgSEVBREVSX1ZBTFVFX1RZUEVbSEVBREVSX1ZBTFVFX1RZUEVbXCJzaG9ydFwiXSA9IDNdID0gXCJzaG9ydFwiO1xuICAgIEhFQURFUl9WQUxVRV9UWVBFW0hFQURFUl9WQUxVRV9UWVBFW1wiaW50ZWdlclwiXSA9IDRdID0gXCJpbnRlZ2VyXCI7XG4gICAgSEVBREVSX1ZBTFVFX1RZUEVbSEVBREVSX1ZBTFVFX1RZUEVbXCJsb25nXCJdID0gNV0gPSBcImxvbmdcIjtcbiAgICBIRUFERVJfVkFMVUVfVFlQRVtIRUFERVJfVkFMVUVfVFlQRVtcImJ5dGVBcnJheVwiXSA9IDZdID0gXCJieXRlQXJyYXlcIjtcbiAgICBIRUFERVJfVkFMVUVfVFlQRVtIRUFERVJfVkFMVUVfVFlQRVtcInN0cmluZ1wiXSA9IDddID0gXCJzdHJpbmdcIjtcbiAgICBIRUFERVJfVkFMVUVfVFlQRVtIRUFERVJfVkFMVUVfVFlQRVtcInRpbWVzdGFtcFwiXSA9IDhdID0gXCJ0aW1lc3RhbXBcIjtcbiAgICBIRUFERVJfVkFMVUVfVFlQRVtIRUFERVJfVkFMVUVfVFlQRVtcInV1aWRcIl0gPSA5XSA9IFwidXVpZFwiO1xufSkoSEVBREVSX1ZBTFVFX1RZUEUgfHwgKEhFQURFUl9WQUxVRV9UWVBFID0ge30pKTtcbmNvbnN0IEJPT0xFQU5fVEFHID0gXCJib29sZWFuXCI7XG5jb25zdCBCWVRFX1RBRyA9IFwiYnl0ZVwiO1xuY29uc3QgU0hPUlRfVEFHID0gXCJzaG9ydFwiO1xuY29uc3QgSU5UX1RBRyA9IFwiaW50ZWdlclwiO1xuY29uc3QgTE9OR19UQUcgPSBcImxvbmdcIjtcbmNvbnN0IEJJTkFSWV9UQUcgPSBcImJpbmFyeVwiO1xuY29uc3QgU1RSSU5HX1RBRyA9IFwic3RyaW5nXCI7XG5jb25zdCBUSU1FU1RBTVBfVEFHID0gXCJ0aW1lc3RhbXBcIjtcbmNvbnN0IFVVSURfVEFHID0gXCJ1dWlkXCI7XG5jb25zdCBVVUlEX1BBVFRFUk4gPSAvXlthLWYwLTldezh9LVthLWYwLTldezR9LVthLWYwLTldezR9LVthLWYwLTldezR9LVthLWYwLTldezEyfSQvO1xuIiwiZXhwb3J0IGNsYXNzIE1lc3NhZ2VEZWNvZGVyU3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzeW5jSXRlcmF0b3IoKTtcbiAgICB9XG4gICAgYXN5bmMgKmFzeW5jSXRlcmF0b3IoKSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgYnl0ZXMgb2YgdGhpcy5vcHRpb25zLmlucHV0U3RyZWFtKSB7XG4gICAgICAgICAgICBjb25zdCBkZWNvZGVkID0gdGhpcy5vcHRpb25zLmRlY29kZXIuZGVjb2RlKGJ5dGVzKTtcbiAgICAgICAgICAgIHlpZWxkIGRlY29kZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgTWVzc2FnZUVuY29kZXJTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXN5bmNJdGVyYXRvcigpO1xuICAgIH1cbiAgICBhc3luYyAqYXN5bmNJdGVyYXRvcigpIHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBtc2cgb2YgdGhpcy5vcHRpb25zLm1lc3NhZ2VTdHJlYW0pIHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZWQgPSB0aGlzLm9wdGlvbnMuZW5jb2Rlci5lbmNvZGUobXNnKTtcbiAgICAgICAgICAgIHlpZWxkIGVuY29kZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbmNsdWRlRW5kRnJhbWUpIHtcbiAgICAgICAgICAgIHlpZWxkIG5ldyBVaW50OEFycmF5KDApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNtaXRoeU1lc3NhZ2VEZWNvZGVyU3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzeW5jSXRlcmF0b3IoKTtcbiAgICB9XG4gICAgYXN5bmMgKmFzeW5jSXRlcmF0b3IoKSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgbWVzc2FnZSBvZiB0aGlzLm9wdGlvbnMubWVzc2FnZVN0cmVhbSkge1xuICAgICAgICAgICAgY29uc3QgZGVzZXJpYWxpemVkID0gYXdhaXQgdGhpcy5vcHRpb25zLmRlc2VyaWFsaXplcihtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChkZXNlcmlhbGl6ZWQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHlpZWxkIGRlc2VyaWFsaXplZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBTbWl0aHlNZXNzYWdlRW5jb2RlclN0cmVhbSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hc3luY0l0ZXJhdG9yKCk7XG4gICAgfVxuICAgIGFzeW5jICphc3luY0l0ZXJhdG9yKCkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHRoaXMub3B0aW9ucy5pbnB1dFN0cmVhbSkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZEJ1ZiA9IHRoaXMub3B0aW9ucy5zZXJpYWxpemVyKGNodW5rKTtcbiAgICAgICAgICAgIHlpZWxkIHBheWxvYWRCdWY7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgaXNBcnJheUJ1ZmZlciA9IChhcmcpID0+ICh0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIiAmJiBhcmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHxcbiAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiO1xuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJidWZmZXJcIik7IiwiaW1wb3J0IHsgaXNBcnJheUJ1ZmZlciB9IGZyb20gXCJAYXdzLXNkay9pcy1hcnJheS1idWZmZXJcIjtcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gXCJidWZmZXJcIjtcbmV4cG9ydCBjb25zdCBmcm9tQXJyYXlCdWZmZXIgPSAoaW5wdXQsIG9mZnNldCA9IDAsIGxlbmd0aCA9IGlucHV0LmJ5dGVMZW5ndGggLSBvZmZzZXQpID0+IHtcbiAgICBpZiAoIWlzQXJyYXlCdWZmZXIoaW5wdXQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBcImlucHV0XCIgYXJndW1lbnQgbXVzdCBiZSBBcnJheUJ1ZmZlci4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiBpbnB1dH0gKCR7aW5wdXR9KWApO1xuICAgIH1cbiAgICByZXR1cm4gQnVmZmVyLmZyb20oaW5wdXQsIG9mZnNldCwgbGVuZ3RoKTtcbn07XG5leHBvcnQgY29uc3QgZnJvbVN0cmluZyA9IChpbnB1dCwgZW5jb2RpbmcpID0+IHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBcImlucHV0XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiBpbnB1dH0gKCR7aW5wdXR9KWApO1xuICAgIH1cbiAgICByZXR1cm4gZW5jb2RpbmcgPyBCdWZmZXIuZnJvbShpbnB1dCwgZW5jb2RpbmcpIDogQnVmZmVyLmZyb20oaW5wdXQpO1xufTtcbiIsImltcG9ydCB7IGZyb21TdHJpbmcgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1idWZmZXItZnJvbVwiO1xuZXhwb3J0IGNvbnN0IGZyb21VdGY4ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgYnVmID0gZnJvbVN0cmluZyhpbnB1dCwgXCJ1dGY4XCIpO1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShidWYuYnVmZmVyLCBidWYuYnl0ZU9mZnNldCwgYnVmLmJ5dGVMZW5ndGggLyBVaW50OEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtcbn07XG4iLCJpbXBvcnQgeyBmcm9tVXRmOCB9IGZyb20gXCIuL2Zyb21VdGY4XCI7XG5leHBvcnQgY29uc3QgdG9VaW50OEFycmF5ID0gKGRhdGEpID0+IHtcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGZyb21VdGY4KGRhdGEpO1xuICAgIH1cbiAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGggLyBVaW50OEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEpO1xufTtcbiIsImltcG9ydCB7IGZyb21BcnJheUJ1ZmZlciB9IGZyb20gXCJAYXdzLXNkay91dGlsLWJ1ZmZlci1mcm9tXCI7XG5leHBvcnQgY29uc3QgdG9VdGY4ID0gKGlucHV0KSA9PiBmcm9tQXJyYXlCdWZmZXIoaW5wdXQuYnVmZmVyLCBpbnB1dC5ieXRlT2Zmc2V0LCBpbnB1dC5ieXRlTGVuZ3RoKS50b1N0cmluZyhcInV0ZjhcIik7XG4iLCJleHBvcnQgY29uc3QgQUxHT1JJVEhNX1FVRVJZX1BBUkFNID0gXCJYLUFtei1BbGdvcml0aG1cIjtcbmV4cG9ydCBjb25zdCBDUkVERU5USUFMX1FVRVJZX1BBUkFNID0gXCJYLUFtei1DcmVkZW50aWFsXCI7XG5leHBvcnQgY29uc3QgQU1aX0RBVEVfUVVFUllfUEFSQU0gPSBcIlgtQW16LURhdGVcIjtcbmV4cG9ydCBjb25zdCBTSUdORURfSEVBREVSU19RVUVSWV9QQVJBTSA9IFwiWC1BbXotU2lnbmVkSGVhZGVyc1wiO1xuZXhwb3J0IGNvbnN0IEVYUElSRVNfUVVFUllfUEFSQU0gPSBcIlgtQW16LUV4cGlyZXNcIjtcbmV4cG9ydCBjb25zdCBTSUdOQVRVUkVfUVVFUllfUEFSQU0gPSBcIlgtQW16LVNpZ25hdHVyZVwiO1xuZXhwb3J0IGNvbnN0IFRPS0VOX1FVRVJZX1BBUkFNID0gXCJYLUFtei1TZWN1cml0eS1Ub2tlblwiO1xuZXhwb3J0IGNvbnN0IFJFR0lPTl9TRVRfUEFSQU0gPSBcIlgtQW16LVJlZ2lvbi1TZXRcIjtcbmV4cG9ydCBjb25zdCBBVVRIX0hFQURFUiA9IFwiYXV0aG9yaXphdGlvblwiO1xuZXhwb3J0IGNvbnN0IEFNWl9EQVRFX0hFQURFUiA9IEFNWl9EQVRFX1FVRVJZX1BBUkFNLnRvTG93ZXJDYXNlKCk7XG5leHBvcnQgY29uc3QgREFURV9IRUFERVIgPSBcImRhdGVcIjtcbmV4cG9ydCBjb25zdCBHRU5FUkFURURfSEVBREVSUyA9IFtBVVRIX0hFQURFUiwgQU1aX0RBVEVfSEVBREVSLCBEQVRFX0hFQURFUl07XG5leHBvcnQgY29uc3QgU0lHTkFUVVJFX0hFQURFUiA9IFNJR05BVFVSRV9RVUVSWV9QQVJBTS50b0xvd2VyQ2FzZSgpO1xuZXhwb3J0IGNvbnN0IFNIQTI1Nl9IRUFERVIgPSBcIngtYW16LWNvbnRlbnQtc2hhMjU2XCI7XG5leHBvcnQgY29uc3QgVE9LRU5fSEVBREVSID0gVE9LRU5fUVVFUllfUEFSQU0udG9Mb3dlckNhc2UoKTtcbmV4cG9ydCBjb25zdCBIT1NUX0hFQURFUiA9IFwiaG9zdFwiO1xuZXhwb3J0IGNvbnN0IEFMV0FZU19VTlNJR05BQkxFX0hFQURFUlMgPSB7XG4gICAgYXV0aG9yaXphdGlvbjogdHJ1ZSxcbiAgICBcImNhY2hlLWNvbnRyb2xcIjogdHJ1ZSxcbiAgICBjb25uZWN0aW9uOiB0cnVlLFxuICAgIGV4cGVjdDogdHJ1ZSxcbiAgICBmcm9tOiB0cnVlLFxuICAgIFwia2VlcC1hbGl2ZVwiOiB0cnVlLFxuICAgIFwibWF4LWZvcndhcmRzXCI6IHRydWUsXG4gICAgcHJhZ21hOiB0cnVlLFxuICAgIHJlZmVyZXI6IHRydWUsXG4gICAgdGU6IHRydWUsXG4gICAgdHJhaWxlcjogdHJ1ZSxcbiAgICBcInRyYW5zZmVyLWVuY29kaW5nXCI6IHRydWUsXG4gICAgdXBncmFkZTogdHJ1ZSxcbiAgICBcInVzZXItYWdlbnRcIjogdHJ1ZSxcbiAgICBcIngtYW16bi10cmFjZS1pZFwiOiB0cnVlLFxufTtcbmV4cG9ydCBjb25zdCBQUk9YWV9IRUFERVJfUEFUVEVSTiA9IC9ecHJveHktLztcbmV4cG9ydCBjb25zdCBTRUNfSEVBREVSX1BBVFRFUk4gPSAvXnNlYy0vO1xuZXhwb3J0IGNvbnN0IFVOU0lHTkFCTEVfUEFUVEVSTlMgPSBbL15wcm94eS0vaSwgL15zZWMtL2ldO1xuZXhwb3J0IGNvbnN0IEFMR09SSVRITV9JREVOVElGSUVSID0gXCJBV1M0LUhNQUMtU0hBMjU2XCI7XG5leHBvcnQgY29uc3QgQUxHT1JJVEhNX0lERU5USUZJRVJfVjRBID0gXCJBV1M0LUVDRFNBLVAyNTYtU0hBMjU2XCI7XG5leHBvcnQgY29uc3QgRVZFTlRfQUxHT1JJVEhNX0lERU5USUZJRVIgPSBcIkFXUzQtSE1BQy1TSEEyNTYtUEFZTE9BRFwiO1xuZXhwb3J0IGNvbnN0IFVOU0lHTkVEX1BBWUxPQUQgPSBcIlVOU0lHTkVELVBBWUxPQURcIjtcbmV4cG9ydCBjb25zdCBNQVhfQ0FDSEVfU0laRSA9IDUwO1xuZXhwb3J0IGNvbnN0IEtFWV9UWVBFX0lERU5USUZJRVIgPSBcImF3czRfcmVxdWVzdFwiO1xuZXhwb3J0IGNvbnN0IE1BWF9QUkVTSUdORURfVFRMID0gNjAgKiA2MCAqIDI0ICogNztcbiIsImltcG9ydCB7IHRvSGV4IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtaGV4LWVuY29kaW5nXCI7XG5pbXBvcnQgeyB0b1VpbnQ4QXJyYXkgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11dGY4XCI7XG5pbXBvcnQgeyBLRVlfVFlQRV9JREVOVElGSUVSLCBNQVhfQ0FDSEVfU0laRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuY29uc3Qgc2lnbmluZ0tleUNhY2hlID0ge307XG5jb25zdCBjYWNoZVF1ZXVlID0gW107XG5leHBvcnQgY29uc3QgY3JlYXRlU2NvcGUgPSAoc2hvcnREYXRlLCByZWdpb24sIHNlcnZpY2UpID0+IGAke3Nob3J0RGF0ZX0vJHtyZWdpb259LyR7c2VydmljZX0vJHtLRVlfVFlQRV9JREVOVElGSUVSfWA7XG5leHBvcnQgY29uc3QgZ2V0U2lnbmluZ0tleSA9IGFzeW5jIChzaGEyNTZDb25zdHJ1Y3RvciwgY3JlZGVudGlhbHMsIHNob3J0RGF0ZSwgcmVnaW9uLCBzZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgY3JlZHNIYXNoID0gYXdhaXQgaG1hYyhzaGEyNTZDb25zdHJ1Y3RvciwgY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5LCBjcmVkZW50aWFscy5hY2Nlc3NLZXlJZCk7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgJHtzaG9ydERhdGV9OiR7cmVnaW9ufToke3NlcnZpY2V9OiR7dG9IZXgoY3JlZHNIYXNoKX06JHtjcmVkZW50aWFscy5zZXNzaW9uVG9rZW59YDtcbiAgICBpZiAoY2FjaGVLZXkgaW4gc2lnbmluZ0tleUNhY2hlKSB7XG4gICAgICAgIHJldHVybiBzaWduaW5nS2V5Q2FjaGVbY2FjaGVLZXldO1xuICAgIH1cbiAgICBjYWNoZVF1ZXVlLnB1c2goY2FjaGVLZXkpO1xuICAgIHdoaWxlIChjYWNoZVF1ZXVlLmxlbmd0aCA+IE1BWF9DQUNIRV9TSVpFKSB7XG4gICAgICAgIGRlbGV0ZSBzaWduaW5nS2V5Q2FjaGVbY2FjaGVRdWV1ZS5zaGlmdCgpXTtcbiAgICB9XG4gICAgbGV0IGtleSA9IGBBV1M0JHtjcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXl9YDtcbiAgICBmb3IgKGNvbnN0IHNpZ25hYmxlIG9mIFtzaG9ydERhdGUsIHJlZ2lvbiwgc2VydmljZSwgS0VZX1RZUEVfSURFTlRJRklFUl0pIHtcbiAgICAgICAga2V5ID0gYXdhaXQgaG1hYyhzaGEyNTZDb25zdHJ1Y3Rvciwga2V5LCBzaWduYWJsZSk7XG4gICAgfVxuICAgIHJldHVybiAoc2lnbmluZ0tleUNhY2hlW2NhY2hlS2V5XSA9IGtleSk7XG59O1xuZXhwb3J0IGNvbnN0IGNsZWFyQ3JlZGVudGlhbENhY2hlID0gKCkgPT4ge1xuICAgIGNhY2hlUXVldWUubGVuZ3RoID0gMDtcbiAgICBPYmplY3Qua2V5cyhzaWduaW5nS2V5Q2FjaGUpLmZvckVhY2goKGNhY2hlS2V5KSA9PiB7XG4gICAgICAgIGRlbGV0ZSBzaWduaW5nS2V5Q2FjaGVbY2FjaGVLZXldO1xuICAgIH0pO1xufTtcbmNvbnN0IGhtYWMgPSAoY3Rvciwgc2VjcmV0LCBkYXRhKSA9PiB7XG4gICAgY29uc3QgaGFzaCA9IG5ldyBjdG9yKHNlY3JldCk7XG4gICAgaGFzaC51cGRhdGUodG9VaW50OEFycmF5KGRhdGEpKTtcbiAgICByZXR1cm4gaGFzaC5kaWdlc3QoKTtcbn07XG4iLCJpbXBvcnQgeyBBTFdBWVNfVU5TSUdOQUJMRV9IRUFERVJTLCBQUk9YWV9IRUFERVJfUEFUVEVSTiwgU0VDX0hFQURFUl9QQVRURVJOIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgZ2V0Q2Fub25pY2FsSGVhZGVycyA9ICh7IGhlYWRlcnMgfSwgdW5zaWduYWJsZUhlYWRlcnMsIHNpZ25hYmxlSGVhZGVycykgPT4ge1xuICAgIGNvbnN0IGNhbm9uaWNhbCA9IHt9O1xuICAgIGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKS5zb3J0KCkpIHtcbiAgICAgICAgaWYgKGhlYWRlcnNbaGVhZGVyTmFtZV0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYW5vbmljYWxIZWFkZXJOYW1lID0gaGVhZGVyTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoY2Fub25pY2FsSGVhZGVyTmFtZSBpbiBBTFdBWVNfVU5TSUdOQUJMRV9IRUFERVJTIHx8XG4gICAgICAgICAgICB1bnNpZ25hYmxlSGVhZGVycz8uaGFzKGNhbm9uaWNhbEhlYWRlck5hbWUpIHx8XG4gICAgICAgICAgICBQUk9YWV9IRUFERVJfUEFUVEVSTi50ZXN0KGNhbm9uaWNhbEhlYWRlck5hbWUpIHx8XG4gICAgICAgICAgICBTRUNfSEVBREVSX1BBVFRFUk4udGVzdChjYW5vbmljYWxIZWFkZXJOYW1lKSkge1xuICAgICAgICAgICAgaWYgKCFzaWduYWJsZUhlYWRlcnMgfHwgKHNpZ25hYmxlSGVhZGVycyAmJiAhc2lnbmFibGVIZWFkZXJzLmhhcyhjYW5vbmljYWxIZWFkZXJOYW1lKSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYW5vbmljYWxbY2Fub25pY2FsSGVhZGVyTmFtZV0gPSBoZWFkZXJzW2hlYWRlck5hbWVdLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbm9uaWNhbDtcbn07XG4iLCJleHBvcnQgY29uc3QgZXNjYXBlVXJpID0gKHVyaSkgPT4gZW5jb2RlVVJJQ29tcG9uZW50KHVyaSkucmVwbGFjZSgvWyEnKCkqXS9nLCBoZXhFbmNvZGUpO1xuY29uc3QgaGV4RW5jb2RlID0gKGMpID0+IGAlJHtjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YDtcbiIsImltcG9ydCB7IGlzQXJyYXlCdWZmZXIgfSBmcm9tIFwiQGF3cy1zZGsvaXMtYXJyYXktYnVmZmVyXCI7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuaW1wb3J0IHsgdG9VaW50OEFycmF5IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXRmOFwiO1xuaW1wb3J0IHsgU0hBMjU2X0hFQURFUiwgVU5TSUdORURfUEFZTE9BRCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuZXhwb3J0IGNvbnN0IGdldFBheWxvYWRIYXNoID0gYXN5bmMgKHsgaGVhZGVycywgYm9keSB9LCBoYXNoQ29uc3RydWN0b3IpID0+IHtcbiAgICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgaWYgKGhlYWRlck5hbWUudG9Mb3dlckNhc2UoKSA9PT0gU0hBMjU2X0hFQURFUikge1xuICAgICAgICAgICAgcmV0dXJuIGhlYWRlcnNbaGVhZGVyTmFtZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJvZHkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBcImUzYjBjNDQyOThmYzFjMTQ5YWZiZjRjODk5NmZiOTI0MjdhZTQxZTQ2NDliOTM0Y2E0OTU5OTFiNzg1MmI4NTVcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KGJvZHkpIHx8IGlzQXJyYXlCdWZmZXIoYm9keSkpIHtcbiAgICAgICAgY29uc3QgaGFzaEN0b3IgPSBuZXcgaGFzaENvbnN0cnVjdG9yKCk7XG4gICAgICAgIGhhc2hDdG9yLnVwZGF0ZSh0b1VpbnQ4QXJyYXkoYm9keSkpO1xuICAgICAgICByZXR1cm4gdG9IZXgoYXdhaXQgaGFzaEN0b3IuZGlnZXN0KCkpO1xuICAgIH1cbiAgICByZXR1cm4gVU5TSUdORURfUEFZTE9BRDtcbn07XG4iLCJleHBvcnQgY29uc3QgY2xvbmVSZXF1ZXN0ID0gKHsgaGVhZGVycywgcXVlcnksIC4uLnJlc3QgfSkgPT4gKHtcbiAgICAuLi5yZXN0LFxuICAgIGhlYWRlcnM6IHsgLi4uaGVhZGVycyB9LFxuICAgIHF1ZXJ5OiBxdWVyeSA/IGNsb25lUXVlcnkocXVlcnkpIDogdW5kZWZpbmVkLFxufSk7XG5leHBvcnQgY29uc3QgY2xvbmVRdWVyeSA9IChxdWVyeSkgPT4gT2JqZWN0LmtleXMocXVlcnkpLnJlZHVjZSgoY2FycnksIHBhcmFtTmFtZSkgPT4ge1xuICAgIGNvbnN0IHBhcmFtID0gcXVlcnlbcGFyYW1OYW1lXTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5jYXJyeSxcbiAgICAgICAgW3BhcmFtTmFtZV06IEFycmF5LmlzQXJyYXkocGFyYW0pID8gWy4uLnBhcmFtXSA6IHBhcmFtLFxuICAgIH07XG59LCB7fSk7XG4iLCJpbXBvcnQgeyBjbG9uZVJlcXVlc3QgfSBmcm9tIFwiLi9jbG9uZVJlcXVlc3RcIjtcbmltcG9ydCB7IEdFTkVSQVRFRF9IRUFERVJTIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgcHJlcGFyZVJlcXVlc3QgPSAocmVxdWVzdCkgPT4ge1xuICAgIHJlcXVlc3QgPSB0eXBlb2YgcmVxdWVzdC5jbG9uZSA9PT0gXCJmdW5jdGlvblwiID8gcmVxdWVzdC5jbG9uZSgpIDogY2xvbmVSZXF1ZXN0KHJlcXVlc3QpO1xuICAgIGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiBPYmplY3Qua2V5cyhyZXF1ZXN0LmhlYWRlcnMpKSB7XG4gICAgICAgIGlmIChHRU5FUkFURURfSEVBREVSUy5pbmRleE9mKGhlYWRlck5hbWUudG9Mb3dlckNhc2UoKSkgPiAtMSkge1xuICAgICAgICAgICAgZGVsZXRlIHJlcXVlc3QuaGVhZGVyc1toZWFkZXJOYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVxdWVzdDtcbn07XG4iLCJpbXBvcnQgeyBIZWFkZXJNYXJzaGFsbGVyIH0gZnJvbSBcIkBhd3Mtc2RrL2V2ZW50c3RyZWFtLWNvZGVjXCI7XG5pbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWhleC1lbmNvZGluZ1wiO1xuaW1wb3J0IHsgbm9ybWFsaXplUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1taWRkbGV3YXJlXCI7XG5pbXBvcnQgeyBmcm9tVXRmOCwgdG9VaW50OEFycmF5LCB0b1V0ZjggfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11dGY4XCI7XG5pbXBvcnQgeyBBTEdPUklUSE1fSURFTlRJRklFUiwgQUxHT1JJVEhNX1FVRVJZX1BBUkFNLCBBTVpfREFURV9IRUFERVIsIEFNWl9EQVRFX1FVRVJZX1BBUkFNLCBBVVRIX0hFQURFUiwgQ1JFREVOVElBTF9RVUVSWV9QQVJBTSwgRVZFTlRfQUxHT1JJVEhNX0lERU5USUZJRVIsIEVYUElSRVNfUVVFUllfUEFSQU0sIE1BWF9QUkVTSUdORURfVFRMLCBTSEEyNTZfSEVBREVSLCBTSUdOQVRVUkVfUVVFUllfUEFSQU0sIFNJR05FRF9IRUFERVJTX1FVRVJZX1BBUkFNLCBUT0tFTl9IRUFERVIsIFRPS0VOX1FVRVJZX1BBUkFNLCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgY3JlYXRlU2NvcGUsIGdldFNpZ25pbmdLZXkgfSBmcm9tIFwiLi9jcmVkZW50aWFsRGVyaXZhdGlvblwiO1xuaW1wb3J0IHsgZ2V0Q2Fub25pY2FsSGVhZGVycyB9IGZyb20gXCIuL2dldENhbm9uaWNhbEhlYWRlcnNcIjtcbmltcG9ydCB7IGdldENhbm9uaWNhbFF1ZXJ5IH0gZnJvbSBcIi4vZ2V0Q2Fub25pY2FsUXVlcnlcIjtcbmltcG9ydCB7IGdldFBheWxvYWRIYXNoIH0gZnJvbSBcIi4vZ2V0UGF5bG9hZEhhc2hcIjtcbmltcG9ydCB7IGhhc0hlYWRlciB9IGZyb20gXCIuL2hlYWRlclV0aWxcIjtcbmltcG9ydCB7IG1vdmVIZWFkZXJzVG9RdWVyeSB9IGZyb20gXCIuL21vdmVIZWFkZXJzVG9RdWVyeVwiO1xuaW1wb3J0IHsgcHJlcGFyZVJlcXVlc3QgfSBmcm9tIFwiLi9wcmVwYXJlUmVxdWVzdFwiO1xuaW1wb3J0IHsgaXNvODYwMSB9IGZyb20gXCIuL3V0aWxEYXRlXCI7XG5leHBvcnQgY2xhc3MgU2lnbmF0dXJlVjQge1xuICAgIGNvbnN0cnVjdG9yKHsgYXBwbHlDaGVja3N1bSwgY3JlZGVudGlhbHMsIHJlZ2lvbiwgc2VydmljZSwgc2hhMjU2LCB1cmlFc2NhcGVQYXRoID0gdHJ1ZSwgfSkge1xuICAgICAgICB0aGlzLmhlYWRlck1hcnNoYWxsZXIgPSBuZXcgSGVhZGVyTWFyc2hhbGxlcih0b1V0ZjgsIGZyb21VdGY4KTtcbiAgICAgICAgdGhpcy5zZXJ2aWNlID0gc2VydmljZTtcbiAgICAgICAgdGhpcy5zaGEyNTYgPSBzaGEyNTY7XG4gICAgICAgIHRoaXMudXJpRXNjYXBlUGF0aCA9IHVyaUVzY2FwZVBhdGg7XG4gICAgICAgIHRoaXMuYXBwbHlDaGVja3N1bSA9IHR5cGVvZiBhcHBseUNoZWNrc3VtID09PSBcImJvb2xlYW5cIiA/IGFwcGx5Q2hlY2tzdW0gOiB0cnVlO1xuICAgICAgICB0aGlzLnJlZ2lvblByb3ZpZGVyID0gbm9ybWFsaXplUHJvdmlkZXIocmVnaW9uKTtcbiAgICAgICAgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIgPSBub3JtYWxpemVQcm92aWRlcihjcmVkZW50aWFscyk7XG4gICAgfVxuICAgIGFzeW5jIHByZXNpZ24ob3JpZ2luYWxSZXF1ZXN0LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBzaWduaW5nRGF0ZSA9IG5ldyBEYXRlKCksIGV4cGlyZXNJbiA9IDM2MDAsIHVuc2lnbmFibGVIZWFkZXJzLCB1bmhvaXN0YWJsZUhlYWRlcnMsIHNpZ25hYmxlSGVhZGVycywgc2lnbmluZ1JlZ2lvbiwgc2lnbmluZ1NlcnZpY2UsIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBjcmVkZW50aWFscyA9IGF3YWl0IHRoaXMuY3JlZGVudGlhbFByb3ZpZGVyKCk7XG4gICAgICAgIHRoaXMudmFsaWRhdGVSZXNvbHZlZENyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKTtcbiAgICAgICAgY29uc3QgcmVnaW9uID0gc2lnbmluZ1JlZ2lvbiA/PyAoYXdhaXQgdGhpcy5yZWdpb25Qcm92aWRlcigpKTtcbiAgICAgICAgY29uc3QgeyBsb25nRGF0ZSwgc2hvcnREYXRlIH0gPSBmb3JtYXREYXRlKHNpZ25pbmdEYXRlKTtcbiAgICAgICAgaWYgKGV4cGlyZXNJbiA+IE1BWF9QUkVTSUdORURfVFRMKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJTaWduYXR1cmUgdmVyc2lvbiA0IHByZXNpZ25lZCBVUkxzXCIgKyBcIiBtdXN0IGhhdmUgYW4gZXhwaXJhdGlvbiBkYXRlIGxlc3MgdGhhbiBvbmUgd2VlayBpblwiICsgXCIgdGhlIGZ1dHVyZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY29wZSA9IGNyZWF0ZVNjb3BlKHNob3J0RGF0ZSwgcmVnaW9uLCBzaWduaW5nU2VydmljZSA/PyB0aGlzLnNlcnZpY2UpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbW92ZUhlYWRlcnNUb1F1ZXJ5KHByZXBhcmVSZXF1ZXN0KG9yaWdpbmFsUmVxdWVzdCksIHsgdW5ob2lzdGFibGVIZWFkZXJzIH0pO1xuICAgICAgICBpZiAoY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuKSB7XG4gICAgICAgICAgICByZXF1ZXN0LnF1ZXJ5W1RPS0VOX1FVRVJZX1BBUkFNXSA9IGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbjtcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0LnF1ZXJ5W0FMR09SSVRITV9RVUVSWV9QQVJBTV0gPSBBTEdPUklUSE1fSURFTlRJRklFUjtcbiAgICAgICAgcmVxdWVzdC5xdWVyeVtDUkVERU5USUFMX1FVRVJZX1BBUkFNXSA9IGAke2NyZWRlbnRpYWxzLmFjY2Vzc0tleUlkfS8ke3Njb3BlfWA7XG4gICAgICAgIHJlcXVlc3QucXVlcnlbQU1aX0RBVEVfUVVFUllfUEFSQU1dID0gbG9uZ0RhdGU7XG4gICAgICAgIHJlcXVlc3QucXVlcnlbRVhQSVJFU19RVUVSWV9QQVJBTV0gPSBleHBpcmVzSW4udG9TdHJpbmcoMTApO1xuICAgICAgICBjb25zdCBjYW5vbmljYWxIZWFkZXJzID0gZ2V0Q2Fub25pY2FsSGVhZGVycyhyZXF1ZXN0LCB1bnNpZ25hYmxlSGVhZGVycywgc2lnbmFibGVIZWFkZXJzKTtcbiAgICAgICAgcmVxdWVzdC5xdWVyeVtTSUdORURfSEVBREVSU19RVUVSWV9QQVJBTV0gPSBnZXRDYW5vbmljYWxIZWFkZXJMaXN0KGNhbm9uaWNhbEhlYWRlcnMpO1xuICAgICAgICByZXF1ZXN0LnF1ZXJ5W1NJR05BVFVSRV9RVUVSWV9QQVJBTV0gPSBhd2FpdCB0aGlzLmdldFNpZ25hdHVyZShsb25nRGF0ZSwgc2NvcGUsIHRoaXMuZ2V0U2lnbmluZ0tleShjcmVkZW50aWFscywgcmVnaW9uLCBzaG9ydERhdGUsIHNpZ25pbmdTZXJ2aWNlKSwgdGhpcy5jcmVhdGVDYW5vbmljYWxSZXF1ZXN0KHJlcXVlc3QsIGNhbm9uaWNhbEhlYWRlcnMsIGF3YWl0IGdldFBheWxvYWRIYXNoKG9yaWdpbmFsUmVxdWVzdCwgdGhpcy5zaGEyNTYpKSk7XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH1cbiAgICBhc3luYyBzaWduKHRvU2lnbiwgb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIHRvU2lnbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2lnblN0cmluZyh0b1NpZ24sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRvU2lnbi5oZWFkZXJzICYmIHRvU2lnbi5wYXlsb2FkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaWduRXZlbnQodG9TaWduLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b1NpZ24ubWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2lnbk1lc3NhZ2UodG9TaWduLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNpZ25SZXF1ZXN0KHRvU2lnbiwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc2lnbkV2ZW50KHsgaGVhZGVycywgcGF5bG9hZCB9LCB7IHNpZ25pbmdEYXRlID0gbmV3IERhdGUoKSwgcHJpb3JTaWduYXR1cmUsIHNpZ25pbmdSZWdpb24sIHNpZ25pbmdTZXJ2aWNlIH0pIHtcbiAgICAgICAgY29uc3QgcmVnaW9uID0gc2lnbmluZ1JlZ2lvbiA/PyAoYXdhaXQgdGhpcy5yZWdpb25Qcm92aWRlcigpKTtcbiAgICAgICAgY29uc3QgeyBzaG9ydERhdGUsIGxvbmdEYXRlIH0gPSBmb3JtYXREYXRlKHNpZ25pbmdEYXRlKTtcbiAgICAgICAgY29uc3Qgc2NvcGUgPSBjcmVhdGVTY29wZShzaG9ydERhdGUsIHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgPz8gdGhpcy5zZXJ2aWNlKTtcbiAgICAgICAgY29uc3QgaGFzaGVkUGF5bG9hZCA9IGF3YWl0IGdldFBheWxvYWRIYXNoKHsgaGVhZGVyczoge30sIGJvZHk6IHBheWxvYWQgfSwgdGhpcy5zaGEyNTYpO1xuICAgICAgICBjb25zdCBoYXNoID0gbmV3IHRoaXMuc2hhMjU2KCk7XG4gICAgICAgIGhhc2gudXBkYXRlKGhlYWRlcnMpO1xuICAgICAgICBjb25zdCBoYXNoZWRIZWFkZXJzID0gdG9IZXgoYXdhaXQgaGFzaC5kaWdlc3QoKSk7XG4gICAgICAgIGNvbnN0IHN0cmluZ1RvU2lnbiA9IFtcbiAgICAgICAgICAgIEVWRU5UX0FMR09SSVRITV9JREVOVElGSUVSLFxuICAgICAgICAgICAgbG9uZ0RhdGUsXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgIHByaW9yU2lnbmF0dXJlLFxuICAgICAgICAgICAgaGFzaGVkSGVhZGVycyxcbiAgICAgICAgICAgIGhhc2hlZFBheWxvYWQsXG4gICAgICAgIF0uam9pbihcIlxcblwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lnblN0cmluZyhzdHJpbmdUb1NpZ24sIHsgc2lnbmluZ0RhdGUsIHNpZ25pbmdSZWdpb246IHJlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgfSk7XG4gICAgfVxuICAgIGFzeW5jIHNpZ25NZXNzYWdlKHNpZ25hYmxlTWVzc2FnZSwgeyBzaWduaW5nRGF0ZSA9IG5ldyBEYXRlKCksIHNpZ25pbmdSZWdpb24sIHNpZ25pbmdTZXJ2aWNlIH0pIHtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuc2lnbkV2ZW50KHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyTWFyc2hhbGxlci5mb3JtYXQoc2lnbmFibGVNZXNzYWdlLm1lc3NhZ2UuaGVhZGVycyksXG4gICAgICAgICAgICBwYXlsb2FkOiBzaWduYWJsZU1lc3NhZ2UubWVzc2FnZS5ib2R5LFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBzaWduaW5nRGF0ZSxcbiAgICAgICAgICAgIHNpZ25pbmdSZWdpb24sXG4gICAgICAgICAgICBzaWduaW5nU2VydmljZSxcbiAgICAgICAgICAgIHByaW9yU2lnbmF0dXJlOiBzaWduYWJsZU1lc3NhZ2UucHJpb3JTaWduYXR1cmUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKChzaWduYXR1cmUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IHNpZ25hYmxlTWVzc2FnZS5tZXNzYWdlLCBzaWduYXR1cmUgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHNpZ25TdHJpbmcoc3RyaW5nVG9TaWduLCB7IHNpZ25pbmdEYXRlID0gbmV3IERhdGUoKSwgc2lnbmluZ1JlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gYXdhaXQgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIoKTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZVJlc29sdmVkQ3JlZGVudGlhbHMoY3JlZGVudGlhbHMpO1xuICAgICAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuICAgICAgICBjb25zdCB7IHNob3J0RGF0ZSB9ID0gZm9ybWF0RGF0ZShzaWduaW5nRGF0ZSk7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBuZXcgdGhpcy5zaGEyNTYoYXdhaXQgdGhpcy5nZXRTaWduaW5nS2V5KGNyZWRlbnRpYWxzLCByZWdpb24sIHNob3J0RGF0ZSwgc2lnbmluZ1NlcnZpY2UpKTtcbiAgICAgICAgaGFzaC51cGRhdGUodG9VaW50OEFycmF5KHN0cmluZ1RvU2lnbikpO1xuICAgICAgICByZXR1cm4gdG9IZXgoYXdhaXQgaGFzaC5kaWdlc3QoKSk7XG4gICAgfVxuICAgIGFzeW5jIHNpZ25SZXF1ZXN0KHJlcXVlc3RUb1NpZ24sIHsgc2lnbmluZ0RhdGUgPSBuZXcgRGF0ZSgpLCBzaWduYWJsZUhlYWRlcnMsIHVuc2lnbmFibGVIZWFkZXJzLCBzaWduaW5nUmVnaW9uLCBzaWduaW5nU2VydmljZSwgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gYXdhaXQgdGhpcy5jcmVkZW50aWFsUHJvdmlkZXIoKTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZVJlc29sdmVkQ3JlZGVudGlhbHMoY3JlZGVudGlhbHMpO1xuICAgICAgICBjb25zdCByZWdpb24gPSBzaWduaW5nUmVnaW9uID8/IChhd2FpdCB0aGlzLnJlZ2lvblByb3ZpZGVyKCkpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gcHJlcGFyZVJlcXVlc3QocmVxdWVzdFRvU2lnbik7XG4gICAgICAgIGNvbnN0IHsgbG9uZ0RhdGUsIHNob3J0RGF0ZSB9ID0gZm9ybWF0RGF0ZShzaWduaW5nRGF0ZSk7XG4gICAgICAgIGNvbnN0IHNjb3BlID0gY3JlYXRlU2NvcGUoc2hvcnREYXRlLCByZWdpb24sIHNpZ25pbmdTZXJ2aWNlID8/IHRoaXMuc2VydmljZSk7XG4gICAgICAgIHJlcXVlc3QuaGVhZGVyc1tBTVpfREFURV9IRUFERVJdID0gbG9uZ0RhdGU7XG4gICAgICAgIGlmIChjcmVkZW50aWFscy5zZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVyc1tUT0tFTl9IRUFERVJdID0gY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWRIYXNoID0gYXdhaXQgZ2V0UGF5bG9hZEhhc2gocmVxdWVzdCwgdGhpcy5zaGEyNTYpO1xuICAgICAgICBpZiAoIWhhc0hlYWRlcihTSEEyNTZfSEVBREVSLCByZXF1ZXN0LmhlYWRlcnMpICYmIHRoaXMuYXBwbHlDaGVja3N1bSkge1xuICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzW1NIQTI1Nl9IRUFERVJdID0gcGF5bG9hZEhhc2g7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2Fub25pY2FsSGVhZGVycyA9IGdldENhbm9uaWNhbEhlYWRlcnMocmVxdWVzdCwgdW5zaWduYWJsZUhlYWRlcnMsIHNpZ25hYmxlSGVhZGVycyk7XG4gICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IHRoaXMuZ2V0U2lnbmF0dXJlKGxvbmdEYXRlLCBzY29wZSwgdGhpcy5nZXRTaWduaW5nS2V5KGNyZWRlbnRpYWxzLCByZWdpb24sIHNob3J0RGF0ZSwgc2lnbmluZ1NlcnZpY2UpLCB0aGlzLmNyZWF0ZUNhbm9uaWNhbFJlcXVlc3QocmVxdWVzdCwgY2Fub25pY2FsSGVhZGVycywgcGF5bG9hZEhhc2gpKTtcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzW0FVVEhfSEVBREVSXSA9XG4gICAgICAgICAgICBgJHtBTEdPUklUSE1fSURFTlRJRklFUn0gYCArXG4gICAgICAgICAgICAgICAgYENyZWRlbnRpYWw9JHtjcmVkZW50aWFscy5hY2Nlc3NLZXlJZH0vJHtzY29wZX0sIGAgK1xuICAgICAgICAgICAgICAgIGBTaWduZWRIZWFkZXJzPSR7Z2V0Q2Fub25pY2FsSGVhZGVyTGlzdChjYW5vbmljYWxIZWFkZXJzKX0sIGAgK1xuICAgICAgICAgICAgICAgIGBTaWduYXR1cmU9JHtzaWduYXR1cmV9YDtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfVxuICAgIGNyZWF0ZUNhbm9uaWNhbFJlcXVlc3QocmVxdWVzdCwgY2Fub25pY2FsSGVhZGVycywgcGF5bG9hZEhhc2gpIHtcbiAgICAgICAgY29uc3Qgc29ydGVkSGVhZGVycyA9IE9iamVjdC5rZXlzKGNhbm9uaWNhbEhlYWRlcnMpLnNvcnQoKTtcbiAgICAgICAgcmV0dXJuIGAke3JlcXVlc3QubWV0aG9kfVxuJHt0aGlzLmdldENhbm9uaWNhbFBhdGgocmVxdWVzdCl9XG4ke2dldENhbm9uaWNhbFF1ZXJ5KHJlcXVlc3QpfVxuJHtzb3J0ZWRIZWFkZXJzLm1hcCgobmFtZSkgPT4gYCR7bmFtZX06JHtjYW5vbmljYWxIZWFkZXJzW25hbWVdfWApLmpvaW4oXCJcXG5cIil9XG5cbiR7c29ydGVkSGVhZGVycy5qb2luKFwiO1wiKX1cbiR7cGF5bG9hZEhhc2h9YDtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlU3RyaW5nVG9TaWduKGxvbmdEYXRlLCBjcmVkZW50aWFsU2NvcGUsIGNhbm9uaWNhbFJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IG5ldyB0aGlzLnNoYTI1NigpO1xuICAgICAgICBoYXNoLnVwZGF0ZSh0b1VpbnQ4QXJyYXkoY2Fub25pY2FsUmVxdWVzdCkpO1xuICAgICAgICBjb25zdCBoYXNoZWRSZXF1ZXN0ID0gYXdhaXQgaGFzaC5kaWdlc3QoKTtcbiAgICAgICAgcmV0dXJuIGAke0FMR09SSVRITV9JREVOVElGSUVSfVxuJHtsb25nRGF0ZX1cbiR7Y3JlZGVudGlhbFNjb3BlfVxuJHt0b0hleChoYXNoZWRSZXF1ZXN0KX1gO1xuICAgIH1cbiAgICBnZXRDYW5vbmljYWxQYXRoKHsgcGF0aCB9KSB7XG4gICAgICAgIGlmICh0aGlzLnVyaUVzY2FwZVBhdGgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRQYXRoU2VnbWVudHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGF0aFNlZ21lbnQgb2YgcGF0aC5zcGxpdChcIi9cIikpIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0aFNlZ21lbnQ/Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKHBhdGhTZWdtZW50ID09PSBcIi5cIilcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKHBhdGhTZWdtZW50ID09PSBcIi4uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZFBhdGhTZWdtZW50cy5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQYXRoU2VnbWVudHMucHVzaChwYXRoU2VnbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBhdGggPSBgJHtwYXRoPy5zdGFydHNXaXRoKFwiL1wiKSA/IFwiL1wiIDogXCJcIn0ke25vcm1hbGl6ZWRQYXRoU2VnbWVudHMuam9pbihcIi9cIil9JHtub3JtYWxpemVkUGF0aFNlZ21lbnRzLmxlbmd0aCA+IDAgJiYgcGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gXCIvXCIgOiBcIlwifWA7XG4gICAgICAgICAgICBjb25zdCBkb3VibGVFbmNvZGVkID0gZW5jb2RlVVJJQ29tcG9uZW50KG5vcm1hbGl6ZWRQYXRoKTtcbiAgICAgICAgICAgIHJldHVybiBkb3VibGVFbmNvZGVkLnJlcGxhY2UoLyUyRi9nLCBcIi9cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuICAgIGFzeW5jIGdldFNpZ25hdHVyZShsb25nRGF0ZSwgY3JlZGVudGlhbFNjb3BlLCBrZXlQcm9taXNlLCBjYW5vbmljYWxSZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHN0cmluZ1RvU2lnbiA9IGF3YWl0IHRoaXMuY3JlYXRlU3RyaW5nVG9TaWduKGxvbmdEYXRlLCBjcmVkZW50aWFsU2NvcGUsIGNhbm9uaWNhbFJlcXVlc3QpO1xuICAgICAgICBjb25zdCBoYXNoID0gbmV3IHRoaXMuc2hhMjU2KGF3YWl0IGtleVByb21pc2UpO1xuICAgICAgICBoYXNoLnVwZGF0ZSh0b1VpbnQ4QXJyYXkoc3RyaW5nVG9TaWduKSk7XG4gICAgICAgIHJldHVybiB0b0hleChhd2FpdCBoYXNoLmRpZ2VzdCgpKTtcbiAgICB9XG4gICAgZ2V0U2lnbmluZ0tleShjcmVkZW50aWFscywgcmVnaW9uLCBzaG9ydERhdGUsIHNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIGdldFNpZ25pbmdLZXkodGhpcy5zaGEyNTYsIGNyZWRlbnRpYWxzLCBzaG9ydERhdGUsIHJlZ2lvbiwgc2VydmljZSB8fCB0aGlzLnNlcnZpY2UpO1xuICAgIH1cbiAgICB2YWxpZGF0ZVJlc29sdmVkQ3JlZGVudGlhbHMoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjcmVkZW50aWFscyAhPT0gXCJvYmplY3RcIiB8fFxuICAgICAgICAgICAgdHlwZW9mIGNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkICE9PSBcInN0cmluZ1wiIHx8XG4gICAgICAgICAgICB0eXBlb2YgY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXNvbHZlZCBjcmVkZW50aWFsIG9iamVjdCBpcyBub3QgdmFsaWRcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBmb3JtYXREYXRlID0gKG5vdykgPT4ge1xuICAgIGNvbnN0IGxvbmdEYXRlID0gaXNvODYwMShub3cpLnJlcGxhY2UoL1tcXC06XS9nLCBcIlwiKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb25nRGF0ZSxcbiAgICAgICAgc2hvcnREYXRlOiBsb25nRGF0ZS5zbGljZSgwLCA4KSxcbiAgICB9O1xufTtcbmNvbnN0IGdldENhbm9uaWNhbEhlYWRlckxpc3QgPSAoaGVhZGVycykgPT4gT2JqZWN0LmtleXMoaGVhZGVycykuc29ydCgpLmpvaW4oXCI7XCIpO1xuIiwiaW1wb3J0IHsgY2xvbmVSZXF1ZXN0IH0gZnJvbSBcIi4vY2xvbmVSZXF1ZXN0XCI7XG5leHBvcnQgY29uc3QgbW92ZUhlYWRlcnNUb1F1ZXJ5ID0gKHJlcXVlc3QsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHsgaGVhZGVycywgcXVlcnkgPSB7fSB9ID0gdHlwZW9mIHJlcXVlc3QuY2xvbmUgPT09IFwiZnVuY3Rpb25cIiA/IHJlcXVlc3QuY2xvbmUoKSA6IGNsb25lUmVxdWVzdChyZXF1ZXN0KTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgY29uc3QgbG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChsbmFtZS5zbGljZSgwLCA2KSA9PT0gXCJ4LWFtei1cIiAmJiAhb3B0aW9ucy51bmhvaXN0YWJsZUhlYWRlcnM/LmhhcyhsbmFtZSkpIHtcbiAgICAgICAgICAgIHF1ZXJ5W25hbWVdID0gaGVhZGVyc1tuYW1lXTtcbiAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHF1ZXJ5LFxuICAgIH07XG59O1xuIiwiZXhwb3J0IGNvbnN0IGhhc0hlYWRlciA9IChzb3VnaHRIZWFkZXIsIGhlYWRlcnMpID0+IHtcbiAgICBzb3VnaHRIZWFkZXIgPSBzb3VnaHRIZWFkZXIudG9Mb3dlckNhc2UoKTtcbiAgICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgaWYgKHNvdWdodEhlYWRlciA9PT0gaGVhZGVyTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuZXhwb3J0IGNvbnN0IGdldEhlYWRlclZhbHVlID0gKHNvdWdodEhlYWRlciwgaGVhZGVycykgPT4ge1xuICAgIHNvdWdodEhlYWRlciA9IHNvdWdodEhlYWRlci50b0xvd2VyQ2FzZSgpO1xuICAgIGZvciAoY29uc3QgaGVhZGVyTmFtZSBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICBpZiAoc291Z2h0SGVhZGVyID09PSBoZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBoZWFkZXJzW2hlYWRlck5hbWVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuZXhwb3J0IGNvbnN0IGRlbGV0ZUhlYWRlciA9IChzb3VnaHRIZWFkZXIsIGhlYWRlcnMpID0+IHtcbiAgICBzb3VnaHRIZWFkZXIgPSBzb3VnaHRIZWFkZXIudG9Mb3dlckNhc2UoKTtcbiAgICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgaWYgKHNvdWdodEhlYWRlciA9PT0gaGVhZGVyTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICBkZWxldGUgaGVhZGVyc1toZWFkZXJOYW1lXTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBlc2NhcGVVcmkgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11cmktZXNjYXBlXCI7XG5pbXBvcnQgeyBTSUdOQVRVUkVfSEVBREVSIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgZ2V0Q2Fub25pY2FsUXVlcnkgPSAoeyBxdWVyeSA9IHt9IH0pID0+IHtcbiAgICBjb25zdCBrZXlzID0gW107XG4gICAgY29uc3Qgc2VyaWFsaXplZCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHF1ZXJ5KS5zb3J0KCkpIHtcbiAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSBTSUdOQVRVUkVfSEVBREVSKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBxdWVyeVtrZXldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBzZXJpYWxpemVkW2tleV0gPSBgJHtlc2NhcGVVcmkoa2V5KX09JHtlc2NhcGVVcmkodmFsdWUpfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHZhbHVlXG4gICAgICAgICAgICAgICAgLnNsaWNlKDApXG4gICAgICAgICAgICAgICAgLnNvcnQoKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGVuY29kZWQsIHZhbHVlKSA9PiBlbmNvZGVkLmNvbmNhdChbYCR7ZXNjYXBlVXJpKGtleSl9PSR7ZXNjYXBlVXJpKHZhbHVlKX1gXSksIFtdKVxuICAgICAgICAgICAgICAgIC5qb2luKFwiJlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5c1xuICAgICAgICAubWFwKChrZXkpID0+IHNlcmlhbGl6ZWRba2V5XSlcbiAgICAgICAgLmZpbHRlcigoc2VyaWFsaXplZCkgPT4gc2VyaWFsaXplZClcbiAgICAgICAgLmpvaW4oXCImXCIpO1xufTtcbiIsImV4cG9ydCBjb25zdCBpc284NjAxID0gKHRpbWUpID0+IHRvRGF0ZSh0aW1lKVxuICAgIC50b0lTT1N0cmluZygpXG4gICAgLnJlcGxhY2UoL1xcLlxcZHszfVokLywgXCJaXCIpO1xuZXhwb3J0IGNvbnN0IHRvRGF0ZSA9ICh0aW1lKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB0aW1lID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lICogMTAwMCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGltZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoTnVtYmVyKHRpbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoTnVtYmVyKHRpbWUpICogMTAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRpbWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGltZTtcbn07XG4iLCJpbXBvcnQgeyBtZW1vaXplIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBTaWduYXR1cmVWNCB9IGZyb20gXCJAYXdzLXNkay9zaWduYXR1cmUtdjRcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZVByb3ZpZGVyIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtbWlkZGxld2FyZVwiO1xuY29uc3QgQ1JFREVOVElBTF9FWFBJUkVfV0lORE9XID0gMzAwMDAwO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVBd3NBdXRoQ29uZmlnID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZENyZWRzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICAgICAgPyBub3JtYWxpemVDcmVkZW50aWFsUHJvdmlkZXIoaW5wdXQuY3JlZGVudGlhbHMpXG4gICAgICAgIDogaW5wdXQuY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcihpbnB1dCk7XG4gICAgY29uc3QgeyBzaWduaW5nRXNjYXBlUGF0aCA9IHRydWUsIHN5c3RlbUNsb2NrT2Zmc2V0ID0gaW5wdXQuc3lzdGVtQ2xvY2tPZmZzZXQgfHwgMCwgc2hhMjU2IH0gPSBpbnB1dDtcbiAgICBsZXQgc2lnbmVyO1xuICAgIGlmIChpbnB1dC5zaWduZXIpIHtcbiAgICAgICAgc2lnbmVyID0gbm9ybWFsaXplUHJvdmlkZXIoaW5wdXQuc2lnbmVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaW5wdXQucmVnaW9uSW5mb1Byb3ZpZGVyKSB7XG4gICAgICAgIHNpZ25lciA9ICgpID0+IG5vcm1hbGl6ZVByb3ZpZGVyKGlucHV0LnJlZ2lvbikoKVxuICAgICAgICAgICAgLnRoZW4oYXN5bmMgKHJlZ2lvbikgPT4gW1xuICAgICAgICAgICAgKGF3YWl0IGlucHV0LnJlZ2lvbkluZm9Qcm92aWRlcihyZWdpb24sIHtcbiAgICAgICAgICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IGF3YWl0IGlucHV0LnVzZUZpcHNFbmRwb2ludCgpLFxuICAgICAgICAgICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBhd2FpdCBpbnB1dC51c2VEdWFsc3RhY2tFbmRwb2ludCgpLFxuICAgICAgICAgICAgfSkpIHx8IHt9LFxuICAgICAgICAgICAgcmVnaW9uLFxuICAgICAgICBdKVxuICAgICAgICAgICAgLnRoZW4oKFtyZWdpb25JbmZvLCByZWdpb25dKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHNpZ25pbmdSZWdpb24sIHNpZ25pbmdTZXJ2aWNlIH0gPSByZWdpb25JbmZvO1xuICAgICAgICAgICAgaW5wdXQuc2lnbmluZ1JlZ2lvbiA9IGlucHV0LnNpZ25pbmdSZWdpb24gfHwgc2lnbmluZ1JlZ2lvbiB8fCByZWdpb247XG4gICAgICAgICAgICBpbnB1dC5zaWduaW5nTmFtZSA9IGlucHV0LnNpZ25pbmdOYW1lIHx8IHNpZ25pbmdTZXJ2aWNlIHx8IGlucHV0LnNlcnZpY2VJZDtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAuLi5pbnB1dCxcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogbm9ybWFsaXplZENyZWRzLFxuICAgICAgICAgICAgICAgIHJlZ2lvbjogaW5wdXQuc2lnbmluZ1JlZ2lvbixcbiAgICAgICAgICAgICAgICBzZXJ2aWNlOiBpbnB1dC5zaWduaW5nTmFtZSxcbiAgICAgICAgICAgICAgICBzaGEyNTYsXG4gICAgICAgICAgICAgICAgdXJpRXNjYXBlUGF0aDogc2lnbmluZ0VzY2FwZVBhdGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgU2lnbmVyQ3RvciA9IGlucHV0LnNpZ25lckNvbnN0cnVjdG9yIHx8IFNpZ25hdHVyZVY0O1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduZXJDdG9yKHBhcmFtcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2lnbmVyID0gYXN5bmMgKGF1dGhTY2hlbWUpID0+IHtcbiAgICAgICAgICAgIGF1dGhTY2hlbWUgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzaWd2NFwiLFxuICAgICAgICAgICAgICAgIHNpZ25pbmdOYW1lOiBpbnB1dC5zaWduaW5nTmFtZSB8fCBpbnB1dC5kZWZhdWx0U2lnbmluZ05hbWUsXG4gICAgICAgICAgICAgICAgc2lnbmluZ1JlZ2lvbjogYXdhaXQgbm9ybWFsaXplUHJvdmlkZXIoaW5wdXQucmVnaW9uKSgpLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICAgICAgfSwgYXV0aFNjaGVtZSk7XG4gICAgICAgICAgICBjb25zdCBzaWduaW5nUmVnaW9uID0gYXV0aFNjaGVtZS5zaWduaW5nUmVnaW9uO1xuICAgICAgICAgICAgY29uc3Qgc2lnbmluZ1NlcnZpY2UgPSBhdXRoU2NoZW1lLnNpZ25pbmdOYW1lO1xuICAgICAgICAgICAgaW5wdXQuc2lnbmluZ1JlZ2lvbiA9IGlucHV0LnNpZ25pbmdSZWdpb24gfHwgc2lnbmluZ1JlZ2lvbjtcbiAgICAgICAgICAgIGlucHV0LnNpZ25pbmdOYW1lID0gaW5wdXQuc2lnbmluZ05hbWUgfHwgc2lnbmluZ1NlcnZpY2UgfHwgaW5wdXQuc2VydmljZUlkO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIC4uLmlucHV0LFxuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBub3JtYWxpemVkQ3JlZHMsXG4gICAgICAgICAgICAgICAgcmVnaW9uOiBpbnB1dC5zaWduaW5nUmVnaW9uLFxuICAgICAgICAgICAgICAgIHNlcnZpY2U6IGlucHV0LnNpZ25pbmdOYW1lLFxuICAgICAgICAgICAgICAgIHNoYTI1NixcbiAgICAgICAgICAgICAgICB1cmlFc2NhcGVQYXRoOiBzaWduaW5nRXNjYXBlUGF0aCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBTaWduZXJDdG9yID0gaW5wdXQuc2lnbmVyQ29uc3RydWN0b3IgfHwgU2lnbmF0dXJlVjQ7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNpZ25lckN0b3IocGFyYW1zKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgIHN5c3RlbUNsb2NrT2Zmc2V0LFxuICAgICAgICBzaWduaW5nRXNjYXBlUGF0aCxcbiAgICAgICAgY3JlZGVudGlhbHM6IG5vcm1hbGl6ZWRDcmVkcyxcbiAgICAgICAgc2lnbmVyLFxuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IHJlc29sdmVTaWdWNEF1dGhDb25maWcgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkQ3JlZHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuICAgICAgICA/IG5vcm1hbGl6ZUNyZWRlbnRpYWxQcm92aWRlcihpbnB1dC5jcmVkZW50aWFscylcbiAgICAgICAgOiBpbnB1dC5jcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyKGlucHV0KTtcbiAgICBjb25zdCB7IHNpZ25pbmdFc2NhcGVQYXRoID0gdHJ1ZSwgc3lzdGVtQ2xvY2tPZmZzZXQgPSBpbnB1dC5zeXN0ZW1DbG9ja09mZnNldCB8fCAwLCBzaGEyNTYgfSA9IGlucHV0O1xuICAgIGxldCBzaWduZXI7XG4gICAgaWYgKGlucHV0LnNpZ25lcikge1xuICAgICAgICBzaWduZXIgPSBub3JtYWxpemVQcm92aWRlcihpbnB1dC5zaWduZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2lnbmVyID0gbm9ybWFsaXplUHJvdmlkZXIobmV3IFNpZ25hdHVyZVY0KHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBub3JtYWxpemVkQ3JlZHMsXG4gICAgICAgICAgICByZWdpb246IGlucHV0LnJlZ2lvbixcbiAgICAgICAgICAgIHNlcnZpY2U6IGlucHV0LnNpZ25pbmdOYW1lLFxuICAgICAgICAgICAgc2hhMjU2LFxuICAgICAgICAgICAgdXJpRXNjYXBlUGF0aDogc2lnbmluZ0VzY2FwZVBhdGgsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgIHN5c3RlbUNsb2NrT2Zmc2V0LFxuICAgICAgICBzaWduaW5nRXNjYXBlUGF0aCxcbiAgICAgICAgY3JlZGVudGlhbHM6IG5vcm1hbGl6ZWRDcmVkcyxcbiAgICAgICAgc2lnbmVyLFxuICAgIH07XG59O1xuY29uc3Qgbm9ybWFsaXplQ3JlZGVudGlhbFByb3ZpZGVyID0gKGNyZWRlbnRpYWxzKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjcmVkZW50aWFscyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBtZW1vaXplKGNyZWRlbnRpYWxzLCAoY3JlZGVudGlhbHMpID0+IGNyZWRlbnRpYWxzLmV4cGlyYXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgY3JlZGVudGlhbHMuZXhwaXJhdGlvbi5nZXRUaW1lKCkgLSBEYXRlLm5vdygpIDwgQ1JFREVOVElBTF9FWFBJUkVfV0lORE9XLCAoY3JlZGVudGlhbHMpID0+IGNyZWRlbnRpYWxzLmV4cGlyYXRpb24gIT09IHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVQcm92aWRlcihjcmVkZW50aWFscyk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGdldFNrZXdDb3JyZWN0ZWREYXRlID0gKHN5c3RlbUNsb2NrT2Zmc2V0KSA9PiBuZXcgRGF0ZShEYXRlLm5vdygpICsgc3lzdGVtQ2xvY2tPZmZzZXQpO1xuIiwiaW1wb3J0IHsgaXNDbG9ja1NrZXdlZCB9IGZyb20gXCIuL2lzQ2xvY2tTa2V3ZWRcIjtcbmV4cG9ydCBjb25zdCBnZXRVcGRhdGVkU3lzdGVtQ2xvY2tPZmZzZXQgPSAoY2xvY2tUaW1lLCBjdXJyZW50U3lzdGVtQ2xvY2tPZmZzZXQpID0+IHtcbiAgICBjb25zdCBjbG9ja1RpbWVJbk1zID0gRGF0ZS5wYXJzZShjbG9ja1RpbWUpO1xuICAgIGlmIChpc0Nsb2NrU2tld2VkKGNsb2NrVGltZUluTXMsIGN1cnJlbnRTeXN0ZW1DbG9ja09mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGNsb2NrVGltZUluTXMgLSBEYXRlLm5vdygpO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFN5c3RlbUNsb2NrT2Zmc2V0O1xufTtcbiIsImltcG9ydCB7IGdldFNrZXdDb3JyZWN0ZWREYXRlIH0gZnJvbSBcIi4vZ2V0U2tld0NvcnJlY3RlZERhdGVcIjtcbmV4cG9ydCBjb25zdCBpc0Nsb2NrU2tld2VkID0gKGNsb2NrVGltZSwgc3lzdGVtQ2xvY2tPZmZzZXQpID0+IE1hdGguYWJzKGdldFNrZXdDb3JyZWN0ZWREYXRlKHN5c3RlbUNsb2NrT2Zmc2V0KS5nZXRUaW1lKCkgLSBjbG9ja1RpbWUpID49IDMwMDAwMDtcbiIsImltcG9ydCB7IEh0dHBSZXF1ZXN0LCBIdHRwUmVzcG9uc2UgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgZ2V0U2tld0NvcnJlY3RlZERhdGUgfSBmcm9tIFwiLi91dGlscy9nZXRTa2V3Q29ycmVjdGVkRGF0ZVwiO1xuaW1wb3J0IHsgZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0IH0gZnJvbSBcIi4vdXRpbHMvZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0XCI7XG5leHBvcnQgY29uc3QgYXdzQXV0aE1pZGRsZXdhcmUgPSAob3B0aW9ucykgPT4gKG5leHQsIGNvbnRleHQpID0+IGFzeW5jIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKGFyZ3MucmVxdWVzdCkpXG4gICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgIGNvbnN0IGF1dGhTY2hlbWUgPSBjb250ZXh0LmVuZHBvaW50VjI/LnByb3BlcnRpZXM/LmF1dGhTY2hlbWVzPy5bMF07XG4gICAgY29uc3QgbXVsdGlSZWdpb25PdmVycmlkZSA9IGF1dGhTY2hlbWU/Lm5hbWUgPT09IFwic2lndjRhXCIgPyBhdXRoU2NoZW1lPy5zaWduaW5nUmVnaW9uU2V0Py5qb2luKFwiLFwiKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBzaWduZXIgPSBhd2FpdCBvcHRpb25zLnNpZ25lcihhdXRoU2NoZW1lKTtcbiAgICBjb25zdCBvdXRwdXQgPSBhd2FpdCBuZXh0KHtcbiAgICAgICAgLi4uYXJncyxcbiAgICAgICAgcmVxdWVzdDogYXdhaXQgc2lnbmVyLnNpZ24oYXJncy5yZXF1ZXN0LCB7XG4gICAgICAgICAgICBzaWduaW5nRGF0ZTogZ2V0U2tld0NvcnJlY3RlZERhdGUob3B0aW9ucy5zeXN0ZW1DbG9ja09mZnNldCksXG4gICAgICAgICAgICBzaWduaW5nUmVnaW9uOiBtdWx0aVJlZ2lvbk92ZXJyaWRlIHx8IGNvbnRleHRbXCJzaWduaW5nX3JlZ2lvblwiXSxcbiAgICAgICAgICAgIHNpZ25pbmdTZXJ2aWNlOiBjb250ZXh0W1wic2lnbmluZ19zZXJ2aWNlXCJdLFxuICAgICAgICB9KSxcbiAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc3Qgc2VydmVyVGltZSA9IGVycm9yLlNlcnZlclRpbWUgPz8gZ2V0RGF0ZUhlYWRlcihlcnJvci4kcmVzcG9uc2UpO1xuICAgICAgICBpZiAoc2VydmVyVGltZSkge1xuICAgICAgICAgICAgb3B0aW9ucy5zeXN0ZW1DbG9ja09mZnNldCA9IGdldFVwZGF0ZWRTeXN0ZW1DbG9ja09mZnNldChzZXJ2ZXJUaW1lLCBvcHRpb25zLnN5c3RlbUNsb2NrT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9KTtcbiAgICBjb25zdCBkYXRlSGVhZGVyID0gZ2V0RGF0ZUhlYWRlcihvdXRwdXQucmVzcG9uc2UpO1xuICAgIGlmIChkYXRlSGVhZGVyKSB7XG4gICAgICAgIG9wdGlvbnMuc3lzdGVtQ2xvY2tPZmZzZXQgPSBnZXRVcGRhdGVkU3lzdGVtQ2xvY2tPZmZzZXQoZGF0ZUhlYWRlciwgb3B0aW9ucy5zeXN0ZW1DbG9ja09mZnNldCk7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59O1xuY29uc3QgZ2V0RGF0ZUhlYWRlciA9IChyZXNwb25zZSkgPT4gSHR0cFJlc3BvbnNlLmlzSW5zdGFuY2UocmVzcG9uc2UpID8gcmVzcG9uc2UuaGVhZGVycz8uZGF0ZSA/PyByZXNwb25zZS5oZWFkZXJzPy5EYXRlIDogdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IGF3c0F1dGhNaWRkbGV3YXJlT3B0aW9ucyA9IHtcbiAgICBuYW1lOiBcImF3c0F1dGhNaWRkbGV3YXJlXCIsXG4gICAgdGFnczogW1wiU0lHTkFUVVJFXCIsIFwiQVdTQVVUSFwiXSxcbiAgICByZWxhdGlvbjogXCJhZnRlclwiLFxuICAgIHRvTWlkZGxld2FyZTogXCJyZXRyeU1pZGRsZXdhcmVcIixcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgZ2V0QXdzQXV0aFBsdWdpbiA9IChvcHRpb25zKSA9PiAoe1xuICAgIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgICAgIGNsaWVudFN0YWNrLmFkZFJlbGF0aXZlVG8oYXdzQXV0aE1pZGRsZXdhcmUob3B0aW9ucyksIGF3c0F1dGhNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuZXhwb3J0IGNvbnN0IGdldFNpZ1Y0QXV0aFBsdWdpbiA9IGdldEF3c0F1dGhQbHVnaW47XG4iLCJleHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVVzZXJBZ2VudENvbmZpZyhpbnB1dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlucHV0LFxuICAgICAgICBjdXN0b21Vc2VyQWdlbnQ6IHR5cGVvZiBpbnB1dC5jdXN0b21Vc2VyQWdlbnQgPT09IFwic3RyaW5nXCIgPyBbW2lucHV0LmN1c3RvbVVzZXJBZ2VudF1dIDogaW5wdXQuY3VzdG9tVXNlckFnZW50LFxuICAgIH07XG59XG4iLCJpbXBvcnQgcGFydGl0aW9uc0luZm8gZnJvbSBcIi4vcGFydGl0aW9ucy5qc29uXCI7XG5sZXQgc2VsZWN0ZWRQYXJ0aXRpb25zSW5mbyA9IHBhcnRpdGlvbnNJbmZvO1xubGV0IHNlbGVjdGVkVXNlckFnZW50UHJlZml4ID0gXCJcIjtcbmV4cG9ydCBjb25zdCBwYXJ0aXRpb24gPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpdGlvbnMgfSA9IHNlbGVjdGVkUGFydGl0aW9uc0luZm87XG4gICAgZm9yIChjb25zdCBwYXJ0aXRpb24gb2YgcGFydGl0aW9ucykge1xuICAgICAgICBjb25zdCB7IHJlZ2lvbnMsIG91dHB1dHMgfSA9IHBhcnRpdGlvbjtcbiAgICAgICAgZm9yIChjb25zdCBbcmVnaW9uLCByZWdpb25EYXRhXSBvZiBPYmplY3QuZW50cmllcyhyZWdpb25zKSkge1xuICAgICAgICAgICAgaWYgKHJlZ2lvbiA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5vdXRwdXRzLFxuICAgICAgICAgICAgICAgICAgICAuLi5yZWdpb25EYXRhLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBwYXJ0aXRpb24gb2YgcGFydGl0aW9ucykge1xuICAgICAgICBjb25zdCB7IHJlZ2lvblJlZ2V4LCBvdXRwdXRzIH0gPSBwYXJ0aXRpb247XG4gICAgICAgIGlmIChuZXcgUmVnRXhwKHJlZ2lvblJlZ2V4KS50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5vdXRwdXRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBERUZBVUxUX1BBUlRJVElPTiA9IHBhcnRpdGlvbnMuZmluZCgocGFydGl0aW9uKSA9PiBwYXJ0aXRpb24uaWQgPT09IFwiYXdzXCIpO1xuICAgIGlmICghREVGQVVMVF9QQVJUSVRJT04pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlkZWQgcmVnaW9uIHdhcyBub3QgZm91bmQgaW4gdGhlIHBhcnRpdGlvbiBhcnJheSBvciByZWdleCxcIiArXG4gICAgICAgICAgICBcIiBhbmQgZGVmYXVsdCBwYXJ0aXRpb24gd2l0aCBpZCAnYXdzJyBkb2Vzbid0IGV4aXN0LlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uREVGQVVMVF9QQVJUSVRJT04ub3V0cHV0cyxcbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBzZXRQYXJ0aXRpb25JbmZvID0gKHBhcnRpdGlvbnNJbmZvLCB1c2VyQWdlbnRQcmVmaXggPSBcIlwiKSA9PiB7XG4gICAgc2VsZWN0ZWRQYXJ0aXRpb25zSW5mbyA9IHBhcnRpdGlvbnNJbmZvO1xuICAgIHNlbGVjdGVkVXNlckFnZW50UHJlZml4ID0gdXNlckFnZW50UHJlZml4O1xufTtcbmV4cG9ydCBjb25zdCB1c2VEZWZhdWx0UGFydGl0aW9uSW5mbyA9ICgpID0+IHtcbiAgICBzZXRQYXJ0aXRpb25JbmZvKHBhcnRpdGlvbnNJbmZvLCBcIlwiKTtcbn07XG5leHBvcnQgY29uc3QgZ2V0VXNlckFnZW50UHJlZml4ID0gKCkgPT4gc2VsZWN0ZWRVc2VyQWdlbnRQcmVmaXg7XG4iLCJleHBvcnQgY29uc3QgZGVidWdJZCA9IFwiZW5kcG9pbnRzXCI7XG4iLCJleHBvcnQgZnVuY3Rpb24gdG9EZWJ1Z1N0cmluZyhpbnB1dCkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICAgIGlmIChcInJlZlwiIGluIGlucHV0KSB7XG4gICAgICAgIHJldHVybiBgJCR7dG9EZWJ1Z1N0cmluZyhpbnB1dC5yZWYpfWA7XG4gICAgfVxuICAgIGlmIChcImZuXCIgaW4gaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGAke2lucHV0LmZufSgkeyhpbnB1dC5hcmd2IHx8IFtdKS5tYXAodG9EZWJ1Z1N0cmluZykuam9pbihcIiwgXCIpfSlgO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaW5wdXQsIG51bGwsIDIpO1xufVxuIiwiZXhwb3J0IGNsYXNzIEVuZHBvaW50RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFbmRwb2ludEVycm9yXCI7XG4gICAgfVxufVxuIiwiY29uc3QgSVBfVjRfUkVHRVggPSBuZXcgUmVnRXhwKGBeKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSg/OlxcXFwuKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSl7M30kYCk7XG5leHBvcnQgY29uc3QgaXNJcEFkZHJlc3MgPSAodmFsdWUpID0+IElQX1Y0X1JFR0VYLnRlc3QodmFsdWUpIHx8ICh2YWx1ZS5zdGFydHNXaXRoKFwiW1wiKSAmJiB2YWx1ZS5lbmRzV2l0aChcIl1cIikpO1xuIiwiY29uc3QgVkFMSURfSE9TVF9MQUJFTF9SRUdFWCA9IG5ldyBSZWdFeHAoYF4oPyEuKi0kKSg/IS0pW2EtekEtWjAtOS1dezEsNjN9JGApO1xuZXhwb3J0IGNvbnN0IGlzVmFsaWRIb3N0TGFiZWwgPSAodmFsdWUsIGFsbG93U3ViRG9tYWlucyA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKCFhbGxvd1N1YkRvbWFpbnMpIHtcbiAgICAgICAgcmV0dXJuIFZBTElEX0hPU1RfTEFCRUxfUkVHRVgudGVzdCh2YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGxhYmVscyA9IHZhbHVlLnNwbGl0KFwiLlwiKTtcbiAgICBmb3IgKGNvbnN0IGxhYmVsIG9mIGxhYmVscykge1xuICAgICAgICBpZiAoIWlzVmFsaWRIb3N0TGFiZWwobGFiZWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuIiwiaW1wb3J0IHsgaXNJcEFkZHJlc3MgfSBmcm9tIFwiLi4vaXNJcEFkZHJlc3NcIjtcbmltcG9ydCB7IGlzVmFsaWRIb3N0TGFiZWwgfSBmcm9tIFwiLi4vaXNWYWxpZEhvc3RMYWJlbFwiO1xuZXhwb3J0IGNvbnN0IGlzVmlydHVhbEhvc3RhYmxlUzNCdWNrZXQgPSAodmFsdWUsIGFsbG93U3ViRG9tYWlucyA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKGFsbG93U3ViRG9tYWlucykge1xuICAgICAgICBmb3IgKGNvbnN0IGxhYmVsIG9mIHZhbHVlLnNwbGl0KFwiLlwiKSkge1xuICAgICAgICAgICAgaWYgKCFpc1ZpcnR1YWxIb3N0YWJsZVMzQnVja2V0KGxhYmVsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFpc1ZhbGlkSG9zdExhYmVsKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5sZW5ndGggPCAzIHx8IHZhbHVlLmxlbmd0aCA+IDYzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlICE9PSB2YWx1ZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGlzSXBBZGRyZXNzKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcbiIsImV4cG9ydCBjb25zdCBwYXJzZUFybiA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gdmFsdWUuc3BsaXQoXCI6XCIpO1xuICAgIGlmIChzZWdtZW50cy5sZW5ndGggPCA2KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBbYXJuLCBwYXJ0aXRpb24sIHNlcnZpY2UsIHJlZ2lvbiwgYWNjb3VudElkLCAuLi5yZXNvdXJjZUlkXSA9IHNlZ21lbnRzO1xuICAgIGlmIChhcm4gIT09IFwiYXJuXCIgfHwgcGFydGl0aW9uID09PSBcIlwiIHx8IHNlcnZpY2UgPT09IFwiXCIgfHwgcmVzb3VyY2VJZFswXSA9PT0gXCJcIilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGFydGl0aW9uLFxuICAgICAgICBzZXJ2aWNlLFxuICAgICAgICByZWdpb24sXG4gICAgICAgIGFjY291bnRJZCxcbiAgICAgICAgcmVzb3VyY2VJZDogcmVzb3VyY2VJZFswXS5pbmNsdWRlcyhcIi9cIikgPyByZXNvdXJjZUlkWzBdLnNwbGl0KFwiL1wiKSA6IHJlc291cmNlSWQsXG4gICAgfTtcbn07XG4iLCJleHBvcnQgY29uc3QgYm9vbGVhbkVxdWFscyA9ICh2YWx1ZTEsIHZhbHVlMikgPT4gdmFsdWUxID09PSB2YWx1ZTI7XG4iLCJpbXBvcnQgeyBFbmRwb2ludEVycm9yIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBnZXRBdHRyUGF0aExpc3QgfSBmcm9tIFwiLi9nZXRBdHRyUGF0aExpc3RcIjtcbmV4cG9ydCBjb25zdCBnZXRBdHRyID0gKHZhbHVlLCBwYXRoKSA9PiBnZXRBdHRyUGF0aExpc3QocGF0aCkucmVkdWNlKChhY2MsIGluZGV4KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBhY2MgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYEluZGV4ICcke2luZGV4fScgaW4gJyR7cGF0aH0nIG5vdCBmb3VuZCBpbiAnJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9J2ApO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFjYykpIHtcbiAgICAgICAgcmV0dXJuIGFjY1twYXJzZUludChpbmRleCldO1xuICAgIH1cbiAgICByZXR1cm4gYWNjW2luZGV4XTtcbn0sIHZhbHVlKTtcbiIsImltcG9ydCB7IEVuZHBvaW50RXJyb3IgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmV4cG9ydCBjb25zdCBnZXRBdHRyUGF0aExpc3QgPSAocGF0aCkgPT4ge1xuICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdChcIi5cIik7XG4gICAgY29uc3QgcGF0aExpc3QgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgY29uc3Qgc3F1YXJlQnJhY2tldEluZGV4ID0gcGFydC5pbmRleE9mKFwiW1wiKTtcbiAgICAgICAgaWYgKHNxdWFyZUJyYWNrZXRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmluZGV4T2YoXCJdXCIpICE9PSBwYXJ0Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihgUGF0aDogJyR7cGF0aH0nIGRvZXMgbm90IGVuZCB3aXRoICddJ2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXJyYXlJbmRleCA9IHBhcnQuc2xpY2Uoc3F1YXJlQnJhY2tldEluZGV4ICsgMSwgLTEpO1xuICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihwYXJzZUludChhcnJheUluZGV4KSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihgSW52YWxpZCBhcnJheSBpbmRleDogJyR7YXJyYXlJbmRleH0nIGluIHBhdGg6ICcke3BhdGh9J2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNxdWFyZUJyYWNrZXRJbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHBhdGhMaXN0LnB1c2gocGFydC5zbGljZSgwLCBzcXVhcmVCcmFja2V0SW5kZXgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhdGhMaXN0LnB1c2goYXJyYXlJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXRoTGlzdC5wdXNoKHBhcnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXRoTGlzdDtcbn07XG4iLCJleHBvcnQgY29uc3QgaXNTZXQgPSAodmFsdWUpID0+IHZhbHVlICE9IG51bGw7XG4iLCJleHBvcnQgY29uc3Qgbm90ID0gKHZhbHVlKSA9PiAhdmFsdWU7XG4iLCJleHBvcnQgdmFyIEh0dHBBdXRoTG9jYXRpb247XG4oZnVuY3Rpb24gKEh0dHBBdXRoTG9jYXRpb24pIHtcbiAgICBIdHRwQXV0aExvY2F0aW9uW1wiSEVBREVSXCJdID0gXCJoZWFkZXJcIjtcbiAgICBIdHRwQXV0aExvY2F0aW9uW1wiUVVFUllcIl0gPSBcInF1ZXJ5XCI7XG59KShIdHRwQXV0aExvY2F0aW9uIHx8IChIdHRwQXV0aExvY2F0aW9uID0ge30pKTtcbiIsImV4cG9ydCB2YXIgSG9zdEFkZHJlc3NUeXBlO1xuKGZ1bmN0aW9uIChIb3N0QWRkcmVzc1R5cGUpIHtcbiAgICBIb3N0QWRkcmVzc1R5cGVbXCJBQUFBXCJdID0gXCJBQUFBXCI7XG4gICAgSG9zdEFkZHJlc3NUeXBlW1wiQVwiXSA9IFwiQVwiO1xufSkoSG9zdEFkZHJlc3NUeXBlIHx8IChIb3N0QWRkcmVzc1R5cGUgPSB7fSkpO1xuIiwiZXhwb3J0IHZhciBFbmRwb2ludFVSTFNjaGVtZTtcbihmdW5jdGlvbiAoRW5kcG9pbnRVUkxTY2hlbWUpIHtcbiAgICBFbmRwb2ludFVSTFNjaGVtZVtcIkhUVFBcIl0gPSBcImh0dHBcIjtcbiAgICBFbmRwb2ludFVSTFNjaGVtZVtcIkhUVFBTXCJdID0gXCJodHRwc1wiO1xufSkoRW5kcG9pbnRVUkxTY2hlbWUgfHwgKEVuZHBvaW50VVJMU2NoZW1lID0ge30pKTtcbiIsImV4cG9ydCB2YXIgUmVxdWVzdEhhbmRsZXJQcm90b2NvbDtcbihmdW5jdGlvbiAoUmVxdWVzdEhhbmRsZXJQcm90b2NvbCkge1xuICAgIFJlcXVlc3RIYW5kbGVyUHJvdG9jb2xbXCJIVFRQXzBfOVwiXSA9IFwiaHR0cC8wLjlcIjtcbiAgICBSZXF1ZXN0SGFuZGxlclByb3RvY29sW1wiSFRUUF8xXzBcIl0gPSBcImh0dHAvMS4wXCI7XG4gICAgUmVxdWVzdEhhbmRsZXJQcm90b2NvbFtcIlREU184XzBcIl0gPSBcInRkcy84LjBcIjtcbn0pKFJlcXVlc3RIYW5kbGVyUHJvdG9jb2wgfHwgKFJlcXVlc3RIYW5kbGVyUHJvdG9jb2wgPSB7fSkpO1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRVUkxTY2hlbWUgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcbmltcG9ydCB7IGlzSXBBZGRyZXNzIH0gZnJvbSBcIi4vaXNJcEFkZHJlc3NcIjtcbmNvbnN0IERFRkFVTFRfUE9SVFMgPSB7XG4gICAgW0VuZHBvaW50VVJMU2NoZW1lLkhUVFBdOiA4MCxcbiAgICBbRW5kcG9pbnRVUkxTY2hlbWUuSFRUUFNdOiA0NDMsXG59O1xuZXhwb3J0IGNvbnN0IHBhcnNlVVJMID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3Qgd2hhdHdnVVJMID0gKCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVSTCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgXCJob3N0bmFtZVwiIGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBob3N0bmFtZSwgcG9ydCwgcHJvdG9jb2wgPSBcIlwiLCBwYXRoID0gXCJcIiwgcXVlcnkgPSB7fSB9ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChgJHtwcm90b2NvbH0vLyR7aG9zdG5hbWV9JHtwb3J0ID8gYDoke3BvcnR9YCA6IFwiXCJ9JHtwYXRofWApO1xuICAgICAgICAgICAgICAgIHVybC5zZWFyY2ggPSBPYmplY3QuZW50cmllcyhxdWVyeSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoW2ssIHZdKSA9PiBgJHtrfT0ke3Z9YClcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oXCImXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVSTCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0pKCk7XG4gICAgaWYgKCF3aGF0d2dVUkwpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgVW5hYmxlIHRvIHBhcnNlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBhcyBhIHdoYXR3ZyBVUkwuYCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB1cmxTdHJpbmcgPSB3aGF0d2dVUkwuaHJlZjtcbiAgICBjb25zdCB7IGhvc3QsIGhvc3RuYW1lLCBwYXRobmFtZSwgcHJvdG9jb2wsIHNlYXJjaCB9ID0gd2hhdHdnVVJMO1xuICAgIGlmIChzZWFyY2gpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNjaGVtZSA9IHByb3RvY29sLnNsaWNlKDAsIC0xKTtcbiAgICBpZiAoIU9iamVjdC52YWx1ZXMoRW5kcG9pbnRVUkxTY2hlbWUpLmluY2x1ZGVzKHNjaGVtZSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGlzSXAgPSBpc0lwQWRkcmVzcyhob3N0bmFtZSk7XG4gICAgY29uc3QgaW5wdXRDb250YWluc0RlZmF1bHRQb3J0ID0gdXJsU3RyaW5nLmluY2x1ZGVzKGAke2hvc3R9OiR7REVGQVVMVF9QT1JUU1tzY2hlbWVdfWApIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUuaW5jbHVkZXMoYCR7aG9zdH06JHtERUZBVUxUX1BPUlRTW3NjaGVtZV19YCkpO1xuICAgIGNvbnN0IGF1dGhvcml0eSA9IGAke2hvc3R9JHtpbnB1dENvbnRhaW5zRGVmYXVsdFBvcnQgPyBgOiR7REVGQVVMVF9QT1JUU1tzY2hlbWVdfWAgOiBgYH1gO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjaGVtZSxcbiAgICAgICAgYXV0aG9yaXR5LFxuICAgICAgICBwYXRoOiBwYXRobmFtZSxcbiAgICAgICAgbm9ybWFsaXplZFBhdGg6IHBhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKSA/IHBhdGhuYW1lIDogYCR7cGF0aG5hbWV9L2AsXG4gICAgICAgIGlzSXAsXG4gICAgfTtcbn07XG4iLCJleHBvcnQgY29uc3Qgc3RyaW5nRXF1YWxzID0gKHZhbHVlMSwgdmFsdWUyKSA9PiB2YWx1ZTEgPT09IHZhbHVlMjtcbiIsImV4cG9ydCBjb25zdCBzdWJzdHJpbmcgPSAoaW5wdXQsIHN0YXJ0LCBzdG9wLCByZXZlcnNlKSA9PiB7XG4gICAgaWYgKHN0YXJ0ID49IHN0b3AgfHwgaW5wdXQubGVuZ3RoIDwgc3RvcCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5zdWJzdHJpbmcoc3RhcnQsIHN0b3ApO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQuc3Vic3RyaW5nKGlucHV0Lmxlbmd0aCAtIHN0b3AsIGlucHV0Lmxlbmd0aCAtIHN0YXJ0KTtcbn07XG4iLCJleHBvcnQgY29uc3QgdXJpRW5jb2RlID0gKHZhbHVlKSA9PiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpLnJlcGxhY2UoL1shKicoKV0vZywgKGMpID0+IGAlJHtjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YCk7XG4iLCJpbXBvcnQgeyBnZXRBdHRyIH0gZnJvbSBcIi4uL2xpYlwiO1xuZXhwb3J0IGNvbnN0IGV2YWx1YXRlVGVtcGxhdGUgPSAodGVtcGxhdGUsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBldmFsdWF0ZWRUZW1wbGF0ZUFyciA9IFtdO1xuICAgIGNvbnN0IHRlbXBsYXRlQ29udGV4dCA9IHtcbiAgICAgICAgLi4ub3B0aW9ucy5lbmRwb2ludFBhcmFtcyxcbiAgICAgICAgLi4ub3B0aW9ucy5yZWZlcmVuY2VSZWNvcmQsXG4gICAgfTtcbiAgICBsZXQgY3VycmVudEluZGV4ID0gMDtcbiAgICB3aGlsZSAoY3VycmVudEluZGV4IDwgdGVtcGxhdGUubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG9wZW5pbmdCcmFjZUluZGV4ID0gdGVtcGxhdGUuaW5kZXhPZihcIntcIiwgY3VycmVudEluZGV4KTtcbiAgICAgICAgaWYgKG9wZW5pbmdCcmFjZUluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgZXZhbHVhdGVkVGVtcGxhdGVBcnIucHVzaCh0ZW1wbGF0ZS5zbGljZShjdXJyZW50SW5kZXgpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGV2YWx1YXRlZFRlbXBsYXRlQXJyLnB1c2godGVtcGxhdGUuc2xpY2UoY3VycmVudEluZGV4LCBvcGVuaW5nQnJhY2VJbmRleCkpO1xuICAgICAgICBjb25zdCBjbG9zaW5nQnJhY2VJbmRleCA9IHRlbXBsYXRlLmluZGV4T2YoXCJ9XCIsIG9wZW5pbmdCcmFjZUluZGV4KTtcbiAgICAgICAgaWYgKGNsb3NpbmdCcmFjZUluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgZXZhbHVhdGVkVGVtcGxhdGVBcnIucHVzaCh0ZW1wbGF0ZS5zbGljZShvcGVuaW5nQnJhY2VJbmRleCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRlbXBsYXRlW29wZW5pbmdCcmFjZUluZGV4ICsgMV0gPT09IFwie1wiICYmIHRlbXBsYXRlW2Nsb3NpbmdCcmFjZUluZGV4ICsgMV0gPT09IFwifVwiKSB7XG4gICAgICAgICAgICBldmFsdWF0ZWRUZW1wbGF0ZUFyci5wdXNoKHRlbXBsYXRlLnNsaWNlKG9wZW5pbmdCcmFjZUluZGV4ICsgMSwgY2xvc2luZ0JyYWNlSW5kZXgpKTtcbiAgICAgICAgICAgIGN1cnJlbnRJbmRleCA9IGNsb3NpbmdCcmFjZUluZGV4ICsgMjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbWV0ZXJOYW1lID0gdGVtcGxhdGUuc3Vic3RyaW5nKG9wZW5pbmdCcmFjZUluZGV4ICsgMSwgY2xvc2luZ0JyYWNlSW5kZXgpO1xuICAgICAgICBpZiAocGFyYW1ldGVyTmFtZS5pbmNsdWRlcyhcIiNcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IFtyZWZOYW1lLCBhdHRyTmFtZV0gPSBwYXJhbWV0ZXJOYW1lLnNwbGl0KFwiI1wiKTtcbiAgICAgICAgICAgIGV2YWx1YXRlZFRlbXBsYXRlQXJyLnB1c2goZ2V0QXR0cih0ZW1wbGF0ZUNvbnRleHRbcmVmTmFtZV0sIGF0dHJOYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBldmFsdWF0ZWRUZW1wbGF0ZUFyci5wdXNoKHRlbXBsYXRlQ29udGV4dFtwYXJhbWV0ZXJOYW1lXSk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEluZGV4ID0gY2xvc2luZ0JyYWNlSW5kZXggKyAxO1xuICAgIH1cbiAgICByZXR1cm4gZXZhbHVhdGVkVGVtcGxhdGVBcnIuam9pbihcIlwiKTtcbn07XG4iLCJpbXBvcnQgeyBFbmRwb2ludEVycm9yIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBjYWxsRnVuY3Rpb24gfSBmcm9tIFwiLi9jYWxsRnVuY3Rpb25cIjtcbmltcG9ydCB7IGV2YWx1YXRlVGVtcGxhdGUgfSBmcm9tIFwiLi9ldmFsdWF0ZVRlbXBsYXRlXCI7XG5pbXBvcnQgeyBnZXRSZWZlcmVuY2VWYWx1ZSB9IGZyb20gXCIuL2dldFJlZmVyZW5jZVZhbHVlXCI7XG5leHBvcnQgY29uc3QgZXZhbHVhdGVFeHByZXNzaW9uID0gKG9iaiwga2V5TmFtZSwgb3B0aW9ucykgPT4ge1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBldmFsdWF0ZVRlbXBsYXRlKG9iaiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9ialtcImZuXCJdKSB7XG4gICAgICAgIHJldHVybiBjYWxsRnVuY3Rpb24ob2JqLCBvcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSBpZiAob2JqW1wicmVmXCJdKSB7XG4gICAgICAgIHJldHVybiBnZXRSZWZlcmVuY2VWYWx1ZShvYmosIG9wdGlvbnMpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihgJyR7a2V5TmFtZX0nOiAke1N0cmluZyhvYmopfSBpcyBub3QgYSBzdHJpbmcsIGZ1bmN0aW9uIG9yIHJlZmVyZW5jZS5gKTtcbn07XG4iLCJleHBvcnQgY29uc3QgZ2V0UmVmZXJlbmNlVmFsdWUgPSAoeyByZWYgfSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHJlZmVyZW5jZVJlY29yZCA9IHtcbiAgICAgICAgLi4ub3B0aW9ucy5lbmRwb2ludFBhcmFtcyxcbiAgICAgICAgLi4ub3B0aW9ucy5yZWZlcmVuY2VSZWNvcmQsXG4gICAgfTtcbiAgICByZXR1cm4gcmVmZXJlbmNlUmVjb3JkW3JlZl07XG59O1xuIiwiaW1wb3J0ICogYXMgbGliIGZyb20gXCIuLi9saWJcIjtcbmltcG9ydCB7IGV2YWx1YXRlRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V2YWx1YXRlRXhwcmVzc2lvblwiO1xuZXhwb3J0IGNvbnN0IGNhbGxGdW5jdGlvbiA9ICh7IGZuLCBhcmd2IH0sIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBldmFsdWF0ZWRBcmdzID0gYXJndi5tYXAoKGFyZykgPT4gW1wiYm9vbGVhblwiLCBcIm51bWJlclwiXS5pbmNsdWRlcyh0eXBlb2YgYXJnKSA/IGFyZyA6IGV2YWx1YXRlRXhwcmVzc2lvbihhcmcsIFwiYXJnXCIsIG9wdGlvbnMpKTtcbiAgICByZXR1cm4gZm4uc3BsaXQoXCIuXCIpLnJlZHVjZSgoYWNjLCBrZXkpID0+IGFjY1trZXldLCBsaWIpKC4uLmV2YWx1YXRlZEFyZ3MpO1xufTtcbiIsImltcG9ydCB7IGRlYnVnSWQsIHRvRGVidWdTdHJpbmcgfSBmcm9tIFwiLi4vZGVidWdcIjtcbmltcG9ydCB7IEVuZHBvaW50RXJyb3IgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGNhbGxGdW5jdGlvbiB9IGZyb20gXCIuL2NhbGxGdW5jdGlvblwiO1xuZXhwb3J0IGNvbnN0IGV2YWx1YXRlQ29uZGl0aW9uID0gKHsgYXNzaWduLCAuLi5mbkFyZ3MgfSwgb3B0aW9ucykgPT4ge1xuICAgIGlmIChhc3NpZ24gJiYgYXNzaWduIGluIG9wdGlvbnMucmVmZXJlbmNlUmVjb3JkKSB7XG4gICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKGAnJHthc3NpZ259JyBpcyBhbHJlYWR5IGRlZmluZWQgaW4gUmVmZXJlbmNlIFJlY29yZC5gKTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSBjYWxsRnVuY3Rpb24oZm5BcmdzLCBvcHRpb25zKTtcbiAgICBvcHRpb25zLmxvZ2dlcj8uZGVidWc/LihkZWJ1Z0lkLCBgZXZhbHVhdGVDb25kaXRpb246ICR7dG9EZWJ1Z1N0cmluZyhmbkFyZ3MpfSA9ICR7dG9EZWJ1Z1N0cmluZyh2YWx1ZSl9YCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdWx0OiB2YWx1ZSA9PT0gXCJcIiA/IHRydWUgOiAhIXZhbHVlLFxuICAgICAgICAuLi4oYXNzaWduICE9IG51bGwgJiYgeyB0b0Fzc2lnbjogeyBuYW1lOiBhc3NpZ24sIHZhbHVlIH0gfSksXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBkZWJ1Z0lkLCB0b0RlYnVnU3RyaW5nIH0gZnJvbSBcIi4uL2RlYnVnXCI7XG5pbXBvcnQgeyBldmFsdWF0ZUNvbmRpdGlvbiB9IGZyb20gXCIuL2V2YWx1YXRlQ29uZGl0aW9uXCI7XG5leHBvcnQgY29uc3QgZXZhbHVhdGVDb25kaXRpb25zID0gKGNvbmRpdGlvbnMgPSBbXSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IGNvbmRpdGlvbnNSZWZlcmVuY2VSZWNvcmQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGNvbmRpdGlvbiBvZiBjb25kaXRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgcmVzdWx0LCB0b0Fzc2lnbiB9ID0gZXZhbHVhdGVDb25kaXRpb24oY29uZGl0aW9uLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgcmVmZXJlbmNlUmVjb3JkOiB7XG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucy5yZWZlcmVuY2VSZWNvcmQsXG4gICAgICAgICAgICAgICAgLi4uY29uZGl0aW9uc1JlZmVyZW5jZVJlY29yZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgcmVzdWx0IH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvQXNzaWduKSB7XG4gICAgICAgICAgICBjb25kaXRpb25zUmVmZXJlbmNlUmVjb3JkW3RvQXNzaWduLm5hbWVdID0gdG9Bc3NpZ24udmFsdWU7XG4gICAgICAgICAgICBvcHRpb25zLmxvZ2dlcj8uZGVidWc/LihkZWJ1Z0lkLCBgYXNzaWduOiAke3RvQXNzaWduLm5hbWV9IDo9ICR7dG9EZWJ1Z1N0cmluZyh0b0Fzc2lnbi52YWx1ZSl9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgcmVzdWx0OiB0cnVlLCByZWZlcmVuY2VSZWNvcmQ6IGNvbmRpdGlvbnNSZWZlcmVuY2VSZWNvcmQgfTtcbn07XG4iLCJpbXBvcnQgeyBFbmRwb2ludEVycm9yIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBldmFsdWF0ZUV4cHJlc3Npb24gfSBmcm9tIFwiLi9ldmFsdWF0ZUV4cHJlc3Npb25cIjtcbmV4cG9ydCBjb25zdCBnZXRFbmRwb2ludEhlYWRlcnMgPSAoaGVhZGVycywgb3B0aW9ucykgPT4gT2JqZWN0LmVudHJpZXMoaGVhZGVycykucmVkdWNlKChhY2MsIFtoZWFkZXJLZXksIGhlYWRlclZhbF0pID0+ICh7XG4gICAgLi4uYWNjLFxuICAgIFtoZWFkZXJLZXldOiBoZWFkZXJWYWwubWFwKChoZWFkZXJWYWxFbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9jZXNzZWRFeHByID0gZXZhbHVhdGVFeHByZXNzaW9uKGhlYWRlclZhbEVudHJ5LCBcIkhlYWRlciB2YWx1ZSBlbnRyeVwiLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzZWRFeHByICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihgSGVhZGVyICcke2hlYWRlcktleX0nIHZhbHVlICcke3Byb2Nlc3NlZEV4cHJ9JyBpcyBub3QgYSBzdHJpbmdgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkRXhwcjtcbiAgICB9KSxcbn0pLCB7fSk7XG4iLCJpbXBvcnQgeyBFbmRwb2ludEVycm9yIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBldmFsdWF0ZVRlbXBsYXRlIH0gZnJvbSBcIi4vZXZhbHVhdGVUZW1wbGF0ZVwiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnRQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vZ2V0RW5kcG9pbnRQcm9wZXJ0aWVzXCI7XG5leHBvcnQgY29uc3QgZ2V0RW5kcG9pbnRQcm9wZXJ0eSA9IChwcm9wZXJ0eSwgb3B0aW9ucykgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5KSkge1xuICAgICAgICByZXR1cm4gcHJvcGVydHkubWFwKChwcm9wZXJ0eUVudHJ5KSA9PiBnZXRFbmRwb2ludFByb3BlcnR5KHByb3BlcnR5RW50cnksIG9wdGlvbnMpKTtcbiAgICB9XG4gICAgc3dpdGNoICh0eXBlb2YgcHJvcGVydHkpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIGV2YWx1YXRlVGVtcGxhdGUocHJvcGVydHksIG9wdGlvbnMpO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAocHJvcGVydHkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihgVW5leHBlY3RlZCBlbmRwb2ludCBwcm9wZXJ0eTogJHtwcm9wZXJ0eX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBnZXRFbmRwb2ludFByb3BlcnRpZXMocHJvcGVydHksIG9wdGlvbnMpO1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYFVuZXhwZWN0ZWQgZW5kcG9pbnQgcHJvcGVydHkgdHlwZTogJHt0eXBlb2YgcHJvcGVydHl9YCk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldEVuZHBvaW50UHJvcGVydHkgfSBmcm9tIFwiLi9nZXRFbmRwb2ludFByb3BlcnR5XCI7XG5leHBvcnQgY29uc3QgZ2V0RW5kcG9pbnRQcm9wZXJ0aWVzID0gKHByb3BlcnRpZXMsIG9wdGlvbnMpID0+IE9iamVjdC5lbnRyaWVzKHByb3BlcnRpZXMpLnJlZHVjZSgoYWNjLCBbcHJvcGVydHlLZXksIHByb3BlcnR5VmFsXSkgPT4gKHtcbiAgICAuLi5hY2MsXG4gICAgW3Byb3BlcnR5S2V5XTogZ2V0RW5kcG9pbnRQcm9wZXJ0eShwcm9wZXJ0eVZhbCwgb3B0aW9ucyksXG59KSwge30pO1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRFcnJvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgZXZhbHVhdGVFeHByZXNzaW9uIH0gZnJvbSBcIi4vZXZhbHVhdGVFeHByZXNzaW9uXCI7XG5leHBvcnQgY29uc3QgZ2V0RW5kcG9pbnRVcmwgPSAoZW5kcG9pbnRVcmwsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBleHByZXNzaW9uID0gZXZhbHVhdGVFeHByZXNzaW9uKGVuZHBvaW50VXJsLCBcIkVuZHBvaW50IFVSTFwiLCBvcHRpb25zKTtcbiAgICBpZiAodHlwZW9mIGV4cHJlc3Npb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVVJMKGV4cHJlc3Npb24pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGNvbnN0cnVjdCBVUkwgd2l0aCAke2V4cHJlc3Npb259YCwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoYEVuZHBvaW50IFVSTCBtdXN0IGJlIGEgc3RyaW5nLCBnb3QgJHt0eXBlb2YgZXhwcmVzc2lvbn1gKTtcbn07XG4iLCJpbXBvcnQgeyBkZWJ1Z0lkLCB0b0RlYnVnU3RyaW5nIH0gZnJvbSBcIi4uL2RlYnVnXCI7XG5pbXBvcnQgeyBldmFsdWF0ZUNvbmRpdGlvbnMgfSBmcm9tIFwiLi9ldmFsdWF0ZUNvbmRpdGlvbnNcIjtcbmltcG9ydCB7IGdldEVuZHBvaW50SGVhZGVycyB9IGZyb20gXCIuL2dldEVuZHBvaW50SGVhZGVyc1wiO1xuaW1wb3J0IHsgZ2V0RW5kcG9pbnRQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vZ2V0RW5kcG9pbnRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgeyBnZXRFbmRwb2ludFVybCB9IGZyb20gXCIuL2dldEVuZHBvaW50VXJsXCI7XG5leHBvcnQgY29uc3QgZXZhbHVhdGVFbmRwb2ludFJ1bGUgPSAoZW5kcG9pbnRSdWxlLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgeyBjb25kaXRpb25zLCBlbmRwb2ludCB9ID0gZW5kcG9pbnRSdWxlO1xuICAgIGNvbnN0IHsgcmVzdWx0LCByZWZlcmVuY2VSZWNvcmQgfSA9IGV2YWx1YXRlQ29uZGl0aW9ucyhjb25kaXRpb25zLCBvcHRpb25zKTtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVuZHBvaW50UnVsZU9wdGlvbnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHJlZmVyZW5jZVJlY29yZDogeyAuLi5vcHRpb25zLnJlZmVyZW5jZVJlY29yZCwgLi4ucmVmZXJlbmNlUmVjb3JkIH0sXG4gICAgfTtcbiAgICBjb25zdCB7IHVybCwgcHJvcGVydGllcywgaGVhZGVycyB9ID0gZW5kcG9pbnQ7XG4gICAgb3B0aW9ucy5sb2dnZXI/LmRlYnVnPy4oZGVidWdJZCwgYFJlc29sdmluZyBlbmRwb2ludCBmcm9tIHRlbXBsYXRlOiAke3RvRGVidWdTdHJpbmcoZW5kcG9pbnQpfWApO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLihoZWFkZXJzICE9IHVuZGVmaW5lZCAmJiB7XG4gICAgICAgICAgICBoZWFkZXJzOiBnZXRFbmRwb2ludEhlYWRlcnMoaGVhZGVycywgZW5kcG9pbnRSdWxlT3B0aW9ucyksXG4gICAgICAgIH0pLFxuICAgICAgICAuLi4ocHJvcGVydGllcyAhPSB1bmRlZmluZWQgJiYge1xuICAgICAgICAgICAgcHJvcGVydGllczogZ2V0RW5kcG9pbnRQcm9wZXJ0aWVzKHByb3BlcnRpZXMsIGVuZHBvaW50UnVsZU9wdGlvbnMpLFxuICAgICAgICB9KSxcbiAgICAgICAgdXJsOiBnZXRFbmRwb2ludFVybCh1cmwsIGVuZHBvaW50UnVsZU9wdGlvbnMpLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRFcnJvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgZXZhbHVhdGVDb25kaXRpb25zIH0gZnJvbSBcIi4vZXZhbHVhdGVDb25kaXRpb25zXCI7XG5pbXBvcnQgeyBldmFsdWF0ZUV4cHJlc3Npb24gfSBmcm9tIFwiLi9ldmFsdWF0ZUV4cHJlc3Npb25cIjtcbmV4cG9ydCBjb25zdCBldmFsdWF0ZUVycm9yUnVsZSA9IChlcnJvclJ1bGUsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7IGNvbmRpdGlvbnMsIGVycm9yIH0gPSBlcnJvclJ1bGU7XG4gICAgY29uc3QgeyByZXN1bHQsIHJlZmVyZW5jZVJlY29yZCB9ID0gZXZhbHVhdGVDb25kaXRpb25zKGNvbmRpdGlvbnMsIG9wdGlvbnMpO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVuZHBvaW50RXJyb3IoZXZhbHVhdGVFeHByZXNzaW9uKGVycm9yLCBcIkVycm9yXCIsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgcmVmZXJlbmNlUmVjb3JkOiB7IC4uLm9wdGlvbnMucmVmZXJlbmNlUmVjb3JkLCAuLi5yZWZlcmVuY2VSZWNvcmQgfSxcbiAgICB9KSk7XG59O1xuIiwiaW1wb3J0IHsgZXZhbHVhdGVDb25kaXRpb25zIH0gZnJvbSBcIi4vZXZhbHVhdGVDb25kaXRpb25zXCI7XG5pbXBvcnQgeyBldmFsdWF0ZVJ1bGVzIH0gZnJvbSBcIi4vZXZhbHVhdGVSdWxlc1wiO1xuZXhwb3J0IGNvbnN0IGV2YWx1YXRlVHJlZVJ1bGUgPSAodHJlZVJ1bGUsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7IGNvbmRpdGlvbnMsIHJ1bGVzIH0gPSB0cmVlUnVsZTtcbiAgICBjb25zdCB7IHJlc3VsdCwgcmVmZXJlbmNlUmVjb3JkIH0gPSBldmFsdWF0ZUNvbmRpdGlvbnMoY29uZGl0aW9ucywgb3B0aW9ucyk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZXZhbHVhdGVSdWxlcyhydWxlcywge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICByZWZlcmVuY2VSZWNvcmQ6IHsgLi4ub3B0aW9ucy5yZWZlcmVuY2VSZWNvcmQsIC4uLnJlZmVyZW5jZVJlY29yZCB9LFxuICAgIH0pO1xufTtcbiIsImltcG9ydCB7IEVuZHBvaW50RXJyb3IgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGV2YWx1YXRlRW5kcG9pbnRSdWxlIH0gZnJvbSBcIi4vZXZhbHVhdGVFbmRwb2ludFJ1bGVcIjtcbmltcG9ydCB7IGV2YWx1YXRlRXJyb3JSdWxlIH0gZnJvbSBcIi4vZXZhbHVhdGVFcnJvclJ1bGVcIjtcbmltcG9ydCB7IGV2YWx1YXRlVHJlZVJ1bGUgfSBmcm9tIFwiLi9ldmFsdWF0ZVRyZWVSdWxlXCI7XG5leHBvcnQgY29uc3QgZXZhbHVhdGVSdWxlcyA9IChydWxlcywgb3B0aW9ucykgPT4ge1xuICAgIGZvciAoY29uc3QgcnVsZSBvZiBydWxlcykge1xuICAgICAgICBpZiAocnVsZS50eXBlID09PSBcImVuZHBvaW50XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50T3JVbmRlZmluZWQgPSBldmFsdWF0ZUVuZHBvaW50UnVsZShydWxlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChlbmRwb2ludE9yVW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuZHBvaW50T3JVbmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocnVsZS50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgIGV2YWx1YXRlRXJyb3JSdWxlKHJ1bGUsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJ1bGUudHlwZSA9PT0gXCJ0cmVlXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50T3JVbmRlZmluZWQgPSBldmFsdWF0ZVRyZWVSdWxlKHJ1bGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKGVuZHBvaW50T3JVbmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5kcG9pbnRPclVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKGBVbmtub3duIGVuZHBvaW50IHJ1bGU6ICR7cnVsZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRW5kcG9pbnRFcnJvcihgUnVsZXMgZXZhbHVhdGlvbiBmYWlsZWRgKTtcbn07XG4iLCJpbXBvcnQgeyBkZWJ1Z0lkLCB0b0RlYnVnU3RyaW5nIH0gZnJvbSBcIi4vZGVidWdcIjtcbmltcG9ydCB7IEVuZHBvaW50RXJyb3IgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgZXZhbHVhdGVSdWxlcyB9IGZyb20gXCIuL3V0aWxzXCI7XG5leHBvcnQgY29uc3QgcmVzb2x2ZUVuZHBvaW50ID0gKHJ1bGVTZXRPYmplY3QsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCB7IGVuZHBvaW50UGFyYW1zLCBsb2dnZXIgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgeyBwYXJhbWV0ZXJzLCBydWxlcyB9ID0gcnVsZVNldE9iamVjdDtcbiAgICBvcHRpb25zLmxvZ2dlcj8uZGVidWc/LihgJHtkZWJ1Z0lkfSBJbml0aWFsIEVuZHBvaW50UGFyYW1zOiAke3RvRGVidWdTdHJpbmcoZW5kcG9pbnRQYXJhbXMpfWApO1xuICAgIGNvbnN0IHBhcmFtc1dpdGhEZWZhdWx0ID0gT2JqZWN0LmVudHJpZXMocGFyYW1ldGVycylcbiAgICAgICAgLmZpbHRlcigoWywgdl0pID0+IHYuZGVmYXVsdCAhPSBudWxsKVxuICAgICAgICAubWFwKChbaywgdl0pID0+IFtrLCB2LmRlZmF1bHRdKTtcbiAgICBpZiAocGFyYW1zV2l0aERlZmF1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IFtwYXJhbUtleSwgcGFyYW1EZWZhdWx0VmFsdWVdIG9mIHBhcmFtc1dpdGhEZWZhdWx0KSB7XG4gICAgICAgICAgICBlbmRwb2ludFBhcmFtc1twYXJhbUtleV0gPSBlbmRwb2ludFBhcmFtc1twYXJhbUtleV0gPz8gcGFyYW1EZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVxdWlyZWRQYXJhbXMgPSBPYmplY3QuZW50cmllcyhwYXJhbWV0ZXJzKVxuICAgICAgICAuZmlsdGVyKChbLCB2XSkgPT4gdi5yZXF1aXJlZClcbiAgICAgICAgLm1hcCgoW2tdKSA9PiBrKTtcbiAgICBmb3IgKGNvbnN0IHJlcXVpcmVkUGFyYW0gb2YgcmVxdWlyZWRQYXJhbXMpIHtcbiAgICAgICAgaWYgKGVuZHBvaW50UGFyYW1zW3JlcXVpcmVkUGFyYW1dID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFbmRwb2ludEVycm9yKGBNaXNzaW5nIHJlcXVpcmVkIHBhcmFtZXRlcjogJyR7cmVxdWlyZWRQYXJhbX0nYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZW5kcG9pbnQgPSBldmFsdWF0ZVJ1bGVzKHJ1bGVzLCB7IGVuZHBvaW50UGFyYW1zLCBsb2dnZXIsIHJlZmVyZW5jZVJlY29yZDoge30gfSk7XG4gICAgaWYgKG9wdGlvbnMuZW5kcG9pbnRQYXJhbXM/LkVuZHBvaW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBnaXZlbkVuZHBvaW50ID0gbmV3IFVSTChvcHRpb25zLmVuZHBvaW50UGFyYW1zLkVuZHBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJvdG9jb2wsIHBvcnQgfSA9IGdpdmVuRW5kcG9pbnQ7XG4gICAgICAgICAgICBlbmRwb2ludC51cmwucHJvdG9jb2wgPSBwcm90b2NvbDtcbiAgICAgICAgICAgIGVuZHBvaW50LnVybC5wb3J0ID0gcG9ydDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgfVxuICAgIG9wdGlvbnMubG9nZ2VyPy5kZWJ1Zz8uKGAke2RlYnVnSWR9IFJlc29sdmVkIGVuZHBvaW50OiAke3RvRGVidWdTdHJpbmcoZW5kcG9pbnQpfWApO1xuICAgIHJldHVybiBlbmRwb2ludDtcbn07XG4iLCJleHBvcnQgY29uc3QgVVNFUl9BR0VOVCA9IFwidXNlci1hZ2VudFwiO1xuZXhwb3J0IGNvbnN0IFhfQU1aX1VTRVJfQUdFTlQgPSBcIngtYW16LXVzZXItYWdlbnRcIjtcbmV4cG9ydCBjb25zdCBTUEFDRSA9IFwiIFwiO1xuZXhwb3J0IGNvbnN0IFVBX05BTUVfU0VQQVJBVE9SID0gXCIvXCI7XG5leHBvcnQgY29uc3QgVUFfTkFNRV9FU0NBUEVfUkVHRVggPSAvW15cXCFcXCRcXCVcXCZcXCdcXCpcXCtcXC1cXC5cXF5cXF9cXGBcXHxcXH5cXGRcXHddL2c7XG5leHBvcnQgY29uc3QgVUFfVkFMVUVfRVNDQVBFX1JFR0VYID0gL1teXFwhXFwkXFwlXFwmXFwnXFwqXFwrXFwtXFwuXFxeXFxfXFxgXFx8XFx+XFxkXFx3XFwjXS9nO1xuZXhwb3J0IGNvbnN0IFVBX0VTQ0FQRV9DSEFSID0gXCItXCI7XG4iLCJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBnZXRVc2VyQWdlbnRQcmVmaXggfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1lbmRwb2ludHNcIjtcbmltcG9ydCB7IFNQQUNFLCBVQV9FU0NBUEVfQ0hBUiwgVUFfTkFNRV9FU0NBUEVfUkVHRVgsIFVBX05BTUVfU0VQQVJBVE9SLCBVQV9WQUxVRV9FU0NBUEVfUkVHRVgsIFVTRVJfQUdFTlQsIFhfQU1aX1VTRVJfQUdFTlQsIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgdXNlckFnZW50TWlkZGxld2FyZSA9IChvcHRpb25zKSA9PiAobmV4dCwgY29udGV4dCkgPT4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBjb25zdCB7IHJlcXVlc3QgfSA9IGFyZ3M7XG4gICAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKHJlcXVlc3QpKVxuICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICBjb25zdCB7IGhlYWRlcnMgfSA9IHJlcXVlc3Q7XG4gICAgY29uc3QgdXNlckFnZW50ID0gY29udGV4dD8udXNlckFnZW50Py5tYXAoZXNjYXBlVXNlckFnZW50KSB8fCBbXTtcbiAgICBjb25zdCBkZWZhdWx0VXNlckFnZW50ID0gKGF3YWl0IG9wdGlvbnMuZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyKCkpLm1hcChlc2NhcGVVc2VyQWdlbnQpO1xuICAgIGNvbnN0IGN1c3RvbVVzZXJBZ2VudCA9IG9wdGlvbnM/LmN1c3RvbVVzZXJBZ2VudD8ubWFwKGVzY2FwZVVzZXJBZ2VudCkgfHwgW107XG4gICAgY29uc3QgcHJlZml4ID0gZ2V0VXNlckFnZW50UHJlZml4KCk7XG4gICAgY29uc3Qgc2RrVXNlckFnZW50VmFsdWUgPSAocHJlZml4ID8gW3ByZWZpeF0gOiBbXSlcbiAgICAgICAgLmNvbmNhdChbLi4uZGVmYXVsdFVzZXJBZ2VudCwgLi4udXNlckFnZW50LCAuLi5jdXN0b21Vc2VyQWdlbnRdKVxuICAgICAgICAuam9pbihTUEFDRSk7XG4gICAgY29uc3Qgbm9ybWFsVUFWYWx1ZSA9IFtcbiAgICAgICAgLi4uZGVmYXVsdFVzZXJBZ2VudC5maWx0ZXIoKHNlY3Rpb24pID0+IHNlY3Rpb24uc3RhcnRzV2l0aChcImF3cy1zZGstXCIpKSxcbiAgICAgICAgLi4uY3VzdG9tVXNlckFnZW50LFxuICAgIF0uam9pbihTUEFDRSk7XG4gICAgaWYgKG9wdGlvbnMucnVudGltZSAhPT0gXCJicm93c2VyXCIpIHtcbiAgICAgICAgaWYgKG5vcm1hbFVBVmFsdWUpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbWF9BTVpfVVNFUl9BR0VOVF0gPSBoZWFkZXJzW1hfQU1aX1VTRVJfQUdFTlRdXG4gICAgICAgICAgICAgICAgPyBgJHtoZWFkZXJzW1VTRVJfQUdFTlRdfSAke25vcm1hbFVBVmFsdWV9YFxuICAgICAgICAgICAgICAgIDogbm9ybWFsVUFWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBoZWFkZXJzW1VTRVJfQUdFTlRdID0gc2RrVXNlckFnZW50VmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBoZWFkZXJzW1hfQU1aX1VTRVJfQUdFTlRdID0gc2RrVXNlckFnZW50VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBuZXh0KHtcbiAgICAgICAgLi4uYXJncyxcbiAgICAgICAgcmVxdWVzdCxcbiAgICB9KTtcbn07XG5jb25zdCBlc2NhcGVVc2VyQWdlbnQgPSAodXNlckFnZW50UGFpcikgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSB1c2VyQWdlbnRQYWlyWzBdXG4gICAgICAgIC5zcGxpdChVQV9OQU1FX1NFUEFSQVRPUilcbiAgICAgICAgLm1hcCgocGFydCkgPT4gcGFydC5yZXBsYWNlKFVBX05BTUVfRVNDQVBFX1JFR0VYLCBVQV9FU0NBUEVfQ0hBUikpXG4gICAgICAgIC5qb2luKFVBX05BTUVfU0VQQVJBVE9SKTtcbiAgICBjb25zdCB2ZXJzaW9uID0gdXNlckFnZW50UGFpclsxXT8ucmVwbGFjZShVQV9WQUxVRV9FU0NBUEVfUkVHRVgsIFVBX0VTQ0FQRV9DSEFSKTtcbiAgICBjb25zdCBwcmVmaXhTZXBhcmF0b3JJbmRleCA9IG5hbWUuaW5kZXhPZihVQV9OQU1FX1NFUEFSQVRPUik7XG4gICAgY29uc3QgcHJlZml4ID0gbmFtZS5zdWJzdHJpbmcoMCwgcHJlZml4U2VwYXJhdG9ySW5kZXgpO1xuICAgIGxldCB1YU5hbWUgPSBuYW1lLnN1YnN0cmluZyhwcmVmaXhTZXBhcmF0b3JJbmRleCArIDEpO1xuICAgIGlmIChwcmVmaXggPT09IFwiYXBpXCIpIHtcbiAgICAgICAgdWFOYW1lID0gdWFOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiBbcHJlZml4LCB1YU5hbWUsIHZlcnNpb25dXG4gICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gJiYgaXRlbS5sZW5ndGggPiAwKVxuICAgICAgICAucmVkdWNlKChhY2MsIGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaW5kZXgpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7YWNjfS8ke2l0ZW19YDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2FjY30jJHtpdGVtfWA7XG4gICAgICAgIH1cbiAgICB9LCBcIlwiKTtcbn07XG5leHBvcnQgY29uc3QgZ2V0VXNlckFnZW50TWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gICAgbmFtZTogXCJnZXRVc2VyQWdlbnRNaWRkbGV3YXJlXCIsXG4gICAgc3RlcDogXCJidWlsZFwiLFxuICAgIHByaW9yaXR5OiBcImxvd1wiLFxuICAgIHRhZ3M6IFtcIlNFVF9VU0VSX0FHRU5UXCIsIFwiVVNFUl9BR0VOVFwiXSxcbiAgICBvdmVycmlkZTogdHJ1ZSxcbn07XG5leHBvcnQgY29uc3QgZ2V0VXNlckFnZW50UGx1Z2luID0gKGNvbmZpZykgPT4gKHtcbiAgICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgICAgICBjbGllbnRTdGFjay5hZGQodXNlckFnZW50TWlkZGxld2FyZShjb25maWcpLCBnZXRVc2VyQWdlbnRNaWRkbGV3YXJlT3B0aW9ucyk7XG4gICAgfSxcbn0pO1xuIiwiZXhwb3J0IGNsYXNzIE5vT3BMb2dnZXIge1xuICAgIHRyYWNlKCkgeyB9XG4gICAgZGVidWcoKSB7IH1cbiAgICBpbmZvKCkgeyB9XG4gICAgd2FybigpIHsgfVxuICAgIGVycm9yKCkgeyB9XG59XG4iLCJleHBvcnQgY29uc3QgY29uc3RydWN0U3RhY2sgPSAoKSA9PiB7XG4gICAgbGV0IGFic29sdXRlRW50cmllcyA9IFtdO1xuICAgIGxldCByZWxhdGl2ZUVudHJpZXMgPSBbXTtcbiAgICBjb25zdCBlbnRyaWVzTmFtZVNldCA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBzb3J0ID0gKGVudHJpZXMpID0+IGVudHJpZXMuc29ydCgoYSwgYikgPT4gc3RlcFdlaWdodHNbYi5zdGVwXSAtIHN0ZXBXZWlnaHRzW2Euc3RlcF0gfHxcbiAgICAgICAgcHJpb3JpdHlXZWlnaHRzW2IucHJpb3JpdHkgfHwgXCJub3JtYWxcIl0gLSBwcmlvcml0eVdlaWdodHNbYS5wcmlvcml0eSB8fCBcIm5vcm1hbFwiXSk7XG4gICAgY29uc3QgcmVtb3ZlQnlOYW1lID0gKHRvUmVtb3ZlKSA9PiB7XG4gICAgICAgIGxldCBpc1JlbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZmlsdGVyQ2IgPSAoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGlmIChlbnRyeS5uYW1lICYmIGVudHJ5Lm5hbWUgPT09IHRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlbnRyaWVzTmFtZVNldC5kZWxldGUodG9SZW1vdmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBhYnNvbHV0ZUVudHJpZXMgPSBhYnNvbHV0ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICAgICAgcmVsYXRpdmVFbnRyaWVzID0gcmVsYXRpdmVFbnRyaWVzLmZpbHRlcihmaWx0ZXJDYik7XG4gICAgICAgIHJldHVybiBpc1JlbW92ZWQ7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVCeVJlZmVyZW5jZSA9ICh0b1JlbW92ZSkgPT4ge1xuICAgICAgICBsZXQgaXNSZW1vdmVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGZpbHRlckNiID0gKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBpZiAoZW50cnkubWlkZGxld2FyZSA9PT0gdG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgICBpc1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5uYW1lKVxuICAgICAgICAgICAgICAgICAgICBlbnRyaWVzTmFtZVNldC5kZWxldGUoZW50cnkubmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIGFic29sdXRlRW50cmllcyA9IGFic29sdXRlRW50cmllcy5maWx0ZXIoZmlsdGVyQ2IpO1xuICAgICAgICByZWxhdGl2ZUVudHJpZXMgPSByZWxhdGl2ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICAgICAgcmV0dXJuIGlzUmVtb3ZlZDtcbiAgICB9O1xuICAgIGNvbnN0IGNsb25lVG8gPSAodG9TdGFjaykgPT4ge1xuICAgICAgICBhYnNvbHV0ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIHRvU3RhY2suYWRkKGVudHJ5Lm1pZGRsZXdhcmUsIHsgLi4uZW50cnkgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZWxhdGl2ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIHRvU3RhY2suYWRkUmVsYXRpdmVUbyhlbnRyeS5taWRkbGV3YXJlLCB7IC4uLmVudHJ5IH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRvU3RhY2s7XG4gICAgfTtcbiAgICBjb25zdCBleHBhbmRSZWxhdGl2ZU1pZGRsZXdhcmVMaXN0ID0gKGZyb20pID0+IHtcbiAgICAgICAgY29uc3QgZXhwYW5kZWRNaWRkbGV3YXJlTGlzdCA9IFtdO1xuICAgICAgICBmcm9tLmJlZm9yZS5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVudHJ5LmJlZm9yZS5sZW5ndGggPT09IDAgJiYgZW50cnkuYWZ0ZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZXhwYW5kZWRNaWRkbGV3YXJlTGlzdC5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4cGFuZGVkTWlkZGxld2FyZUxpc3QucHVzaCguLi5leHBhbmRSZWxhdGl2ZU1pZGRsZXdhcmVMaXN0KGVudHJ5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goZnJvbSk7XG4gICAgICAgIGZyb20uYWZ0ZXIucmV2ZXJzZSgpLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBpZiAoZW50cnkuYmVmb3JlLmxlbmd0aCA9PT0gMCAmJiBlbnRyeS5hZnRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goZW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXhwYW5kZWRNaWRkbGV3YXJlTGlzdC5wdXNoKC4uLmV4cGFuZFJlbGF0aXZlTWlkZGxld2FyZUxpc3QoZW50cnkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBleHBhbmRlZE1pZGRsZXdhcmVMaXN0O1xuICAgIH07XG4gICAgY29uc3QgZ2V0TWlkZGxld2FyZUxpc3QgPSAoZGVidWcgPSBmYWxzZSkgPT4ge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkQWJzb2x1dGVFbnRyaWVzID0gW107XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRSZWxhdGl2ZUVudHJpZXMgPSBbXTtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZEVudHJpZXNOYW1lTWFwID0ge307XG4gICAgICAgIGFic29sdXRlRW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZEVudHJ5ID0ge1xuICAgICAgICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgICAgICAgIGJlZm9yZTogW10sXG4gICAgICAgICAgICAgICAgYWZ0ZXI6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChub3JtYWxpemVkRW50cnkubmFtZSlcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkRW50cmllc05hbWVNYXBbbm9ybWFsaXplZEVudHJ5Lm5hbWVdID0gbm9ybWFsaXplZEVudHJ5O1xuICAgICAgICAgICAgbm9ybWFsaXplZEFic29sdXRlRW50cmllcy5wdXNoKG5vcm1hbGl6ZWRFbnRyeSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZWxhdGl2ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICAgICAgICBiZWZvcmU6IFtdLFxuICAgICAgICAgICAgICAgIGFmdGVyOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZEVudHJ5Lm5hbWUpXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEVudHJpZXNOYW1lTWFwW25vcm1hbGl6ZWRFbnRyeS5uYW1lXSA9IG5vcm1hbGl6ZWRFbnRyeTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRSZWxhdGl2ZUVudHJpZXMucHVzaChub3JtYWxpemVkRW50cnkpO1xuICAgICAgICB9KTtcbiAgICAgICAgbm9ybWFsaXplZFJlbGF0aXZlRW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVudHJ5LnRvTWlkZGxld2FyZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvTWlkZGxld2FyZSA9IG5vcm1hbGl6ZWRFbnRyaWVzTmFtZU1hcFtlbnRyeS50b01pZGRsZXdhcmVdO1xuICAgICAgICAgICAgICAgIGlmICh0b01pZGRsZXdhcmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7ZW50cnkudG9NaWRkbGV3YXJlfSBpcyBub3QgZm91bmQgd2hlbiBhZGRpbmcgJHtlbnRyeS5uYW1lIHx8IFwiYW5vbnltb3VzXCJ9IG1pZGRsZXdhcmUgJHtlbnRyeS5yZWxhdGlvbn0gJHtlbnRyeS50b01pZGRsZXdhcmV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5yZWxhdGlvbiA9PT0gXCJhZnRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvTWlkZGxld2FyZS5hZnRlci5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LnJlbGF0aW9uID09PSBcImJlZm9yZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvTWlkZGxld2FyZS5iZWZvcmUucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbWFpbkNoYWluID0gc29ydChub3JtYWxpemVkQWJzb2x1dGVFbnRyaWVzKVxuICAgICAgICAgICAgLm1hcChleHBhbmRSZWxhdGl2ZU1pZGRsZXdhcmVMaXN0KVxuICAgICAgICAgICAgLnJlZHVjZSgod2hvbGVMaXN0LCBleHBlbmRlZE1pZGRsZXdhcmVMaXN0KSA9PiB7XG4gICAgICAgICAgICB3aG9sZUxpc3QucHVzaCguLi5leHBlbmRlZE1pZGRsZXdhcmVMaXN0KTtcbiAgICAgICAgICAgIHJldHVybiB3aG9sZUxpc3Q7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuIG1haW5DaGFpbjtcbiAgICB9O1xuICAgIGNvbnN0IHN0YWNrID0ge1xuICAgICAgICBhZGQ6IChtaWRkbGV3YXJlLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgb3ZlcnJpZGUgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IHtcbiAgICAgICAgICAgICAgICBzdGVwOiBcImluaXRpYWxpemVcIixcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICBtaWRkbGV3YXJlLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cmllc05hbWVTZXQuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3ZlcnJpZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBtaWRkbGV3YXJlIG5hbWUgJyR7bmFtZX0nYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvT3ZlcnJpZGVJbmRleCA9IGFic29sdXRlRW50cmllcy5maW5kSW5kZXgoKGVudHJ5KSA9PiBlbnRyeS5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9PdmVycmlkZSA9IGFic29sdXRlRW50cmllc1t0b092ZXJyaWRlSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9PdmVycmlkZS5zdGVwICE9PSBlbnRyeS5zdGVwIHx8IHRvT3ZlcnJpZGUucHJpb3JpdHkgIT09IGVudHJ5LnByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFwiJHtuYW1lfVwiIG1pZGRsZXdhcmUgd2l0aCAke3RvT3ZlcnJpZGUucHJpb3JpdHl9IHByaW9yaXR5IGluICR7dG9PdmVycmlkZS5zdGVwfSBzdGVwIGNhbm5vdCBiZSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgb3ZlcnJpZGRlbiBieSBzYW1lLW5hbWUgbWlkZGxld2FyZSB3aXRoICR7ZW50cnkucHJpb3JpdHl9IHByaW9yaXR5IGluICR7ZW50cnkuc3RlcH0gc3RlcC5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhYnNvbHV0ZUVudHJpZXMuc3BsaWNlKHRvT3ZlcnJpZGVJbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVudHJpZXNOYW1lU2V0LmFkZChuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFic29sdXRlRW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkUmVsYXRpdmVUbzogKG1pZGRsZXdhcmUsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgb3ZlcnJpZGUgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IHtcbiAgICAgICAgICAgICAgICBtaWRkbGV3YXJlLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cmllc05hbWVTZXQuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3ZlcnJpZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBtaWRkbGV3YXJlIG5hbWUgJyR7bmFtZX0nYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvT3ZlcnJpZGVJbmRleCA9IHJlbGF0aXZlRW50cmllcy5maW5kSW5kZXgoKGVudHJ5KSA9PiBlbnRyeS5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9PdmVycmlkZSA9IHJlbGF0aXZlRW50cmllc1t0b092ZXJyaWRlSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9PdmVycmlkZS50b01pZGRsZXdhcmUgIT09IGVudHJ5LnRvTWlkZGxld2FyZSB8fCB0b092ZXJyaWRlLnJlbGF0aW9uICE9PSBlbnRyeS5yZWxhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcIiR7bmFtZX1cIiBtaWRkbGV3YXJlICR7dG9PdmVycmlkZS5yZWxhdGlvbn0gXCIke3RvT3ZlcnJpZGUudG9NaWRkbGV3YXJlfVwiIG1pZGRsZXdhcmUgY2Fubm90IGJlIG92ZXJyaWRkZW4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGJ5IHNhbWUtbmFtZSBtaWRkbGV3YXJlICR7ZW50cnkucmVsYXRpb259IFwiJHtlbnRyeS50b01pZGRsZXdhcmV9XCIgbWlkZGxld2FyZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZUVudHJpZXMuc3BsaWNlKHRvT3ZlcnJpZGVJbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVudHJpZXNOYW1lU2V0LmFkZChuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbGF0aXZlRW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xvbmU6ICgpID0+IGNsb25lVG8oY29uc3RydWN0U3RhY2soKSksXG4gICAgICAgIHVzZTogKHBsdWdpbikgPT4ge1xuICAgICAgICAgICAgcGx1Z2luLmFwcGx5VG9TdGFjayhzdGFjayk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogKHRvUmVtb3ZlKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRvUmVtb3ZlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmVCeU5hbWUodG9SZW1vdmUpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmVCeVJlZmVyZW5jZSh0b1JlbW92ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZUJ5VGFnOiAodG9SZW1vdmUpID0+IHtcbiAgICAgICAgICAgIGxldCBpc1JlbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlckNiID0gKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0YWdzLCBuYW1lIH0gPSBlbnRyeTtcbiAgICAgICAgICAgICAgICBpZiAodGFncyAmJiB0YWdzLmluY2x1ZGVzKHRvUmVtb3ZlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJpZXNOYW1lU2V0LmRlbGV0ZShuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhYnNvbHV0ZUVudHJpZXMgPSBhYnNvbHV0ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICAgICAgICAgIHJlbGF0aXZlRW50cmllcyA9IHJlbGF0aXZlRW50cmllcy5maWx0ZXIoZmlsdGVyQ2IpO1xuICAgICAgICAgICAgcmV0dXJuIGlzUmVtb3ZlZDtcbiAgICAgICAgfSxcbiAgICAgICAgY29uY2F0OiAoZnJvbSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gY2xvbmVUbyhjb25zdHJ1Y3RTdGFjaygpKTtcbiAgICAgICAgICAgIGNsb25lZC51c2UoZnJvbSk7XG4gICAgICAgICAgICByZXR1cm4gY2xvbmVkO1xuICAgICAgICB9LFxuICAgICAgICBhcHBseVRvU3RhY2s6IGNsb25lVG8sXG4gICAgICAgIGlkZW50aWZ5OiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0TWlkZGxld2FyZUxpc3QodHJ1ZSkubWFwKChtdykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBtdy5uYW1lICsgXCI6IFwiICsgKG13LnRhZ3MgfHwgW10pLmpvaW4oXCIsXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc29sdmU6IChoYW5kbGVyLCBjb250ZXh0KSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1pZGRsZXdhcmUgb2YgZ2V0TWlkZGxld2FyZUxpc3QoKVxuICAgICAgICAgICAgICAgIC5tYXAoKGVudHJ5KSA9PiBlbnRyeS5taWRkbGV3YXJlKVxuICAgICAgICAgICAgICAgIC5yZXZlcnNlKCkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyID0gbWlkZGxld2FyZShoYW5kbGVyLCBjb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVyO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIHN0YWNrO1xufTtcbmNvbnN0IHN0ZXBXZWlnaHRzID0ge1xuICAgIGluaXRpYWxpemU6IDUsXG4gICAgc2VyaWFsaXplOiA0LFxuICAgIGJ1aWxkOiAzLFxuICAgIGZpbmFsaXplUmVxdWVzdDogMixcbiAgICBkZXNlcmlhbGl6ZTogMSxcbn07XG5jb25zdCBwcmlvcml0eVdlaWdodHMgPSB7XG4gICAgaGlnaDogMyxcbiAgICBub3JtYWw6IDIsXG4gICAgbG93OiAxLFxufTtcbiIsImltcG9ydCB7IGNvbnN0cnVjdFN0YWNrIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc3RhY2tcIjtcbmV4cG9ydCBjbGFzcyBDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjayA9IGNvbnN0cnVjdFN0YWNrKCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIH1cbiAgICBzZW5kKGNvbW1hbmQsIG9wdGlvbnNPckNiLCBjYikge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnNPckNiICE9PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zT3JDYiA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0eXBlb2Ygb3B0aW9uc09yQ2IgPT09IFwiZnVuY3Rpb25cIiA/IG9wdGlvbnNPckNiIDogY2I7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBjb21tYW5kLnJlc29sdmVNaWRkbGV3YXJlKHRoaXMubWlkZGxld2FyZVN0YWNrLCB0aGlzLmNvbmZpZywgb3B0aW9ucyk7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgaGFuZGxlcihjb21tYW5kKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IGNhbGxiYWNrKG51bGwsIHJlc3VsdC5vdXRwdXQpLCAoZXJyKSA9PiBjYWxsYmFjayhlcnIpKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIoY29tbWFuZCkudGhlbigocmVzdWx0KSA9PiByZXN1bHQub3V0cHV0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5jb25maWcucmVxdWVzdEhhbmRsZXIuZGVzdHJveSlcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLnJlcXVlc3RIYW5kbGVyLmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjb25zdHJ1Y3RTdGFjayB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXN0YWNrXCI7XG5leHBvcnQgY2xhc3MgQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrID0gY29uc3RydWN0U3RhY2soKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgU0VOU0lUSVZFX1NUUklORyA9IFwiKioqU2Vuc2l0aXZlSW5mb3JtYXRpb24qKipcIjtcbiIsImV4cG9ydCBjb25zdCBwYXJzZUJvb2xlYW4gPSAodmFsdWUpID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCJ0cnVlXCI6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSBcImZhbHNlXCI6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBwYXJzZSBib29sZWFuIHZhbHVlIFwiJHt2YWx1ZX1cImApO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZXhwZWN0Qm9vbGVhbiA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSAwIHx8IHZhbHVlID09PSAxKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihzdGFja1RyYWNlV2FybmluZyhgRXhwZWN0ZWQgYm9vbGVhbiwgZ290ICR7dHlwZW9mIHZhbHVlfTogJHt2YWx1ZX1gKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IGxvd2VyID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGxvd2VyID09PSBcImZhbHNlXCIgfHwgbG93ZXIgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihzdGFja1RyYWNlV2FybmluZyhgRXhwZWN0ZWQgYm9vbGVhbiwgZ290ICR7dHlwZW9mIHZhbHVlfTogJHt2YWx1ZX1gKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvd2VyID09PSBcImZhbHNlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGJvb2xlYW4sIGdvdCAke3R5cGVvZiB2YWx1ZX06ICR7dmFsdWV9YCk7XG59O1xuZXhwb3J0IGNvbnN0IGV4cGVjdE51bWJlciA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgIGlmICghTnVtYmVyLmlzTmFOKHBhcnNlZCkpIHtcbiAgICAgICAgICAgIGlmIChTdHJpbmcocGFyc2VkKSAhPT0gU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKHN0YWNrVHJhY2VXYXJuaW5nKGBFeHBlY3RlZCBudW1iZXIgYnV0IG9ic2VydmVkIHN0cmluZzogJHt2YWx1ZX1gKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBudW1iZXIsIGdvdCAke3R5cGVvZiB2YWx1ZX06ICR7dmFsdWV9YCk7XG59O1xuY29uc3QgTUFYX0ZMT0FUID0gTWF0aC5jZWlsKDIgKiogMTI3ICogKDIgLSAyICoqIC0yMykpO1xuZXhwb3J0IGNvbnN0IGV4cGVjdEZsb2F0MzIgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBleHBlY3RlZCA9IGV4cGVjdE51bWJlcih2YWx1ZSk7XG4gICAgaWYgKGV4cGVjdGVkICE9PSB1bmRlZmluZWQgJiYgIU51bWJlci5pc05hTihleHBlY3RlZCkgJiYgZXhwZWN0ZWQgIT09IEluZmluaXR5ICYmIGV4cGVjdGVkICE9PSAtSW5maW5pdHkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGV4cGVjdGVkKSA+IE1BWF9GTE9BVCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgMzItYml0IGZsb2F0LCBnb3QgJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXhwZWN0ZWQ7XG59O1xuZXhwb3J0IGNvbnN0IGV4cGVjdExvbmcgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkgJiYgIU51bWJlci5pc05hTih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBpbnRlZ2VyLCBnb3QgJHt0eXBlb2YgdmFsdWV9OiAke3ZhbHVlfWApO1xufTtcbmV4cG9ydCBjb25zdCBleHBlY3RJbnQgPSBleHBlY3RMb25nO1xuZXhwb3J0IGNvbnN0IGV4cGVjdEludDMyID0gKHZhbHVlKSA9PiBleHBlY3RTaXplZEludCh2YWx1ZSwgMzIpO1xuZXhwb3J0IGNvbnN0IGV4cGVjdFNob3J0ID0gKHZhbHVlKSA9PiBleHBlY3RTaXplZEludCh2YWx1ZSwgMTYpO1xuZXhwb3J0IGNvbnN0IGV4cGVjdEJ5dGUgPSAodmFsdWUpID0+IGV4cGVjdFNpemVkSW50KHZhbHVlLCA4KTtcbmNvbnN0IGV4cGVjdFNpemVkSW50ID0gKHZhbHVlLCBzaXplKSA9PiB7XG4gICAgY29uc3QgZXhwZWN0ZWQgPSBleHBlY3RMb25nKHZhbHVlKTtcbiAgICBpZiAoZXhwZWN0ZWQgIT09IHVuZGVmaW5lZCAmJiBjYXN0SW50KGV4cGVjdGVkLCBzaXplKSAhPT0gZXhwZWN0ZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgJHtzaXplfS1iaXQgaW50ZWdlciwgZ290ICR7dmFsdWV9YCk7XG4gICAgfVxuICAgIHJldHVybiBleHBlY3RlZDtcbn07XG5jb25zdCBjYXN0SW50ID0gKHZhbHVlLCBzaXplKSA9PiB7XG4gICAgc3dpdGNoIChzaXplKSB7XG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICByZXR1cm4gSW50MzJBcnJheS5vZih2YWx1ZSlbMF07XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICByZXR1cm4gSW50MTZBcnJheS5vZih2YWx1ZSlbMF07XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIHJldHVybiBJbnQ4QXJyYXkub2YodmFsdWUpWzBdO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZXhwZWN0Tm9uTnVsbCA9ICh2YWx1ZSwgbG9jYXRpb24pID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGEgbm9uLW51bGwgdmFsdWUgZm9yICR7bG9jYXRpb259YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIGEgbm9uLW51bGwgdmFsdWVcIik7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5leHBvcnQgY29uc3QgZXhwZWN0T2JqZWN0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCByZWNlaXZlZFR5cGUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IFwiYXJyYXlcIiA6IHR5cGVvZiB2YWx1ZTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBvYmplY3QsIGdvdCAke3JlY2VpdmVkVHlwZX06ICR7dmFsdWV9YCk7XG59O1xuZXhwb3J0IGNvbnN0IGV4cGVjdFN0cmluZyA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoW1wiYm9vbGVhblwiLCBcIm51bWJlclwiLCBcImJpZ2ludFwiXS5pbmNsdWRlcyh0eXBlb2YgdmFsdWUpKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKHN0YWNrVHJhY2VXYXJuaW5nKGBFeHBlY3RlZCBzdHJpbmcsIGdvdCAke3R5cGVvZiB2YWx1ZX06ICR7dmFsdWV9YCkpO1xuICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgc3RyaW5nLCBnb3QgJHt0eXBlb2YgdmFsdWV9OiAke3ZhbHVlfWApO1xufTtcbmV4cG9ydCBjb25zdCBleHBlY3RVbmlvbiA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGFzT2JqZWN0ID0gZXhwZWN0T2JqZWN0KHZhbHVlKTtcbiAgICBjb25zdCBzZXRLZXlzID0gT2JqZWN0LmVudHJpZXMoYXNPYmplY3QpXG4gICAgICAgIC5maWx0ZXIoKFssIHZdKSA9PiB2ICE9IG51bGwpXG4gICAgICAgIC5tYXAoKFtrXSkgPT4gayk7XG4gICAgaWYgKHNldEtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFVuaW9ucyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgbm9uLW51bGwgbWVtYmVyLiBOb25lIHdlcmUgZm91bmQuYCk7XG4gICAgfVxuICAgIGlmIChzZXRLZXlzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5pb25zIG11c3QgaGF2ZSBleGFjdGx5IG9uZSBub24tbnVsbCBtZW1iZXIuIEtleXMgJHtzZXRLZXlzfSB3ZXJlIG5vdCBudWxsLmApO1xuICAgIH1cbiAgICByZXR1cm4gYXNPYmplY3Q7XG59O1xuZXhwb3J0IGNvbnN0IHN0cmljdFBhcnNlRG91YmxlID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBleHBlY3ROdW1iZXIocGFyc2VOdW1iZXIodmFsdWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGVjdE51bWJlcih2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IHN0cmljdFBhcnNlRmxvYXQgPSBzdHJpY3RQYXJzZURvdWJsZTtcbmV4cG9ydCBjb25zdCBzdHJpY3RQYXJzZUZsb2F0MzIgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdEZsb2F0MzIocGFyc2VOdW1iZXIodmFsdWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGVjdEZsb2F0MzIodmFsdWUpO1xufTtcbmNvbnN0IE5VTUJFUl9SRUdFWCA9IC8oLT8oPzowfFsxLTldXFxkKikoPzpcXC5cXGQrKT8oPzpbZUVdWystXT9cXGQrKT8pfCgtP0luZmluaXR5KXwoTmFOKS9nO1xuY29uc3QgcGFyc2VOdW1iZXIgPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBtYXRjaGVzID0gdmFsdWUubWF0Y2goTlVNQkVSX1JFR0VYKTtcbiAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCB8fCBtYXRjaGVzWzBdLmxlbmd0aCAhPT0gdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIHJlYWwgbnVtYmVyLCBnb3QgaW1wbGljaXQgTmFOYCk7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgbGltaXRlZFBhcnNlRG91YmxlID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0U3RyaW5nKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGVjdE51bWJlcih2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IGhhbmRsZUZsb2F0ID0gbGltaXRlZFBhcnNlRG91YmxlO1xuZXhwb3J0IGNvbnN0IGxpbWl0ZWRQYXJzZUZsb2F0ID0gbGltaXRlZFBhcnNlRG91YmxlO1xuZXhwb3J0IGNvbnN0IGxpbWl0ZWRQYXJzZUZsb2F0MzIgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXRTdHJpbmcodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gZXhwZWN0RmxvYXQzMih2YWx1ZSk7XG59O1xuY29uc3QgcGFyc2VGbG9hdFN0cmluZyA9ICh2YWx1ZSkgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgY2FzZSBcIk5hTlwiOlxuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgY2FzZSBcIkluZmluaXR5XCI6XG4gICAgICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgICAgIGNhc2UgXCItSW5maW5pdHlcIjpcbiAgICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBwYXJzZSBmbG9hdCB2YWx1ZTogJHt2YWx1ZX1gKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHN0cmljdFBhcnNlTG9uZyA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdExvbmcocGFyc2VOdW1iZXIodmFsdWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGVjdExvbmcodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBzdHJpY3RQYXJzZUludCA9IHN0cmljdFBhcnNlTG9uZztcbmV4cG9ydCBjb25zdCBzdHJpY3RQYXJzZUludDMyID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZXhwZWN0SW50MzIocGFyc2VOdW1iZXIodmFsdWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGVjdEludDMyKHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3Qgc3RyaWN0UGFyc2VTaG9ydCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdFNob3J0KHBhcnNlTnVtYmVyKHZhbHVlKSk7XG4gICAgfVxuICAgIHJldHVybiBleHBlY3RTaG9ydCh2YWx1ZSk7XG59O1xuZXhwb3J0IGNvbnN0IHN0cmljdFBhcnNlQnl0ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdEJ5dGUocGFyc2VOdW1iZXIodmFsdWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGVjdEJ5dGUodmFsdWUpO1xufTtcbmNvbnN0IHN0YWNrVHJhY2VXYXJuaW5nID0gKG1lc3NhZ2UpID0+IHtcbiAgICByZXR1cm4gU3RyaW5nKG5ldyBUeXBlRXJyb3IobWVzc2FnZSkuc3RhY2sgfHwgbWVzc2FnZSlcbiAgICAgICAgLnNwbGl0KFwiXFxuXCIpXG4gICAgICAgIC5zbGljZSgwLCA1KVxuICAgICAgICAuZmlsdGVyKChzKSA9PiAhcy5pbmNsdWRlcyhcInN0YWNrVHJhY2VXYXJuaW5nXCIpKVxuICAgICAgICAuam9pbihcIlxcblwiKTtcbn07XG5leHBvcnQgY29uc3QgbG9nZ2VyID0ge1xuICAgIHdhcm46IGNvbnNvbGUud2Fybixcbn07XG4iLCJpbXBvcnQgeyBzdHJpY3RQYXJzZUJ5dGUsIHN0cmljdFBhcnNlRG91YmxlLCBzdHJpY3RQYXJzZUZsb2F0MzIsIHN0cmljdFBhcnNlU2hvcnQgfSBmcm9tIFwiLi9wYXJzZS11dGlsc1wiO1xuY29uc3QgREFZUyA9IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXTtcbmNvbnN0IE1PTlRIUyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcbmV4cG9ydCBmdW5jdGlvbiBkYXRlVG9VdGNTdHJpbmcoZGF0ZSkge1xuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCk7XG4gICAgY29uc3QgbW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gICAgY29uc3QgZGF5T2ZXZWVrID0gZGF0ZS5nZXRVVENEYXkoKTtcbiAgICBjb25zdCBkYXlPZk1vbnRoSW50ID0gZGF0ZS5nZXRVVENEYXRlKCk7XG4gICAgY29uc3QgaG91cnNJbnQgPSBkYXRlLmdldFVUQ0hvdXJzKCk7XG4gICAgY29uc3QgbWludXRlc0ludCA9IGRhdGUuZ2V0VVRDTWludXRlcygpO1xuICAgIGNvbnN0IHNlY29uZHNJbnQgPSBkYXRlLmdldFVUQ1NlY29uZHMoKTtcbiAgICBjb25zdCBkYXlPZk1vbnRoU3RyaW5nID0gZGF5T2ZNb250aEludCA8IDEwID8gYDAke2RheU9mTW9udGhJbnR9YCA6IGAke2RheU9mTW9udGhJbnR9YDtcbiAgICBjb25zdCBob3Vyc1N0cmluZyA9IGhvdXJzSW50IDwgMTAgPyBgMCR7aG91cnNJbnR9YCA6IGAke2hvdXJzSW50fWA7XG4gICAgY29uc3QgbWludXRlc1N0cmluZyA9IG1pbnV0ZXNJbnQgPCAxMCA/IGAwJHttaW51dGVzSW50fWAgOiBgJHttaW51dGVzSW50fWA7XG4gICAgY29uc3Qgc2Vjb25kc1N0cmluZyA9IHNlY29uZHNJbnQgPCAxMCA/IGAwJHtzZWNvbmRzSW50fWAgOiBgJHtzZWNvbmRzSW50fWA7XG4gICAgcmV0dXJuIGAke0RBWVNbZGF5T2ZXZWVrXX0sICR7ZGF5T2ZNb250aFN0cmluZ30gJHtNT05USFNbbW9udGhdfSAke3llYXJ9ICR7aG91cnNTdHJpbmd9OiR7bWludXRlc1N0cmluZ306JHtzZWNvbmRzU3RyaW5nfSBHTVRgO1xufVxuY29uc3QgUkZDMzMzOSA9IG5ldyBSZWdFeHAoL14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KVt0VF0oXFxkezJ9KTooXFxkezJ9KTooXFxkezJ9KSg/OlxcLihcXGQrKSk/W3paXSQvKTtcbmV4cG9ydCBjb25zdCBwYXJzZVJmYzMzMzlEYXRlVGltZSA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJGQy0zMzM5IGRhdGUtdGltZXMgbXVzdCBiZSBleHByZXNzZWQgYXMgc3RyaW5nc1wiKTtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2ggPSBSRkMzMzM5LmV4ZWModmFsdWUpO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgUkZDLTMzMzkgZGF0ZS10aW1lIHZhbHVlXCIpO1xuICAgIH1cbiAgICBjb25zdCBbXywgeWVhclN0ciwgbW9udGhTdHIsIGRheVN0ciwgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIGZyYWN0aW9uYWxNaWxsaXNlY29uZHNdID0gbWF0Y2g7XG4gICAgY29uc3QgeWVhciA9IHN0cmljdFBhcnNlU2hvcnQoc3RyaXBMZWFkaW5nWmVyb2VzKHllYXJTdHIpKTtcbiAgICBjb25zdCBtb250aCA9IHBhcnNlRGF0ZVZhbHVlKG1vbnRoU3RyLCBcIm1vbnRoXCIsIDEsIDEyKTtcbiAgICBjb25zdCBkYXkgPSBwYXJzZURhdGVWYWx1ZShkYXlTdHIsIFwiZGF5XCIsIDEsIDMxKTtcbiAgICByZXR1cm4gYnVpbGREYXRlKHllYXIsIG1vbnRoLCBkYXksIHsgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIGZyYWN0aW9uYWxNaWxsaXNlY29uZHMgfSk7XG59O1xuY29uc3QgUkZDMzMzOV9XSVRIX09GRlNFVCA9IG5ldyBSZWdFeHAoL14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KVt0VF0oXFxkezJ9KTooXFxkezJ9KTooXFxkezJ9KSg/OlxcLihcXGQrKSk/KChbLStdXFxkezJ9XFw6XFxkezJ9KXxbelpdKSQvKTtcbmV4cG9ydCBjb25zdCBwYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJSRkMtMzMzOSBkYXRlLXRpbWVzIG11c3QgYmUgZXhwcmVzc2VkIGFzIHN0cmluZ3NcIik7XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoID0gUkZDMzMzOV9XSVRIX09GRlNFVC5leGVjKHZhbHVlKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIFJGQy0zMzM5IGRhdGUtdGltZSB2YWx1ZVwiKTtcbiAgICB9XG4gICAgY29uc3QgW18sIHllYXJTdHIsIG1vbnRoU3RyLCBkYXlTdHIsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBmcmFjdGlvbmFsTWlsbGlzZWNvbmRzLCBvZmZzZXRTdHJdID0gbWF0Y2g7XG4gICAgY29uc3QgeWVhciA9IHN0cmljdFBhcnNlU2hvcnQoc3RyaXBMZWFkaW5nWmVyb2VzKHllYXJTdHIpKTtcbiAgICBjb25zdCBtb250aCA9IHBhcnNlRGF0ZVZhbHVlKG1vbnRoU3RyLCBcIm1vbnRoXCIsIDEsIDEyKTtcbiAgICBjb25zdCBkYXkgPSBwYXJzZURhdGVWYWx1ZShkYXlTdHIsIFwiZGF5XCIsIDEsIDMxKTtcbiAgICBjb25zdCBkYXRlID0gYnVpbGREYXRlKHllYXIsIG1vbnRoLCBkYXksIHsgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIGZyYWN0aW9uYWxNaWxsaXNlY29uZHMgfSk7XG4gICAgaWYgKG9mZnNldFN0ci50b1VwcGVyQ2FzZSgpICE9IFwiWlwiKSB7XG4gICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSAtIHBhcnNlT2Zmc2V0VG9NaWxsaXNlY29uZHMob2Zmc2V0U3RyKSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRlO1xufTtcbmNvbnN0IElNRl9GSVhEQVRFID0gbmV3IFJlZ0V4cCgvXig/Ok1vbnxUdWV8V2VkfFRodXxGcml8U2F0fFN1biksIChcXGR7Mn0pIChKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYykgKFxcZHs0fSkgKFxcZHsxLDJ9KTooXFxkezJ9KTooXFxkezJ9KSg/OlxcLihcXGQrKSk/IEdNVCQvKTtcbmNvbnN0IFJGQ184NTBfREFURSA9IG5ldyBSZWdFeHAoL14oPzpNb25kYXl8VHVlc2RheXxXZWRuZXNkYXl8VGh1cnNkYXl8RnJpZGF5fFNhdHVyZGF5fFN1bmRheSksIChcXGR7Mn0pLShKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYyktKFxcZHsyfSkgKFxcZHsxLDJ9KTooXFxkezJ9KTooXFxkezJ9KSg/OlxcLihcXGQrKSk/IEdNVCQvKTtcbmNvbnN0IEFTQ19USU1FID0gbmV3IFJlZ0V4cCgvXig/Ok1vbnxUdWV8V2VkfFRodXxGcml8U2F0fFN1bikgKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKSAoIFsxLTldfFxcZHsyfSkgKFxcZHsxLDJ9KTooXFxkezJ9KTooXFxkezJ9KSg/OlxcLihcXGQrKSk/IChcXGR7NH0pJC8pO1xuZXhwb3J0IGNvbnN0IHBhcnNlUmZjNzIzMURhdGVUaW1lID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUkZDLTcyMzEgZGF0ZS10aW1lcyBtdXN0IGJlIGV4cHJlc3NlZCBhcyBzdHJpbmdzXCIpO1xuICAgIH1cbiAgICBsZXQgbWF0Y2ggPSBJTUZfRklYREFURS5leGVjKHZhbHVlKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgY29uc3QgW18sIGRheVN0ciwgbW9udGhTdHIsIHllYXJTdHIsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBmcmFjdGlvbmFsTWlsbGlzZWNvbmRzXSA9IG1hdGNoO1xuICAgICAgICByZXR1cm4gYnVpbGREYXRlKHN0cmljdFBhcnNlU2hvcnQoc3RyaXBMZWFkaW5nWmVyb2VzKHllYXJTdHIpKSwgcGFyc2VNb250aEJ5U2hvcnROYW1lKG1vbnRoU3RyKSwgcGFyc2VEYXRlVmFsdWUoZGF5U3RyLCBcImRheVwiLCAxLCAzMSksIHsgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIGZyYWN0aW9uYWxNaWxsaXNlY29uZHMgfSk7XG4gICAgfVxuICAgIG1hdGNoID0gUkZDXzg1MF9EQVRFLmV4ZWModmFsdWUpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBjb25zdCBbXywgZGF5U3RyLCBtb250aFN0ciwgeWVhclN0ciwgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIGZyYWN0aW9uYWxNaWxsaXNlY29uZHNdID0gbWF0Y2g7XG4gICAgICAgIHJldHVybiBhZGp1c3RSZmM4NTBZZWFyKGJ1aWxkRGF0ZShwYXJzZVR3b0RpZ2l0WWVhcih5ZWFyU3RyKSwgcGFyc2VNb250aEJ5U2hvcnROYW1lKG1vbnRoU3RyKSwgcGFyc2VEYXRlVmFsdWUoZGF5U3RyLCBcImRheVwiLCAxLCAzMSksIHtcbiAgICAgICAgICAgIGhvdXJzLFxuICAgICAgICAgICAgbWludXRlcyxcbiAgICAgICAgICAgIHNlY29uZHMsXG4gICAgICAgICAgICBmcmFjdGlvbmFsTWlsbGlzZWNvbmRzLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIG1hdGNoID0gQVNDX1RJTUUuZXhlYyh2YWx1ZSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IFtfLCBtb250aFN0ciwgZGF5U3RyLCBob3VycywgbWludXRlcywgc2Vjb25kcywgZnJhY3Rpb25hbE1pbGxpc2Vjb25kcywgeWVhclN0cl0gPSBtYXRjaDtcbiAgICAgICAgcmV0dXJuIGJ1aWxkRGF0ZShzdHJpY3RQYXJzZVNob3J0KHN0cmlwTGVhZGluZ1plcm9lcyh5ZWFyU3RyKSksIHBhcnNlTW9udGhCeVNob3J0TmFtZShtb250aFN0ciksIHBhcnNlRGF0ZVZhbHVlKGRheVN0ci50cmltTGVmdCgpLCBcImRheVwiLCAxLCAzMSksIHsgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIGZyYWN0aW9uYWxNaWxsaXNlY29uZHMgfSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIFJGQy03MjMxIGRhdGUtdGltZSB2YWx1ZVwiKTtcbn07XG5leHBvcnQgY29uc3QgcGFyc2VFcG9jaFRpbWVzdGFtcCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGxldCB2YWx1ZUFzRG91YmxlO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdmFsdWVBc0RvdWJsZSA9IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdmFsdWVBc0RvdWJsZSA9IHN0cmljdFBhcnNlRG91YmxlKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFcG9jaCB0aW1lc3RhbXBzIG11c3QgYmUgZXhwcmVzc2VkIGFzIGZsb2F0aW5nIHBvaW50IG51bWJlcnMgb3IgdGhlaXIgc3RyaW5nIHJlcHJlc2VudGF0aW9uXCIpO1xuICAgIH1cbiAgICBpZiAoTnVtYmVyLmlzTmFOKHZhbHVlQXNEb3VibGUpIHx8IHZhbHVlQXNEb3VibGUgPT09IEluZmluaXR5IHx8IHZhbHVlQXNEb3VibGUgPT09IC1JbmZpbml0eSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXBvY2ggdGltZXN0YW1wcyBtdXN0IGJlIHZhbGlkLCBub24tSW5maW5pdGUsIG5vbi1OYU4gbnVtZXJpY3NcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRGF0ZShNYXRoLnJvdW5kKHZhbHVlQXNEb3VibGUgKiAxMDAwKSk7XG59O1xuY29uc3QgYnVpbGREYXRlID0gKHllYXIsIG1vbnRoLCBkYXksIHRpbWUpID0+IHtcbiAgICBjb25zdCBhZGp1c3RlZE1vbnRoID0gbW9udGggLSAxO1xuICAgIHZhbGlkYXRlRGF5T2ZNb250aCh5ZWFyLCBhZGp1c3RlZE1vbnRoLCBkYXkpO1xuICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBhZGp1c3RlZE1vbnRoLCBkYXksIHBhcnNlRGF0ZVZhbHVlKHRpbWUuaG91cnMsIFwiaG91clwiLCAwLCAyMyksIHBhcnNlRGF0ZVZhbHVlKHRpbWUubWludXRlcywgXCJtaW51dGVcIiwgMCwgNTkpLCBwYXJzZURhdGVWYWx1ZSh0aW1lLnNlY29uZHMsIFwic2Vjb25kc1wiLCAwLCA2MCksIHBhcnNlTWlsbGlzZWNvbmRzKHRpbWUuZnJhY3Rpb25hbE1pbGxpc2Vjb25kcykpKTtcbn07XG5jb25zdCBwYXJzZVR3b0RpZ2l0WWVhciA9ICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHRoaXNZZWFyID0gbmV3IERhdGUoKS5nZXRVVENGdWxsWWVhcigpO1xuICAgIGNvbnN0IHZhbHVlSW5UaGlzQ2VudHVyeSA9IE1hdGguZmxvb3IodGhpc1llYXIgLyAxMDApICogMTAwICsgc3RyaWN0UGFyc2VTaG9ydChzdHJpcExlYWRpbmdaZXJvZXModmFsdWUpKTtcbiAgICBpZiAodmFsdWVJblRoaXNDZW50dXJ5IDwgdGhpc1llYXIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlSW5UaGlzQ2VudHVyeSArIDEwMDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlSW5UaGlzQ2VudHVyeTtcbn07XG5jb25zdCBGSUZUWV9ZRUFSU19JTl9NSUxMSVMgPSA1MCAqIDM2NSAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG5jb25zdCBhZGp1c3RSZmM4NTBZZWFyID0gKGlucHV0KSA9PiB7XG4gICAgaWYgKGlucHV0LmdldFRpbWUoKSAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpID4gRklGVFlfWUVBUlNfSU5fTUlMTElTKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyhpbnB1dC5nZXRVVENGdWxsWWVhcigpIC0gMTAwLCBpbnB1dC5nZXRVVENNb250aCgpLCBpbnB1dC5nZXRVVENEYXRlKCksIGlucHV0LmdldFVUQ0hvdXJzKCksIGlucHV0LmdldFVUQ01pbnV0ZXMoKSwgaW5wdXQuZ2V0VVRDU2Vjb25kcygpLCBpbnB1dC5nZXRVVENNaWxsaXNlY29uZHMoKSkpO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQ7XG59O1xuY29uc3QgcGFyc2VNb250aEJ5U2hvcnROYW1lID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgbW9udGhJZHggPSBNT05USFMuaW5kZXhPZih2YWx1ZSk7XG4gICAgaWYgKG1vbnRoSWR4IDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIG1vbnRoOiAke3ZhbHVlfWApO1xuICAgIH1cbiAgICByZXR1cm4gbW9udGhJZHggKyAxO1xufTtcbmNvbnN0IERBWVNfSU5fTU9OVEggPSBbMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07XG5jb25zdCB2YWxpZGF0ZURheU9mTW9udGggPSAoeWVhciwgbW9udGgsIGRheSkgPT4ge1xuICAgIGxldCBtYXhEYXlzID0gREFZU19JTl9NT05USFttb250aF07XG4gICAgaWYgKG1vbnRoID09PSAxICYmIGlzTGVhcFllYXIoeWVhcikpIHtcbiAgICAgICAgbWF4RGF5cyA9IDI5O1xuICAgIH1cbiAgICBpZiAoZGF5ID4gbWF4RGF5cykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIGRheSBmb3IgJHtNT05USFNbbW9udGhdfSBpbiAke3llYXJ9OiAke2RheX1gKTtcbiAgICB9XG59O1xuY29uc3QgaXNMZWFwWWVhciA9ICh5ZWFyKSA9PiB7XG4gICAgcmV0dXJuIHllYXIgJSA0ID09PSAwICYmICh5ZWFyICUgMTAwICE9PSAwIHx8IHllYXIgJSA0MDAgPT09IDApO1xufTtcbmNvbnN0IHBhcnNlRGF0ZVZhbHVlID0gKHZhbHVlLCB0eXBlLCBsb3dlciwgdXBwZXIpID0+IHtcbiAgICBjb25zdCBkYXRlVmFsID0gc3RyaWN0UGFyc2VCeXRlKHN0cmlwTGVhZGluZ1plcm9lcyh2YWx1ZSkpO1xuICAgIGlmIChkYXRlVmFsIDwgbG93ZXIgfHwgZGF0ZVZhbCA+IHVwcGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dHlwZX0gbXVzdCBiZSBiZXR3ZWVuICR7bG93ZXJ9IGFuZCAke3VwcGVyfSwgaW5jbHVzaXZlYCk7XG4gICAgfVxuICAgIHJldHVybiBkYXRlVmFsO1xufTtcbmNvbnN0IHBhcnNlTWlsbGlzZWNvbmRzID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBzdHJpY3RQYXJzZUZsb2F0MzIoXCIwLlwiICsgdmFsdWUpICogMTAwMDtcbn07XG5jb25zdCBwYXJzZU9mZnNldFRvTWlsbGlzZWNvbmRzID0gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgZGlyZWN0aW9uU3RyID0gdmFsdWVbMF07XG4gICAgbGV0IGRpcmVjdGlvbiA9IDE7XG4gICAgaWYgKGRpcmVjdGlvblN0ciA9PSBcIitcIikge1xuICAgICAgICBkaXJlY3Rpb24gPSAxO1xuICAgIH1cbiAgICBlbHNlIGlmIChkaXJlY3Rpb25TdHIgPT0gXCItXCIpIHtcbiAgICAgICAgZGlyZWN0aW9uID0gLTE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBPZmZzZXQgZGlyZWN0aW9uLCAke2RpcmVjdGlvblN0cn0sIG11c3QgYmUgXCIrXCIgb3IgXCItXCJgKTtcbiAgICB9XG4gICAgY29uc3QgaG91ciA9IE51bWJlcih2YWx1ZS5zdWJzdHJpbmcoMSwgMykpO1xuICAgIGNvbnN0IG1pbnV0ZSA9IE51bWJlcih2YWx1ZS5zdWJzdHJpbmcoNCwgNikpO1xuICAgIHJldHVybiBkaXJlY3Rpb24gKiAoaG91ciAqIDYwICsgbWludXRlKSAqIDYwICogMTAwMDtcbn07XG5jb25zdCBzdHJpcExlYWRpbmdaZXJvZXMgPSAodmFsdWUpID0+IHtcbiAgICBsZXQgaWR4ID0gMDtcbiAgICB3aGlsZSAoaWR4IDwgdmFsdWUubGVuZ3RoIC0gMSAmJiB2YWx1ZS5jaGFyQXQoaWR4KSA9PT0gXCIwXCIpIHtcbiAgICAgICAgaWR4Kys7XG4gICAgfVxuICAgIGlmIChpZHggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUuc2xpY2UoaWR4KTtcbn07XG4iLCJleHBvcnQgY2xhc3MgU2VydmljZUV4Y2VwdGlvbiBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMubWVzc2FnZSk7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBTZXJ2aWNlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZTtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBvcHRpb25zLiRmYXVsdDtcbiAgICAgICAgdGhpcy4kbWV0YWRhdGEgPSBvcHRpb25zLiRtZXRhZGF0YTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uID0gKGV4Y2VwdGlvbiwgYWRkaXRpb25zID0ge30pID0+IHtcbiAgICBPYmplY3QuZW50cmllcyhhZGRpdGlvbnMpXG4gICAgICAgIC5maWx0ZXIoKFssIHZdKSA9PiB2ICE9PSB1bmRlZmluZWQpXG4gICAgICAgIC5mb3JFYWNoKChbaywgdl0pID0+IHtcbiAgICAgICAgaWYgKGV4Y2VwdGlvbltrXSA9PSB1bmRlZmluZWQgfHwgZXhjZXB0aW9uW2tdID09PSBcIlwiKSB7XG4gICAgICAgICAgICBleGNlcHRpb25ba10gPSB2O1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgbWVzc2FnZSA9IGV4Y2VwdGlvbi5tZXNzYWdlIHx8IGV4Y2VwdGlvbi5NZXNzYWdlIHx8IFwiVW5rbm93bkVycm9yXCI7XG4gICAgZXhjZXB0aW9uLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIGRlbGV0ZSBleGNlcHRpb24uTWVzc2FnZTtcbiAgICByZXR1cm4gZXhjZXB0aW9uO1xufTtcbiIsImltcG9ydCB7IGRlY29yYXRlU2VydmljZUV4Y2VwdGlvbiB9IGZyb20gXCIuL2V4Y2VwdGlvbnNcIjtcbmV4cG9ydCBjb25zdCB0aHJvd0RlZmF1bHRFcnJvciA9ICh7IG91dHB1dCwgcGFyc2VkQm9keSwgZXhjZXB0aW9uQ3RvciwgZXJyb3JDb2RlIH0pID0+IHtcbiAgICBjb25zdCAkbWV0YWRhdGEgPSBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCk7XG4gICAgY29uc3Qgc3RhdHVzQ29kZSA9ICRtZXRhZGF0YS5odHRwU3RhdHVzQ29kZSA/ICRtZXRhZGF0YS5odHRwU3RhdHVzQ29kZSArIFwiXCIgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgZXhjZXB0aW9uQ3Rvcih7XG4gICAgICAgIG5hbWU6IHBhcnNlZEJvZHk/LmNvZGUgfHwgcGFyc2VkQm9keT8uQ29kZSB8fCBlcnJvckNvZGUgfHwgc3RhdHVzQ29kZSB8fCBcIlVua25vd25FcnJvclwiLFxuICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICRtZXRhZGF0YSxcbiAgICB9KTtcbiAgICB0aHJvdyBkZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24ocmVzcG9uc2UsIHBhcnNlZEJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCB3aXRoQmFzZUV4Y2VwdGlvbiA9IChFeGNlcHRpb25DdG9yKSA9PiB7XG4gICAgcmV0dXJuICh7IG91dHB1dCwgcGFyc2VkQm9keSwgZXJyb3JDb2RlIH0pID0+IHtcbiAgICAgICAgdGhyb3dEZWZhdWx0RXJyb3IoeyBvdXRwdXQsIHBhcnNlZEJvZHksIGV4Y2VwdGlvbkN0b3I6IEV4Y2VwdGlvbkN0b3IsIGVycm9yQ29kZSB9KTtcbiAgICB9O1xufTtcbmNvbnN0IGRlc2VyaWFsaXplTWV0YWRhdGEgPSAob3V0cHV0KSA9PiAoe1xuICAgIGh0dHBTdGF0dXNDb2RlOiBvdXRwdXQuc3RhdHVzQ29kZSxcbiAgICByZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3RpZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0LWlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXotcmVxdWVzdC1pZFwiXSxcbiAgICBleHRlbmRlZFJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1pZC0yXCJdLFxuICAgIGNmSWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotY2YtaWRcIl0sXG59KTtcbiIsImV4cG9ydCBjb25zdCBsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlID0gKG1vZGUpID0+IHtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgY2FzZSBcInN0YW5kYXJkXCI6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJldHJ5TW9kZTogXCJzdGFuZGFyZFwiLFxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25UaW1lb3V0OiAzMTAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBcImluLXJlZ2lvblwiOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXRyeU1vZGU6IFwic3RhbmRhcmRcIixcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uVGltZW91dDogMTEwMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgXCJjcm9zcy1yZWdpb25cIjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmV0cnlNb2RlOiBcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ6IDMxMDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFwibW9iaWxlXCI6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJldHJ5TW9kZTogXCJzdGFuZGFyZFwiLFxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25UaW1lb3V0OiAzMDAwMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgfVxufTtcbiIsImxldCB3YXJuaW5nRW1pdHRlZCA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24gPSAodmVyc2lvbikgPT4ge1xuICAgIGlmICh2ZXJzaW9uICYmICF3YXJuaW5nRW1pdHRlZCAmJiBwYXJzZUludCh2ZXJzaW9uLnN1YnN0cmluZygxLCB2ZXJzaW9uLmluZGV4T2YoXCIuXCIpKSkgPCAxNCkge1xuICAgICAgICB3YXJuaW5nRW1pdHRlZCA9IHRydWU7XG4gICAgfVxufTtcbiIsImV4cG9ydCBmdW5jdGlvbiBleHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudChzdHIpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvWyEnKCkqXS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gXCIlXCIgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG59XG4iLCJleHBvcnQgY29uc3QgZ2V0VmFsdWVGcm9tVGV4dE5vZGUgPSAob2JqKSA9PiB7XG4gICAgY29uc3QgdGV4dE5vZGVOYW1lID0gXCIjdGV4dFwiO1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkgJiYgb2JqW2tleV1bdGV4dE5vZGVOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IG9ialtrZXldW3RleHROb2RlTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9ialtrZXldID09PSBcIm9iamVjdFwiICYmIG9ialtrZXldICE9PSBudWxsKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IGdldFZhbHVlRnJvbVRleHROb2RlKG9ialtrZXldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufTtcbiIsImV4cG9ydCBjb25zdCBTdHJpbmdXcmFwcGVyID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IENsYXNzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yO1xuICAgIGNvbnN0IENvbnN0cnVjdG9yID0gRnVuY3Rpb24uYmluZC5hcHBseShTdHJpbmcsIFtudWxsLCAuLi5hcmd1bWVudHNdKTtcbiAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG59O1xuU3RyaW5nV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0cmluZy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogU3RyaW5nV3JhcHBlcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSxcbn0pO1xuT2JqZWN0LnNldFByb3RvdHlwZU9mKFN0cmluZ1dyYXBwZXIsIFN0cmluZyk7XG5leHBvcnQgY2xhc3MgTGF6eUpzb25TdHJpbmcgZXh0ZW5kcyBTdHJpbmdXcmFwcGVyIHtcbiAgICBkZXNlcmlhbGl6ZUpTT04oKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN1cGVyLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiBzdXBlci50b1N0cmluZygpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIExhenlKc29uU3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9iamVjdCBpbnN0YW5jZW9mIFN0cmluZyB8fCB0eXBlb2Ygb2JqZWN0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExhenlKc29uU3RyaW5nKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5SnNvblN0cmluZyhKU09OLnN0cmluZ2lmeShvYmplY3QpKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gbWFwKGFyZzAsIGFyZzEsIGFyZzIpIHtcbiAgICBsZXQgdGFyZ2V0O1xuICAgIGxldCBmaWx0ZXI7XG4gICAgbGV0IGluc3RydWN0aW9ucztcbiAgICBpZiAodHlwZW9mIGFyZzEgPT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGFyZzIgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgdGFyZ2V0ID0ge307XG4gICAgICAgIGluc3RydWN0aW9ucyA9IGFyZzA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0YXJnZXQgPSBhcmcwO1xuICAgICAgICBpZiAodHlwZW9mIGFyZzEgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgZmlsdGVyID0gYXJnMTtcbiAgICAgICAgICAgIGluc3RydWN0aW9ucyA9IGFyZzI7XG4gICAgICAgICAgICByZXR1cm4gbWFwV2l0aEZpbHRlcih0YXJnZXQsIGZpbHRlciwgaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluc3RydWN0aW9ucyA9IGFyZzE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoaW5zdHJ1Y3Rpb25zKSkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5zdHJ1Y3Rpb25zW2tleV0pKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IGluc3RydWN0aW9uc1trZXldO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgYXBwbHlJbnN0cnVjdGlvbih0YXJnZXQsIG51bGwsIGluc3RydWN0aW9ucywga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmV4cG9ydCBjb25zdCBjb252ZXJ0TWFwID0gKHRhcmdldCkgPT4ge1xuICAgIGNvbnN0IG91dHB1dCA9IHt9O1xuICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHRhcmdldCB8fCB7fSkpIHtcbiAgICAgICAgb3V0cHV0W2tdID0gWywgdl07XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59O1xuZXhwb3J0IGNvbnN0IHRha2UgPSAoc291cmNlLCBpbnN0cnVjdGlvbnMpID0+IHtcbiAgICBjb25zdCBvdXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgYXBwbHlJbnN0cnVjdGlvbihvdXQsIHNvdXJjZSwgaW5zdHJ1Y3Rpb25zLCBrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufTtcbmNvbnN0IG1hcFdpdGhGaWx0ZXIgPSAodGFyZ2V0LCBmaWx0ZXIsIGluc3RydWN0aW9ucykgPT4ge1xuICAgIHJldHVybiBtYXAodGFyZ2V0LCBPYmplY3QuZW50cmllcyhpbnN0cnVjdGlvbnMpLnJlZHVjZSgoX2luc3RydWN0aW9ucywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgX2luc3RydWN0aW9uc1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBfaW5zdHJ1Y3Rpb25zW2tleV0gPSBbZmlsdGVyLCB2YWx1ZSgpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF9pbnN0cnVjdGlvbnNba2V5XSA9IFtmaWx0ZXIsIHZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2luc3RydWN0aW9ucztcbiAgICB9LCB7fSkpO1xufTtcbmNvbnN0IGFwcGx5SW5zdHJ1Y3Rpb24gPSAodGFyZ2V0LCBzb3VyY2UsIGluc3RydWN0aW9ucywgdGFyZ2V0S2V5KSA9PiB7XG4gICAgaWYgKHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICBsZXQgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbnNbdGFyZ2V0S2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0cnVjdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IFssIGluc3RydWN0aW9uXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbZmlsdGVyID0gbm9uTnVsbGlzaCwgdmFsdWVGbiA9IHBhc3MsIHNvdXJjZUtleSA9IHRhcmdldEtleV0gPSBpbnN0cnVjdGlvbjtcbiAgICAgICAgaWYgKCh0eXBlb2YgZmlsdGVyID09PSBcImZ1bmN0aW9uXCIgJiYgZmlsdGVyKHNvdXJjZVtzb3VyY2VLZXldKSkgfHwgKHR5cGVvZiBmaWx0ZXIgIT09IFwiZnVuY3Rpb25cIiAmJiAhIWZpbHRlcikpIHtcbiAgICAgICAgICAgIHRhcmdldFt0YXJnZXRLZXldID0gdmFsdWVGbihzb3VyY2Vbc291cmNlS2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgW2ZpbHRlciwgdmFsdWVdID0gaW5zdHJ1Y3Rpb25zW3RhcmdldEtleV07XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGxldCBfdmFsdWU7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRGaWx0ZXJQYXNzZWQgPSBmaWx0ZXIgPT09IHVuZGVmaW5lZCAmJiAoX3ZhbHVlID0gdmFsdWUoKSkgIT0gbnVsbDtcbiAgICAgICAgY29uc3QgY3VzdG9tRmlsdGVyUGFzc2VkID0gKHR5cGVvZiBmaWx0ZXIgPT09IFwiZnVuY3Rpb25cIiAmJiAhIWZpbHRlcih2b2lkIDApKSB8fCAodHlwZW9mIGZpbHRlciAhPT0gXCJmdW5jdGlvblwiICYmICEhZmlsdGVyKTtcbiAgICAgICAgaWYgKGRlZmF1bHRGaWx0ZXJQYXNzZWQpIHtcbiAgICAgICAgICAgIHRhcmdldFt0YXJnZXRLZXldID0gX3ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1c3RvbUZpbHRlclBhc3NlZCkge1xuICAgICAgICAgICAgdGFyZ2V0W3RhcmdldEtleV0gPSB2YWx1ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBkZWZhdWx0RmlsdGVyUGFzc2VkID0gZmlsdGVyID09PSB1bmRlZmluZWQgJiYgdmFsdWUgIT0gbnVsbDtcbiAgICAgICAgY29uc3QgY3VzdG9tRmlsdGVyUGFzc2VkID0gKHR5cGVvZiBmaWx0ZXIgPT09IFwiZnVuY3Rpb25cIiAmJiAhIWZpbHRlcih2YWx1ZSkpIHx8ICh0eXBlb2YgZmlsdGVyICE9PSBcImZ1bmN0aW9uXCIgJiYgISFmaWx0ZXIpO1xuICAgICAgICBpZiAoZGVmYXVsdEZpbHRlclBhc3NlZCB8fCBjdXN0b21GaWx0ZXJQYXNzZWQpIHtcbiAgICAgICAgICAgIHRhcmdldFt0YXJnZXRLZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3Qgbm9uTnVsbGlzaCA9IChfKSA9PiBfICE9IG51bGw7XG5jb25zdCBwYXNzID0gKF8pID0+IF87XG4iLCJpbXBvcnQgeyBleHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCB9IGZyb20gXCIuL2V4dGVuZGVkLWVuY29kZS11cmktY29tcG9uZW50XCI7XG5leHBvcnQgY29uc3QgcmVzb2x2ZWRQYXRoID0gKHJlc29sdmVkUGF0aCwgaW5wdXQsIG1lbWJlck5hbWUsIGxhYmVsVmFsdWVQcm92aWRlciwgdXJpTGFiZWwsIGlzR3JlZWR5TGFiZWwpID0+IHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCAmJiBpbnB1dFttZW1iZXJOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGxhYmVsVmFsdWUgPSBsYWJlbFZhbHVlUHJvdmlkZXIoKTtcbiAgICAgICAgaWYgKGxhYmVsVmFsdWUubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVtcHR5IHZhbHVlIHByb3ZpZGVkIGZvciBpbnB1dCBIVFRQIGxhYmVsOiBcIiArIG1lbWJlck5hbWUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZWRQYXRoID0gcmVzb2x2ZWRQYXRoLnJlcGxhY2UodXJpTGFiZWwsIGlzR3JlZWR5TGFiZWxcbiAgICAgICAgICAgID8gbGFiZWxWYWx1ZVxuICAgICAgICAgICAgICAgIC5zcGxpdChcIi9cIilcbiAgICAgICAgICAgICAgICAubWFwKChzZWdtZW50KSA9PiBleHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudChzZWdtZW50KSlcbiAgICAgICAgICAgICAgICAuam9pbihcIi9cIilcbiAgICAgICAgICAgIDogZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQobGFiZWxWYWx1ZSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdmFsdWUgcHJvdmlkZWQgZm9yIGlucHV0IEhUVFAgbGFiZWw6IFwiICsgbWVtYmVyTmFtZSArIFwiLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc29sdmVkUGF0aDtcbn07XG4iLCJleHBvcnQgY29uc3Qgc2VyaWFsaXplRmxvYXQgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBcIk5hTlwiO1xuICAgIH1cbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgSW5maW5pdHk6XG4gICAgICAgICAgICByZXR1cm4gXCJJbmZpbml0eVwiO1xuICAgICAgICBjYXNlIC1JbmZpbml0eTpcbiAgICAgICAgICAgIHJldHVybiBcIi1JbmZpbml0eVwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn07XG4iLCJleHBvcnQgY29uc3QgX2pzb24gPSAob2JqKSA9PiB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICByZXR1cm4gb2JqLmZpbHRlcigoXykgPT4gXyAhPSBudWxsKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG9iaikpIHtcbiAgICAgICAgICAgIGlmIChvYmpba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IF9qc29uKG9ialtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufTtcbiIsImltcG9ydCB7IFNlcnZpY2VFeGNlcHRpb24gYXMgX19TZXJ2aWNlRXhjZXB0aW9uLCB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgeyBfX1NlcnZpY2VFeGNlcHRpb24gfTtcbmV4cG9ydCBjbGFzcyBTVFNTZXJ2aWNlRXhjZXB0aW9uIGV4dGVuZHMgX19TZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgU1RTU2VydmljZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNFTlNJVElWRV9TVFJJTkcgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgU1RTU2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi9TVFNTZXJ2aWNlRXhjZXB0aW9uXCI7XG5leHBvcnQgY2xhc3MgRXhwaXJlZFRva2VuRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRXhwaXJlZFRva2VuRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFeHBpcmVkVG9rZW5FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRXhwaXJlZFRva2VuRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE1hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlBhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFBhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIElEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJRFBSZWplY3RlZENsYWltRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJRFBSZWplY3RlZENsYWltRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIElEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZEF1dGhvcml6YXRpb25NZXNzYWdlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBDcmVkZW50aWFsc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU2VjcmV0QWNjZXNzS2V5ICYmIHsgU2VjcmV0QWNjZXNzS2V5OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQXNzdW1lUm9sZVJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DcmVkZW50aWFscyAmJiB7IENyZWRlbnRpYWxzOiBDcmVkZW50aWFsc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ3JlZGVudGlhbHMpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQXNzdW1lUm9sZVdpdGhTQU1MUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU0FNTEFzc2VydGlvbiAmJiB7IFNBTUxBc3NlcnRpb246IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBBc3N1bWVSb2xlV2l0aFNBTUxSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3JlZGVudGlhbHMgJiYgeyBDcmVkZW50aWFsczogQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNyZWRlbnRpYWxzKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5XZWJJZGVudGl0eVRva2VuICYmIHsgV2ViSWRlbnRpdHlUb2tlbjogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3JlZGVudGlhbHMgJiYgeyBDcmVkZW50aWFsczogQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNyZWRlbnRpYWxzKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEdldEZlZGVyYXRpb25Ub2tlblJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DcmVkZW50aWFscyAmJiB7IENyZWRlbnRpYWxzOiBDcmVkZW50aWFsc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ3JlZGVudGlhbHMpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgR2V0U2Vzc2lvblRva2VuUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNyZWRlbnRpYWxzICYmIHsgQ3JlZGVudGlhbHM6IENyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5DcmVkZW50aWFscykgfSksXG59KTtcbiIsImV4cG9ydCB2YXIgRmllbGRQb3NpdGlvbjtcbihmdW5jdGlvbiAoRmllbGRQb3NpdGlvbikge1xuICAgIEZpZWxkUG9zaXRpb25bRmllbGRQb3NpdGlvbltcIkhFQURFUlwiXSA9IDBdID0gXCJIRUFERVJcIjtcbiAgICBGaWVsZFBvc2l0aW9uW0ZpZWxkUG9zaXRpb25bXCJUUkFJTEVSXCJdID0gMV0gPSBcIlRSQUlMRVJcIjtcbn0pKEZpZWxkUG9zaXRpb24gfHwgKEZpZWxkUG9zaXRpb24gPSB7fSkpO1xuIiwiZXhwb3J0IGNsYXNzIEh0dHBSZXF1ZXN0IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIjtcbiAgICAgICAgdGhpcy5ob3N0bmFtZSA9IG9wdGlvbnMuaG9zdG5hbWUgfHwgXCJsb2NhbGhvc3RcIjtcbiAgICAgICAgdGhpcy5wb3J0ID0gb3B0aW9ucy5wb3J0O1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gb3B0aW9ucy5xdWVyeSB8fCB7fTtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICB0aGlzLmJvZHkgPSBvcHRpb25zLmJvZHk7XG4gICAgICAgIHRoaXMucHJvdG9jb2wgPSBvcHRpb25zLnByb3RvY29sXG4gICAgICAgICAgICA/IG9wdGlvbnMucHJvdG9jb2wuc2xpY2UoLTEpICE9PSBcIjpcIlxuICAgICAgICAgICAgICAgID8gYCR7b3B0aW9ucy5wcm90b2NvbH06YFxuICAgICAgICAgICAgICAgIDogb3B0aW9ucy5wcm90b2NvbFxuICAgICAgICAgICAgOiBcImh0dHBzOlwiO1xuICAgICAgICB0aGlzLnBhdGggPSBvcHRpb25zLnBhdGggPyAob3B0aW9ucy5wYXRoLmNoYXJBdCgwKSAhPT0gXCIvXCIgPyBgLyR7b3B0aW9ucy5wYXRofWAgOiBvcHRpb25zLnBhdGgpIDogXCIvXCI7XG4gICAgfVxuICAgIHN0YXRpYyBpc0luc3RhbmNlKHJlcXVlc3QpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCByZXEgPSByZXF1ZXN0O1xuICAgICAgICByZXR1cm4gKFwibWV0aG9kXCIgaW4gcmVxICYmXG4gICAgICAgICAgICBcInByb3RvY29sXCIgaW4gcmVxICYmXG4gICAgICAgICAgICBcImhvc3RuYW1lXCIgaW4gcmVxICYmXG4gICAgICAgICAgICBcInBhdGhcIiBpbiByZXEgJiZcbiAgICAgICAgICAgIHR5cGVvZiByZXFbXCJxdWVyeVwiXSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgdHlwZW9mIHJlcVtcImhlYWRlcnNcIl0gPT09IFwib2JqZWN0XCIpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgY29uc3QgY2xvbmVkID0gbmV3IEh0dHBSZXF1ZXN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLnRoaXMuaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNsb25lZC5xdWVyeSlcbiAgICAgICAgICAgIGNsb25lZC5xdWVyeSA9IGNsb25lUXVlcnkoY2xvbmVkLnF1ZXJ5KTtcbiAgICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9XG59XG5mdW5jdGlvbiBjbG9uZVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHF1ZXJ5KS5yZWR1Y2UoKGNhcnJ5LCBwYXJhbU5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgcGFyYW0gPSBxdWVyeVtwYXJhbU5hbWVdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY2FycnksXG4gICAgICAgICAgICBbcGFyYW1OYW1lXTogQXJyYXkuaXNBcnJheShwYXJhbSkgPyBbLi4ucGFyYW1dIDogcGFyYW0sXG4gICAgICAgIH07XG4gICAgfSwge30pO1xufVxuIiwiaW1wb3J0IHsgZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uLCBleHBlY3ROb25OdWxsIGFzIF9fZXhwZWN0Tm9uTnVsbCwgZXhwZWN0U3RyaW5nIGFzIF9fZXhwZWN0U3RyaW5nLCBleHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCBhcyBfX2V4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50LCBnZXRWYWx1ZUZyb21UZXh0Tm9kZSBhcyBfX2dldFZhbHVlRnJvbVRleHROb2RlLCBwYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQgYXMgX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQsIHN0cmljdFBhcnNlSW50MzIgYXMgX19zdHJpY3RQYXJzZUludDMyLCB3aXRoQmFzZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgSHR0cFJlcXVlc3QgYXMgX19IdHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IFhNTFBhcnNlciB9IGZyb20gXCJmYXN0LXhtbC1wYXJzZXJcIjtcbmltcG9ydCB7IEV4cGlyZWRUb2tlbkV4Y2VwdGlvbiwgSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uLCBJRFBSZWplY3RlZENsYWltRXhjZXB0aW9uLCBJbnZhbGlkQXV0aG9yaXphdGlvbk1lc3NhZ2VFeGNlcHRpb24sIEludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uLCBNYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvbiwgUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb24sIFJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmltcG9ydCB7IFNUU1NlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9TVFNTZXJ2aWNlRXhjZXB0aW9uXCI7XG5leHBvcnQgY29uc3Qgc2VfQXNzdW1lUm9sZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9Bc3N1bWVSb2xlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJBc3N1bWVSb2xlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMS0wNi0xNVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9Bc3N1bWVSb2xlV2l0aFNBTUxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQXNzdW1lUm9sZVdpdGhTQU1MUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJBc3N1bWVSb2xlV2l0aFNBTUxcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDExLTA2LTE1XCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTEtMDYtMTVcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlY29kZUF1dGhvcml6YXRpb25NZXNzYWdlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMS0wNi0xNVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRBY2Nlc3NLZXlJbmZvQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldEFjY2Vzc0tleUluZm9SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldEFjY2Vzc0tleUluZm9cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDExLTA2LTE1XCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldENhbGxlcklkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldENhbGxlcklkZW50aXR5UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRDYWxsZXJJZGVudGl0eVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTEtMDYtMTVcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0RmVkZXJhdGlvblRva2VuQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldEZlZGVyYXRpb25Ub2tlblJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0RmVkZXJhdGlvblRva2VuXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMS0wNi0xNVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRTZXNzaW9uVG9rZW5Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0U2Vzc2lvblRva2VuUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRTZXNzaW9uVG9rZW5cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDExLTA2LTE1XCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Fzc3VtZVJvbGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Fzc3VtZVJvbGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9Bc3N1bWVSb2xlUmVzcG9uc2UoZGF0YS5Bc3N1bWVSb2xlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Fzc3VtZVJvbGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNFeHBpcmVkVG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V4cGlyZWRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUGFja2VkUG9saWN5VG9vTGFyZ2VcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZWdpb25EaXNhYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Fzc3VtZVJvbGVXaXRoU0FNTENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQXNzdW1lUm9sZVdpdGhTQU1MQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfQXNzdW1lUm9sZVdpdGhTQU1MUmVzcG9uc2UoZGF0YS5Bc3N1bWVSb2xlV2l0aFNBTUxSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQXNzdW1lUm9sZVdpdGhTQU1MQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkV4cGlyZWRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FeHBpcmVkVG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIklEUFJlamVjdGVkQ2xhaW1cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRJZGVudGl0eVRva2VuXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNJbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1hbGZvcm1lZFBvbGljeURvY3VtZW50XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNNYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlBhY2tlZFBvbGljeVRvb0xhcmdlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNQYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNSZWdpb25EaXNhYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlc3BvbnNlKGRhdGEuQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkV4cGlyZWRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FeHBpcmVkVG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIklEUENvbW11bmljYXRpb25FcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zdHMjSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIklEUFJlamVjdGVkQ2xhaW1cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRJZGVudGl0eVRva2VuXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNJbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1hbGZvcm1lZFBvbGljeURvY3VtZW50XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNNYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlBhY2tlZFBvbGljeVRvb0xhcmdlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNQYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNSZWdpb25EaXNhYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWNvZGVBdXRob3JpemF0aW9uTWVzc2FnZVJlc3BvbnNlKGRhdGEuRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZEF1dGhvcml6YXRpb25NZXNzYWdlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNJbnZhbGlkQXV0aG9yaXphdGlvbk1lc3NhZ2VFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldEFjY2Vzc0tleUluZm9Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldEFjY2Vzc0tleUluZm9Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRBY2Nlc3NLZXlJbmZvUmVzcG9uc2UoZGF0YS5HZXRBY2Nlc3NLZXlJbmZvUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldEFjY2Vzc0tleUluZm9Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldENhbGxlcklkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRDYWxsZXJJZGVudGl0eUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldENhbGxlcklkZW50aXR5UmVzcG9uc2UoZGF0YS5HZXRDYWxsZXJJZGVudGl0eVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRDYWxsZXJJZGVudGl0eUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfR2V0RmVkZXJhdGlvblRva2VuQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRGZWRlcmF0aW9uVG9rZW5Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRGZWRlcmF0aW9uVG9rZW5SZXNwb25zZShkYXRhLkdldEZlZGVyYXRpb25Ub2tlblJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRGZWRlcmF0aW9uVG9rZW5Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUGFja2VkUG9saWN5VG9vTGFyZ2VcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3RzI1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZWdpb25EaXNhYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldFNlc3Npb25Ub2tlbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0U2Vzc2lvblRva2VuQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0U2Vzc2lvblRva2VuUmVzcG9uc2UoZGF0YS5HZXRTZXNzaW9uVG9rZW5SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0U2Vzc2lvblRva2VuQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlJlZ2lvbkRpc2FibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnN0cyNSZWdpb25EaXNhYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVnaW9uRGlzYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IGRlX0V4cGlyZWRUb2tlbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfRXhwaXJlZFRva2VuRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBFeHBpcmVkVG9rZW5FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0lEUENvbW11bmljYXRpb25FcnJvckV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IElEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZEF1dGhvcml6YXRpb25NZXNzYWdlRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkQXV0aG9yaXphdGlvbk1lc3NhZ2VFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9NYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9SZWdpb25EaXNhYmxlZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVnaW9uRGlzYWJsZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IHNlX0Fzc3VtZVJvbGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Sb2xlQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJvbGVBcm5cIl0gPSBpbnB1dC5Sb2xlQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUm9sZVNlc3Npb25OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJvbGVTZXNzaW9uTmFtZVwiXSA9IGlucHV0LlJvbGVTZXNzaW9uTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBvbGljeUFybnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfcG9saWN5RGVzY3JpcHRvckxpc3RUeXBlKGlucHV0LlBvbGljeUFybnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUG9saWN5QXJucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlBvbGljeUFybnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBQb2xpY3lBcm5zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Qb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUG9saWN5XCJdID0gaW5wdXQuUG9saWN5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRHVyYXRpb25TZWNvbmRzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkR1cmF0aW9uU2Vjb25kc1wiXSA9IGlucHV0LkR1cmF0aW9uU2Vjb25kcztcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfdGFnTGlzdFR5cGUoaW5wdXQuVGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5UYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRyYW5zaXRpdmVUYWdLZXlzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX3RhZ0tleUxpc3RUeXBlKGlucHV0LlRyYW5zaXRpdmVUYWdLZXlzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRyYW5zaXRpdmVUYWdLZXlzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVHJhbnNpdGl2ZVRhZ0tleXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUcmFuc2l0aXZlVGFnS2V5cy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXh0ZXJuYWxJZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFeHRlcm5hbElkXCJdID0gaW5wdXQuRXh0ZXJuYWxJZDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNlcmlhbE51bWJlciAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTZXJpYWxOdW1iZXJcIl0gPSBpbnB1dC5TZXJpYWxOdW1iZXI7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Ub2tlbkNvZGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9rZW5Db2RlXCJdID0gaW5wdXQuVG9rZW5Db2RlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU291cmNlSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU291cmNlSWRlbnRpdHlcIl0gPSBpbnB1dC5Tb3VyY2VJZGVudGl0eTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQXNzdW1lUm9sZVdpdGhTQU1MUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUm9sZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSb2xlQXJuXCJdID0gaW5wdXQuUm9sZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlByaW5jaXBhbEFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQcmluY2lwYWxBcm5cIl0gPSBpbnB1dC5QcmluY2lwYWxBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5TQU1MQXNzZXJ0aW9uICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNBTUxBc3NlcnRpb25cIl0gPSBpbnB1dC5TQU1MQXNzZXJ0aW9uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUG9saWN5QXJucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9wb2xpY3lEZXNjcmlwdG9yTGlzdFR5cGUoaW5wdXQuUG9saWN5QXJucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Qb2xpY3lBcm5zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUG9saWN5QXJucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFBvbGljeUFybnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBvbGljeSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQb2xpY3lcIl0gPSBpbnB1dC5Qb2xpY3k7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EdXJhdGlvblNlY29uZHMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRHVyYXRpb25TZWNvbmRzXCJdID0gaW5wdXQuRHVyYXRpb25TZWNvbmRzO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUm9sZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSb2xlQXJuXCJdID0gaW5wdXQuUm9sZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJvbGVTZXNzaW9uTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSb2xlU2Vzc2lvbk5hbWVcIl0gPSBpbnB1dC5Sb2xlU2Vzc2lvbk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5XZWJJZGVudGl0eVRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIldlYklkZW50aXR5VG9rZW5cIl0gPSBpbnB1dC5XZWJJZGVudGl0eVRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUHJvdmlkZXJJZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQcm92aWRlcklkXCJdID0gaW5wdXQuUHJvdmlkZXJJZDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBvbGljeUFybnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfcG9saWN5RGVzY3JpcHRvckxpc3RUeXBlKGlucHV0LlBvbGljeUFybnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUG9saWN5QXJucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlBvbGljeUFybnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBQb2xpY3lBcm5zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Qb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUG9saWN5XCJdID0gaW5wdXQuUG9saWN5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRHVyYXRpb25TZWNvbmRzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkR1cmF0aW9uU2Vjb25kc1wiXSA9IGlucHV0LkR1cmF0aW9uU2Vjb25kcztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5FbmNvZGVkTWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmNvZGVkTWVzc2FnZVwiXSA9IGlucHV0LkVuY29kZWRNZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRBY2Nlc3NLZXlJbmZvUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQWNjZXNzS2V5SWQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWNjZXNzS2V5SWRcIl0gPSBpbnB1dC5BY2Nlc3NLZXlJZDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0Q2FsbGVySWRlbnRpdHlSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldEZlZGVyYXRpb25Ub2tlblJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Qb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUG9saWN5XCJdID0gaW5wdXQuUG9saWN5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUG9saWN5QXJucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9wb2xpY3lEZXNjcmlwdG9yTGlzdFR5cGUoaW5wdXQuUG9saWN5QXJucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Qb2xpY3lBcm5zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUG9saWN5QXJucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFBvbGljeUFybnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkR1cmF0aW9uU2Vjb25kcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEdXJhdGlvblNlY29uZHNcIl0gPSBpbnB1dC5EdXJhdGlvblNlY29uZHM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX3RhZ0xpc3RUeXBlKGlucHV0LlRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldFNlc3Npb25Ub2tlblJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkR1cmF0aW9uU2Vjb25kcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEdXJhdGlvblNlY29uZHNcIl0gPSBpbnB1dC5EdXJhdGlvblNlY29uZHM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TZXJpYWxOdW1iZXIgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU2VyaWFsTnVtYmVyXCJdID0gaW5wdXQuU2VyaWFsTnVtYmVyO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVG9rZW5Db2RlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRva2VuQ29kZVwiXSA9IGlucHV0LlRva2VuQ29kZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfcG9saWN5RGVzY3JpcHRvckxpc3RUeXBlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1BvbGljeURlc2NyaXB0b3JUeXBlKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Qb2xpY3lEZXNjcmlwdG9yVHlwZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuYXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcImFyblwiXSA9IGlucHV0LmFybjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVGFnID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5LZXkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiS2V5XCJdID0gaW5wdXQuS2V5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVmFsdWVcIl0gPSBpbnB1dC5WYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfdGFnS2V5TGlzdFR5cGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfdGFnTGlzdFR5cGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBkZV9Bc3N1bWVkUm9sZVVzZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQXNzdW1lZFJvbGVJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFzc3VtZWRSb2xlSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBc3N1bWVkUm9sZUlkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFyblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Bc3N1bWVSb2xlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ3JlZGVudGlhbHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVkZW50aWFscyA9IGRlX0NyZWRlbnRpYWxzKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFzc3VtZWRSb2xlVXNlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFzc3VtZWRSb2xlVXNlciA9IGRlX0Fzc3VtZWRSb2xlVXNlcihvdXRwdXRbXCJBc3N1bWVkUm9sZVVzZXJcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUGFja2VkUG9saWN5U2l6ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlBhY2tlZFBvbGljeVNpemUgPSBfX3N0cmljdFBhcnNlSW50MzIob3V0cHV0W1wiUGFja2VkUG9saWN5U2l6ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTb3VyY2VJZGVudGl0eVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNvdXJjZUlkZW50aXR5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU291cmNlSWRlbnRpdHlcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQXNzdW1lUm9sZVdpdGhTQU1MUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ3JlZGVudGlhbHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVkZW50aWFscyA9IGRlX0NyZWRlbnRpYWxzKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFzc3VtZWRSb2xlVXNlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFzc3VtZWRSb2xlVXNlciA9IGRlX0Fzc3VtZWRSb2xlVXNlcihvdXRwdXRbXCJBc3N1bWVkUm9sZVVzZXJcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUGFja2VkUG9saWN5U2l6ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlBhY2tlZFBvbGljeVNpemUgPSBfX3N0cmljdFBhcnNlSW50MzIob3V0cHV0W1wiUGFja2VkUG9saWN5U2l6ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdWJqZWN0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3ViamVjdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN1YmplY3RcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3ViamVjdFR5cGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdWJqZWN0VHlwZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN1YmplY3RUeXBlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIklzc3VlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLklzc3VlciA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIklzc3VlclwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBdWRpZW5jZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkF1ZGllbmNlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQXVkaWVuY2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmFtZVF1YWxpZmllclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWVRdWFsaWZpZXIgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lUXVhbGlmaWVyXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNvdXJjZUlkZW50aXR5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU291cmNlSWRlbnRpdHkgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTb3VyY2VJZGVudGl0eVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ3JlZGVudGlhbHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVkZW50aWFscyA9IGRlX0NyZWRlbnRpYWxzKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN1YmplY3RGcm9tV2ViSWRlbnRpdHlUb2tlblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBc3N1bWVkUm9sZVVzZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Bc3N1bWVkUm9sZVVzZXIgPSBkZV9Bc3N1bWVkUm9sZVVzZXIob3V0cHV0W1wiQXNzdW1lZFJvbGVVc2VyXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlBhY2tlZFBvbGljeVNpemVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5QYWNrZWRQb2xpY3lTaXplID0gX19zdHJpY3RQYXJzZUludDMyKG91dHB1dFtcIlBhY2tlZFBvbGljeVNpemVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUHJvdmlkZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Qcm92aWRlciA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlByb3ZpZGVyXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkF1ZGllbmNlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXVkaWVuY2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBdWRpZW5jZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTb3VyY2VJZGVudGl0eVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNvdXJjZUlkZW50aXR5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU291cmNlSWRlbnRpdHlcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlZGVudGlhbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQWNjZXNzS2V5SWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY2Nlc3NLZXlJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFjY2Vzc0tleUlkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNlY3JldEFjY2Vzc0tleVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNlY3JldEFjY2Vzc0tleSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlNlY3JldEFjY2Vzc0tleVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTZXNzaW9uVG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TZXNzaW9uVG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTZXNzaW9uVG9rZW5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRXhwaXJhdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4cGlyYXRpb24gPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiRXhwaXJhdGlvblwiXSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVjb2RlQXV0aG9yaXphdGlvbk1lc3NhZ2VSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJEZWNvZGVkTWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRlY29kZWRNZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGVjb2RlZE1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRXhwaXJlZFRva2VuRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9GZWRlcmF0ZWRVc2VyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkZlZGVyYXRlZFVzZXJJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZlZGVyYXRlZFVzZXJJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZlZGVyYXRlZFVzZXJJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Bcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBcm5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0QWNjZXNzS2V5SW5mb1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkFjY291bnRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY2NvdW50ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWNjb3VudFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRDYWxsZXJJZGVudGl0eVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlVzZXJJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlVzZXJJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlVzZXJJZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBY2NvdW50XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWNjb3VudCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFjY291bnRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQXJuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldEZlZGVyYXRpb25Ub2tlblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3JlZGVudGlhbHMgPSBkZV9DcmVkZW50aWFscyhvdXRwdXRbXCJDcmVkZW50aWFsc1wiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJGZWRlcmF0ZWRVc2VyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmVkZXJhdGVkVXNlciA9IGRlX0ZlZGVyYXRlZFVzZXIob3V0cHV0W1wiRmVkZXJhdGVkVXNlclwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJQYWNrZWRQb2xpY3lTaXplXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUGFja2VkUG9saWN5U2l6ZSA9IF9fc3RyaWN0UGFyc2VJbnQzMihvdXRwdXRbXCJQYWNrZWRQb2xpY3lTaXplXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldFNlc3Npb25Ub2tlblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNyZWRlbnRpYWxzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3JlZGVudGlhbHMgPSBkZV9DcmVkZW50aWFscyhvdXRwdXRbXCJDcmVkZW50aWFsc1wiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRBdXRob3JpemF0aW9uTWVzc2FnZUV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01hbGZvcm1lZFBvbGljeURvY3VtZW50RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QYWNrZWRQb2xpY3lUb29MYXJnZUV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmVnaW9uRGlzYWJsZWRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlc2VyaWFsaXplTWV0YWRhdGEgPSAob3V0cHV0KSA9PiAoe1xuICAgIGh0dHBTdGF0dXNDb2RlOiBvdXRwdXQuc3RhdHVzQ29kZSxcbiAgICByZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3RpZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0LWlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXotcmVxdWVzdC1pZFwiXSxcbiAgICBleHRlbmRlZFJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1pZC0yXCJdLFxuICAgIGNmSWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotY2YtaWRcIl0sXG59KTtcbmNvbnN0IGNvbGxlY3RCb2R5ID0gKHN0cmVhbUJvZHkgPSBuZXcgVWludDhBcnJheSgpLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKHN0cmVhbUJvZHkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3RyZWFtQm9keSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LnN0cmVhbUNvbGxlY3RvcihzdHJlYW1Cb2R5KSB8fCBQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoKSk7XG59O1xuY29uc3QgY29sbGVjdEJvZHlTdHJpbmcgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHkoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoYm9keSkgPT4gY29udGV4dC51dGY4RW5jb2Rlcihib2R5KSk7XG5jb25zdCB0aHJvd0RlZmF1bHRFcnJvciA9IHdpdGhCYXNlRXhjZXB0aW9uKF9fQmFzZUV4Y2VwdGlvbik7XG5jb25zdCBidWlsZEh0dHBScGNSZXF1ZXN0ID0gYXN5bmMgKGNvbnRleHQsIGhlYWRlcnMsIHBhdGgsIHJlc29sdmVkSG9zdG5hbWUsIGJvZHkpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBjb250ZW50cyA9IHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBwYXRoOiBiYXNlUGF0aC5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgKyBwYXRoIDogYmFzZVBhdGggKyBwYXRoLFxuICAgICAgICBoZWFkZXJzLFxuICAgIH07XG4gICAgaWYgKHJlc29sdmVkSG9zdG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5ob3N0bmFtZSA9IHJlc29sdmVkSG9zdG5hbWU7XG4gICAgfVxuICAgIGlmIChib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuYm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdChjb250ZW50cyk7XG59O1xuY29uc3QgU0hBUkVEX0hFQURFUlMgPSB7XG4gICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbn07XG5jb25zdCBwYXJzZUJvZHkgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHlTdHJpbmcoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoZW5jb2RlZCkgPT4ge1xuICAgIGlmIChlbmNvZGVkLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgWE1MUGFyc2VyKHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWVQcmVmaXg6IFwiXCIsXG4gICAgICAgICAgICBodG1sRW50aXRpZXM6IHRydWUsXG4gICAgICAgICAgICBpZ25vcmVBdHRyaWJ1dGVzOiBmYWxzZSxcbiAgICAgICAgICAgIGlnbm9yZURlY2xhcmF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgcGFyc2VUYWdWYWx1ZTogZmFsc2UsXG4gICAgICAgICAgICB0cmltVmFsdWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHRhZ1ZhbHVlUHJvY2Vzc29yOiAoXywgdmFsKSA9PiAodmFsLnRyaW0oKSA9PT0gXCJcIiAmJiB2YWwuaW5jbHVkZXMoXCJcXG5cIikgPyBcIlwiIDogdW5kZWZpbmVkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcnNlci5hZGRFbnRpdHkoXCIjeERcIiwgXCJcXHJcIik7XG4gICAgICAgIHBhcnNlci5hZGRFbnRpdHkoXCIjMTBcIiwgXCJcXG5cIik7XG4gICAgICAgIGNvbnN0IHBhcnNlZE9iaiA9IHBhcnNlci5wYXJzZShlbmNvZGVkKTtcbiAgICAgICAgY29uc3QgdGV4dE5vZGVOYW1lID0gXCIjdGV4dFwiO1xuICAgICAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyhwYXJzZWRPYmopWzBdO1xuICAgICAgICBjb25zdCBwYXJzZWRPYmpUb1JldHVybiA9IHBhcnNlZE9ialtrZXldO1xuICAgICAgICBpZiAocGFyc2VkT2JqVG9SZXR1cm5bdGV4dE5vZGVOYW1lXSkge1xuICAgICAgICAgICAgcGFyc2VkT2JqVG9SZXR1cm5ba2V5XSA9IHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV07XG4gICAgICAgICAgICBkZWxldGUgcGFyc2VkT2JqVG9SZXR1cm5bdGV4dE5vZGVOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX19nZXRWYWx1ZUZyb21UZXh0Tm9kZShwYXJzZWRPYmpUb1JldHVybik7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn0pO1xuY29uc3QgcGFyc2VFcnJvckJvZHkgPSBhc3luYyAoZXJyb3JCb2R5LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYXJzZUJvZHkoZXJyb3JCb2R5LCBjb250ZXh0KTtcbiAgICBpZiAodmFsdWUuRXJyb3IpIHtcbiAgICAgICAgdmFsdWUuRXJyb3IubWVzc2FnZSA9IHZhbHVlLkVycm9yLm1lc3NhZ2UgPz8gdmFsdWUuRXJyb3IuTWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmNvbnN0IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcgPSAoZm9ybUVudHJpZXMpID0+IE9iamVjdC5lbnRyaWVzKGZvcm1FbnRyaWVzKVxuICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgXCI9XCIgKyBfX2V4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAuam9pbihcIiZcIik7XG5jb25zdCBsb2FkUXVlcnlFcnJvckNvZGUgPSAob3V0cHV0LCBkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEuRXJyb3I/LkNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZGF0YS5FcnJvci5Db2RlO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPT0gNDA0KSB7XG4gICAgICAgIHJldHVybiBcIk5vdEZvdW5kXCI7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldEVuZHBvaW50UGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFNlcmRlUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IGdldEF3c0F1dGhQbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zaWduaW5nXCI7XG5pbXBvcnQgeyBDb21tYW5kIGFzICRDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IEFzc3VtZVJvbGVSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmltcG9ydCB7IGRlX0Fzc3VtZVJvbGVDb21tYW5kLCBzZV9Bc3N1bWVSb2xlQ29tbWFuZCB9IGZyb20gXCIuLi9wcm90b2NvbHMvQXdzX3F1ZXJ5XCI7XG5leHBvcnQgeyAkQ29tbWFuZCB9O1xuZXhwb3J0IGNsYXNzIEFzc3VtZVJvbGVDb21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUdsb2JhbEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUdsb2JhbEVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIEFzc3VtZVJvbGVDb21tYW5kLmdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEF3c0F1dGhQbHVnaW4oY29uZmlndXJhdGlvbikpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJTVFNDbGllbnRcIjtcbiAgICAgICAgY29uc3QgY29tbWFuZE5hbWUgPSBcIkFzc3VtZVJvbGVDb21tYW5kXCI7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICAgICAgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiBBc3N1bWVSb2xlUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2csXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgcmVxdWVzdEhhbmRsZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIHJldHVybiBzdGFjay5yZXNvbHZlKChyZXF1ZXN0KSA9PiByZXF1ZXN0SGFuZGxlci5oYW5kbGUocmVxdWVzdC5yZXF1ZXN0LCBvcHRpb25zIHx8IHt9KSwgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQpO1xuICAgIH1cbiAgICBzZXJpYWxpemUoaW5wdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHNlX0Fzc3VtZVJvbGVDb21tYW5kKGlucHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZGVzZXJpYWxpemUob3V0cHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBkZV9Bc3N1bWVSb2xlQ29tbWFuZChvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldEVuZHBvaW50UGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFNlcmRlUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2csIEFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZywgfSBmcm9tIFwiLi4vbW9kZWxzL21vZGVsc18wXCI7XG5pbXBvcnQgeyBkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZCwgc2VfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQgfSBmcm9tIFwiLi4vcHJvdG9jb2xzL0F3c19xdWVyeVwiO1xuZXhwb3J0IHsgJENvbW1hbmQgfTtcbmV4cG9ydCBjbGFzcyBBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZCBleHRlbmRzICRDb21tYW5kIHtcbiAgICBzdGF0aWMgZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBVc2VHbG9iYWxFbmRwb2ludDogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VHbG9iYWxFbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBVc2VGSVBTOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUZpcHNFbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBFbmRwb2ludDogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJlbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBSZWdpb246IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwicmVnaW9uXCIgfSxcbiAgICAgICAgICAgIFVzZUR1YWxTdGFjazogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VEdWFsc3RhY2tFbmRwb2ludFwiIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICB9XG4gICAgcmVzb2x2ZU1pZGRsZXdhcmUoY2xpZW50U3RhY2ssIGNvbmZpZ3VyYXRpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFNlcmRlUGx1Z2luKGNvbmZpZ3VyYXRpb24sIHRoaXMuc2VyaWFsaXplLCB0aGlzLmRlc2VyaWFsaXplKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRFbmRwb2ludFBsdWdpbihjb25maWd1cmF0aW9uLCBBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZC5nZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpKSk7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gY2xpZW50U3RhY2suY29uY2F0KHRoaXMubWlkZGxld2FyZVN0YWNrKTtcbiAgICAgICAgY29uc3QgeyBsb2dnZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIGNvbnN0IGNsaWVudE5hbWUgPSBcIlNUU0NsaWVudFwiO1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IFwiQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmRcIjtcbiAgICAgICAgY29uc3QgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQgPSB7XG4gICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICBjbGllbnROYW1lLFxuICAgICAgICAgICAgY29tbWFuZE5hbWUsXG4gICAgICAgICAgICBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZzogQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2csXG4gICAgICAgICAgICBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IEFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0SGFuZGxlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnJlc29sdmUoKHJlcXVlc3QpID0+IHJlcXVlc3RIYW5kbGVyLmhhbmRsZShyZXF1ZXN0LnJlcXVlc3QsIG9wdGlvbnMgfHwge30pLCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZShpbnB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2VfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQoaW5wdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBkZXNlcmlhbGl6ZShvdXRwdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGRlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXNzdW1lUm9sZUNvbW1hbmQgfSBmcm9tIFwiLi9jb21tYW5kcy9Bc3N1bWVSb2xlQ29tbWFuZFwiO1xuaW1wb3J0IHsgQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQsIH0gZnJvbSBcIi4vY29tbWFuZHMvQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmRcIjtcbmNvbnN0IEFTU1VNRV9ST0xFX0RFRkFVTFRfUkVHSU9OID0gXCJ1cy1lYXN0LTFcIjtcbmNvbnN0IGRlY29yYXRlRGVmYXVsdFJlZ2lvbiA9IChyZWdpb24pID0+IHtcbiAgICBpZiAodHlwZW9mIHJlZ2lvbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiByZWdpb24gPT09IHVuZGVmaW5lZCA/IEFTU1VNRV9ST0xFX0RFRkFVTFRfUkVHSU9OIDogcmVnaW9uO1xuICAgIH1cbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJlZ2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gQVNTVU1FX1JPTEVfREVGQVVMVF9SRUdJT047XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0Um9sZUFzc3VtZXIgPSAoc3RzT3B0aW9ucywgc3RzQ2xpZW50Q3RvcikgPT4ge1xuICAgIGxldCBzdHNDbGllbnQ7XG4gICAgbGV0IGNsb3N1cmVTb3VyY2VDcmVkcztcbiAgICByZXR1cm4gYXN5bmMgKHNvdXJjZUNyZWRzLCBwYXJhbXMpID0+IHtcbiAgICAgICAgY2xvc3VyZVNvdXJjZUNyZWRzID0gc291cmNlQ3JlZHM7XG4gICAgICAgIGlmICghc3RzQ2xpZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IGxvZ2dlciwgcmVnaW9uLCByZXF1ZXN0SGFuZGxlciB9ID0gc3RzT3B0aW9ucztcbiAgICAgICAgICAgIHN0c0NsaWVudCA9IG5ldyBzdHNDbGllbnRDdG9yKHtcbiAgICAgICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcjogKCkgPT4gYXN5bmMgKCkgPT4gY2xvc3VyZVNvdXJjZUNyZWRzLFxuICAgICAgICAgICAgICAgIHJlZ2lvbjogZGVjb3JhdGVEZWZhdWx0UmVnaW9uKHJlZ2lvbiB8fCBzdHNPcHRpb25zLnJlZ2lvbiksXG4gICAgICAgICAgICAgICAgLi4uKHJlcXVlc3RIYW5kbGVyID8geyByZXF1ZXN0SGFuZGxlciB9IDoge30pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBDcmVkZW50aWFscyB9ID0gYXdhaXQgc3RzQ2xpZW50LnNlbmQobmV3IEFzc3VtZVJvbGVDb21tYW5kKHBhcmFtcykpO1xuICAgICAgICBpZiAoIUNyZWRlbnRpYWxzIHx8ICFDcmVkZW50aWFscy5BY2Nlc3NLZXlJZCB8fCAhQ3JlZGVudGlhbHMuU2VjcmV0QWNjZXNzS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcmVzcG9uc2UgZnJvbSBTVFMuYXNzdW1lUm9sZSBjYWxsIHdpdGggcm9sZSAke3BhcmFtcy5Sb2xlQXJufWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY2Nlc3NLZXlJZDogQ3JlZGVudGlhbHMuQWNjZXNzS2V5SWQsXG4gICAgICAgICAgICBzZWNyZXRBY2Nlc3NLZXk6IENyZWRlbnRpYWxzLlNlY3JldEFjY2Vzc0tleSxcbiAgICAgICAgICAgIHNlc3Npb25Ub2tlbjogQ3JlZGVudGlhbHMuU2Vzc2lvblRva2VuLFxuICAgICAgICAgICAgZXhwaXJhdGlvbjogQ3JlZGVudGlhbHMuRXhwaXJhdGlvbixcbiAgICAgICAgfTtcbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0Um9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHkgPSAoc3RzT3B0aW9ucywgc3RzQ2xpZW50Q3RvcikgPT4ge1xuICAgIGxldCBzdHNDbGllbnQ7XG4gICAgcmV0dXJuIGFzeW5jIChwYXJhbXMpID0+IHtcbiAgICAgICAgaWYgKCFzdHNDbGllbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbG9nZ2VyLCByZWdpb24sIHJlcXVlc3RIYW5kbGVyIH0gPSBzdHNPcHRpb25zO1xuICAgICAgICAgICAgc3RzQ2xpZW50ID0gbmV3IHN0c0NsaWVudEN0b3Ioe1xuICAgICAgICAgICAgICAgIGxvZ2dlcixcbiAgICAgICAgICAgICAgICByZWdpb246IGRlY29yYXRlRGVmYXVsdFJlZ2lvbihyZWdpb24gfHwgc3RzT3B0aW9ucy5yZWdpb24pLFxuICAgICAgICAgICAgICAgIC4uLihyZXF1ZXN0SGFuZGxlciA/IHsgcmVxdWVzdEhhbmRsZXIgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgQ3JlZGVudGlhbHMgfSA9IGF3YWl0IHN0c0NsaWVudC5zZW5kKG5ldyBBc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZChwYXJhbXMpKTtcbiAgICAgICAgaWYgKCFDcmVkZW50aWFscyB8fCAhQ3JlZGVudGlhbHMuQWNjZXNzS2V5SWQgfHwgIUNyZWRlbnRpYWxzLlNlY3JldEFjY2Vzc0tleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlIGZyb20gU1RTLmFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHkgY2FsbCB3aXRoIHJvbGUgJHtwYXJhbXMuUm9sZUFybn1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWNjZXNzS2V5SWQ6IENyZWRlbnRpYWxzLkFjY2Vzc0tleUlkLFxuICAgICAgICAgICAgc2VjcmV0QWNjZXNzS2V5OiBDcmVkZW50aWFscy5TZWNyZXRBY2Nlc3NLZXksXG4gICAgICAgICAgICBzZXNzaW9uVG9rZW46IENyZWRlbnRpYWxzLlNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgIGV4cGlyYXRpb246IENyZWRlbnRpYWxzLkV4cGlyYXRpb24sXG4gICAgICAgIH07XG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgZGVjb3JhdGVEZWZhdWx0Q3JlZGVudGlhbFByb3ZpZGVyID0gKHByb3ZpZGVyKSA9PiAoaW5wdXQpID0+IHByb3ZpZGVyKHtcbiAgICByb2xlQXNzdW1lcjogZ2V0RGVmYXVsdFJvbGVBc3N1bWVyKGlucHV0LCBpbnB1dC5zdHNDbGllbnRDdG9yKSxcbiAgICByb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eTogZ2V0RGVmYXVsdFJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5KGlucHV0LCBpbnB1dC5zdHNDbGllbnRDdG9yKSxcbiAgICAuLi5pbnB1dCxcbn0pO1xuIiwiZXhwb3J0IGNsYXNzIFByb3ZpZGVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgdHJ5TmV4dExpbmsgPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnRyeU5leHRMaW5rID0gdHJ5TmV4dExpbms7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUHJvdmlkZXJFcnJvclwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUHJvdmlkZXJFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbShlcnJvciwgdHJ5TmV4dExpbmsgPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyB0aGlzKGVycm9yLm1lc3NhZ2UsIHRyeU5leHRMaW5rKSwgZXJyb3IpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFByb3ZpZGVyRXJyb3IgfSBmcm9tIFwiLi9Qcm92aWRlckVycm9yXCI7XG5leHBvcnQgY2xhc3MgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIGV4dGVuZHMgUHJvdmlkZXJFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgdHJ5TmV4dExpbmsgPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHRyeU5leHRMaW5rKTtcbiAgICAgICAgdGhpcy50cnlOZXh0TGluayA9IHRyeU5leHRMaW5rO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNyZWRlbnRpYWxzUHJvdmlkZXJFcnJvclwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yLnByb3RvdHlwZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgRU5WX0tFWSA9IFwiQVdTX0FDQ0VTU19LRVlfSURcIjtcbmV4cG9ydCBjb25zdCBFTlZfU0VDUkVUID0gXCJBV1NfU0VDUkVUX0FDQ0VTU19LRVlcIjtcbmV4cG9ydCBjb25zdCBFTlZfU0VTU0lPTiA9IFwiQVdTX1NFU1NJT05fVE9LRU5cIjtcbmV4cG9ydCBjb25zdCBFTlZfRVhQSVJBVElPTiA9IFwiQVdTX0NSRURFTlRJQUxfRVhQSVJBVElPTlwiO1xuZXhwb3J0IGNvbnN0IGZyb21FbnYgPSAoKSA9PiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYWNjZXNzS2V5SWQgPSBwcm9jZXNzLmVudltFTlZfS0VZXTtcbiAgICBjb25zdCBzZWNyZXRBY2Nlc3NLZXkgPSBwcm9jZXNzLmVudltFTlZfU0VDUkVUXTtcbiAgICBjb25zdCBzZXNzaW9uVG9rZW4gPSBwcm9jZXNzLmVudltFTlZfU0VTU0lPTl07XG4gICAgY29uc3QgZXhwaXJ5ID0gcHJvY2Vzcy5lbnZbRU5WX0VYUElSQVRJT05dO1xuICAgIGlmIChhY2Nlc3NLZXlJZCAmJiBzZWNyZXRBY2Nlc3NLZXkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY2Vzc0tleUlkLFxuICAgICAgICAgICAgc2VjcmV0QWNjZXNzS2V5LFxuICAgICAgICAgICAgLi4uKHNlc3Npb25Ub2tlbiAmJiB7IHNlc3Npb25Ub2tlbiB9KSxcbiAgICAgICAgICAgIC4uLihleHBpcnkgJiYgeyBleHBpcmF0aW9uOiBuZXcgRGF0ZShleHBpcnkpIH0pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiVW5hYmxlIHRvIGZpbmQgZW52aXJvbm1lbnQgdmFyaWFibGUgY3JlZGVudGlhbHMuXCIpO1xufTtcbiIsImltcG9ydCB7IGhvbWVkaXIgfSBmcm9tIFwib3NcIjtcbmltcG9ydCB7IHNlcCB9IGZyb20gXCJwYXRoXCI7XG5leHBvcnQgY29uc3QgZ2V0SG9tZURpciA9ICgpID0+IHtcbiAgICBjb25zdCB7IEhPTUUsIFVTRVJQUk9GSUxFLCBIT01FUEFUSCwgSE9NRURSSVZFID0gYEM6JHtzZXB9YCB9ID0gcHJvY2Vzcy5lbnY7XG4gICAgaWYgKEhPTUUpXG4gICAgICAgIHJldHVybiBIT01FO1xuICAgIGlmIChVU0VSUFJPRklMRSlcbiAgICAgICAgcmV0dXJuIFVTRVJQUk9GSUxFO1xuICAgIGlmIChIT01FUEFUSClcbiAgICAgICAgcmV0dXJuIGAke0hPTUVEUklWRX0ke0hPTUVQQVRIfWA7XG4gICAgcmV0dXJuIGhvbWVkaXIoKTtcbn07XG4iLCJleHBvcnQgY29uc3QgRU5WX1BST0ZJTEUgPSBcIkFXU19QUk9GSUxFXCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9QUk9GSUxFID0gXCJkZWZhdWx0XCI7XG5leHBvcnQgY29uc3QgZ2V0UHJvZmlsZU5hbWUgPSAoaW5pdCkgPT4gaW5pdC5wcm9maWxlIHx8IHByb2Nlc3MuZW52W0VOVl9QUk9GSUxFXSB8fCBERUZBVUxUX1BST0ZJTEU7XG4iLCJpbXBvcnQgeyBjcmVhdGVIYXNoIH0gZnJvbSBcImNyeXB0b1wiO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBnZXRIb21lRGlyIH0gZnJvbSBcIi4vZ2V0SG9tZURpclwiO1xuZXhwb3J0IGNvbnN0IGdldFNTT1Rva2VuRmlsZXBhdGggPSAoaWQpID0+IHtcbiAgICBjb25zdCBoYXNoZXIgPSBjcmVhdGVIYXNoKFwic2hhMVwiKTtcbiAgICBjb25zdCBjYWNoZU5hbWUgPSBoYXNoZXIudXBkYXRlKGlkKS5kaWdlc3QoXCJoZXhcIik7XG4gICAgcmV0dXJuIGpvaW4oZ2V0SG9tZURpcigpLCBcIi5hd3NcIiwgXCJzc29cIiwgXCJjYWNoZVwiLCBgJHtjYWNoZU5hbWV9Lmpzb25gKTtcbn07XG4iLCJpbXBvcnQgeyBwcm9taXNlcyBhcyBmc1Byb21pc2VzIH0gZnJvbSBcImZzXCI7XG5pbXBvcnQgeyBnZXRTU09Ub2tlbkZpbGVwYXRoIH0gZnJvbSBcIi4vZ2V0U1NPVG9rZW5GaWxlcGF0aFwiO1xuY29uc3QgeyByZWFkRmlsZSB9ID0gZnNQcm9taXNlcztcbmV4cG9ydCBjb25zdCBnZXRTU09Ub2tlbkZyb21GaWxlID0gYXN5bmMgKGlkKSA9PiB7XG4gICAgY29uc3Qgc3NvVG9rZW5GaWxlcGF0aCA9IGdldFNTT1Rva2VuRmlsZXBhdGgoaWQpO1xuICAgIGNvbnN0IHNzb1Rva2VuVGV4dCA9IGF3YWl0IHJlYWRGaWxlKHNzb1Rva2VuRmlsZXBhdGgsIFwidXRmOFwiKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzc29Ub2tlblRleHQpO1xufTtcbiIsImltcG9ydCB7IGpvaW4gfSBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IHsgZ2V0SG9tZURpciB9IGZyb20gXCIuL2dldEhvbWVEaXJcIjtcbmV4cG9ydCBjb25zdCBFTlZfQ09ORklHX1BBVEggPSBcIkFXU19DT05GSUdfRklMRVwiO1xuZXhwb3J0IGNvbnN0IGdldENvbmZpZ0ZpbGVwYXRoID0gKCkgPT4gcHJvY2Vzcy5lbnZbRU5WX0NPTkZJR19QQVRIXSB8fCBqb2luKGdldEhvbWVEaXIoKSwgXCIuYXdzXCIsIFwiY29uZmlnXCIpO1xuIiwiaW1wb3J0IHsgam9pbiB9IGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBnZXRIb21lRGlyIH0gZnJvbSBcIi4vZ2V0SG9tZURpclwiO1xuZXhwb3J0IGNvbnN0IEVOVl9DUkVERU5USUFMU19QQVRIID0gXCJBV1NfU0hBUkVEX0NSRURFTlRJQUxTX0ZJTEVcIjtcbmV4cG9ydCBjb25zdCBnZXRDcmVkZW50aWFsc0ZpbGVwYXRoID0gKCkgPT4gcHJvY2Vzcy5lbnZbRU5WX0NSRURFTlRJQUxTX1BBVEhdIHx8IGpvaW4oZ2V0SG9tZURpcigpLCBcIi5hd3NcIiwgXCJjcmVkZW50aWFsc1wiKTtcbiIsImNvbnN0IHByb2ZpbGVLZXlSZWdleCA9IC9ecHJvZmlsZVxccyhbXCInXSk/KFteXFwxXSspXFwxJC87XG5leHBvcnQgY29uc3QgZ2V0UHJvZmlsZURhdGEgPSAoZGF0YSkgPT4gT2JqZWN0LmVudHJpZXMoZGF0YSlcbiAgICAuZmlsdGVyKChba2V5XSkgPT4gcHJvZmlsZUtleVJlZ2V4LnRlc3Qoa2V5KSlcbiAgICAucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKHsgLi4uYWNjLCBbcHJvZmlsZUtleVJlZ2V4LmV4ZWMoa2V5KVsyXV06IHZhbHVlIH0pLCB7XG4gICAgLi4uKGRhdGEuZGVmYXVsdCAmJiB7IGRlZmF1bHQ6IGRhdGEuZGVmYXVsdCB9KSxcbn0pO1xuIiwiY29uc3QgcHJvZmlsZU5hbWVCbG9ja0xpc3QgPSBbXCJfX3Byb3RvX19cIiwgXCJwcm9maWxlIF9fcHJvdG9fX1wiXTtcbmV4cG9ydCBjb25zdCBwYXJzZUluaSA9IChpbmlEYXRhKSA9PiB7XG4gICAgY29uc3QgbWFwID0ge307XG4gICAgbGV0IGN1cnJlbnRTZWN0aW9uO1xuICAgIGZvciAobGV0IGxpbmUgb2YgaW5pRGF0YS5zcGxpdCgvXFxyP1xcbi8pKSB7XG4gICAgICAgIGxpbmUgPSBsaW5lLnNwbGl0KC8oXnxcXHMpWzsjXS8pWzBdLnRyaW0oKTtcbiAgICAgICAgY29uc3QgaXNTZWN0aW9uID0gbGluZVswXSA9PT0gXCJbXCIgJiYgbGluZVtsaW5lLmxlbmd0aCAtIDFdID09PSBcIl1cIjtcbiAgICAgICAgaWYgKGlzU2VjdGlvbikge1xuICAgICAgICAgICAgY3VycmVudFNlY3Rpb24gPSBsaW5lLnN1YnN0cmluZygxLCBsaW5lLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgaWYgKHByb2ZpbGVOYW1lQmxvY2tMaXN0LmluY2x1ZGVzKGN1cnJlbnRTZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRm91bmQgaW52YWxpZCBwcm9maWxlIG5hbWUgXCIke2N1cnJlbnRTZWN0aW9ufVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudFNlY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4T2ZFcXVhbHNTaWduID0gbGluZS5pbmRleE9mKFwiPVwiKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IGxpbmUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGNvbnN0IGlzQXNzaWdubWVudCA9IGluZGV4T2ZFcXVhbHNTaWduICE9PSAtMSAmJiBpbmRleE9mRXF1YWxzU2lnbiAhPT0gc3RhcnQgJiYgaW5kZXhPZkVxdWFsc1NpZ24gIT09IGVuZDtcbiAgICAgICAgICAgIGlmIChpc0Fzc2lnbm1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbbmFtZSwgdmFsdWVdID0gW1xuICAgICAgICAgICAgICAgICAgICBsaW5lLnN1YnN0cmluZygwLCBpbmRleE9mRXF1YWxzU2lnbikudHJpbSgpLFxuICAgICAgICAgICAgICAgICAgICBsaW5lLnN1YnN0cmluZyhpbmRleE9mRXF1YWxzU2lnbiArIDEpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIG1hcFtjdXJyZW50U2VjdGlvbl0gPSBtYXBbY3VycmVudFNlY3Rpb25dIHx8IHt9O1xuICAgICAgICAgICAgICAgIG1hcFtjdXJyZW50U2VjdGlvbl1bbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWFwO1xufTtcbiIsImltcG9ydCB7IHByb21pc2VzIGFzIGZzUHJvbWlzZXMgfSBmcm9tIFwiZnNcIjtcbmNvbnN0IHsgcmVhZEZpbGUgfSA9IGZzUHJvbWlzZXM7XG5jb25zdCBmaWxlUHJvbWlzZXNIYXNoID0ge307XG5leHBvcnQgY29uc3Qgc2x1cnBGaWxlID0gKHBhdGgsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAoIWZpbGVQcm9taXNlc0hhc2hbcGF0aF0gfHwgb3B0aW9ucz8uaWdub3JlQ2FjaGUpIHtcbiAgICAgICAgZmlsZVByb21pc2VzSGFzaFtwYXRoXSA9IHJlYWRGaWxlKHBhdGgsIFwidXRmOFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbGVQcm9taXNlc0hhc2hbcGF0aF07XG59O1xuIiwiaW1wb3J0IHsgZ2V0Q29uZmlnRmlsZXBhdGggfSBmcm9tIFwiLi9nZXRDb25maWdGaWxlcGF0aFwiO1xuaW1wb3J0IHsgZ2V0Q3JlZGVudGlhbHNGaWxlcGF0aCB9IGZyb20gXCIuL2dldENyZWRlbnRpYWxzRmlsZXBhdGhcIjtcbmltcG9ydCB7IGdldFByb2ZpbGVEYXRhIH0gZnJvbSBcIi4vZ2V0UHJvZmlsZURhdGFcIjtcbmltcG9ydCB7IHBhcnNlSW5pIH0gZnJvbSBcIi4vcGFyc2VJbmlcIjtcbmltcG9ydCB7IHNsdXJwRmlsZSB9IGZyb20gXCIuL3NsdXJwRmlsZVwiO1xuY29uc3Qgc3dhbGxvd0Vycm9yID0gKCkgPT4gKHt9KTtcbmV4cG9ydCBjb25zdCBsb2FkU2hhcmVkQ29uZmlnRmlsZXMgPSBhc3luYyAoaW5pdCA9IHt9KSA9PiB7XG4gICAgY29uc3QgeyBmaWxlcGF0aCA9IGdldENyZWRlbnRpYWxzRmlsZXBhdGgoKSwgY29uZmlnRmlsZXBhdGggPSBnZXRDb25maWdGaWxlcGF0aCgpIH0gPSBpbml0O1xuICAgIGNvbnN0IHBhcnNlZEZpbGVzID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBzbHVycEZpbGUoY29uZmlnRmlsZXBhdGgsIHtcbiAgICAgICAgICAgIGlnbm9yZUNhY2hlOiBpbml0Lmlnbm9yZUNhY2hlLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocGFyc2VJbmkpXG4gICAgICAgICAgICAudGhlbihnZXRQcm9maWxlRGF0YSlcbiAgICAgICAgICAgIC5jYXRjaChzd2FsbG93RXJyb3IpLFxuICAgICAgICBzbHVycEZpbGUoZmlsZXBhdGgsIHtcbiAgICAgICAgICAgIGlnbm9yZUNhY2hlOiBpbml0Lmlnbm9yZUNhY2hlLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocGFyc2VJbmkpXG4gICAgICAgICAgICAuY2F0Y2goc3dhbGxvd0Vycm9yKSxcbiAgICBdKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25maWdGaWxlOiBwYXJzZWRGaWxlc1swXSxcbiAgICAgICAgY3JlZGVudGlhbHNGaWxlOiBwYXJzZWRGaWxlc1sxXSxcbiAgICB9O1xufTtcbiIsImNvbnN0IHNzb1Nlc3Npb25LZXlSZWdleCA9IC9ec3NvLXNlc3Npb25cXHMoW1wiJ10pPyhbXlxcMV0rKVxcMSQvO1xuZXhwb3J0IGNvbnN0IGdldFNzb1Nlc3Npb25EYXRhID0gKGRhdGEpID0+IE9iamVjdC5lbnRyaWVzKGRhdGEpXG4gICAgLmZpbHRlcigoW2tleV0pID0+IHNzb1Nlc3Npb25LZXlSZWdleC50ZXN0KGtleSkpXG4gICAgLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICh7IC4uLmFjYywgW3Nzb1Nlc3Npb25LZXlSZWdleC5leGVjKGtleSlbMl1dOiB2YWx1ZSB9KSwge30pO1xuIiwiaW1wb3J0IHsgZ2V0Q29uZmlnRmlsZXBhdGggfSBmcm9tIFwiLi9nZXRDb25maWdGaWxlcGF0aFwiO1xuaW1wb3J0IHsgZ2V0U3NvU2Vzc2lvbkRhdGEgfSBmcm9tIFwiLi9nZXRTc29TZXNzaW9uRGF0YVwiO1xuaW1wb3J0IHsgcGFyc2VJbmkgfSBmcm9tIFwiLi9wYXJzZUluaVwiO1xuaW1wb3J0IHsgc2x1cnBGaWxlIH0gZnJvbSBcIi4vc2x1cnBGaWxlXCI7XG5jb25zdCBzd2FsbG93RXJyb3IgPSAoKSA9PiAoe30pO1xuZXhwb3J0IGNvbnN0IGxvYWRTc29TZXNzaW9uRGF0YSA9IGFzeW5jIChpbml0ID0ge30pID0+IHNsdXJwRmlsZShpbml0LmNvbmZpZ0ZpbGVwYXRoID8/IGdldENvbmZpZ0ZpbGVwYXRoKCkpXG4gICAgLnRoZW4ocGFyc2VJbmkpXG4gICAgLnRoZW4oZ2V0U3NvU2Vzc2lvbkRhdGEpXG4gICAgLmNhdGNoKHN3YWxsb3dFcnJvcik7XG4iLCJpbXBvcnQgeyBsb2FkU2hhcmVkQ29uZmlnRmlsZXMgfSBmcm9tIFwiLi9sb2FkU2hhcmVkQ29uZmlnRmlsZXNcIjtcbmltcG9ydCB7IG1lcmdlQ29uZmlnRmlsZXMgfSBmcm9tIFwiLi9tZXJnZUNvbmZpZ0ZpbGVzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VLbm93bkZpbGVzID0gYXN5bmMgKGluaXQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRGaWxlcyA9IGF3YWl0IGxvYWRTaGFyZWRDb25maWdGaWxlcyhpbml0KTtcbiAgICByZXR1cm4gbWVyZ2VDb25maWdGaWxlcyhwYXJzZWRGaWxlcy5jb25maWdGaWxlLCBwYXJzZWRGaWxlcy5jcmVkZW50aWFsc0ZpbGUpO1xufTtcbiIsImV4cG9ydCBjb25zdCBtZXJnZUNvbmZpZ0ZpbGVzID0gKC4uLmZpbGVzKSA9PiB7XG4gICAgY29uc3QgbWVyZ2VkID0ge307XG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVzXSBvZiBPYmplY3QuZW50cmllcyhmaWxlKSkge1xuICAgICAgICAgICAgaWYgKG1lcmdlZFtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG1lcmdlZFtrZXldLCB2YWx1ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2tleV0gPSB2YWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlZDtcbn07XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcInVybFwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImh0dHBcIik7IiwiaW1wb3J0IHsgUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAYXdzLXNkay9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSBcImJ1ZmZlclwiO1xuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gXCJodHRwXCI7XG5leHBvcnQgZnVuY3Rpb24gaHR0cFJlcXVlc3Qob3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhvc3RuYW1lOiBvcHRpb25zLmhvc3RuYW1lPy5yZXBsYWNlKC9eXFxbKC4rKVxcXSQvLCBcIiQxXCIpLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVxLm9uKFwiZXJyb3JcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KE9iamVjdC5hc3NpZ24obmV3IFByb3ZpZGVyRXJyb3IoXCJVbmFibGUgdG8gY29ubmVjdCB0byBpbnN0YW5jZSBtZXRhZGF0YSBzZXJ2aWNlXCIpLCBlcnIpKTtcbiAgICAgICAgICAgIHJlcS5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXEub24oXCJ0aW1lb3V0XCIsICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgUHJvdmlkZXJFcnJvcihcIlRpbWVvdXRFcnJvciBmcm9tIGluc3RhbmNlIG1ldGFkYXRhIHNlcnZpY2VcIikpO1xuICAgICAgICAgICAgcmVxLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcS5vbihcInJlc3BvbnNlXCIsIChyZXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3RhdHVzQ29kZSA9IDQwMCB9ID0gcmVzO1xuICAgICAgICAgICAgaWYgKHN0YXR1c0NvZGUgPCAyMDAgfHwgMzAwIDw9IHN0YXR1c0NvZGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoT2JqZWN0LmFzc2lnbihuZXcgUHJvdmlkZXJFcnJvcihcIkVycm9yIHJlc3BvbnNlIHJlY2VpdmVkIGZyb20gaW5zdGFuY2UgbWV0YWRhdGEgc2VydmljZVwiKSwgeyBzdGF0dXNDb2RlIH0pKTtcbiAgICAgICAgICAgICAgICByZXEuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgICAgICAgICByZXMub24oXCJkYXRhXCIsIChjaHVuaykgPT4ge1xuICAgICAgICAgICAgICAgIGNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzLm9uKFwiZW5kXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKEJ1ZmZlci5jb25jYXQoY2h1bmtzKSk7XG4gICAgICAgICAgICAgICAgcmVxLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVxLmVuZCgpO1xuICAgIH0pO1xufVxuIiwiZXhwb3J0IGNvbnN0IGlzSW1kc0NyZWRlbnRpYWxzID0gKGFyZykgPT4gQm9vbGVhbihhcmcpICYmXG4gICAgdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJlxuICAgIHR5cGVvZiBhcmcuQWNjZXNzS2V5SWQgPT09IFwic3RyaW5nXCIgJiZcbiAgICB0eXBlb2YgYXJnLlNlY3JldEFjY2Vzc0tleSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIHR5cGVvZiBhcmcuVG9rZW4gPT09IFwic3RyaW5nXCIgJiZcbiAgICB0eXBlb2YgYXJnLkV4cGlyYXRpb24gPT09IFwic3RyaW5nXCI7XG5leHBvcnQgY29uc3QgZnJvbUltZHNDcmVkZW50aWFscyA9IChjcmVkcykgPT4gKHtcbiAgICBhY2Nlc3NLZXlJZDogY3JlZHMuQWNjZXNzS2V5SWQsXG4gICAgc2VjcmV0QWNjZXNzS2V5OiBjcmVkcy5TZWNyZXRBY2Nlc3NLZXksXG4gICAgc2Vzc2lvblRva2VuOiBjcmVkcy5Ub2tlbixcbiAgICBleHBpcmF0aW9uOiBuZXcgRGF0ZShjcmVkcy5FeHBpcmF0aW9uKSxcbn0pO1xuIiwiZXhwb3J0IGNvbnN0IERFRkFVTFRfVElNRU9VVCA9IDEwMDA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9NQVhfUkVUUklFUyA9IDA7XG5leHBvcnQgY29uc3QgcHJvdmlkZXJDb25maWdGcm9tSW5pdCA9ICh7IG1heFJldHJpZXMgPSBERUZBVUxUX01BWF9SRVRSSUVTLCB0aW1lb3V0ID0gREVGQVVMVF9USU1FT1VULCB9KSA9PiAoeyBtYXhSZXRyaWVzLCB0aW1lb3V0IH0pO1xuIiwiZXhwb3J0IGNvbnN0IHJldHJ5ID0gKHRvUmV0cnksIG1heFJldHJpZXMpID0+IHtcbiAgICBsZXQgcHJvbWlzZSA9IHRvUmV0cnkoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFJldHJpZXM7IGkrKykge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS5jYXRjaCh0b1JldHJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gXCJ1cmxcIjtcbmltcG9ydCB7IGh0dHBSZXF1ZXN0IH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvaHR0cFJlcXVlc3RcIjtcbmltcG9ydCB7IGZyb21JbWRzQ3JlZGVudGlhbHMsIGlzSW1kc0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvSW1kc0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBwcm92aWRlckNvbmZpZ0Zyb21Jbml0IH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvUmVtb3RlUHJvdmlkZXJJbml0XCI7XG5pbXBvcnQgeyByZXRyeSB9IGZyb20gXCIuL3JlbW90ZVByb3ZpZGVyL3JldHJ5XCI7XG5leHBvcnQgY29uc3QgRU5WX0NNRFNfRlVMTF9VUkkgPSBcIkFXU19DT05UQUlORVJfQ1JFREVOVElBTFNfRlVMTF9VUklcIjtcbmV4cG9ydCBjb25zdCBFTlZfQ01EU19SRUxBVElWRV9VUkkgPSBcIkFXU19DT05UQUlORVJfQ1JFREVOVElBTFNfUkVMQVRJVkVfVVJJXCI7XG5leHBvcnQgY29uc3QgRU5WX0NNRFNfQVVUSF9UT0tFTiA9IFwiQVdTX0NPTlRBSU5FUl9BVVRIT1JJWkFUSU9OX1RPS0VOXCI7XG5leHBvcnQgY29uc3QgZnJvbUNvbnRhaW5lck1ldGFkYXRhID0gKGluaXQgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHsgdGltZW91dCwgbWF4UmV0cmllcyB9ID0gcHJvdmlkZXJDb25maWdGcm9tSW5pdChpbml0KTtcbiAgICByZXR1cm4gKCkgPT4gcmV0cnkoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IGF3YWl0IGdldENtZHNVcmkoKTtcbiAgICAgICAgY29uc3QgY3JlZHNSZXNwb25zZSA9IEpTT04ucGFyc2UoYXdhaXQgcmVxdWVzdEZyb21FY3NJbWRzKHRpbWVvdXQsIHJlcXVlc3RPcHRpb25zKSk7XG4gICAgICAgIGlmICghaXNJbWRzQ3JlZGVudGlhbHMoY3JlZHNSZXNwb25zZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIHJlY2VpdmVkIGZyb20gaW5zdGFuY2UgbWV0YWRhdGEgc2VydmljZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb21JbWRzQ3JlZGVudGlhbHMoY3JlZHNSZXNwb25zZSk7XG4gICAgfSwgbWF4UmV0cmllcyk7XG59O1xuY29uc3QgcmVxdWVzdEZyb21FY3NJbWRzID0gYXN5bmMgKHRpbWVvdXQsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnZbRU5WX0NNRFNfQVVUSF9UT0tFTl0pIHtcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogcHJvY2Vzcy5lbnZbRU5WX0NNRFNfQVVUSF9UT0tFTl0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGh0dHBSZXF1ZXN0KHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgdGltZW91dCxcbiAgICB9KTtcbiAgICByZXR1cm4gYnVmZmVyLnRvU3RyaW5nKCk7XG59O1xuY29uc3QgQ01EU19JUCA9IFwiMTY5LjI1NC4xNzAuMlwiO1xuY29uc3QgR1JFRU5HUkFTU19IT1NUUyA9IHtcbiAgICBsb2NhbGhvc3Q6IHRydWUsXG4gICAgXCIxMjcuMC4wLjFcIjogdHJ1ZSxcbn07XG5jb25zdCBHUkVFTkdSQVNTX1BST1RPQ09MUyA9IHtcbiAgICBcImh0dHA6XCI6IHRydWUsXG4gICAgXCJodHRwczpcIjogdHJ1ZSxcbn07XG5jb25zdCBnZXRDbWRzVXJpID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudltFTlZfQ01EU19SRUxBVElWRV9VUkldKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBob3N0bmFtZTogQ01EU19JUCxcbiAgICAgICAgICAgIHBhdGg6IHByb2Nlc3MuZW52W0VOVl9DTURTX1JFTEFUSVZFX1VSSV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudltFTlZfQ01EU19GVUxMX1VSSV0pIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2UocHJvY2Vzcy5lbnZbRU5WX0NNRFNfRlVMTF9VUkldKTtcbiAgICAgICAgaWYgKCFwYXJzZWQuaG9zdG5hbWUgfHwgIShwYXJzZWQuaG9zdG5hbWUgaW4gR1JFRU5HUkFTU19IT1NUUykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYCR7cGFyc2VkLmhvc3RuYW1lfSBpcyBub3QgYSB2YWxpZCBjb250YWluZXIgbWV0YWRhdGEgc2VydmljZSBob3N0bmFtZWAsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhcnNlZC5wcm90b2NvbCB8fCAhKHBhcnNlZC5wcm90b2NvbCBpbiBHUkVFTkdSQVNTX1BST1RPQ09MUykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYCR7cGFyc2VkLnByb3RvY29sfSBpcyBub3QgYSB2YWxpZCBjb250YWluZXIgbWV0YWRhdGEgc2VydmljZSBwcm90b2NvbGAsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFyc2VkLFxuICAgICAgICAgICAgcG9ydDogcGFyc2VkLnBvcnQgPyBwYXJzZUludChwYXJzZWQucG9ydCwgMTApIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiVGhlIGNvbnRhaW5lciBtZXRhZGF0YSBjcmVkZW50aWFsIHByb3ZpZGVyIGNhbm5vdCBiZSB1c2VkIHVubGVzc1wiICtcbiAgICAgICAgYCB0aGUgJHtFTlZfQ01EU19SRUxBVElWRV9VUkl9IG9yICR7RU5WX0NNRFNfRlVMTF9VUkl9IGVudmlyb25tZW50YCArXG4gICAgICAgIFwiIHZhcmlhYmxlIGlzIHNldFwiLCBmYWxzZSk7XG59O1xuIiwiaW1wb3J0IHsgUHJvdmlkZXJFcnJvciB9IGZyb20gXCIuL1Byb3ZpZGVyRXJyb3JcIjtcbmV4cG9ydCBmdW5jdGlvbiBjaGFpbiguLi5wcm92aWRlcnMpIHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KG5ldyBQcm92aWRlckVycm9yKFwiTm8gcHJvdmlkZXJzIGluIGNoYWluXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBwcm92aWRlciBvZiBwcm92aWRlcnMpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyPy50cnlOZXh0TGluaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvdmlkZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcbn1cbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAYXdzLXNkay9wcm9wZXJ0eS1wcm92aWRlclwiO1xuZXhwb3J0IGNvbnN0IGZyb21FbnYgPSAoZW52VmFyU2VsZWN0b3IpID0+IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjb25maWcgPSBlbnZWYXJTZWxlY3Rvcihwcm9jZXNzLmVudik7XG4gICAgICAgIGlmIChjb25maWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihlLm1lc3NhZ2UgfHwgYENhbm5vdCBsb2FkIGNvbmZpZyBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlcyB3aXRoIGdldHRlcjogJHtlbnZWYXJTZWxlY3Rvcn1gKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgY2hhaW4sIG1lbW9pemUgfSBmcm9tIFwiQGF3cy1zZGsvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IGZyb21FbnYgfSBmcm9tIFwiLi9mcm9tRW52XCI7XG5pbXBvcnQgeyBmcm9tU2hhcmVkQ29uZmlnRmlsZXMgfSBmcm9tIFwiLi9mcm9tU2hhcmVkQ29uZmlnRmlsZXNcIjtcbmltcG9ydCB7IGZyb21TdGF0aWMgfSBmcm9tIFwiLi9mcm9tU3RhdGljXCI7XG5leHBvcnQgY29uc3QgbG9hZENvbmZpZyA9ICh7IGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvciwgY29uZmlnRmlsZVNlbGVjdG9yLCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfSwgY29uZmlndXJhdGlvbiA9IHt9KSA9PiBtZW1vaXplKGNoYWluKGZyb21FbnYoZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yKSwgZnJvbVNoYXJlZENvbmZpZ0ZpbGVzKGNvbmZpZ0ZpbGVTZWxlY3RvciwgY29uZmlndXJhdGlvbiksIGZyb21TdGF0aWMoZGVmYXVsdFZhbHVlKSkpO1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBnZXRQcm9maWxlTmFtZSwgbG9hZFNoYXJlZENvbmZpZ0ZpbGVzIH0gZnJvbSBcIkBhd3Mtc2RrL3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmV4cG9ydCBjb25zdCBmcm9tU2hhcmVkQ29uZmlnRmlsZXMgPSAoY29uZmlnU2VsZWN0b3IsIHsgcHJlZmVycmVkRmlsZSA9IFwiY29uZmlnXCIsIC4uLmluaXQgfSA9IHt9KSA9PiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcHJvZmlsZSA9IGdldFByb2ZpbGVOYW1lKGluaXQpO1xuICAgIGNvbnN0IHsgY29uZmlnRmlsZSwgY3JlZGVudGlhbHNGaWxlIH0gPSBhd2FpdCBsb2FkU2hhcmVkQ29uZmlnRmlsZXMoaW5pdCk7XG4gICAgY29uc3QgcHJvZmlsZUZyb21DcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzRmlsZVtwcm9maWxlXSB8fCB7fTtcbiAgICBjb25zdCBwcm9maWxlRnJvbUNvbmZpZyA9IGNvbmZpZ0ZpbGVbcHJvZmlsZV0gfHwge307XG4gICAgY29uc3QgbWVyZ2VkUHJvZmlsZSA9IHByZWZlcnJlZEZpbGUgPT09IFwiY29uZmlnXCJcbiAgICAgICAgPyB7IC4uLnByb2ZpbGVGcm9tQ3JlZGVudGlhbHMsIC4uLnByb2ZpbGVGcm9tQ29uZmlnIH1cbiAgICAgICAgOiB7IC4uLnByb2ZpbGVGcm9tQ29uZmlnLCAuLi5wcm9maWxlRnJvbUNyZWRlbnRpYWxzIH07XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29uZmlnVmFsdWUgPSBjb25maWdTZWxlY3RvcihtZXJnZWRQcm9maWxlKTtcbiAgICAgICAgaWYgKGNvbmZpZ1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25maWdWYWx1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihlLm1lc3NhZ2UgfHxcbiAgICAgICAgICAgIGBDYW5ub3QgbG9hZCBjb25maWcgZm9yIHByb2ZpbGUgJHtwcm9maWxlfSBpbiBTREsgY29uZmlndXJhdGlvbiBmaWxlcyB3aXRoIGdldHRlcjogJHtjb25maWdTZWxlY3Rvcn1gKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgZnJvbVN0YXRpYyBhcyBjb252ZXJ0VG9Qcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay9wcm9wZXJ0eS1wcm92aWRlclwiO1xuY29uc3QgaXNGdW5jdGlvbiA9IChmdW5jKSA9PiB0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiO1xuZXhwb3J0IGNvbnN0IGZyb21TdGF0aWMgPSAoZGVmYXVsdFZhbHVlKSA9PiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkgPyBhc3luYyAoKSA9PiBhd2FpdCBkZWZhdWx0VmFsdWUoKSA6IGNvbnZlcnRUb1Byb3ZpZGVyKGRlZmF1bHRWYWx1ZSk7XG4iLCJleHBvcnQgY29uc3QgZnJvbVN0YXRpYyA9IChzdGF0aWNWYWx1ZSkgPT4gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHN0YXRpY1ZhbHVlKTtcbiIsImV4cG9ydCB2YXIgRW5kcG9pbnQ7XG4oZnVuY3Rpb24gKEVuZHBvaW50KSB7XG4gICAgRW5kcG9pbnRbXCJJUHY0XCJdID0gXCJodHRwOi8vMTY5LjI1NC4xNjkuMjU0XCI7XG4gICAgRW5kcG9pbnRbXCJJUHY2XCJdID0gXCJodHRwOi8vW2ZkMDA6ZWMyOjoyNTRdXCI7XG59KShFbmRwb2ludCB8fCAoRW5kcG9pbnQgPSB7fSkpO1xuIiwiZXhwb3J0IGNvbnN0IEVOVl9FTkRQT0lOVF9OQU1FID0gXCJBV1NfRUMyX01FVEFEQVRBX1NFUlZJQ0VfRU5EUE9JTlRcIjtcbmV4cG9ydCBjb25zdCBDT05GSUdfRU5EUE9JTlRfTkFNRSA9IFwiZWMyX21ldGFkYXRhX3NlcnZpY2VfZW5kcG9pbnRcIjtcbmV4cG9ydCBjb25zdCBFTkRQT0lOVF9DT05GSUdfT1BUSU9OUyA9IHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltFTlZfRU5EUE9JTlRfTkFNRV0sXG4gICAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4gcHJvZmlsZVtDT05GSUdfRU5EUE9JTlRfTkFNRV0sXG4gICAgZGVmYXVsdDogdW5kZWZpbmVkLFxufTtcbiIsImV4cG9ydCB2YXIgRW5kcG9pbnRNb2RlO1xuKGZ1bmN0aW9uIChFbmRwb2ludE1vZGUpIHtcbiAgICBFbmRwb2ludE1vZGVbXCJJUHY0XCJdID0gXCJJUHY0XCI7XG4gICAgRW5kcG9pbnRNb2RlW1wiSVB2NlwiXSA9IFwiSVB2NlwiO1xufSkoRW5kcG9pbnRNb2RlIHx8IChFbmRwb2ludE1vZGUgPSB7fSkpO1xuIiwiaW1wb3J0IHsgRW5kcG9pbnRNb2RlIH0gZnJvbSBcIi4vRW5kcG9pbnRNb2RlXCI7XG5leHBvcnQgY29uc3QgRU5WX0VORFBPSU5UX01PREVfTkFNRSA9IFwiQVdTX0VDMl9NRVRBREFUQV9TRVJWSUNFX0VORFBPSU5UX01PREVcIjtcbmV4cG9ydCBjb25zdCBDT05GSUdfRU5EUE9JTlRfTU9ERV9OQU1FID0gXCJlYzJfbWV0YWRhdGFfc2VydmljZV9lbmRwb2ludF9tb2RlXCI7XG5leHBvcnQgY29uc3QgRU5EUE9JTlRfTU9ERV9DT05GSUdfT1BUSU9OUyA9IHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltFTlZfRU5EUE9JTlRfTU9ERV9OQU1FXSxcbiAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBwcm9maWxlW0NPTkZJR19FTkRQT0lOVF9NT0RFX05BTUVdLFxuICAgIGRlZmF1bHQ6IEVuZHBvaW50TW9kZS5JUHY0LFxufTtcbiIsImltcG9ydCB7IGxvYWRDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvbm9kZS1jb25maWctcHJvdmlkZXJcIjtcbmltcG9ydCB7IHBhcnNlVXJsIH0gZnJvbSBcIkBhd3Mtc2RrL3VybC1wYXJzZXJcIjtcbmltcG9ydCB7IEVuZHBvaW50IGFzIEluc3RhbmNlTWV0YWRhdGFFbmRwb2ludCB9IGZyb20gXCIuLi9jb25maWcvRW5kcG9pbnRcIjtcbmltcG9ydCB7IEVORFBPSU5UX0NPTkZJR19PUFRJT05TIH0gZnJvbSBcIi4uL2NvbmZpZy9FbmRwb2ludENvbmZpZ09wdGlvbnNcIjtcbmltcG9ydCB7IEVuZHBvaW50TW9kZSB9IGZyb20gXCIuLi9jb25maWcvRW5kcG9pbnRNb2RlXCI7XG5pbXBvcnQgeyBFTkRQT0lOVF9NT0RFX0NPTkZJR19PUFRJT05TLCB9IGZyb20gXCIuLi9jb25maWcvRW5kcG9pbnRNb2RlQ29uZmlnT3B0aW9uc1wiO1xuZXhwb3J0IGNvbnN0IGdldEluc3RhbmNlTWV0YWRhdGFFbmRwb2ludCA9IGFzeW5jICgpID0+IHBhcnNlVXJsKChhd2FpdCBnZXRGcm9tRW5kcG9pbnRDb25maWcoKSkgfHwgKGF3YWl0IGdldEZyb21FbmRwb2ludE1vZGVDb25maWcoKSkpO1xuY29uc3QgZ2V0RnJvbUVuZHBvaW50Q29uZmlnID0gYXN5bmMgKCkgPT4gbG9hZENvbmZpZyhFTkRQT0lOVF9DT05GSUdfT1BUSU9OUykoKTtcbmNvbnN0IGdldEZyb21FbmRwb2ludE1vZGVDb25maWcgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnRNb2RlID0gYXdhaXQgbG9hZENvbmZpZyhFTkRQT0lOVF9NT0RFX0NPTkZJR19PUFRJT05TKSgpO1xuICAgIHN3aXRjaCAoZW5kcG9pbnRNb2RlKSB7XG4gICAgICAgIGNhc2UgRW5kcG9pbnRNb2RlLklQdjQ6XG4gICAgICAgICAgICByZXR1cm4gSW5zdGFuY2VNZXRhZGF0YUVuZHBvaW50LklQdjQ7XG4gICAgICAgIGNhc2UgRW5kcG9pbnRNb2RlLklQdjY6XG4gICAgICAgICAgICByZXR1cm4gSW5zdGFuY2VNZXRhZGF0YUVuZHBvaW50LklQdjY7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGVuZHBvaW50IG1vZGU6ICR7ZW5kcG9pbnRNb2RlfS5gICsgYCBTZWxlY3QgZnJvbSAke09iamVjdC52YWx1ZXMoRW5kcG9pbnRNb2RlKX1gKTtcbiAgICB9XG59O1xuIiwiY29uc3QgU1RBVElDX1NUQUJJTElUWV9SRUZSRVNIX0lOVEVSVkFMX1NFQ09ORFMgPSA1ICogNjA7XG5jb25zdCBTVEFUSUNfU1RBQklMSVRZX1JFRlJFU0hfSU5URVJWQUxfSklUVEVSX1dJTkRPV19TRUNPTkRTID0gNSAqIDYwO1xuY29uc3QgU1RBVElDX1NUQUJJTElUWV9ET0NfVVJMID0gXCJodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vc2RrcmVmL2xhdGVzdC9ndWlkZS9mZWF0dXJlLXN0YXRpYy1jcmVkZW50aWFscy5odG1sXCI7XG5leHBvcnQgY29uc3QgZ2V0RXh0ZW5kZWRJbnN0YW5jZU1ldGFkYXRhQ3JlZGVudGlhbHMgPSAoY3JlZGVudGlhbHMsIGxvZ2dlcikgPT4ge1xuICAgIGNvbnN0IHJlZnJlc2hJbnRlcnZhbCA9IFNUQVRJQ19TVEFCSUxJVFlfUkVGUkVTSF9JTlRFUlZBTF9TRUNPTkRTICtcbiAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogU1RBVElDX1NUQUJJTElUWV9SRUZSRVNIX0lOVEVSVkFMX0pJVFRFUl9XSU5ET1dfU0VDT05EUyk7XG4gICAgY29uc3QgbmV3RXhwaXJhdGlvbiA9IG5ldyBEYXRlKERhdGUubm93KCkgKyByZWZyZXNoSW50ZXJ2YWwgKiAxMDAwKTtcbiAgICBsb2dnZXIud2FybihcIkF0dGVtcHRpbmcgY3JlZGVudGlhbCBleHBpcmF0aW9uIGV4dGVuc2lvbiBkdWUgdG8gYSBjcmVkZW50aWFsIHNlcnZpY2UgYXZhaWxhYmlsaXR5IGlzc3VlLiBBIHJlZnJlc2ggb2YgdGhlc2UgXCIgK1xuICAgICAgICBcImNyZWRlbnRpYWxzIHdpbGwgYmUgYXR0ZW1wdGVkIGFmdGVyICR7bmV3IERhdGUobmV3RXhwaXJhdGlvbil9LlxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgdmlzaXQ6IFwiICtcbiAgICAgICAgU1RBVElDX1NUQUJJTElUWV9ET0NfVVJMKTtcbiAgICBjb25zdCBvcmlnaW5hbEV4cGlyYXRpb24gPSBjcmVkZW50aWFscy5vcmlnaW5hbEV4cGlyYXRpb24gPz8gY3JlZGVudGlhbHMuZXhwaXJhdGlvbjtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5jcmVkZW50aWFscyxcbiAgICAgICAgLi4uKG9yaWdpbmFsRXhwaXJhdGlvbiA/IHsgb3JpZ2luYWxFeHBpcmF0aW9uIH0gOiB7fSksXG4gICAgICAgIGV4cGlyYXRpb246IG5ld0V4cGlyYXRpb24sXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQGF3cy1zZGsvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IGh0dHBSZXF1ZXN0IH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvaHR0cFJlcXVlc3RcIjtcbmltcG9ydCB7IGZyb21JbWRzQ3JlZGVudGlhbHMsIGlzSW1kc0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvSW1kc0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBwcm92aWRlckNvbmZpZ0Zyb21Jbml0IH0gZnJvbSBcIi4vcmVtb3RlUHJvdmlkZXIvUmVtb3RlUHJvdmlkZXJJbml0XCI7XG5pbXBvcnQgeyByZXRyeSB9IGZyb20gXCIuL3JlbW90ZVByb3ZpZGVyL3JldHJ5XCI7XG5pbXBvcnQgeyBnZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQgfSBmcm9tIFwiLi91dGlscy9nZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnRcIjtcbmltcG9ydCB7IHN0YXRpY1N0YWJpbGl0eVByb3ZpZGVyIH0gZnJvbSBcIi4vdXRpbHMvc3RhdGljU3RhYmlsaXR5UHJvdmlkZXJcIjtcbmNvbnN0IElNRFNfUEFUSCA9IFwiL2xhdGVzdC9tZXRhLWRhdGEvaWFtL3NlY3VyaXR5LWNyZWRlbnRpYWxzL1wiO1xuY29uc3QgSU1EU19UT0tFTl9QQVRIID0gXCIvbGF0ZXN0L2FwaS90b2tlblwiO1xuZXhwb3J0IGNvbnN0IGZyb21JbnN0YW5jZU1ldGFkYXRhID0gKGluaXQgPSB7fSkgPT4gc3RhdGljU3RhYmlsaXR5UHJvdmlkZXIoZ2V0SW5zdGFuY2VJbWRzUHJvdmlkZXIoaW5pdCksIHsgbG9nZ2VyOiBpbml0LmxvZ2dlciB9KTtcbmNvbnN0IGdldEluc3RhbmNlSW1kc1Byb3ZpZGVyID0gKGluaXQpID0+IHtcbiAgICBsZXQgZGlzYWJsZUZldGNoVG9rZW4gPSBmYWxzZTtcbiAgICBjb25zdCB7IHRpbWVvdXQsIG1heFJldHJpZXMgfSA9IHByb3ZpZGVyQ29uZmlnRnJvbUluaXQoaW5pdCk7XG4gICAgY29uc3QgZ2V0Q3JlZGVudGlhbHMgPSBhc3luYyAobWF4UmV0cmllcywgb3B0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCBwcm9maWxlID0gKGF3YWl0IHJldHJ5KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGxldCBwcm9maWxlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwcm9maWxlID0gYXdhaXQgZ2V0UHJvZmlsZShvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLnN0YXR1c0NvZGUgPT09IDQwMSkge1xuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRmV0Y2hUb2tlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvZmlsZTtcbiAgICAgICAgfSwgbWF4UmV0cmllcykpLnRyaW0oKTtcbiAgICAgICAgcmV0dXJuIHJldHJ5KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGxldCBjcmVkcztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY3JlZHMgPSBhd2FpdCBnZXRDcmVkZW50aWFsc0Zyb21Qcm9maWxlKHByb2ZpbGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIuc3RhdHVzQ29kZSA9PT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVGZXRjaFRva2VuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjcmVkcztcbiAgICAgICAgfSwgbWF4UmV0cmllcyk7XG4gICAgfTtcbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBlbmRwb2ludCA9IGF3YWl0IGdldEluc3RhbmNlTWV0YWRhdGFFbmRwb2ludCgpO1xuICAgICAgICBpZiAoZGlzYWJsZUZldGNoVG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRDcmVkZW50aWFscyhtYXhSZXRyaWVzLCB7IC4uLmVuZHBvaW50LCB0aW1lb3V0IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHRva2VuO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IChhd2FpdCBnZXRNZXRhZGF0YVRva2VuKHsgLi4uZW5kcG9pbnQsIHRpbWVvdXQgfSkpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3I/LnN0YXR1c0NvZGUgPT09IDQwMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuYXNzaWduKGVycm9yLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVDMiBNZXRhZGF0YSB0b2tlbiByZXF1ZXN0IHJldHVybmVkIGVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlcnJvci5tZXNzYWdlID09PSBcIlRpbWVvdXRFcnJvclwiIHx8IFs0MDMsIDQwNCwgNDA1XS5pbmNsdWRlcyhlcnJvci5zdGF0dXNDb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRmV0Y2hUb2tlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRDcmVkZW50aWFscyhtYXhSZXRyaWVzLCB7IC4uLmVuZHBvaW50LCB0aW1lb3V0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdldENyZWRlbnRpYWxzKG1heFJldHJpZXMsIHtcbiAgICAgICAgICAgICAgICAuLi5lbmRwb2ludCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwieC1hd3MtZWMyLW1ldGFkYXRhLXRva2VuXCI6IHRva2VuLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGltZW91dCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5jb25zdCBnZXRNZXRhZGF0YVRva2VuID0gYXN5bmMgKG9wdGlvbnMpID0+IGh0dHBSZXF1ZXN0KHtcbiAgICAuLi5vcHRpb25zLFxuICAgIHBhdGg6IElNRFNfVE9LRU5fUEFUSCxcbiAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgICBcIngtYXdzLWVjMi1tZXRhZGF0YS10b2tlbi10dGwtc2Vjb25kc1wiOiBcIjIxNjAwXCIsXG4gICAgfSxcbn0pO1xuY29uc3QgZ2V0UHJvZmlsZSA9IGFzeW5jIChvcHRpb25zKSA9PiAoYXdhaXQgaHR0cFJlcXVlc3QoeyAuLi5vcHRpb25zLCBwYXRoOiBJTURTX1BBVEggfSkpLnRvU3RyaW5nKCk7XG5jb25zdCBnZXRDcmVkZW50aWFsc0Zyb21Qcm9maWxlID0gYXN5bmMgKHByb2ZpbGUsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBjcmVkc1Jlc3BvbnNlID0gSlNPTi5wYXJzZSgoYXdhaXQgaHR0cFJlcXVlc3Qoe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBwYXRoOiBJTURTX1BBVEggKyBwcm9maWxlLFxuICAgIH0pKS50b1N0cmluZygpKTtcbiAgICBpZiAoIWlzSW1kc0NyZWRlbnRpYWxzKGNyZWRzUmVzcG9uc2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIHJlY2VpdmVkIGZyb20gaW5zdGFuY2UgbWV0YWRhdGEgc2VydmljZS5cIik7XG4gICAgfVxuICAgIHJldHVybiBmcm9tSW1kc0NyZWRlbnRpYWxzKGNyZWRzUmVzcG9uc2UpO1xufTtcbiIsImltcG9ydCB7IGdldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzIH0gZnJvbSBcIi4vZ2V0RXh0ZW5kZWRJbnN0YW5jZU1ldGFkYXRhQ3JlZGVudGlhbHNcIjtcbmV4cG9ydCBjb25zdCBzdGF0aWNTdGFiaWxpdHlQcm92aWRlciA9IChwcm92aWRlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3QgbG9nZ2VyID0gb3B0aW9ucz8ubG9nZ2VyIHx8IGNvbnNvbGU7XG4gICAgbGV0IHBhc3RDcmVkZW50aWFscztcbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgY3JlZGVudGlhbHM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjcmVkZW50aWFscyA9IGF3YWl0IHByb3ZpZGVyKCk7XG4gICAgICAgICAgICBpZiAoY3JlZGVudGlhbHMuZXhwaXJhdGlvbiAmJiBjcmVkZW50aWFscy5leHBpcmF0aW9uLmdldFRpbWUoKSA8IERhdGUubm93KCkpIHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFscyA9IGdldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzKGNyZWRlbnRpYWxzLCBsb2dnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAocGFzdENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJDcmVkZW50aWFsIHJlbmV3IGZhaWxlZDogXCIsIGUpO1xuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzID0gZ2V0RXh0ZW5kZWRJbnN0YW5jZU1ldGFkYXRhQ3JlZGVudGlhbHMocGFzdENyZWRlbnRpYWxzLCBsb2dnZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwYXN0Q3JlZGVudGlhbHMgPSBjcmVkZW50aWFscztcbiAgICAgICAgcmV0dXJuIGNyZWRlbnRpYWxzO1xuICAgIH07XG59O1xuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjaGlsZF9wcm9jZXNzXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwidXRpbFwiKTsiLCJpbXBvcnQgeyBnZXRQcm9maWxlTmFtZSwgcGFyc2VLbm93bkZpbGVzIH0gZnJvbSBcIkBhd3Mtc2RrL3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmltcG9ydCB7IHJlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHMgfSBmcm9tIFwiLi9yZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzXCI7XG5leHBvcnQgY29uc3QgZnJvbVByb2Nlc3MgPSAoaW5pdCA9IHt9KSA9PiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcHJvZmlsZXMgPSBhd2FpdCBwYXJzZUtub3duRmlsZXMoaW5pdCk7XG4gICAgcmV0dXJuIHJlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHMoZ2V0UHJvZmlsZU5hbWUoaW5pdCksIHByb2ZpbGVzKTtcbn07XG4iLCJpbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQGF3cy1zZGsvcHJvcGVydHktcHJvdmlkZXJcIjtcbmltcG9ydCB7IGV4ZWMgfSBmcm9tIFwiY2hpbGRfcHJvY2Vzc1wiO1xuaW1wb3J0IHsgcHJvbWlzaWZ5IH0gZnJvbSBcInV0aWxcIjtcbmltcG9ydCB7IGdldFZhbGlkYXRlZFByb2Nlc3NDcmVkZW50aWFscyB9IGZyb20gXCIuL2dldFZhbGlkYXRlZFByb2Nlc3NDcmVkZW50aWFsc1wiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHMgPSBhc3luYyAocHJvZmlsZU5hbWUsIHByb2ZpbGVzKSA9PiB7XG4gICAgY29uc3QgcHJvZmlsZSA9IHByb2ZpbGVzW3Byb2ZpbGVOYW1lXTtcbiAgICBpZiAocHJvZmlsZXNbcHJvZmlsZU5hbWVdKSB7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxQcm9jZXNzID0gcHJvZmlsZVtcImNyZWRlbnRpYWxfcHJvY2Vzc1wiXTtcbiAgICAgICAgaWYgKGNyZWRlbnRpYWxQcm9jZXNzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4ZWNQcm9taXNlID0gcHJvbWlzaWZ5KGV4ZWMpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN0ZG91dCB9ID0gYXdhaXQgZXhlY1Byb21pc2UoY3JlZGVudGlhbFByb2Nlc3MpO1xuICAgICAgICAgICAgICAgIGxldCBkYXRhO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHN0ZG91dC50cmltKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IGNyZWRlbnRpYWxfcHJvY2VzcyByZXR1cm5lZCBpbnZhbGlkIEpTT04uYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRWYWxpZGF0ZWRQcm9jZXNzQ3JlZGVudGlhbHMocHJvZmlsZU5hbWUsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYFByb2ZpbGUgJHtwcm9maWxlTmFtZX0gZGlkIG5vdCBjb250YWluIGNyZWRlbnRpYWxfcHJvY2Vzcy5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSBjb3VsZCBub3QgYmUgZm91bmQgaW4gc2hhcmVkIGNyZWRlbnRpYWxzIGZpbGUuYCk7XG4gICAgfVxufTtcbiIsImV4cG9ydCBjb25zdCBnZXRWYWxpZGF0ZWRQcm9jZXNzQ3JlZGVudGlhbHMgPSAocHJvZmlsZU5hbWUsIGRhdGEpID0+IHtcbiAgICBpZiAoZGF0YS5WZXJzaW9uICE9PSAxKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IGNyZWRlbnRpYWxfcHJvY2VzcyBkaWQgbm90IHJldHVybiBWZXJzaW9uIDEuYCk7XG4gICAgfVxuICAgIGlmIChkYXRhLkFjY2Vzc0tleUlkID09PSB1bmRlZmluZWQgfHwgZGF0YS5TZWNyZXRBY2Nlc3NLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSBjcmVkZW50aWFsX3Byb2Nlc3MgcmV0dXJuZWQgaW52YWxpZCBjcmVkZW50aWFscy5gKTtcbiAgICB9XG4gICAgaWYgKGRhdGEuRXhwaXJhdGlvbikge1xuICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IGV4cGlyZVRpbWUgPSBuZXcgRGF0ZShkYXRhLkV4cGlyYXRpb24pO1xuICAgICAgICBpZiAoZXhwaXJlVGltZSA8IGN1cnJlbnRUaW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSBjcmVkZW50aWFsX3Byb2Nlc3MgcmV0dXJuZWQgZXhwaXJlZCBjcmVkZW50aWFscy5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhY2Nlc3NLZXlJZDogZGF0YS5BY2Nlc3NLZXlJZCxcbiAgICAgICAgc2VjcmV0QWNjZXNzS2V5OiBkYXRhLlNlY3JldEFjY2Vzc0tleSxcbiAgICAgICAgLi4uKGRhdGEuU2Vzc2lvblRva2VuICYmIHsgc2Vzc2lvblRva2VuOiBkYXRhLlNlc3Npb25Ub2tlbiB9KSxcbiAgICAgICAgLi4uKGRhdGEuRXhwaXJhdGlvbiAmJiB7IGV4cGlyYXRpb246IG5ldyBEYXRlKGRhdGEuRXhwaXJhdGlvbikgfSksXG4gICAgfTtcbn07XG4iLCJleHBvcnQgY29uc3QgaXNTc29Qcm9maWxlID0gKGFyZykgPT4gYXJnICYmXG4gICAgKHR5cGVvZiBhcmcuc3NvX3N0YXJ0X3VybCA9PT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICB0eXBlb2YgYXJnLnNzb19hY2NvdW50X2lkID09PSBcInN0cmluZ1wiIHx8XG4gICAgICAgIHR5cGVvZiBhcmcuc3NvX3Nlc3Npb24gPT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgdHlwZW9mIGFyZy5zc29fcmVnaW9uID09PSBcInN0cmluZ1wiIHx8XG4gICAgICAgIHR5cGVvZiBhcmcuc3NvX3JvbGVfbmFtZSA9PT0gXCJzdHJpbmdcIik7XG4iLCJpbXBvcnQgeyBmcm9tQXJyYXlCdWZmZXIsIGZyb21TdHJpbmcgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1idWZmZXItZnJvbVwiO1xuaW1wb3J0IHsgdG9VaW50OEFycmF5IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXRmOFwiO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSBcImJ1ZmZlclwiO1xuaW1wb3J0IHsgY3JlYXRlSGFzaCwgY3JlYXRlSG1hYyB9IGZyb20gXCJjcnlwdG9cIjtcbmV4cG9ydCBjbGFzcyBIYXNoIHtcbiAgICBjb25zdHJ1Y3RvcihhbGdvcml0aG1JZGVudGlmaWVyLCBzZWNyZXQpIHtcbiAgICAgICAgdGhpcy5hbGdvcml0aG1JZGVudGlmaWVyID0gYWxnb3JpdGhtSWRlbnRpZmllcjtcbiAgICAgICAgdGhpcy5zZWNyZXQgPSBzZWNyZXQ7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gICAgdXBkYXRlKHRvSGFzaCwgZW5jb2RpbmcpIHtcbiAgICAgICAgdGhpcy5oYXNoLnVwZGF0ZSh0b1VpbnQ4QXJyYXkoY2FzdFNvdXJjZURhdGEodG9IYXNoLCBlbmNvZGluZykpKTtcbiAgICB9XG4gICAgZGlnZXN0KCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuaGFzaC5kaWdlc3QoKSk7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmhhc2ggPSB0aGlzLnNlY3JldFxuICAgICAgICAgICAgPyBjcmVhdGVIbWFjKHRoaXMuYWxnb3JpdGhtSWRlbnRpZmllciwgY2FzdFNvdXJjZURhdGEodGhpcy5zZWNyZXQpKVxuICAgICAgICAgICAgOiBjcmVhdGVIYXNoKHRoaXMuYWxnb3JpdGhtSWRlbnRpZmllcik7XG4gICAgfVxufVxuZnVuY3Rpb24gY2FzdFNvdXJjZURhdGEodG9DYXN0LCBlbmNvZGluZykge1xuICAgIGlmIChCdWZmZXIuaXNCdWZmZXIodG9DYXN0KSkge1xuICAgICAgICByZXR1cm4gdG9DYXN0O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRvQ2FzdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gZnJvbVN0cmluZyh0b0Nhc3QsIGVuY29kaW5nKTtcbiAgICB9XG4gICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh0b0Nhc3QpKSB7XG4gICAgICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodG9DYXN0LmJ1ZmZlciwgdG9DYXN0LmJ5dGVPZmZzZXQsIHRvQ2FzdC5ieXRlTGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih0b0Nhc3QpO1xufVxuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJodHRwc1wiKTsiLCJleHBvcnQgY29uc3QgTk9ERUpTX1RJTUVPVVRfRVJST1JfQ09ERVMgPSBbXCJFQ09OTlJFU0VUXCIsIFwiRVBJUEVcIiwgXCJFVElNRURPVVRcIl07XG4iLCJjb25zdCBnZXRUcmFuc2Zvcm1lZEhlYWRlcnMgPSAoaGVhZGVycykgPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkSGVhZGVycyA9IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICBjb25zdCBoZWFkZXJWYWx1ZXMgPSBoZWFkZXJzW25hbWVdO1xuICAgICAgICB0cmFuc2Zvcm1lZEhlYWRlcnNbbmFtZV0gPSBBcnJheS5pc0FycmF5KGhlYWRlclZhbHVlcykgPyBoZWFkZXJWYWx1ZXMuam9pbihcIixcIikgOiBoZWFkZXJWYWx1ZXM7XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm1lZEhlYWRlcnM7XG59O1xuZXhwb3J0IHsgZ2V0VHJhbnNmb3JtZWRIZWFkZXJzIH07XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcInN0cmVhbVwiKTsiLCJpbXBvcnQgeyBIdHRwUmVzcG9uc2UgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgYnVpbGRRdWVyeVN0cmluZyB9IGZyb20gXCJAYXdzLXNkay9xdWVyeXN0cmluZy1idWlsZGVyXCI7XG5pbXBvcnQgeyBBZ2VudCBhcyBoQWdlbnQsIHJlcXVlc3QgYXMgaFJlcXVlc3QgfSBmcm9tIFwiaHR0cFwiO1xuaW1wb3J0IHsgQWdlbnQgYXMgaHNBZ2VudCwgcmVxdWVzdCBhcyBoc1JlcXVlc3QgfSBmcm9tIFwiaHR0cHNcIjtcbmltcG9ydCB7IE5PREVKU19USU1FT1VUX0VSUk9SX0NPREVTIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXRUcmFuc2Zvcm1lZEhlYWRlcnMgfSBmcm9tIFwiLi9nZXQtdHJhbnNmb3JtZWQtaGVhZGVyc1wiO1xuaW1wb3J0IHsgc2V0Q29ubmVjdGlvblRpbWVvdXQgfSBmcm9tIFwiLi9zZXQtY29ubmVjdGlvbi10aW1lb3V0XCI7XG5pbXBvcnQgeyBzZXRTb2NrZXRLZWVwQWxpdmUgfSBmcm9tIFwiLi9zZXQtc29ja2V0LWtlZXAtYWxpdmVcIjtcbmltcG9ydCB7IHNldFNvY2tldFRpbWVvdXQgfSBmcm9tIFwiLi9zZXQtc29ja2V0LXRpbWVvdXRcIjtcbmltcG9ydCB7IHdyaXRlUmVxdWVzdEJvZHkgfSBmcm9tIFwiLi93cml0ZS1yZXF1ZXN0LWJvZHlcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFUVVFU1RfVElNRU9VVCA9IDA7XG5leHBvcnQgY2xhc3MgTm9kZUh0dHBIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSB7IGhhbmRsZXJQcm90b2NvbDogXCJodHRwLzEuMVwiIH07XG4gICAgICAgIHRoaXMuY29uZmlnUHJvdmlkZXIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoX29wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc29sdmVEZWZhdWx0Q29uZmlnKF9vcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzb2x2ZURlZmF1bHRDb25maWcob3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVzb2x2ZURlZmF1bHRDb25maWcob3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RUaW1lb3V0LCBjb25uZWN0aW9uVGltZW91dCwgc29ja2V0VGltZW91dCwgaHR0cEFnZW50LCBodHRwc0FnZW50IH0gPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBjb25zdCBrZWVwQWxpdmUgPSB0cnVlO1xuICAgICAgICBjb25zdCBtYXhTb2NrZXRzID0gNTA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb25uZWN0aW9uVGltZW91dCxcbiAgICAgICAgICAgIHJlcXVlc3RUaW1lb3V0OiByZXF1ZXN0VGltZW91dCA/PyBzb2NrZXRUaW1lb3V0LFxuICAgICAgICAgICAgaHR0cEFnZW50OiBodHRwQWdlbnQgfHwgbmV3IGhBZ2VudCh7IGtlZXBBbGl2ZSwgbWF4U29ja2V0cyB9KSxcbiAgICAgICAgICAgIGh0dHBzQWdlbnQ6IGh0dHBzQWdlbnQgfHwgbmV3IGhzQWdlbnQoeyBrZWVwQWxpdmUsIG1heFNvY2tldHMgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuY29uZmlnPy5odHRwQWdlbnQ/LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5jb25maWc/Lmh0dHBzQWdlbnQ/LmRlc3Ryb3koKTtcbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlKHJlcXVlc3QsIHsgYWJvcnRTaWduYWwgfSA9IHt9KSB7XG4gICAgICAgIGlmICghdGhpcy5jb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gYXdhaXQgdGhpcy5jb25maWdQcm92aWRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKF9yZXNvbHZlLCBfcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgd3JpdGVSZXF1ZXN0Qm9keVByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlID0gYXN5bmMgKGFyZykgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHdyaXRlUmVxdWVzdEJvZHlQcm9taXNlO1xuICAgICAgICAgICAgICAgIF9yZXNvbHZlKGFyZyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVqZWN0ID0gYXN5bmMgKGFyZykgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHdyaXRlUmVxdWVzdEJvZHlQcm9taXNlO1xuICAgICAgICAgICAgICAgIF9yZWplY3QoYXJnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm9kZSBIVFRQIHJlcXVlc3QgaGFuZGxlciBjb25maWcgaXMgbm90IHJlc29sdmVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFib3J0U2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIlJlcXVlc3QgYWJvcnRlZFwiKTtcbiAgICAgICAgICAgICAgICBhYm9ydEVycm9yLm5hbWUgPSBcIkFib3J0RXJyb3JcIjtcbiAgICAgICAgICAgICAgICByZWplY3QoYWJvcnRFcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNTU0wgPSByZXF1ZXN0LnByb3RvY29sID09PSBcImh0dHBzOlwiO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBidWlsZFF1ZXJ5U3RyaW5nKHJlcXVlc3QucXVlcnkgfHwge30pO1xuICAgICAgICAgICAgbGV0IGF1dGggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAocmVxdWVzdC51c2VybmFtZSAhPSBudWxsIHx8IHJlcXVlc3QucGFzc3dvcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gcmVxdWVzdC51c2VybmFtZSA/PyBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gcmVxdWVzdC5wYXNzd29yZCA/PyBcIlwiO1xuICAgICAgICAgICAgICAgIGF1dGggPSBgJHt1c2VybmFtZX06JHtwYXNzd29yZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHBhdGggPSByZXF1ZXN0LnBhdGg7XG4gICAgICAgICAgICBpZiAocXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBwYXRoICs9IGA/JHtxdWVyeVN0cmluZ31gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcXVlc3QuZnJhZ21lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXRoICs9IGAjJHtyZXF1ZXN0LmZyYWdtZW50fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBub2RlSHR0cHNPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICAgICAgICAgICAgICBob3N0OiByZXF1ZXN0Lmhvc3RuYW1lLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICBwb3J0OiByZXF1ZXN0LnBvcnQsXG4gICAgICAgICAgICAgICAgYWdlbnQ6IGlzU1NMID8gdGhpcy5jb25maWcuaHR0cHNBZ2VudCA6IHRoaXMuY29uZmlnLmh0dHBBZ2VudCxcbiAgICAgICAgICAgICAgICBhdXRoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RGdW5jID0gaXNTU0wgPyBoc1JlcXVlc3QgOiBoUmVxdWVzdDtcbiAgICAgICAgICAgIGNvbnN0IHJlcSA9IHJlcXVlc3RGdW5jKG5vZGVIdHRwc09wdGlvbnMsIChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBodHRwUmVzcG9uc2UgPSBuZXcgSHR0cFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogcmVzLnN0YXR1c0NvZGUgfHwgLTEsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogcmVzLnN0YXR1c01lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGdldFRyYW5zZm9ybWVkSGVhZGVycyhyZXMuaGVhZGVycyksXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IHJlcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgcmVzcG9uc2U6IGh0dHBSZXNwb25zZSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVxLm9uKFwiZXJyb3JcIiwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChOT0RFSlNfVElNRU9VVF9FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnIuY29kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KE9iamVjdC5hc3NpZ24oZXJyLCB7IG5hbWU6IFwiVGltZW91dEVycm9yXCIgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRDb25uZWN0aW9uVGltZW91dChyZXEsIHJlamVjdCwgdGhpcy5jb25maWcuY29ubmVjdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgc2V0U29ja2V0VGltZW91dChyZXEsIHJlamVjdCwgdGhpcy5jb25maWcucmVxdWVzdFRpbWVvdXQpO1xuICAgICAgICAgICAgaWYgKGFib3J0U2lnbmFsKSB7XG4gICAgICAgICAgICAgICAgYWJvcnRTaWduYWwub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJSZXF1ZXN0IGFib3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGFib3J0RXJyb3IubmFtZSA9IFwiQWJvcnRFcnJvclwiO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoYWJvcnRFcnJvcik7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGh0dHBBZ2VudCA9IG5vZGVIdHRwc09wdGlvbnMuYWdlbnQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGh0dHBBZ2VudCA9PT0gXCJvYmplY3RcIiAmJiBcImtlZXBBbGl2ZVwiIGluIGh0dHBBZ2VudCkge1xuICAgICAgICAgICAgICAgIHNldFNvY2tldEtlZXBBbGl2ZShyZXEsIHtcbiAgICAgICAgICAgICAgICAgICAga2VlcEFsaXZlOiBodHRwQWdlbnQua2VlcEFsaXZlLFxuICAgICAgICAgICAgICAgICAgICBrZWVwQWxpdmVNc2VjczogaHR0cEFnZW50LmtlZXBBbGl2ZU1zZWNzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JpdGVSZXF1ZXN0Qm9keVByb21pc2UgPSB3cml0ZVJlcXVlc3RCb2R5KHJlcSwgcmVxdWVzdCwgdGhpcy5jb25maWcucmVxdWVzdFRpbWVvdXQpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBlc2NhcGVVcmkgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11cmktZXNjYXBlXCI7XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRRdWVyeVN0cmluZyhxdWVyeSkge1xuICAgIGNvbnN0IHBhcnRzID0gW107XG4gICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHF1ZXJ5KS5zb3J0KCkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBxdWVyeVtrZXldO1xuICAgICAgICBrZXkgPSBlc2NhcGVVcmkoa2V5KTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgaUxlbiA9IHZhbHVlLmxlbmd0aDsgaSA8IGlMZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goYCR7a2V5fT0ke2VzY2FwZVVyaSh2YWx1ZVtpXSl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgcXNFbnRyeSA9IGtleTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBxc0VudHJ5ICs9IGA9JHtlc2NhcGVVcmkodmFsdWUpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHFzRW50cnkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJ0cy5qb2luKFwiJlwiKTtcbn1cbiIsImV4cG9ydCBjb25zdCBzZXRDb25uZWN0aW9uVGltZW91dCA9IChyZXF1ZXN0LCByZWplY3QsIHRpbWVvdXRJbk1zID0gMCkgPT4ge1xuICAgIGlmICghdGltZW91dEluTXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcmVxdWVzdC5kZXN0cm95KCk7XG4gICAgICAgIHJlamVjdChPYmplY3QuYXNzaWduKG5ldyBFcnJvcihgU29ja2V0IHRpbWVkIG91dCB3aXRob3V0IGVzdGFibGlzaGluZyBhIGNvbm5lY3Rpb24gd2l0aGluICR7dGltZW91dEluTXN9IG1zYCksIHtcbiAgICAgICAgICAgIG5hbWU6IFwiVGltZW91dEVycm9yXCIsXG4gICAgICAgIH0pKTtcbiAgICB9LCB0aW1lb3V0SW5Ncyk7XG4gICAgcmVxdWVzdC5vbihcInNvY2tldFwiLCAoc29ja2V0KSA9PiB7XG4gICAgICAgIGlmIChzb2NrZXQuY29ubmVjdGluZykge1xuICAgICAgICAgICAgc29ja2V0Lm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IHNldFNvY2tldFRpbWVvdXQgPSAocmVxdWVzdCwgcmVqZWN0LCB0aW1lb3V0SW5NcyA9IDApID0+IHtcbiAgICByZXF1ZXN0LnNldFRpbWVvdXQodGltZW91dEluTXMsICgpID0+IHtcbiAgICAgICAgcmVxdWVzdC5kZXN0cm95KCk7XG4gICAgICAgIHJlamVjdChPYmplY3QuYXNzaWduKG5ldyBFcnJvcihgQ29ubmVjdGlvbiB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0SW5Nc30gbXNgKSwgeyBuYW1lOiBcIlRpbWVvdXRFcnJvclwiIH0pKTtcbiAgICB9KTtcbn07XG4iLCJleHBvcnQgY29uc3Qgc2V0U29ja2V0S2VlcEFsaXZlID0gKHJlcXVlc3QsIHsga2VlcEFsaXZlLCBrZWVwQWxpdmVNc2VjcyB9KSA9PiB7XG4gICAgaWYgKGtlZXBBbGl2ZSAhPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlcXVlc3Qub24oXCJzb2NrZXRcIiwgKHNvY2tldCkgPT4ge1xuICAgICAgICBzb2NrZXQuc2V0S2VlcEFsaXZlKGtlZXBBbGl2ZSwga2VlcEFsaXZlTXNlY3MgfHwgMCk7XG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgUmVhZGFibGUgfSBmcm9tIFwic3RyZWFtXCI7XG5jb25zdCBNSU5fV0FJVF9USU1FID0gMTAwMDtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3cml0ZVJlcXVlc3RCb2R5KGh0dHBSZXF1ZXN0LCByZXF1ZXN0LCBtYXhDb250aW51ZVRpbWVvdXRNcyA9IE1JTl9XQUlUX1RJTUUpIHtcbiAgICBjb25zdCBoZWFkZXJzID0gcmVxdWVzdC5oZWFkZXJzID8/IHt9O1xuICAgIGNvbnN0IGV4cGVjdCA9IGhlYWRlcnNbXCJFeHBlY3RcIl0gfHwgaGVhZGVyc1tcImV4cGVjdFwiXTtcbiAgICBsZXQgdGltZW91dElkID0gLTE7XG4gICAgbGV0IGhhc0Vycm9yID0gZmFsc2U7XG4gICAgaWYgKGV4cGVjdCA9PT0gXCIxMDAtY29udGludWVcIikge1xuICAgICAgICBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0SWQgPSBOdW1iZXIoc2V0VGltZW91dChyZXNvbHZlLCBNYXRoLm1heChNSU5fV0FJVF9USU1FLCBtYXhDb250aW51ZVRpbWVvdXRNcykpKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICBodHRwUmVxdWVzdC5vbihcImNvbnRpbnVlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBodHRwUmVxdWVzdC5vbihcImVycm9yXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBpZiAoIWhhc0Vycm9yKSB7XG4gICAgICAgIHdyaXRlQm9keShodHRwUmVxdWVzdCwgcmVxdWVzdC5ib2R5KTtcbiAgICB9XG59XG5mdW5jdGlvbiB3cml0ZUJvZHkoaHR0cFJlcXVlc3QsIGJvZHkpIHtcbiAgICBpZiAoYm9keSBpbnN0YW5jZW9mIFJlYWRhYmxlKSB7XG4gICAgICAgIGJvZHkucGlwZShodHRwUmVxdWVzdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJvZHkpIHtcbiAgICAgICAgaHR0cFJlcXVlc3QuZW5kKEJ1ZmZlci5mcm9tKGJvZHkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGh0dHBSZXF1ZXN0LmVuZCgpO1xuICAgIH1cbn1cbiIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiaHR0cDJcIik7IiwiZXhwb3J0IGNsYXNzIE5vZGVIdHRwMkNvbm5lY3Rpb25Qb29sIHtcbiAgICBjb25zdHJ1Y3RvcihzZXNzaW9ucykge1xuICAgICAgICB0aGlzLnNlc3Npb25zID0gW107XG4gICAgICAgIHRoaXMuc2Vzc2lvbnMgPSBzZXNzaW9ucyA/PyBbXTtcbiAgICB9XG4gICAgcG9sbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbnMuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvZmZlckxhc3Qoc2Vzc2lvbikge1xuICAgICAgICB0aGlzLnNlc3Npb25zLnB1c2goc2Vzc2lvbik7XG4gICAgfVxuICAgIGNvbnRhaW5zKHNlc3Npb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbnMuaW5jbHVkZXMoc2Vzc2lvbik7XG4gICAgfVxuICAgIHJlbW92ZShzZXNzaW9uKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbnMgPSB0aGlzLnNlc3Npb25zLmZpbHRlcigocykgPT4gcyAhPT0gc2Vzc2lvbik7XG4gICAgfVxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uc1tTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgfVxuICAgIGRlc3Ryb3koY29ubmVjdGlvbikge1xuICAgICAgICBmb3IgKGNvbnN0IHNlc3Npb24gb2YgdGhpcy5zZXNzaW9ucykge1xuICAgICAgICAgICAgaWYgKHNlc3Npb24gPT09IGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb24uZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFdyaXRhYmxlIH0gZnJvbSBcInN0cmVhbVwiO1xuZXhwb3J0IGNsYXNzIENvbGxlY3RvciBleHRlbmRzIFdyaXRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5idWZmZXJlZEJ5dGVzID0gW107XG4gICAgfVxuICAgIF93cml0ZShjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyZWRCeXRlcy5wdXNoKGNodW5rKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb2xsZWN0b3IgfSBmcm9tIFwiLi9jb2xsZWN0b3JcIjtcbmV4cG9ydCBjb25zdCBzdHJlYW1Db2xsZWN0b3IgPSAoc3RyZWFtKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgY29sbGVjdG9yID0gbmV3IENvbGxlY3RvcigpO1xuICAgIHN0cmVhbS5waXBlKGNvbGxlY3Rvcik7XG4gICAgc3RyZWFtLm9uKFwiZXJyb3JcIiwgKGVycikgPT4ge1xuICAgICAgICBjb2xsZWN0b3IuZW5kKCk7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgIH0pO1xuICAgIGNvbGxlY3Rvci5vbihcImVycm9yXCIsIHJlamVjdCk7XG4gICAgY29sbGVjdG9yLm9uKFwiZmluaXNoXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShCdWZmZXIuY29uY2F0KHRoaXMuYnVmZmVyZWRCeXRlcykpO1xuICAgICAgICByZXNvbHZlKGJ5dGVzKTtcbiAgICB9KTtcbn0pO1xuIiwiaW1wb3J0IHsgZnN0YXRTeW5jLCBsc3RhdFN5bmMgfSBmcm9tIFwiZnNcIjtcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVCb2R5TGVuZ3RoID0gKGJvZHkpID0+IHtcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYm9keSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oYm9keSkubGVuZ3RoO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgYm9keS5ieXRlTGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiBib2R5LmJ5dGVMZW5ndGg7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBib2R5LnNpemUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIGJvZHkuc2l6ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGJvZHkucGF0aCA9PT0gXCJzdHJpbmdcIiB8fCBCdWZmZXIuaXNCdWZmZXIoYm9keS5wYXRoKSkge1xuICAgICAgICByZXR1cm4gbHN0YXRTeW5jKGJvZHkucGF0aCkuc2l6ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGJvZHkuZmQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIGZzdGF0U3luYyhib2R5LmZkKS5zaXplO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEJvZHkgTGVuZ3RoIGNvbXB1dGF0aW9uIGZhaWxlZCBmb3IgJHtib2R5fWApO1xufTtcbiIsImV4cG9ydCBjb25zdCBpc0NydEF2YWlsYWJsZSA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVpcmUgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIHJlcXVpcmUoXCJhd3MtY3J0XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gW1wibWQvY3J0LWF2YWlsXCJdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgbG9hZENvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgcGxhdGZvcm0sIHJlbGVhc2UgfSBmcm9tIFwib3NcIjtcbmltcG9ydCB7IGVudiwgdmVyc2lvbnMgfSBmcm9tIFwicHJvY2Vzc1wiO1xuaW1wb3J0IHsgaXNDcnRBdmFpbGFibGUgfSBmcm9tIFwiLi9pcy1jcnQtYXZhaWxhYmxlXCI7XG5leHBvcnQgY29uc3QgVUFfQVBQX0lEX0VOVl9OQU1FID0gXCJBV1NfU0RLX1VBX0FQUF9JRFwiO1xuZXhwb3J0IGNvbnN0IFVBX0FQUF9JRF9JTklfTkFNRSA9IFwic2RrLXVhLWFwcC1pZFwiO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRVc2VyQWdlbnQgPSAoeyBzZXJ2aWNlSWQsIGNsaWVudFZlcnNpb24gfSkgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb25zID0gW1xuICAgICAgICBbXCJhd3Mtc2RrLWpzXCIsIGNsaWVudFZlcnNpb25dLFxuICAgICAgICBbXCJ1YVwiLCBcIjIuMFwiXSxcbiAgICAgICAgW2Bvcy8ke3BsYXRmb3JtKCl9YCwgcmVsZWFzZSgpXSxcbiAgICAgICAgW1wibGFuZy9qc1wiXSxcbiAgICAgICAgW1wibWQvbm9kZWpzXCIsIGAke3ZlcnNpb25zLm5vZGV9YF0sXG4gICAgXTtcbiAgICBjb25zdCBjcnRBdmFpbGFibGUgPSBpc0NydEF2YWlsYWJsZSgpO1xuICAgIGlmIChjcnRBdmFpbGFibGUpIHtcbiAgICAgICAgc2VjdGlvbnMucHVzaChjcnRBdmFpbGFibGUpO1xuICAgIH1cbiAgICBpZiAoc2VydmljZUlkKSB7XG4gICAgICAgIHNlY3Rpb25zLnB1c2goW2BhcGkvJHtzZXJ2aWNlSWR9YCwgY2xpZW50VmVyc2lvbl0pO1xuICAgIH1cbiAgICBpZiAoZW52LkFXU19FWEVDVVRJT05fRU5WKSB7XG4gICAgICAgIHNlY3Rpb25zLnB1c2goW2BleGVjLWVudi8ke2Vudi5BV1NfRVhFQ1VUSU9OX0VOVn1gXSk7XG4gICAgfVxuICAgIGNvbnN0IGFwcElkUHJvbWlzZSA9IGxvYWRDb25maWcoe1xuICAgICAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltVQV9BUFBfSURfRU5WX05BTUVdLFxuICAgICAgICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBwcm9maWxlW1VBX0FQUF9JRF9JTklfTkFNRV0sXG4gICAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCxcbiAgICB9KSgpO1xuICAgIGxldCByZXNvbHZlZFVzZXJBZ2VudCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXJlc29sdmVkVXNlckFnZW50KSB7XG4gICAgICAgICAgICBjb25zdCBhcHBJZCA9IGF3YWl0IGFwcElkUHJvbWlzZTtcbiAgICAgICAgICAgIHJlc29sdmVkVXNlckFnZW50ID0gYXBwSWQgPyBbLi4uc2VjdGlvbnMsIFtgYXBwLyR7YXBwSWR9YF1dIDogWy4uLnNlY3Rpb25zXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZWRVc2VyQWdlbnQ7XG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBmcm9tU3RyaW5nIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtYnVmZmVyLWZyb21cIjtcbmNvbnN0IEJBU0U2NF9SRUdFWCA9IC9eW0EtWmEtejAtOSsvXSo9ezAsMn0kLztcbmV4cG9ydCBjb25zdCBmcm9tQmFzZTY0ID0gKGlucHV0KSA9PiB7XG4gICAgaWYgKChpbnB1dC5sZW5ndGggKiAzKSAlIDQgIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW5jb3JyZWN0IHBhZGRpbmcgb24gYmFzZTY0IHN0cmluZy5gKTtcbiAgICB9XG4gICAgaWYgKCFCQVNFNjRfUkVHRVguZXhlYyhpbnB1dCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBiYXNlNjQgc3RyaW5nLmApO1xuICAgIH1cbiAgICBjb25zdCBidWZmZXIgPSBmcm9tU3RyaW5nKGlucHV0LCBcImJhc2U2NFwiKTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLmJ1ZmZlciwgYnVmZmVyLmJ5dGVPZmZzZXQsIGJ1ZmZlci5ieXRlTGVuZ3RoKTtcbn07XG4iLCJpbXBvcnQgeyBmcm9tQXJyYXlCdWZmZXIgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1idWZmZXItZnJvbVwiO1xuZXhwb3J0IGNvbnN0IHRvQmFzZTY0ID0gKGlucHV0KSA9PiBmcm9tQXJyYXlCdWZmZXIoaW5wdXQuYnVmZmVyLCBpbnB1dC5ieXRlT2Zmc2V0LCBpbnB1dC5ieXRlTGVuZ3RoKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiIsImNvbnN0IHAgPSBcInJlcXVpcmVkXCIsIHEgPSBcImZuXCIsIHIgPSBcImFyZ3ZcIiwgcyA9IFwicmVmXCI7XG5jb25zdCBhID0gXCJQYXJ0aXRpb25SZXN1bHRcIiwgYiA9IFwidHJlZVwiLCBjID0gXCJlcnJvclwiLCBkID0gXCJlbmRwb2ludFwiLCBlID0geyBbcF06IGZhbHNlLCBcInR5cGVcIjogXCJTdHJpbmdcIiB9LCBmID0geyBbcF06IHRydWUsIFwiZGVmYXVsdFwiOiBmYWxzZSwgXCJ0eXBlXCI6IFwiQm9vbGVhblwiIH0sIGcgPSB7IFtzXTogXCJFbmRwb2ludFwiIH0sIGggPSB7IFtxXTogXCJib29sZWFuRXF1YWxzXCIsIFtyXTogW3sgW3NdOiBcIlVzZUZJUFNcIiB9LCB0cnVlXSB9LCBpID0geyBbcV06IFwiYm9vbGVhbkVxdWFsc1wiLCBbcl06IFt7IFtzXTogXCJVc2VEdWFsU3RhY2tcIiB9LCB0cnVlXSB9LCBqID0ge30sIGsgPSB7IFtxXTogXCJib29sZWFuRXF1YWxzXCIsIFtyXTogW3RydWUsIHsgW3FdOiBcImdldEF0dHJcIiwgW3JdOiBbeyBbc106IGEgfSwgXCJzdXBwb3J0c0ZJUFNcIl0gfV0gfSwgbCA9IHsgW3FdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3JdOiBbdHJ1ZSwgeyBbcV06IFwiZ2V0QXR0clwiLCBbcl06IFt7IFtzXTogYSB9LCBcInN1cHBvcnRzRHVhbFN0YWNrXCJdIH1dIH0sIG0gPSBbZ10sIG4gPSBbaF0sIG8gPSBbaV07XG5jb25zdCBfZGF0YSA9IHsgdmVyc2lvbjogXCIxLjBcIiwgcGFyYW1ldGVyczogeyBSZWdpb246IGUsIFVzZUR1YWxTdGFjazogZiwgVXNlRklQUzogZiwgRW5kcG9pbnQ6IGUgfSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtxXTogXCJhd3MucGFydGl0aW9uXCIsIFtyXTogW3sgW3NdOiBcIlJlZ2lvblwiIH1dLCBhc3NpZ246IGEgfV0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbcV06IFwiaXNTZXRcIiwgW3JdOiBtIH0sIHsgW3FdOiBcInBhcnNlVVJMXCIsIFtyXTogbSwgYXNzaWduOiBcInVybFwiIH1dLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogbiwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBGSVBTIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgdHlwZTogYyB9LCB7IHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBvLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IER1YWxzdGFjayBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGMgfSwgeyBlbmRwb2ludDogeyB1cmw6IGcsIHByb3BlcnRpZXM6IGosIGhlYWRlcnM6IGogfSwgdHlwZTogZCB9XSB9XSB9LCB7IGNvbmRpdGlvbnM6IFtoLCBpXSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtrLCBsXSwgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL3BvcnRhbC5zc28tZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaiwgaGVhZGVyczogaiB9LCB0eXBlOiBkIH1dIH0sIHsgZXJyb3I6IFwiRklQUyBhbmQgRHVhbFN0YWNrIGFyZSBlbmFibGVkLCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBvbmUgb3IgYm90aFwiLCB0eXBlOiBjIH1dIH0sIHsgY29uZGl0aW9uczogbiwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtrXSwgdHlwZTogYiwgcnVsZXM6IFt7IHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9wb3J0YWwuc3NvLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGosIGhlYWRlcnM6IGogfSwgdHlwZTogZCB9XSB9XSB9LCB7IGVycm9yOiBcIkZJUFMgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBGSVBTXCIsIHR5cGU6IGMgfV0gfSwgeyBjb25kaXRpb25zOiBvLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW2xdLCB0eXBlOiBiLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vcG9ydGFsLnNzby57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaiwgaGVhZGVyczogaiB9LCB0eXBlOiBkIH1dIH0sIHsgZXJyb3I6IFwiRHVhbFN0YWNrIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRHVhbFN0YWNrXCIsIHR5cGU6IGMgfV0gfSwgeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9wb3J0YWwuc3NvLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBqLCBoZWFkZXJzOiBqIH0sIHR5cGU6IGQgfV0gfV0gfTtcbmV4cG9ydCBjb25zdCBydWxlU2V0ID0gX2RhdGE7XG4iLCJpbXBvcnQgeyByZXNvbHZlRW5kcG9pbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1lbmRwb2ludHNcIjtcbmltcG9ydCB7IHJ1bGVTZXQgfSBmcm9tIFwiLi9ydWxlc2V0XCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgPSAoZW5kcG9pbnRQYXJhbXMsIGNvbnRleHQgPSB7fSkgPT4ge1xuICAgIHJldHVybiByZXNvbHZlRW5kcG9pbnQocnVsZVNldCwge1xuICAgICAgICBlbmRwb2ludFBhcmFtczogZW5kcG9pbnRQYXJhbXMsXG4gICAgICAgIGxvZ2dlcjogY29udGV4dC5sb2dnZXIsXG4gICAgfSk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IEFXU19FWEVDVVRJT05fRU5WID0gXCJBV1NfRVhFQ1VUSU9OX0VOVlwiO1xuZXhwb3J0IGNvbnN0IEFXU19SRUdJT05fRU5WID0gXCJBV1NfUkVHSU9OXCI7XG5leHBvcnQgY29uc3QgQVdTX0RFRkFVTFRfUkVHSU9OX0VOViA9IFwiQVdTX0RFRkFVTFRfUkVHSU9OXCI7XG5leHBvcnQgY29uc3QgRU5WX0lNRFNfRElTQUJMRUQgPSBcIkFXU19FQzJfTUVUQURBVEFfRElTQUJMRURcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUU19NT0RFX09QVElPTlMgPSBbXCJpbi1yZWdpb25cIiwgXCJjcm9zcy1yZWdpb25cIiwgXCJtb2JpbGVcIiwgXCJzdGFuZGFyZFwiLCBcImxlZ2FjeVwiXTtcbmV4cG9ydCBjb25zdCBJTURTX1JFR0lPTl9QQVRIID0gXCIvbGF0ZXN0L21ldGEtZGF0YS9wbGFjZW1lbnQvcmVnaW9uXCI7XG4iLCJjb25zdCBBV1NfREVGQVVMVFNfTU9ERV9FTlYgPSBcIkFXU19ERUZBVUxUU19NT0RFXCI7XG5jb25zdCBBV1NfREVGQVVMVFNfTU9ERV9DT05GSUcgPSBcImRlZmF1bHRzX21vZGVcIjtcbmV4cG9ydCBjb25zdCBOT0RFX0RFRkFVTFRTX01PREVfQ09ORklHX09QVElPTlMgPSB7XG4gICAgZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yOiAoZW52KSA9PiB7XG4gICAgICAgIHJldHVybiBlbnZbQVdTX0RFRkFVTFRTX01PREVfRU5WXTtcbiAgICB9LFxuICAgIGNvbmZpZ0ZpbGVTZWxlY3RvcjogKHByb2ZpbGUpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb2ZpbGVbQVdTX0RFRkFVTFRTX01PREVfQ09ORklHXTtcbiAgICB9LFxuICAgIGRlZmF1bHQ6IFwibGVnYWN5XCIsXG59O1xuIiwiaW1wb3J0IHsgTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMgfSBmcm9tIFwiQGF3cy1zZGsvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBnZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQsIGh0dHBSZXF1ZXN0IH0gZnJvbSBcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kc1wiO1xuaW1wb3J0IHsgbG9hZENvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgbWVtb2l6ZSB9IGZyb20gXCJAYXdzLXNkay9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgQVdTX0RFRkFVTFRfUkVHSU9OX0VOViwgQVdTX0VYRUNVVElPTl9FTlYsIEFXU19SRUdJT05fRU5WLCBERUZBVUxUU19NT0RFX09QVElPTlMsIEVOVl9JTURTX0RJU0FCTEVELCBJTURTX1JFR0lPTl9QQVRILCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTk9ERV9ERUZBVUxUU19NT0RFX0NPTkZJR19PUFRJT05TIH0gZnJvbSBcIi4vZGVmYXVsdHNNb2RlQ29uZmlnXCI7XG5leHBvcnQgY29uc3QgcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyA9ICh7IHJlZ2lvbiA9IGxvYWRDb25maWcoTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMpLCBkZWZhdWx0c01vZGUgPSBsb2FkQ29uZmlnKE5PREVfREVGQVVMVFNfTU9ERV9DT05GSUdfT1BUSU9OUyksIH0gPSB7fSkgPT4gbWVtb2l6ZShhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9kZSA9IHR5cGVvZiBkZWZhdWx0c01vZGUgPT09IFwiZnVuY3Rpb25cIiA/IGF3YWl0IGRlZmF1bHRzTW9kZSgpIDogZGVmYXVsdHNNb2RlO1xuICAgIHN3aXRjaCAobW9kZT8udG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlIFwiYXV0b1wiOlxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVOb2RlRGVmYXVsdHNNb2RlQXV0byhyZWdpb24pO1xuICAgICAgICBjYXNlIFwiaW4tcmVnaW9uXCI6XG4gICAgICAgIGNhc2UgXCJjcm9zcy1yZWdpb25cIjpcbiAgICAgICAgY2FzZSBcIm1vYmlsZVwiOlxuICAgICAgICBjYXNlIFwic3RhbmRhcmRcIjpcbiAgICAgICAgY2FzZSBcImxlZ2FjeVwiOlxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtb2RlPy50b0xvY2FsZUxvd2VyQ2FzZSgpKTtcbiAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFwibGVnYWN5XCIpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHBhcmFtZXRlciBmb3IgXCJkZWZhdWx0c01vZGVcIiwgZXhwZWN0ICR7REVGQVVMVFNfTU9ERV9PUFRJT05TLmpvaW4oXCIsIFwiKX0sIGdvdCAke21vZGV9YCk7XG4gICAgfVxufSk7XG5jb25zdCByZXNvbHZlTm9kZURlZmF1bHRzTW9kZUF1dG8gPSBhc3luYyAoY2xpZW50UmVnaW9uKSA9PiB7XG4gICAgaWYgKGNsaWVudFJlZ2lvbikge1xuICAgICAgICBjb25zdCByZXNvbHZlZFJlZ2lvbiA9IHR5cGVvZiBjbGllbnRSZWdpb24gPT09IFwiZnVuY3Rpb25cIiA/IGF3YWl0IGNsaWVudFJlZ2lvbigpIDogY2xpZW50UmVnaW9uO1xuICAgICAgICBjb25zdCBpbmZlcnJlZFJlZ2lvbiA9IGF3YWl0IGluZmVyUGh5c2ljYWxSZWdpb24oKTtcbiAgICAgICAgaWYgKCFpbmZlcnJlZFJlZ2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIFwic3RhbmRhcmRcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzb2x2ZWRSZWdpb24gPT09IGluZmVycmVkUmVnaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJpbi1yZWdpb25cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcImNyb3NzLXJlZ2lvblwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBcInN0YW5kYXJkXCI7XG59O1xuY29uc3QgaW5mZXJQaHlzaWNhbFJlZ2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnZbQVdTX0VYRUNVVElPTl9FTlZdICYmIChwcm9jZXNzLmVudltBV1NfUkVHSU9OX0VOVl0gfHwgcHJvY2Vzcy5lbnZbQVdTX0RFRkFVTFRfUkVHSU9OX0VOVl0pKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLmVudltBV1NfUkVHSU9OX0VOVl0gPz8gcHJvY2Vzcy5lbnZbQVdTX0RFRkFVTFRfUkVHSU9OX0VOVl07XG4gICAgfVxuICAgIGlmICghcHJvY2Vzcy5lbnZbRU5WX0lNRFNfRElTQUJMRURdKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGF3YWl0IGdldEluc3RhbmNlTWV0YWRhdGFFbmRwb2ludCgpO1xuICAgICAgICAgICAgcmV0dXJuIChhd2FpdCBodHRwUmVxdWVzdCh7IC4uLmVuZHBvaW50LCBwYXRoOiBJTURTX1JFR0lPTl9QQVRIIH0pKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgcmVzb2x2ZVJlZ2lvbkNvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGdldENvbnRlbnRMZW5ndGhQbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1jb250ZW50LWxlbmd0aFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUVuZHBvaW50Q29uZmlnIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldEhvc3RIZWFkZXJQbHVnaW4sIHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWhvc3QtaGVhZGVyXCI7XG5pbXBvcnQgeyBnZXRMb2dnZXJQbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1sb2dnZXJcIjtcbmltcG9ydCB7IGdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXJlY3Vyc2lvbi1kZXRlY3Rpb25cIjtcbmltcG9ydCB7IGdldFJldHJ5UGx1Z2luLCByZXNvbHZlUmV0cnlDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgZ2V0VXNlckFnZW50UGx1Z2luLCByZXNvbHZlVXNlckFnZW50Q29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXVzZXItYWdlbnRcIjtcbmltcG9ydCB7IENsaWVudCBhcyBfX0NsaWVudCwgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycywgfSBmcm9tIFwiLi9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnNcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgX19nZXRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZ1wiO1xuZXhwb3J0IHsgX19DbGllbnQgfTtcbmV4cG9ydCBjbGFzcyBTU09DbGllbnQgZXh0ZW5kcyBfX0NsaWVudCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbikge1xuICAgICAgICBjb25zdCBfY29uZmlnXzAgPSBfX2dldFJ1bnRpbWVDb25maWcoY29uZmlndXJhdGlvbik7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMSA9IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMoX2NvbmZpZ18wKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18yID0gcmVzb2x2ZVJlZ2lvbkNvbmZpZyhfY29uZmlnXzEpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzMgPSByZXNvbHZlRW5kcG9pbnRDb25maWcoX2NvbmZpZ18yKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ180ID0gcmVzb2x2ZVJldHJ5Q29uZmlnKF9jb25maWdfMyk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNSA9IHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnKF9jb25maWdfNCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNiA9IHJlc29sdmVVc2VyQWdlbnRDb25maWcoX2NvbmZpZ181KTtcbiAgICAgICAgc3VwZXIoX2NvbmZpZ182KTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBfY29uZmlnXzY7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZXRyeVBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0Q29udGVudExlbmd0aFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0SG9zdEhlYWRlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0TG9nZ2VyUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFVzZXJBZ2VudFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMgPSAob3B0aW9ucykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBvcHRpb25zLnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IG9wdGlvbnMudXNlRmlwc0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICBkZWZhdWx0U2lnbmluZ05hbWU6IFwiYXdzc3NvcG9ydGFsXCIsXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgcGFja2FnZUluZm8gZnJvbSBcIi4uL3BhY2thZ2UuanNvblwiO1xuaW1wb3J0IHsgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgfSBmcm9tIFwiQGF3cy1zZGsvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBIYXNoIH0gZnJvbSBcIkBhd3Mtc2RrL2hhc2gtbm9kZVwiO1xuaW1wb3J0IHsgTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUywgTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IGxvYWRDb25maWcgYXMgbG9hZE5vZGVDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvbm9kZS1jb25maWctcHJvdmlkZXJcIjtcbmltcG9ydCB7IE5vZGVIdHRwSGFuZGxlciBhcyBSZXF1ZXN0SGFuZGxlciwgc3RyZWFtQ29sbGVjdG9yIH0gZnJvbSBcIkBhd3Mtc2RrL25vZGUtaHR0cC1oYW5kbGVyXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb2R5TGVuZ3RoIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtYm9keS1sZW5ndGgtbm9kZVwiO1xuaW1wb3J0IHsgREVGQVVMVF9SRVRSWV9NT0RFIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtcmV0cnlcIjtcbmltcG9ydCB7IGRlZmF1bHRVc2VyQWdlbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11c2VyLWFnZW50LW5vZGVcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgZ2V0U2hhcmVkUnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWcuc2hhcmVkXCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1kZWZhdWx0cy1tb2RlLW5vZGVcIjtcbmltcG9ydCB7IGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24gfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiB7XG4gICAgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbihwcm9jZXNzLnZlcnNpb24pO1xuICAgIGNvbnN0IGRlZmF1bHRzTW9kZSA9IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcoY29uZmlnKTtcbiAgICBjb25zdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIgPSAoKSA9PiBkZWZhdWx0c01vZGUoKS50aGVuKGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUpO1xuICAgIGNvbnN0IGNsaWVudFNoYXJlZFZhbHVlcyA9IGdldFNoYXJlZFJ1bnRpbWVDb25maWcoY29uZmlnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5jbGllbnRTaGFyZWRWYWx1ZXMsXG4gICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgcnVudGltZTogXCJub2RlXCIsXG4gICAgICAgIGRlZmF1bHRzTW9kZSxcbiAgICAgICAgYm9keUxlbmd0aENoZWNrZXI6IGNvbmZpZz8uYm9keUxlbmd0aENoZWNrZXIgPz8gY2FsY3VsYXRlQm9keUxlbmd0aCxcbiAgICAgICAgZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyOiBjb25maWc/LmRlZmF1bHRVc2VyQWdlbnRQcm92aWRlciA/P1xuICAgICAgICAgICAgZGVmYXVsdFVzZXJBZ2VudCh7IHNlcnZpY2VJZDogY2xpZW50U2hhcmVkVmFsdWVzLnNlcnZpY2VJZCwgY2xpZW50VmVyc2lvbjogcGFja2FnZUluZm8udmVyc2lvbiB9KSxcbiAgICAgICAgbWF4QXR0ZW1wdHM6IGNvbmZpZz8ubWF4QXR0ZW1wdHMgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHJlZ2lvbjogY29uZmlnPy5yZWdpb24gPz8gbG9hZE5vZGVDb25maWcoTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMpLFxuICAgICAgICByZXF1ZXN0SGFuZGxlcjogY29uZmlnPy5yZXF1ZXN0SGFuZGxlciA/PyBuZXcgUmVxdWVzdEhhbmRsZXIoZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKSxcbiAgICAgICAgcmV0cnlNb2RlOiBjb25maWc/LnJldHJ5TW9kZSA/P1xuICAgICAgICAgICAgbG9hZE5vZGVDb25maWcoe1xuICAgICAgICAgICAgICAgIC4uLk5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBhc3luYyAoKSA9PiAoYXdhaXQgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKCkpLnJldHJ5TW9kZSB8fCBERUZBVUxUX1JFVFJZX01PREUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgc2hhMjU2OiBjb25maWc/LnNoYTI1NiA/PyBIYXNoLmJpbmQobnVsbCwgXCJzaGEyNTZcIiksXG4gICAgICAgIHN0cmVhbUNvbGxlY3RvcjogY29uZmlnPy5zdHJlYW1Db2xsZWN0b3IgPz8gc3RyZWFtQ29sbGVjdG9yLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogY29uZmlnPy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IGNvbmZpZz8udXNlRmlwc0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgTm9PcExvZ2dlciB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBwYXJzZVVybCB9IGZyb20gXCJAYXdzLXNkay91cmwtcGFyc2VyXCI7XG5pbXBvcnQgeyBmcm9tQmFzZTY0LCB0b0Jhc2U2NCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWJhc2U2NFwiO1xuaW1wb3J0IHsgZnJvbVV0ZjgsIHRvVXRmOCB9IGZyb20gXCJAYXdzLXNkay91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyIH0gZnJvbSBcIi4vZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlclwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiAoe1xuICAgIGFwaVZlcnNpb246IFwiMjAxOS0wNi0xMFwiLFxuICAgIGJhc2U2NERlY29kZXI6IGNvbmZpZz8uYmFzZTY0RGVjb2RlciA/PyBmcm9tQmFzZTY0LFxuICAgIGJhc2U2NEVuY29kZXI6IGNvbmZpZz8uYmFzZTY0RW5jb2RlciA/PyB0b0Jhc2U2NCxcbiAgICBkaXNhYmxlSG9zdFByZWZpeDogY29uZmlnPy5kaXNhYmxlSG9zdFByZWZpeCA/PyBmYWxzZSxcbiAgICBlbmRwb2ludFByb3ZpZGVyOiBjb25maWc/LmVuZHBvaW50UHJvdmlkZXIgPz8gZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIsXG4gICAgbG9nZ2VyOiBjb25maWc/LmxvZ2dlciA/PyBuZXcgTm9PcExvZ2dlcigpLFxuICAgIHNlcnZpY2VJZDogY29uZmlnPy5zZXJ2aWNlSWQgPz8gXCJTU09cIixcbiAgICB1cmxQYXJzZXI6IGNvbmZpZz8udXJsUGFyc2VyID8/IHBhcnNlVXJsLFxuICAgIHV0ZjhEZWNvZGVyOiBjb25maWc/LnV0ZjhEZWNvZGVyID8/IGZyb21VdGY4LFxuICAgIHV0ZjhFbmNvZGVyOiBjb25maWc/LnV0ZjhFbmNvZGVyID8/IHRvVXRmOCxcbn0pO1xuIiwiaW1wb3J0IHsgU2VydmljZUV4Y2VwdGlvbiBhcyBfX1NlcnZpY2VFeGNlcHRpb24sIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCB7IF9fU2VydmljZUV4Y2VwdGlvbiB9O1xuZXhwb3J0IGNsYXNzIFNTT1NlcnZpY2VFeGNlcHRpb24gZXh0ZW5kcyBfX1NlcnZpY2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBTU09TZXJ2aWNlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU0VOU0lUSVZFX1NUUklORyB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBTU09TZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuL1NTT1NlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjbGFzcyBJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBVbmF1dGhvcml6ZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJVbmF1dGhvcml6ZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlVuYXV0aG9yaXplZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmF1dGhvcml6ZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgR2V0Um9sZUNyZWRlbnRpYWxzUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouYWNjZXNzVG9rZW4gJiYgeyBhY2Nlc3NUb2tlbjogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFJvbGVDcmVkZW50aWFsc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouc2VjcmV0QWNjZXNzS2V5ICYmIHsgc2VjcmV0QWNjZXNzS2V5OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouc2Vzc2lvblRva2VuICYmIHsgc2Vzc2lvblRva2VuOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgR2V0Um9sZUNyZWRlbnRpYWxzUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLnJvbGVDcmVkZW50aWFscyAmJiB7IHJvbGVDcmVkZW50aWFsczogUm9sZUNyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5yb2xlQ3JlZGVudGlhbHMpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgTGlzdEFjY291bnRSb2xlc1JlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLmFjY2Vzc1Rva2VuICYmIHsgYWNjZXNzVG9rZW46IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBMaXN0QWNjb3VudHNSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5hY2Nlc3NUb2tlbiAmJiB7IGFjY2Vzc1Rva2VuOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgTG9nb3V0UmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouYWNjZXNzVG9rZW4gJiYgeyBhY2Nlc3NUb2tlbjogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuIiwiaW1wb3J0IHsgX2pzb24sIGRlY29yYXRlU2VydmljZUV4Y2VwdGlvbiBhcyBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbiwgZXhwZWN0Tm9uTnVsbCBhcyBfX2V4cGVjdE5vbk51bGwsIGV4cGVjdE9iamVjdCBhcyBfX2V4cGVjdE9iamVjdCwgZXhwZWN0U3RyaW5nIGFzIF9fZXhwZWN0U3RyaW5nLCBtYXAsIHRha2UsIHdpdGhCYXNlRXhjZXB0aW9uLCB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBIdHRwUmVxdWVzdCBhcyBfX0h0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24sIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24sIFRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbiwgVW5hdXRob3JpemVkRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmltcG9ydCB7IFNTT1NlcnZpY2VFeGNlcHRpb24gYXMgX19CYXNlRXhjZXB0aW9uIH0gZnJvbSBcIi4uL21vZGVscy9TU09TZXJ2aWNlRXhjZXB0aW9uXCI7XG5leHBvcnQgY29uc3Qgc2VfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBtYXAoe30sIGlzU2VyaWFsaXphYmxlSGVhZGVyVmFsdWUsIHtcbiAgICAgICAgXCJ4LWFtei1zc29fYmVhcmVyX3Rva2VuXCI6IGlucHV0LmFjY2Vzc1Rva2VuLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9mZWRlcmF0aW9uL2NyZWRlbnRpYWxzXCI7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICByb2xlX25hbWU6IFssIF9fZXhwZWN0Tm9uTnVsbChpbnB1dC5yb2xlTmFtZSwgYHJvbGVOYW1lYCldLFxuICAgICAgICBhY2NvdW50X2lkOiBbLCBfX2V4cGVjdE5vbk51bGwoaW5wdXQuYWNjb3VudElkLCBgYWNjb3VudElkYCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0QWNjb3VudFJvbGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBtYXAoe30sIGlzU2VyaWFsaXphYmxlSGVhZGVyVmFsdWUsIHtcbiAgICAgICAgXCJ4LWFtei1zc29fYmVhcmVyX3Rva2VuXCI6IGlucHV0LmFjY2Vzc1Rva2VuLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hc3NpZ25tZW50L3JvbGVzXCI7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBuZXh0X3Rva2VuOiBbLCBpbnB1dC5uZXh0VG9rZW5dLFxuICAgICAgICBtYXhfcmVzdWx0OiBbKCkgPT4gaW5wdXQubWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5tYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgICAgICBhY2NvdW50X2lkOiBbLCBfX2V4cGVjdE5vbk51bGwoaW5wdXQuYWNjb3VudElkLCBgYWNjb3VudElkYCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0QWNjb3VudHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IG1hcCh7fSwgaXNTZXJpYWxpemFibGVIZWFkZXJWYWx1ZSwge1xuICAgICAgICBcIngtYW16LXNzb19iZWFyZXJfdG9rZW5cIjogaW5wdXQuYWNjZXNzVG9rZW4sXG4gICAgfSk7XG4gICAgY29uc3QgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2Fzc2lnbm1lbnQvYWNjb3VudHNcIjtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIG5leHRfdG9rZW46IFssIGlucHV0Lm5leHRUb2tlbl0sXG4gICAgICAgIG1heF9yZXN1bHQ6IFsoKSA9PiBpbnB1dC5tYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lm1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xvZ291dENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0gbWFwKHt9LCBpc1NlcmlhbGl6YWJsZUhlYWRlclZhbHVlLCB7XG4gICAgICAgIFwieC1hbXotc3NvX2JlYXJlcl90b2tlblwiOiBpbnB1dC5hY2Nlc3NUb2tlbixcbiAgICB9KTtcbiAgICBjb25zdCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvbG9nb3V0XCI7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIHJvbGVDcmVkZW50aWFsczogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ub29NYW55UmVxdWVzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuYXV0aG9yaXplZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jVW5hdXRob3JpemVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbmF1dGhvcml6ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0QWNjb3VudFJvbGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RBY2NvdW50Um9sZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIG5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIHJvbGVMaXN0OiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0QWNjb3VudFJvbGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ub29NYW55UmVxdWVzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuYXV0aG9yaXplZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jVW5hdXRob3JpemVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbmF1dGhvcml6ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0QWNjb3VudHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEFjY291bnRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBhY2NvdW50TGlzdDogX2pzb24sXG4gICAgICAgIG5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEFjY291bnRzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ub29NYW55UmVxdWVzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuYXV0aG9yaXplZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc28jVW5hdXRob3JpemVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbmF1dGhvcml6ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9Mb2dvdXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTG9nb3V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgYXdhaXQgY29sbGVjdEJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Mb2dvdXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3NvI0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5hdXRob3JpemVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzbyNVbmF1dGhvcml6ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1VuYXV0aG9yaXplZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuY29uc3QgdGhyb3dEZWZhdWx0RXJyb3IgPSB3aXRoQmFzZUV4Y2VwdGlvbihfX0Jhc2VFeGNlcHRpb24pO1xuY29uc3QgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgbWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgbWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIG1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFRvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfVW5hdXRob3JpemVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIG1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFVuYXV0aG9yaXplZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVzZXJpYWxpemVNZXRhZGF0YSA9IChvdXRwdXQpID0+ICh7XG4gICAgaHR0cFN0YXR1c0NvZGU6IG91dHB1dC5zdGF0dXNDb2RlLFxuICAgIHJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdGlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3QtaWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1yZXF1ZXN0LWlkXCJdLFxuICAgIGV4dGVuZGVkUmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWlkLTJcIl0sXG4gICAgY2ZJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1jZi1pZFwiXSxcbn0pO1xuY29uc3QgY29sbGVjdEJvZHkgPSAoc3RyZWFtQm9keSA9IG5ldyBVaW50OEFycmF5KCksIGNvbnRleHQpID0+IHtcbiAgICBpZiAoc3RyZWFtQm9keSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzdHJlYW1Cb2R5KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQuc3RyZWFtQ29sbGVjdG9yKHN0cmVhbUJvZHkpIHx8IFByb21pc2UucmVzb2x2ZShuZXcgVWludDhBcnJheSgpKTtcbn07XG5jb25zdCBjb2xsZWN0Qm9keVN0cmluZyA9IChzdHJlYW1Cb2R5LCBjb250ZXh0KSA9PiBjb2xsZWN0Qm9keShzdHJlYW1Cb2R5LCBjb250ZXh0KS50aGVuKChib2R5KSA9PiBjb250ZXh0LnV0ZjhFbmNvZGVyKGJvZHkpKTtcbmNvbnN0IGlzU2VyaWFsaXphYmxlSGVhZGVyVmFsdWUgPSAodmFsdWUpID0+IHZhbHVlICE9PSB1bmRlZmluZWQgJiZcbiAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgIHZhbHVlICE9PSBcIlwiICYmXG4gICAgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkuaW5jbHVkZXMoXCJsZW5ndGhcIikgfHwgdmFsdWUubGVuZ3RoICE9IDApICYmXG4gICAgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSkuaW5jbHVkZXMoXCJzaXplXCIpIHx8IHZhbHVlLnNpemUgIT0gMCk7XG5jb25zdCBwYXJzZUJvZHkgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHlTdHJpbmcoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoZW5jb2RlZCkgPT4ge1xuICAgIGlmIChlbmNvZGVkLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShlbmNvZGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xufSk7XG5jb25zdCBwYXJzZUVycm9yQm9keSA9IGFzeW5jIChlcnJvckJvZHksIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhcnNlQm9keShlcnJvckJvZHksIGNvbnRleHQpO1xuICAgIHZhbHVlLm1lc3NhZ2UgPSB2YWx1ZS5tZXNzYWdlID8/IHZhbHVlLk1lc3NhZ2U7XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmNvbnN0IGxvYWRSZXN0SnNvbkVycm9yQ29kZSA9IChvdXRwdXQsIGRhdGEpID0+IHtcbiAgICBjb25zdCBmaW5kS2V5ID0gKG9iamVjdCwga2V5KSA9PiBPYmplY3Qua2V5cyhvYmplY3QpLmZpbmQoKGspID0+IGsudG9Mb3dlckNhc2UoKSA9PT0ga2V5LnRvTG93ZXJDYXNlKCkpO1xuICAgIGNvbnN0IHNhbml0aXplRXJyb3JDb2RlID0gKHJhd1ZhbHVlKSA9PiB7XG4gICAgICAgIGxldCBjbGVhblZhbHVlID0gcmF3VmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYW5WYWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYW5WYWx1ZS5pbmRleE9mKFwiLFwiKSA+PSAwKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS5zcGxpdChcIixcIilbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFuVmFsdWUuaW5kZXhPZihcIjpcIikgPj0gMCkge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUuc3BsaXQoXCI6XCIpWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhblZhbHVlLmluZGV4T2YoXCIjXCIpID49IDApIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnNwbGl0KFwiI1wiKVsxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xlYW5WYWx1ZTtcbiAgICB9O1xuICAgIGNvbnN0IGhlYWRlcktleSA9IGZpbmRLZXkob3V0cHV0LmhlYWRlcnMsIFwieC1hbXpuLWVycm9ydHlwZVwiKTtcbiAgICBpZiAoaGVhZGVyS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplRXJyb3JDb2RlKG91dHB1dC5oZWFkZXJzW2hlYWRlcktleV0pO1xuICAgIH1cbiAgICBpZiAoZGF0YS5jb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplRXJyb3JDb2RlKGRhdGEuY29kZSk7XG4gICAgfVxuICAgIGlmIChkYXRhW1wiX190eXBlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplRXJyb3JDb2RlKGRhdGFbXCJfX3R5cGVcIl0pO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBnZXRFbmRwb2ludFBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRTZXJkZVBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXNlcmRlXCI7XG5pbXBvcnQgeyBDb21tYW5kIGFzICRDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IEdldFJvbGVDcmVkZW50aWFsc1JlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2csIEdldFJvbGVDcmVkZW50aWFsc1Jlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmltcG9ydCB7IGRlX0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQsIHNlX0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQgfSBmcm9tIFwiLi4vcHJvdG9jb2xzL0F3c19yZXN0SnNvbjFcIjtcbmV4cG9ydCB7ICRDb21tYW5kIH07XG5leHBvcnQgY2xhc3MgR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZCBleHRlbmRzICRDb21tYW5kIHtcbiAgICBzdGF0aWMgZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBVc2VGSVBTOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUZpcHNFbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBFbmRwb2ludDogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJlbmRwb2ludFwiIH0sXG4gICAgICAgICAgICBSZWdpb246IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwicmVnaW9uXCIgfSxcbiAgICAgICAgICAgIFVzZUR1YWxTdGFjazogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VEdWFsc3RhY2tFbmRwb2ludFwiIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICB9XG4gICAgcmVzb2x2ZU1pZGRsZXdhcmUoY2xpZW50U3RhY2ssIGNvbmZpZ3VyYXRpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFNlcmRlUGx1Z2luKGNvbmZpZ3VyYXRpb24sIHRoaXMuc2VyaWFsaXplLCB0aGlzLmRlc2VyaWFsaXplKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRFbmRwb2ludFBsdWdpbihjb25maWd1cmF0aW9uLCBHZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kLmdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkpKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBjbGllbnRTdGFjay5jb25jYXQodGhpcy5taWRkbGV3YXJlU3RhY2spO1xuICAgICAgICBjb25zdCB7IGxvZ2dlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgY2xpZW50TmFtZSA9IFwiU1NPQ2xpZW50XCI7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gXCJHZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kXCI7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IEdldFJvbGVDcmVkZW50aWFsc1JlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2csXG4gICAgICAgICAgICBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IEdldFJvbGVDcmVkZW50aWFsc1Jlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RIYW5kbGVyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICByZXR1cm4gc3RhY2sucmVzb2x2ZSgocmVxdWVzdCkgPT4gcmVxdWVzdEhhbmRsZXIuaGFuZGxlKHJlcXVlc3QucmVxdWVzdCwgb3B0aW9ucyB8fCB7fSksIGhhbmRsZXJFeGVjdXRpb25Db250ZXh0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKGlucHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBzZV9HZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kKGlucHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgZGVzZXJpYWxpemUob3V0cHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUHJvdmlkZXJFcnJvciB9IGZyb20gXCIuL1Byb3ZpZGVyRXJyb3JcIjtcbmV4cG9ydCBjbGFzcyBUb2tlblByb3ZpZGVyRXJyb3IgZXh0ZW5kcyBQcm92aWRlckVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCB0cnlOZXh0TGluayA9IHRydWUpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgdHJ5TmV4dExpbmspO1xuICAgICAgICB0aGlzLnRyeU5leHRMaW5rID0gdHJ5TmV4dExpbms7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVG9rZW5Qcm92aWRlckVycm9yXCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBUb2tlblByb3ZpZGVyRXJyb3IucHJvdG90eXBlKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY29uc3QgRVhQSVJFX1dJTkRPV19NUyA9IDUgKiA2MCAqIDEwMDA7XG5leHBvcnQgY29uc3QgUkVGUkVTSF9NRVNTQUdFID0gYFRvIHJlZnJlc2ggdGhpcyBTU08gc2Vzc2lvbiBydW4gJ2F3cyBzc28gbG9naW4nIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvZmlsZS5gO1xuIiwiaW1wb3J0IHsgU2VydmljZUV4Y2VwdGlvbiBhcyBfX1NlcnZpY2VFeGNlcHRpb24sIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCB7IF9fU2VydmljZUV4Y2VwdGlvbiB9O1xuZXhwb3J0IGNsYXNzIFNTT09JRENTZXJ2aWNlRXhjZXB0aW9uIGV4dGVuZHMgX19TZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgU1NPT0lEQ1NlcnZpY2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTU09PSURDU2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi9TU09PSURDU2VydmljZUV4Y2VwdGlvblwiO1xuZXhwb3J0IGNsYXNzIEFjY2Vzc0RlbmllZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFjY2Vzc0RlbmllZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLmVycm9yID0gb3B0cy5lcnJvcjtcbiAgICAgICAgdGhpcy5lcnJvcl9kZXNjcmlwdGlvbiA9IG9wdHMuZXJyb3JfZGVzY3JpcHRpb247XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEF1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQXV0aG9yaXphdGlvblBlbmRpbmdFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkF1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEF1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRXhwaXJlZFRva2VuRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRXhwaXJlZFRva2VuRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFeHBpcmVkVG9rZW5FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRXhwaXJlZFRva2VuRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnRlcm5hbFNlcnZlckV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcInNlcnZlclwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcInNlcnZlclwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG9wdHMuZXJyb3I7XG4gICAgICAgIHRoaXMuZXJyb3JfZGVzY3JpcHRpb24gPSBvcHRzLmVycm9yX2Rlc2NyaXB0aW9uO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQ2xpZW50RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZENsaWVudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZENsaWVudEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkQ2xpZW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZEdyYW50RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZEdyYW50RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkR3JhbnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZEdyYW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG9wdHMuZXJyb3I7XG4gICAgICAgIHRoaXMuZXJyb3JfZGVzY3JpcHRpb24gPSBvcHRzLmVycm9yX2Rlc2NyaXB0aW9uO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkU2NvcGVFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkU2NvcGVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRTY29wZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkU2NvcGVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG9wdHMuZXJyb3I7XG4gICAgICAgIHRoaXMuZXJyb3JfZGVzY3JpcHRpb24gPSBvcHRzLmVycm9yX2Rlc2NyaXB0aW9uO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTbG93RG93bkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlNsb3dEb3duRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJTbG93RG93bkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBTbG93RG93bkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLmVycm9yID0gb3B0cy5lcnJvcjtcbiAgICAgICAgdGhpcy5lcnJvcl9kZXNjcmlwdGlvbiA9IG9wdHMuZXJyb3JfZGVzY3JpcHRpb247XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlVuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFVuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLmVycm9yID0gb3B0cy5lcnJvcjtcbiAgICAgICAgdGhpcy5lcnJvcl9kZXNjcmlwdGlvbiA9IG9wdHMuZXJyb3JfZGVzY3JpcHRpb247XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVW5zdXBwb3J0ZWRHcmFudFR5cGVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlVuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFVuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBvcHRzLmVycm9yO1xuICAgICAgICB0aGlzLmVycm9yX2Rlc2NyaXB0aW9uID0gb3B0cy5lcnJvcl9kZXNjcmlwdGlvbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBfanNvbiwgZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uLCBleHBlY3RJbnQzMiBhcyBfX2V4cGVjdEludDMyLCBleHBlY3RMb25nIGFzIF9fZXhwZWN0TG9uZywgZXhwZWN0Tm9uTnVsbCBhcyBfX2V4cGVjdE5vbk51bGwsIGV4cGVjdE9iamVjdCBhcyBfX2V4cGVjdE9iamVjdCwgZXhwZWN0U3RyaW5nIGFzIF9fZXhwZWN0U3RyaW5nLCBtYXAsIHRha2UsIHdpdGhCYXNlRXhjZXB0aW9uLCB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBIdHRwUmVxdWVzdCBhcyBfX0h0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgQWNjZXNzRGVuaWVkRXhjZXB0aW9uLCBBdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvbiwgRXhwaXJlZFRva2VuRXhjZXB0aW9uLCBJbnRlcm5hbFNlcnZlckV4Y2VwdGlvbiwgSW52YWxpZENsaWVudEV4Y2VwdGlvbiwgSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uLCBJbnZhbGlkR3JhbnRFeGNlcHRpb24sIEludmFsaWRSZXF1ZXN0RXhjZXB0aW9uLCBJbnZhbGlkU2NvcGVFeGNlcHRpb24sIFNsb3dEb3duRXhjZXB0aW9uLCBVbmF1dGhvcml6ZWRDbGllbnRFeGNlcHRpb24sIFVuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzBcIjtcbmltcG9ydCB7IFNTT09JRENTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvU1NPT0lEQ1NlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVUb2tlbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi90b2tlblwiO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIGNsaWVudElkOiBbXSxcbiAgICAgICAgY2xpZW50U2VjcmV0OiBbXSxcbiAgICAgICAgY29kZTogW10sXG4gICAgICAgIGRldmljZUNvZGU6IFtdLFxuICAgICAgICBncmFudFR5cGU6IFtdLFxuICAgICAgICByZWRpcmVjdFVyaTogW10sXG4gICAgICAgIHJlZnJlc2hUb2tlbjogW10sXG4gICAgICAgIHNjb3BlOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9SZWdpc3RlckNsaWVudENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9jbGllbnQvcmVnaXN0ZXJcIjtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBjbGllbnROYW1lOiBbXSxcbiAgICAgICAgY2xpZW50VHlwZTogW10sXG4gICAgICAgIHNjb3BlczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU3RhcnREZXZpY2VBdXRob3JpemF0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgY29uc3QgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2RldmljZV9hdXRob3JpemF0aW9uXCI7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgY2xpZW50SWQ6IFtdLFxuICAgICAgICBjbGllbnRTZWNyZXQ6IFtdLFxuICAgICAgICBzdGFydFVybDogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUb2tlbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVUb2tlbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgYWNjZXNzVG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBleHBpcmVzSW46IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIGlkVG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICByZWZyZXNoVG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICB0b2tlblR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVRva2VuQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJBdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0F1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BdXRob3JpemF0aW9uUGVuZGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjRXhwaXJlZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FeHBpcmVkVG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xpZW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZENsaWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZENsaWVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEdyYW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZEdyYW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkR3JhbnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU2NvcGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNJbnZhbGlkU2NvcGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTY29wZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiU2xvd0Rvd25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNTbG93RG93bkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfU2xvd0Rvd25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI1VuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZEdyYW50VHlwZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI1Vuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZEdyYW50VHlwZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1JlZ2lzdGVyQ2xpZW50Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1JlZ2lzdGVyQ2xpZW50Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBhdXRob3JpemF0aW9uRW5kcG9pbnQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBjbGllbnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGNsaWVudElkSXNzdWVkQXQ6IF9fZXhwZWN0TG9uZyxcbiAgICAgICAgY2xpZW50U2VjcmV0OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgY2xpZW50U2VjcmV0RXhwaXJlc0F0OiBfX2V4cGVjdExvbmcsXG4gICAgICAgIHRva2VuRW5kcG9pbnQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1JlZ2lzdGVyQ2xpZW50Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW50ZXJuYWxTZXJ2ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNJbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRDbGllbnRNZXRhZGF0YUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc3Nvb2lkYyNJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTY29wZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0ludmFsaWRTY29wZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFNjb3BlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RhcnREZXZpY2VBdXRob3JpemF0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1N0YXJ0RGV2aWNlQXV0aG9yaXphdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZGV2aWNlQ29kZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGV4cGlyZXNJbjogX19leHBlY3RJbnQzMixcbiAgICAgICAgaW50ZXJ2YWw6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIHVzZXJDb2RlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgdmVyaWZpY2F0aW9uVXJpOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgdmVyaWZpY2F0aW9uVXJpQ29tcGxldGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1N0YXJ0RGV2aWNlQXV0aG9yaXphdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0ludGVybmFsU2VydmVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZENsaWVudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI0ludmFsaWRDbGllbnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRDbGllbnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJTbG93RG93bkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zc29vaWRjI1Nsb3dEb3duRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9TbG93RG93bkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNzb29pZGMjVW5hdXRob3JpemVkQ2xpZW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbmF1dGhvcml6ZWRDbGllbnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IHRocm93RGVmYXVsdEVycm9yID0gd2l0aEJhc2VFeGNlcHRpb24oX19CYXNlRXhjZXB0aW9uKTtcbmNvbnN0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBBY2Nlc3NEZW5pZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX0F1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIGVycm9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgZXJyb3JfZGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEF1dGhvcml6YXRpb25QZW5kaW5nRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9FeHBpcmVkVG9rZW5FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRXhwaXJlZFRva2VuRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JbnRlcm5hbFNlcnZlckV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnRlcm5hbFNlcnZlckV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZENsaWVudEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkQ2xpZW50RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkQ2xpZW50TWV0YWRhdGFFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZENsaWVudE1ldGFkYXRhRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkR3JhbnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZEdyYW50RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFNjb3BlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIGVycm9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgZXJyb3JfZGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTY29wZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfU2xvd0Rvd25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgZXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgU2xvd0Rvd25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1VuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBlcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBVbmF1dGhvcml6ZWRDbGllbnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1Vuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIGVycm9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgZXJyb3JfZGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFVuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZXNlcmlhbGl6ZU1ldGFkYXRhID0gKG91dHB1dCkgPT4gKHtcbiAgICBodHRwU3RhdHVzQ29kZTogb3V0cHV0LnN0YXR1c0NvZGUsXG4gICAgcmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0aWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdC1pZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16LXJlcXVlc3QtaWRcIl0sXG4gICAgZXh0ZW5kZWRSZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotaWQtMlwiXSxcbiAgICBjZklkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWNmLWlkXCJdLFxufSk7XG5jb25zdCBjb2xsZWN0Qm9keSA9IChzdHJlYW1Cb2R5ID0gbmV3IFVpbnQ4QXJyYXkoKSwgY29udGV4dCkgPT4ge1xuICAgIGlmIChzdHJlYW1Cb2R5IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0cmVhbUJvZHkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dC5zdHJlYW1Db2xsZWN0b3Ioc3RyZWFtQm9keSkgfHwgUHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KCkpO1xufTtcbmNvbnN0IGNvbGxlY3RCb2R5U3RyaW5nID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5KHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGJvZHkpID0+IGNvbnRleHQudXRmOEVuY29kZXIoYm9keSkpO1xuY29uc3QgaXNTZXJpYWxpemFibGVIZWFkZXJWYWx1ZSA9ICh2YWx1ZSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuICAgIHZhbHVlICE9PSBudWxsICYmXG4gICAgdmFsdWUgIT09IFwiXCIgJiZcbiAgICAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5pbmNsdWRlcyhcImxlbmd0aFwiKSB8fCB2YWx1ZS5sZW5ndGggIT0gMCkgJiZcbiAgICAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5pbmNsdWRlcyhcInNpemVcIikgfHwgdmFsdWUuc2l6ZSAhPSAwKTtcbmNvbnN0IHBhcnNlQm9keSA9IChzdHJlYW1Cb2R5LCBjb250ZXh0KSA9PiBjb2xsZWN0Qm9keVN0cmluZyhzdHJlYW1Cb2R5LCBjb250ZXh0KS50aGVuKChlbmNvZGVkKSA9PiB7XG4gICAgaWYgKGVuY29kZWQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGVuY29kZWQpO1xuICAgIH1cbiAgICByZXR1cm4ge307XG59KTtcbmNvbnN0IHBhcnNlRXJyb3JCb2R5ID0gYXN5bmMgKGVycm9yQm9keSwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFyc2VCb2R5KGVycm9yQm9keSwgY29udGV4dCk7XG4gICAgdmFsdWUubWVzc2FnZSA9IHZhbHVlLm1lc3NhZ2UgPz8gdmFsdWUuTWVzc2FnZTtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuY29uc3QgbG9hZFJlc3RKc29uRXJyb3JDb2RlID0gKG91dHB1dCwgZGF0YSkgPT4ge1xuICAgIGNvbnN0IGZpbmRLZXkgPSAob2JqZWN0LCBrZXkpID0+IE9iamVjdC5rZXlzKG9iamVjdCkuZmluZCgoaykgPT4gay50b0xvd2VyQ2FzZSgpID09PSBrZXkudG9Mb3dlckNhc2UoKSk7XG4gICAgY29uc3Qgc2FuaXRpemVFcnJvckNvZGUgPSAocmF3VmFsdWUpID0+IHtcbiAgICAgICAgbGV0IGNsZWFuVmFsdWUgPSByYXdWYWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhblZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhblZhbHVlLmluZGV4T2YoXCIsXCIpID49IDApIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnNwbGl0KFwiLFwiKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYW5WYWx1ZS5pbmRleE9mKFwiOlwiKSA+PSAwKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS5zcGxpdChcIjpcIilbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFuVmFsdWUuaW5kZXhPZihcIiNcIikgPj0gMCkge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUuc3BsaXQoXCIjXCIpWzFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbGVhblZhbHVlO1xuICAgIH07XG4gICAgY29uc3QgaGVhZGVyS2V5ID0gZmluZEtleShvdXRwdXQuaGVhZGVycywgXCJ4LWFtem4tZXJyb3J0eXBlXCIpO1xuICAgIGlmIChoZWFkZXJLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVFcnJvckNvZGUob3V0cHV0LmhlYWRlcnNbaGVhZGVyS2V5XSk7XG4gICAgfVxuICAgIGlmIChkYXRhLmNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVFcnJvckNvZGUoZGF0YS5jb2RlKTtcbiAgICB9XG4gICAgaWYgKGRhdGFbXCJfX3R5cGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVFcnJvckNvZGUoZGF0YVtcIl9fdHlwZVwiXSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldEVuZHBvaW50UGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFNlcmRlUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgZGVfQ3JlYXRlVG9rZW5Db21tYW5kLCBzZV9DcmVhdGVUb2tlbkNvbW1hbmQgfSBmcm9tIFwiLi4vcHJvdG9jb2xzL0F3c19yZXN0SnNvbjFcIjtcbmV4cG9ydCB7ICRDb21tYW5kIH07XG5leHBvcnQgY2xhc3MgQ3JlYXRlVG9rZW5Db21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIENyZWF0ZVRva2VuQ29tbWFuZC5nZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpKSk7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gY2xpZW50U3RhY2suY29uY2F0KHRoaXMubWlkZGxld2FyZVN0YWNrKTtcbiAgICAgICAgY29uc3QgeyBsb2dnZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIGNvbnN0IGNsaWVudE5hbWUgPSBcIlNTT09JRENDbGllbnRcIjtcbiAgICAgICAgY29uc3QgY29tbWFuZE5hbWUgPSBcIkNyZWF0ZVRva2VuQ29tbWFuZFwiO1xuICAgICAgICBjb25zdCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCA9IHtcbiAgICAgICAgICAgIGxvZ2dlcixcbiAgICAgICAgICAgIGNsaWVudE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgICAgIGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgICAgIG91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgcmVxdWVzdEhhbmRsZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIHJldHVybiBzdGFjay5yZXNvbHZlKChyZXF1ZXN0KSA9PiByZXF1ZXN0SGFuZGxlci5oYW5kbGUocmVxdWVzdC5yZXF1ZXN0LCBvcHRpb25zIHx8IHt9KSwgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQpO1xuICAgIH1cbiAgICBzZXJpYWxpemUoaW5wdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHNlX0NyZWF0ZVRva2VuQ29tbWFuZChpbnB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKG91dHB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlVG9rZW5Db21tYW5kKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMgPSAob3B0aW9ucykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBvcHRpb25zLnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IG9wdGlvbnMudXNlRmlwc0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICBkZWZhdWx0U2lnbmluZ05hbWU6IFwiYXdzc3Nvb2lkY1wiLFxuICAgIH07XG59O1xuIiwiY29uc3QgcCA9IFwicmVxdWlyZWRcIiwgcSA9IFwiZm5cIiwgciA9IFwiYXJndlwiLCBzID0gXCJyZWZcIjtcbmNvbnN0IGEgPSBcIlBhcnRpdGlvblJlc3VsdFwiLCBiID0gXCJ0cmVlXCIsIGMgPSBcImVycm9yXCIsIGQgPSBcImVuZHBvaW50XCIsIGUgPSB7IFtwXTogZmFsc2UsIFwidHlwZVwiOiBcIlN0cmluZ1wiIH0sIGYgPSB7IFtwXTogdHJ1ZSwgXCJkZWZhdWx0XCI6IGZhbHNlLCBcInR5cGVcIjogXCJCb29sZWFuXCIgfSwgZyA9IHsgW3NdOiBcIkVuZHBvaW50XCIgfSwgaCA9IHsgW3FdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3JdOiBbeyBbc106IFwiVXNlRklQU1wiIH0sIHRydWVdIH0sIGkgPSB7IFtxXTogXCJib29sZWFuRXF1YWxzXCIsIFtyXTogW3sgW3NdOiBcIlVzZUR1YWxTdGFja1wiIH0sIHRydWVdIH0sIGogPSB7fSwgayA9IHsgW3FdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3JdOiBbdHJ1ZSwgeyBbcV06IFwiZ2V0QXR0clwiLCBbcl06IFt7IFtzXTogYSB9LCBcInN1cHBvcnRzRklQU1wiXSB9XSB9LCBsID0geyBbcV06IFwiYm9vbGVhbkVxdWFsc1wiLCBbcl06IFt0cnVlLCB7IFtxXTogXCJnZXRBdHRyXCIsIFtyXTogW3sgW3NdOiBhIH0sIFwic3VwcG9ydHNEdWFsU3RhY2tcIl0gfV0gfSwgbSA9IFtnXSwgbiA9IFtoXSwgbyA9IFtpXTtcbmNvbnN0IF9kYXRhID0geyB2ZXJzaW9uOiBcIjEuMFwiLCBwYXJhbWV0ZXJzOiB7IFJlZ2lvbjogZSwgVXNlRHVhbFN0YWNrOiBmLCBVc2VGSVBTOiBmLCBFbmRwb2ludDogZSB9LCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3FdOiBcImF3cy5wYXJ0aXRpb25cIiwgW3JdOiBbeyBbc106IFwiUmVnaW9uXCIgfV0sIGFzc2lnbjogYSB9XSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtxXTogXCJpc1NldFwiLCBbcl06IG0gfSwgeyBbcV06IFwicGFyc2VVUkxcIiwgW3JdOiBtLCBhc3NpZ246IFwidXJsXCIgfV0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBuLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IEZJUFMgYW5kIGN1c3RvbSBlbmRwb2ludCBhcmUgbm90IHN1cHBvcnRlZFwiLCB0eXBlOiBjIH0sIHsgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IG8sIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRHVhbHN0YWNrIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgdHlwZTogYyB9LCB7IGVuZHBvaW50OiB7IHVybDogZywgcHJvcGVydGllczogaiwgaGVhZGVyczogaiB9LCB0eXBlOiBkIH1dIH1dIH0sIHsgY29uZGl0aW9uczogW2gsIGldLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW2ssIGxdLCB0eXBlOiBiLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vb2lkYy1maXBzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZHVhbFN0YWNrRG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBqLCBoZWFkZXJzOiBqIH0sIHR5cGU6IGQgfV0gfSwgeyBlcnJvcjogXCJGSVBTIGFuZCBEdWFsU3RhY2sgYXJlIGVuYWJsZWQsIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IG9uZSBvciBib3RoXCIsIHR5cGU6IGMgfV0gfSwgeyBjb25kaXRpb25zOiBuLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW2tdLCB0eXBlOiBiLCBydWxlczogW3sgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL29pZGMtZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaiwgaGVhZGVyczogaiB9LCB0eXBlOiBkIH1dIH1dIH0sIHsgZXJyb3I6IFwiRklQUyBpcyBlbmFibGVkIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IEZJUFNcIiwgdHlwZTogYyB9XSB9LCB7IGNvbmRpdGlvbnM6IG8sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbbF0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9vaWRjLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZHVhbFN0YWNrRG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBqLCBoZWFkZXJzOiBqIH0sIHR5cGU6IGQgfV0gfSwgeyBlcnJvcjogXCJEdWFsU3RhY2sgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBEdWFsU3RhY2tcIiwgdHlwZTogYyB9XSB9LCB7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL29pZGMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGosIGhlYWRlcnM6IGogfSwgdHlwZTogZCB9XSB9XSB9O1xuZXhwb3J0IGNvbnN0IHJ1bGVTZXQgPSBfZGF0YTtcbiIsImltcG9ydCB7IHJlc29sdmVFbmRwb2ludCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWVuZHBvaW50c1wiO1xuaW1wb3J0IHsgcnVsZVNldCB9IGZyb20gXCIuL3J1bGVzZXRcIjtcbmV4cG9ydCBjb25zdCBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciA9IChlbmRwb2ludFBhcmFtcywgY29udGV4dCA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHJlc29sdmVFbmRwb2ludChydWxlU2V0LCB7XG4gICAgICAgIGVuZHBvaW50UGFyYW1zOiBlbmRwb2ludFBhcmFtcyxcbiAgICAgICAgbG9nZ2VyOiBjb250ZXh0LmxvZ2dlcixcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyByZXNvbHZlUmVnaW9uQ29uZmlnIH0gZnJvbSBcIkBhd3Mtc2RrL2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgZ2V0Q29udGVudExlbmd0aFBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWNvbnRlbnQtbGVuZ3RoXCI7XG5pbXBvcnQgeyByZXNvbHZlRW5kcG9pbnRDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0SG9zdEhlYWRlclBsdWdpbiwgcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtaG9zdC1oZWFkZXJcIjtcbmltcG9ydCB7IGdldExvZ2dlclBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWxvZ2dlclwiO1xuaW1wb3J0IHsgZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmVjdXJzaW9uLWRldGVjdGlvblwiO1xuaW1wb3J0IHsgZ2V0UmV0cnlQbHVnaW4sIHJlc29sdmVSZXRyeUNvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBnZXRVc2VyQWdlbnRQbHVnaW4sIHJlc29sdmVVc2VyQWdlbnRDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtdXNlci1hZ2VudFwiO1xuaW1wb3J0IHsgQ2xpZW50IGFzIF9fQ2xpZW50LCB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzLCB9IGZyb20gXCIuL2VuZHBvaW50L0VuZHBvaW50UGFyYW1ldGVyc1wiO1xuaW1wb3J0IHsgZ2V0UnVudGltZUNvbmZpZyBhcyBfX2dldFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnXCI7XG5leHBvcnQgeyBfX0NsaWVudCB9O1xuZXhwb3J0IGNsYXNzIFNTT09JRENDbGllbnQgZXh0ZW5kcyBfX0NsaWVudCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbikge1xuICAgICAgICBjb25zdCBfY29uZmlnXzAgPSBfX2dldFJ1bnRpbWVDb25maWcoY29uZmlndXJhdGlvbik7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMSA9IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMoX2NvbmZpZ18wKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18yID0gcmVzb2x2ZVJlZ2lvbkNvbmZpZyhfY29uZmlnXzEpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzMgPSByZXNvbHZlRW5kcG9pbnRDb25maWcoX2NvbmZpZ18yKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ180ID0gcmVzb2x2ZVJldHJ5Q29uZmlnKF9jb25maWdfMyk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNSA9IHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnKF9jb25maWdfNCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNiA9IHJlc29sdmVVc2VyQWdlbnRDb25maWcoX2NvbmZpZ181KTtcbiAgICAgICAgc3VwZXIoX2NvbmZpZ182KTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBfY29uZmlnXzY7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZXRyeVBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0Q29udGVudExlbmd0aFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0SG9zdEhlYWRlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0TG9nZ2VyUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFVzZXJBZ2VudFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHBhY2thZ2VJbmZvIGZyb20gXCIuLi9wYWNrYWdlLmpzb25cIjtcbmltcG9ydCB7IE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIH0gZnJvbSBcIkBhd3Mtc2RrL2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgSGFzaCB9IGZyb20gXCJAYXdzLXNkay9oYXNoLW5vZGVcIjtcbmltcG9ydCB7IE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMsIE5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnIGFzIGxvYWROb2RlQ29uZmlnIH0gZnJvbSBcIkBhd3Mtc2RrL25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBOb2RlSHR0cEhhbmRsZXIgYXMgUmVxdWVzdEhhbmRsZXIsIHN0cmVhbUNvbGxlY3RvciB9IGZyb20gXCJAYXdzLXNkay9ub2RlLWh0dHAtaGFuZGxlclwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm9keUxlbmd0aCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWJvZHktbGVuZ3RoLW5vZGVcIjtcbmltcG9ydCB7IERFRkFVTFRfUkVUUllfTU9ERSB9IGZyb20gXCJAYXdzLXNkay91dGlsLXJldHJ5XCI7XG5pbXBvcnQgeyBkZWZhdWx0VXNlckFnZW50IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXNlci1hZ2VudC1ub2RlXCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIGdldFNoYXJlZFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnLnNoYXJlZFwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtZGVmYXVsdHMtbW9kZS1ub2RlXCI7XG5pbXBvcnQgeyBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4ge1xuICAgIGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24ocHJvY2Vzcy52ZXJzaW9uKTtcbiAgICBjb25zdCBkZWZhdWx0c01vZGUgPSByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyID0gKCkgPT4gZGVmYXVsdHNNb2RlKCkudGhlbihsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlKTtcbiAgICBjb25zdCBjbGllbnRTaGFyZWRWYWx1ZXMgPSBnZXRTaGFyZWRSdW50aW1lQ29uZmlnKGNvbmZpZyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY2xpZW50U2hhcmVkVmFsdWVzLFxuICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIHJ1bnRpbWU6IFwibm9kZVwiLFxuICAgICAgICBkZWZhdWx0c01vZGUsXG4gICAgICAgIGJvZHlMZW5ndGhDaGVja2VyOiBjb25maWc/LmJvZHlMZW5ndGhDaGVja2VyID8/IGNhbGN1bGF0ZUJvZHlMZW5ndGgsXG4gICAgICAgIGRlZmF1bHRVc2VyQWdlbnRQcm92aWRlcjogY29uZmlnPy5kZWZhdWx0VXNlckFnZW50UHJvdmlkZXIgPz9cbiAgICAgICAgICAgIGRlZmF1bHRVc2VyQWdlbnQoeyBzZXJ2aWNlSWQ6IGNsaWVudFNoYXJlZFZhbHVlcy5zZXJ2aWNlSWQsIGNsaWVudFZlcnNpb246IHBhY2thZ2VJbmZvLnZlcnNpb24gfSksXG4gICAgICAgIG1heEF0dGVtcHRzOiBjb25maWc/Lm1heEF0dGVtcHRzID8/IGxvYWROb2RlQ29uZmlnKE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICByZWdpb246IGNvbmZpZz8ucmVnaW9uID8/IGxvYWROb2RlQ29uZmlnKE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TKSxcbiAgICAgICAgcmVxdWVzdEhhbmRsZXI6IGNvbmZpZz8ucmVxdWVzdEhhbmRsZXIgPz8gbmV3IFJlcXVlc3RIYW5kbGVyKGRlZmF1bHRDb25maWdQcm92aWRlciksXG4gICAgICAgIHJldHJ5TW9kZTogY29uZmlnPy5yZXRyeU1vZGUgPz9cbiAgICAgICAgICAgIGxvYWROb2RlQ29uZmlnKHtcbiAgICAgICAgICAgICAgICAuLi5OT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogYXN5bmMgKCkgPT4gKGF3YWl0IGRlZmF1bHRDb25maWdQcm92aWRlcigpKS5yZXRyeU1vZGUgfHwgREVGQVVMVF9SRVRSWV9NT0RFLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIHNoYTI1NjogY29uZmlnPy5zaGEyNTYgPz8gSGFzaC5iaW5kKG51bGwsIFwic2hhMjU2XCIpLFxuICAgICAgICBzdHJlYW1Db2xsZWN0b3I6IGNvbmZpZz8uc3RyZWFtQ29sbGVjdG9yID8/IHN0cmVhbUNvbGxlY3RvcixcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IGNvbmZpZz8udXNlRHVhbHN0YWNrRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBjb25maWc/LnVzZUZpcHNFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IE5vT3BMb2dnZXIgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcGFyc2VVcmwgfSBmcm9tIFwiQGF3cy1zZGsvdXJsLXBhcnNlclwiO1xuaW1wb3J0IHsgZnJvbUJhc2U2NCwgdG9CYXNlNjQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1iYXNlNjRcIjtcbmltcG9ydCB7IGZyb21VdGY4LCB0b1V0ZjggfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11dGY4XCI7XG5pbXBvcnQgeyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciB9IGZyb20gXCIuL2VuZHBvaW50L2VuZHBvaW50UmVzb2x2ZXJcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4gKHtcbiAgICBhcGlWZXJzaW9uOiBcIjIwMTktMDYtMTBcIixcbiAgICBiYXNlNjREZWNvZGVyOiBjb25maWc/LmJhc2U2NERlY29kZXIgPz8gZnJvbUJhc2U2NCxcbiAgICBiYXNlNjRFbmNvZGVyOiBjb25maWc/LmJhc2U2NEVuY29kZXIgPz8gdG9CYXNlNjQsXG4gICAgZGlzYWJsZUhvc3RQcmVmaXg6IGNvbmZpZz8uZGlzYWJsZUhvc3RQcmVmaXggPz8gZmFsc2UsXG4gICAgZW5kcG9pbnRQcm92aWRlcjogY29uZmlnPy5lbmRwb2ludFByb3ZpZGVyID8/IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyLFxuICAgIGxvZ2dlcjogY29uZmlnPy5sb2dnZXIgPz8gbmV3IE5vT3BMb2dnZXIoKSxcbiAgICBzZXJ2aWNlSWQ6IGNvbmZpZz8uc2VydmljZUlkID8/IFwiU1NPIE9JRENcIixcbiAgICB1cmxQYXJzZXI6IGNvbmZpZz8udXJsUGFyc2VyID8/IHBhcnNlVXJsLFxuICAgIHV0ZjhEZWNvZGVyOiBjb25maWc/LnV0ZjhEZWNvZGVyID8/IGZyb21VdGY4LFxuICAgIHV0ZjhFbmNvZGVyOiBjb25maWc/LnV0ZjhFbmNvZGVyID8/IHRvVXRmOCxcbn0pO1xuIiwiaW1wb3J0IHsgU1NPT0lEQ0NsaWVudCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtc3NvLW9pZGNcIjtcbmNvbnN0IHNzb09pZGNDbGllbnRzSGFzaCA9IHt9O1xuZXhwb3J0IGNvbnN0IGdldFNzb09pZGNDbGllbnQgPSAoc3NvUmVnaW9uKSA9PiB7XG4gICAgaWYgKHNzb09pZGNDbGllbnRzSGFzaFtzc29SZWdpb25dKSB7XG4gICAgICAgIHJldHVybiBzc29PaWRjQ2xpZW50c0hhc2hbc3NvUmVnaW9uXTtcbiAgICB9XG4gICAgY29uc3Qgc3NvT2lkY0NsaWVudCA9IG5ldyBTU09PSURDQ2xpZW50KHsgcmVnaW9uOiBzc29SZWdpb24gfSk7XG4gICAgc3NvT2lkY0NsaWVudHNIYXNoW3Nzb1JlZ2lvbl0gPSBzc29PaWRjQ2xpZW50O1xuICAgIHJldHVybiBzc29PaWRjQ2xpZW50O1xufTtcbiIsImltcG9ydCB7IFRva2VuUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAYXdzLXNkay9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgUkVGUkVTSF9NRVNTQUdFIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVUb2tlbkV4cGlyeSA9ICh0b2tlbikgPT4ge1xuICAgIGlmICh0b2tlbi5leHBpcmF0aW9uICYmIHRva2VuLmV4cGlyYXRpb24uZ2V0VGltZSgpIDwgRGF0ZS5ub3coKSkge1xuICAgICAgICB0aHJvdyBuZXcgVG9rZW5Qcm92aWRlckVycm9yKGBUb2tlbiBpcyBleHBpcmVkLiAke1JFRlJFU0hfTUVTU0FHRX1gLCBmYWxzZSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IFRva2VuUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAYXdzLXNkay9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgUkVGUkVTSF9NRVNTQUdFIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVUb2tlbktleSA9IChrZXksIHZhbHVlLCBmb3JSZWZyZXNoID0gZmFsc2UpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFZhbHVlIG5vdCBwcmVzZW50IGZvciAnJHtrZXl9JyBpbiBTU08gVG9rZW4ke2ZvclJlZnJlc2ggPyBcIi4gQ2Fubm90IHJlZnJlc2hcIiA6IFwiXCJ9LiAke1JFRlJFU0hfTUVTU0FHRX1gLCBmYWxzZSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldFNTT1Rva2VuRmlsZXBhdGggfSBmcm9tIFwiQGF3cy1zZGsvc2hhcmVkLWluaS1maWxlLWxvYWRlclwiO1xuaW1wb3J0IHsgcHJvbWlzZXMgYXMgZnNQcm9taXNlcyB9IGZyb20gXCJmc1wiO1xuY29uc3QgeyB3cml0ZUZpbGUgfSA9IGZzUHJvbWlzZXM7XG5leHBvcnQgY29uc3Qgd3JpdGVTU09Ub2tlblRvRmlsZSA9IChpZCwgc3NvVG9rZW4pID0+IHtcbiAgICBjb25zdCB0b2tlbkZpbGVwYXRoID0gZ2V0U1NPVG9rZW5GaWxlcGF0aChpZCk7XG4gICAgY29uc3QgdG9rZW5TdHJpbmcgPSBKU09OLnN0cmluZ2lmeShzc29Ub2tlbiwgbnVsbCwgMik7XG4gICAgcmV0dXJuIHdyaXRlRmlsZSh0b2tlbkZpbGVwYXRoLCB0b2tlblN0cmluZyk7XG59O1xuIiwiaW1wb3J0IHsgVG9rZW5Qcm92aWRlckVycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBnZXRQcm9maWxlTmFtZSwgZ2V0U1NPVG9rZW5Gcm9tRmlsZSwgbG9hZFNzb1Nlc3Npb25EYXRhLCBwYXJzZUtub3duRmlsZXMsIH0gZnJvbSBcIkBhd3Mtc2RrL3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmltcG9ydCB7IEVYUElSRV9XSU5ET1dfTVMsIFJFRlJFU0hfTUVTU0FHRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0TmV3U3NvT2lkY1Rva2VuIH0gZnJvbSBcIi4vZ2V0TmV3U3NvT2lkY1Rva2VuXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZVRva2VuRXhwaXJ5IH0gZnJvbSBcIi4vdmFsaWRhdGVUb2tlbkV4cGlyeVwiO1xuaW1wb3J0IHsgdmFsaWRhdGVUb2tlbktleSB9IGZyb20gXCIuL3ZhbGlkYXRlVG9rZW5LZXlcIjtcbmltcG9ydCB7IHdyaXRlU1NPVG9rZW5Ub0ZpbGUgfSBmcm9tIFwiLi93cml0ZVNTT1Rva2VuVG9GaWxlXCI7XG5jb25zdCBsYXN0UmVmcmVzaEF0dGVtcHRUaW1lID0gbmV3IERhdGUoMCk7XG5leHBvcnQgY29uc3QgZnJvbVNzbyA9IChpbml0ID0ge30pID0+IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBwcm9maWxlcyA9IGF3YWl0IHBhcnNlS25vd25GaWxlcyhpbml0KTtcbiAgICBjb25zdCBwcm9maWxlTmFtZSA9IGdldFByb2ZpbGVOYW1lKGluaXQpO1xuICAgIGNvbnN0IHByb2ZpbGUgPSBwcm9maWxlc1twcm9maWxlTmFtZV07XG4gICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFByb2ZpbGUgJyR7cHJvZmlsZU5hbWV9JyBjb3VsZCBub3QgYmUgZm91bmQgaW4gc2hhcmVkIGNyZWRlbnRpYWxzIGZpbGUuYCwgZmFsc2UpO1xuICAgIH1cbiAgICBlbHNlIGlmICghcHJvZmlsZVtcInNzb19zZXNzaW9uXCJdKSB7XG4gICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFByb2ZpbGUgJyR7cHJvZmlsZU5hbWV9JyBpcyBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICdzc29fc2Vzc2lvbicuYCk7XG4gICAgfVxuICAgIGNvbnN0IHNzb1Nlc3Npb25OYW1lID0gcHJvZmlsZVtcInNzb19zZXNzaW9uXCJdO1xuICAgIGNvbnN0IHNzb1Nlc3Npb25zID0gYXdhaXQgbG9hZFNzb1Nlc3Npb25EYXRhKGluaXQpO1xuICAgIGNvbnN0IHNzb1Nlc3Npb24gPSBzc29TZXNzaW9uc1tzc29TZXNzaW9uTmFtZV07XG4gICAgaWYgKCFzc29TZXNzaW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFNzbyBzZXNzaW9uICcke3Nzb1Nlc3Npb25OYW1lfScgY291bGQgbm90IGJlIGZvdW5kIGluIHNoYXJlZCBjcmVkZW50aWFscyBmaWxlLmAsIGZhbHNlKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBzc29TZXNzaW9uUmVxdWlyZWRLZXkgb2YgW1wic3NvX3N0YXJ0X3VybFwiLCBcInNzb19yZWdpb25cIl0pIHtcbiAgICAgICAgaWYgKCFzc29TZXNzaW9uW3Nzb1Nlc3Npb25SZXF1aXJlZEtleV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUb2tlblByb3ZpZGVyRXJyb3IoYFNzbyBzZXNzaW9uICcke3Nzb1Nlc3Npb25OYW1lfScgaXMgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSAnJHtzc29TZXNzaW9uUmVxdWlyZWRLZXl9Jy5gLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3NvU3RhcnRVcmwgPSBzc29TZXNzaW9uW1wic3NvX3N0YXJ0X3VybFwiXTtcbiAgICBjb25zdCBzc29SZWdpb24gPSBzc29TZXNzaW9uW1wic3NvX3JlZ2lvblwiXTtcbiAgICBsZXQgc3NvVG9rZW47XG4gICAgdHJ5IHtcbiAgICAgICAgc3NvVG9rZW4gPSBhd2FpdCBnZXRTU09Ub2tlbkZyb21GaWxlKHNzb1Nlc3Npb25OYW1lKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRva2VuUHJvdmlkZXJFcnJvcihgVGhlIFNTTyBzZXNzaW9uIHRva2VuIGFzc29jaWF0ZWQgd2l0aCBwcm9maWxlPSR7cHJvZmlsZU5hbWV9IHdhcyBub3QgZm91bmQgb3IgaXMgaW52YWxpZC4gJHtSRUZSRVNIX01FU1NBR0V9YCwgZmFsc2UpO1xuICAgIH1cbiAgICB2YWxpZGF0ZVRva2VuS2V5KFwiYWNjZXNzVG9rZW5cIiwgc3NvVG9rZW4uYWNjZXNzVG9rZW4pO1xuICAgIHZhbGlkYXRlVG9rZW5LZXkoXCJleHBpcmVzQXRcIiwgc3NvVG9rZW4uZXhwaXJlc0F0KTtcbiAgICBjb25zdCB7IGFjY2Vzc1Rva2VuLCBleHBpcmVzQXQgfSA9IHNzb1Rva2VuO1xuICAgIGNvbnN0IGV4aXN0aW5nVG9rZW4gPSB7IHRva2VuOiBhY2Nlc3NUb2tlbiwgZXhwaXJhdGlvbjogbmV3IERhdGUoZXhwaXJlc0F0KSB9O1xuICAgIGlmIChleGlzdGluZ1Rva2VuLmV4cGlyYXRpb24uZ2V0VGltZSgpIC0gRGF0ZS5ub3coKSA+IEVYUElSRV9XSU5ET1dfTVMpIHtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nVG9rZW47XG4gICAgfVxuICAgIGlmIChEYXRlLm5vdygpIC0gbGFzdFJlZnJlc2hBdHRlbXB0VGltZS5nZXRUaW1lKCkgPCAzMCAqIDEwMDApIHtcbiAgICAgICAgdmFsaWRhdGVUb2tlbkV4cGlyeShleGlzdGluZ1Rva2VuKTtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nVG9rZW47XG4gICAgfVxuICAgIHZhbGlkYXRlVG9rZW5LZXkoXCJjbGllbnRJZFwiLCBzc29Ub2tlbi5jbGllbnRJZCwgdHJ1ZSk7XG4gICAgdmFsaWRhdGVUb2tlbktleShcImNsaWVudFNlY3JldFwiLCBzc29Ub2tlbi5jbGllbnRTZWNyZXQsIHRydWUpO1xuICAgIHZhbGlkYXRlVG9rZW5LZXkoXCJyZWZyZXNoVG9rZW5cIiwgc3NvVG9rZW4ucmVmcmVzaFRva2VuLCB0cnVlKTtcbiAgICB0cnkge1xuICAgICAgICBsYXN0UmVmcmVzaEF0dGVtcHRUaW1lLnNldFRpbWUoRGF0ZS5ub3coKSk7XG4gICAgICAgIGNvbnN0IG5ld1Nzb09pZGNUb2tlbiA9IGF3YWl0IGdldE5ld1Nzb09pZGNUb2tlbihzc29Ub2tlbiwgc3NvUmVnaW9uKTtcbiAgICAgICAgdmFsaWRhdGVUb2tlbktleShcImFjY2Vzc1Rva2VuXCIsIG5ld1Nzb09pZGNUb2tlbi5hY2Nlc3NUb2tlbik7XG4gICAgICAgIHZhbGlkYXRlVG9rZW5LZXkoXCJleHBpcmVzSW5cIiwgbmV3U3NvT2lkY1Rva2VuLmV4cGlyZXNJbik7XG4gICAgICAgIGNvbnN0IG5ld1Rva2VuRXhwaXJhdGlvbiA9IG5ldyBEYXRlKERhdGUubm93KCkgKyBuZXdTc29PaWRjVG9rZW4uZXhwaXJlc0luICogMTAwMCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB3cml0ZVNTT1Rva2VuVG9GaWxlKHNzb1Nlc3Npb25OYW1lLCB7XG4gICAgICAgICAgICAgICAgLi4uc3NvVG9rZW4sXG4gICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IG5ld1Nzb09pZGNUb2tlbi5hY2Nlc3NUb2tlbixcbiAgICAgICAgICAgICAgICBleHBpcmVzQXQ6IG5ld1Rva2VuRXhwaXJhdGlvbi50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogbmV3U3NvT2lkY1Rva2VuLnJlZnJlc2hUb2tlbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b2tlbjogbmV3U3NvT2lkY1Rva2VuLmFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgZXhwaXJhdGlvbjogbmV3VG9rZW5FeHBpcmF0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdmFsaWRhdGVUb2tlbkV4cGlyeShleGlzdGluZ1Rva2VuKTtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nVG9rZW47XG4gICAgfVxufTtcbiIsImltcG9ydCB7IENyZWF0ZVRva2VuQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtc3NvLW9pZGNcIjtcbmltcG9ydCB7IGdldFNzb09pZGNDbGllbnQgfSBmcm9tIFwiLi9nZXRTc29PaWRjQ2xpZW50XCI7XG5leHBvcnQgY29uc3QgZ2V0TmV3U3NvT2lkY1Rva2VuID0gKHNzb1Rva2VuLCBzc29SZWdpb24pID0+IHtcbiAgICBjb25zdCBzc29PaWRjQ2xpZW50ID0gZ2V0U3NvT2lkY0NsaWVudChzc29SZWdpb24pO1xuICAgIHJldHVybiBzc29PaWRjQ2xpZW50LnNlbmQobmV3IENyZWF0ZVRva2VuQ29tbWFuZCh7XG4gICAgICAgIGNsaWVudElkOiBzc29Ub2tlbi5jbGllbnRJZCxcbiAgICAgICAgY2xpZW50U2VjcmV0OiBzc29Ub2tlbi5jbGllbnRTZWNyZXQsXG4gICAgICAgIHJlZnJlc2hUb2tlbjogc3NvVG9rZW4ucmVmcmVzaFRva2VuLFxuICAgICAgICBncmFudFR5cGU6IFwicmVmcmVzaF90b2tlblwiLFxuICAgIH0pKTtcbn07XG4iLCJpbXBvcnQgeyBHZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kLCBTU09DbGllbnQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXNzb1wiO1xuaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBnZXRTU09Ub2tlbkZyb21GaWxlIH0gZnJvbSBcIkBhd3Mtc2RrL3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmltcG9ydCB7IGZyb21Tc28gYXMgZ2V0U3NvVG9rZW5Qcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay90b2tlbi1wcm92aWRlcnNcIjtcbmNvbnN0IEVYUElSRV9XSU5ET1dfTVMgPSAxNSAqIDYwICogMTAwMDtcbmNvbnN0IFNIT1VMRF9GQUlMX0NSRURFTlRJQUxfQ0hBSU4gPSBmYWxzZTtcbmV4cG9ydCBjb25zdCByZXNvbHZlU1NPQ3JlZGVudGlhbHMgPSBhc3luYyAoeyBzc29TdGFydFVybCwgc3NvU2Vzc2lvbiwgc3NvQWNjb3VudElkLCBzc29SZWdpb24sIHNzb1JvbGVOYW1lLCBzc29DbGllbnQsIHByb2ZpbGUsIH0pID0+IHtcbiAgICBsZXQgdG9rZW47XG4gICAgY29uc3QgcmVmcmVzaE1lc3NhZ2UgPSBgVG8gcmVmcmVzaCB0aGlzIFNTTyBzZXNzaW9uIHJ1biBhd3Mgc3NvIGxvZ2luIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvZmlsZS5gO1xuICAgIGlmIChzc29TZXNzaW9uKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBfdG9rZW4gPSBhd2FpdCBnZXRTc29Ub2tlblByb3ZpZGVyKHsgcHJvZmlsZSB9KSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IF90b2tlbi50b2tlbixcbiAgICAgICAgICAgICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKF90b2tlbi5leHBpcmF0aW9uKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihlLm1lc3NhZ2UsIFNIT1VMRF9GQUlMX0NSRURFTlRJQUxfQ0hBSU4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdG9rZW4gPSBhd2FpdCBnZXRTU09Ub2tlbkZyb21GaWxlKHNzb1N0YXJ0VXJsKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgVGhlIFNTTyBzZXNzaW9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHByb2ZpbGUgaXMgaW52YWxpZC4gJHtyZWZyZXNoTWVzc2FnZX1gLCBTSE9VTERfRkFJTF9DUkVERU5USUFMX0NIQUlOKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobmV3IERhdGUodG9rZW4uZXhwaXJlc0F0KS5nZXRUaW1lKCkgLSBEYXRlLm5vdygpIDw9IEVYUElSRV9XSU5ET1dfTVMpIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgVGhlIFNTTyBzZXNzaW9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHByb2ZpbGUgaGFzIGV4cGlyZWQuICR7cmVmcmVzaE1lc3NhZ2V9YCwgU0hPVUxEX0ZBSUxfQ1JFREVOVElBTF9DSEFJTik7XG4gICAgfVxuICAgIGNvbnN0IHsgYWNjZXNzVG9rZW4gfSA9IHRva2VuO1xuICAgIGNvbnN0IHNzbyA9IHNzb0NsaWVudCB8fCBuZXcgU1NPQ2xpZW50KHsgcmVnaW9uOiBzc29SZWdpb24gfSk7XG4gICAgbGV0IHNzb1Jlc3A7XG4gICAgdHJ5IHtcbiAgICAgICAgc3NvUmVzcCA9IGF3YWl0IHNzby5zZW5kKG5ldyBHZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kKHtcbiAgICAgICAgICAgIGFjY291bnRJZDogc3NvQWNjb3VudElkLFxuICAgICAgICAgICAgcm9sZU5hbWU6IHNzb1JvbGVOYW1lLFxuICAgICAgICAgICAgYWNjZXNzVG9rZW4sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yLmZyb20oZSwgU0hPVUxEX0ZBSUxfQ1JFREVOVElBTF9DSEFJTik7XG4gICAgfVxuICAgIGNvbnN0IHsgcm9sZUNyZWRlbnRpYWxzOiB7IGFjY2Vzc0tleUlkLCBzZWNyZXRBY2Nlc3NLZXksIHNlc3Npb25Ub2tlbiwgZXhwaXJhdGlvbiB9ID0ge30gfSA9IHNzb1Jlc3A7XG4gICAgaWYgKCFhY2Nlc3NLZXlJZCB8fCAhc2VjcmV0QWNjZXNzS2V5IHx8ICFzZXNzaW9uVG9rZW4gfHwgIWV4cGlyYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihcIlNTTyByZXR1cm5zIGFuIGludmFsaWQgdGVtcG9yYXJ5IGNyZWRlbnRpYWwuXCIsIFNIT1VMRF9GQUlMX0NSRURFTlRJQUxfQ0hBSU4pO1xuICAgIH1cbiAgICByZXR1cm4geyBhY2Nlc3NLZXlJZCwgc2VjcmV0QWNjZXNzS2V5LCBzZXNzaW9uVG9rZW4sIGV4cGlyYXRpb246IG5ldyBEYXRlKGV4cGlyYXRpb24pIH07XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgdmFsaWRhdGVTc29Qcm9maWxlID0gKHByb2ZpbGUpID0+IHtcbiAgICBjb25zdCB7IHNzb19zdGFydF91cmwsIHNzb19hY2NvdW50X2lkLCBzc29fcmVnaW9uLCBzc29fcm9sZV9uYW1lIH0gPSBwcm9maWxlO1xuICAgIGlmICghc3NvX3N0YXJ0X3VybCB8fCAhc3NvX2FjY291bnRfaWQgfHwgIXNzb19yZWdpb24gfHwgIXNzb19yb2xlX25hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgUHJvZmlsZSBpcyBjb25maWd1cmVkIHdpdGggaW52YWxpZCBTU08gY3JlZGVudGlhbHMuIFJlcXVpcmVkIHBhcmFtZXRlcnMgXCJzc29fYWNjb3VudF9pZFwiLCBgICtcbiAgICAgICAgICAgIGBcInNzb19yZWdpb25cIiwgXCJzc29fcm9sZV9uYW1lXCIsIFwic3NvX3N0YXJ0X3VybFwiLiBHb3QgJHtPYmplY3Qua2V5cyhwcm9maWxlKS5qb2luKFwiLCBcIil9XFxuUmVmZXJlbmNlOiBodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vY2xpL2xhdGVzdC91c2VyZ3VpZGUvY2xpLWNvbmZpZ3VyZS1zc28uaHRtbGAsIGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb2ZpbGU7XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBnZXRQcm9maWxlTmFtZSwgbG9hZFNzb1Nlc3Npb25EYXRhLCBwYXJzZUtub3duRmlsZXMsIH0gZnJvbSBcIkBhd3Mtc2RrL3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmltcG9ydCB7IGlzU3NvUHJvZmlsZSB9IGZyb20gXCIuL2lzU3NvUHJvZmlsZVwiO1xuaW1wb3J0IHsgcmVzb2x2ZVNTT0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVzb2x2ZVNTT0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZVNzb1Byb2ZpbGUgfSBmcm9tIFwiLi92YWxpZGF0ZVNzb1Byb2ZpbGVcIjtcbmV4cG9ydCBjb25zdCBmcm9tU1NPID0gKGluaXQgPSB7fSkgPT4gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgc3NvU3RhcnRVcmwsIHNzb0FjY291bnRJZCwgc3NvUmVnaW9uLCBzc29Sb2xlTmFtZSwgc3NvQ2xpZW50LCBzc29TZXNzaW9uIH0gPSBpbml0O1xuICAgIGNvbnN0IHByb2ZpbGVOYW1lID0gZ2V0UHJvZmlsZU5hbWUoaW5pdCk7XG4gICAgaWYgKCFzc29TdGFydFVybCAmJiAhc3NvQWNjb3VudElkICYmICFzc29SZWdpb24gJiYgIXNzb1JvbGVOYW1lICYmICFzc29TZXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IHByb2ZpbGVzID0gYXdhaXQgcGFyc2VLbm93bkZpbGVzKGluaXQpO1xuICAgICAgICBjb25zdCBwcm9maWxlID0gcHJvZmlsZXNbcHJvZmlsZU5hbWVdO1xuICAgICAgICBpZiAoIXByb2ZpbGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYFByb2ZpbGUgJHtwcm9maWxlTmFtZX0gd2FzIG5vdCBmb3VuZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzU3NvUHJvZmlsZShwcm9maWxlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSBpcyBub3QgY29uZmlndXJlZCB3aXRoIFNTTyBjcmVkZW50aWFscy5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvZmlsZT8uc3NvX3Nlc3Npb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHNzb1Nlc3Npb25zID0gYXdhaXQgbG9hZFNzb1Nlc3Npb25EYXRhKGluaXQpO1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHNzb1Nlc3Npb25zW3Byb2ZpbGUuc3NvX3Nlc3Npb25dO1xuICAgICAgICAgICAgY29uc3QgY29uZmxpY3RNc2cgPSBgIGNvbmZpZ3VyYXRpb25zIGluIHByb2ZpbGUgJHtwcm9maWxlTmFtZX0gYW5kIHNzby1zZXNzaW9uICR7cHJvZmlsZS5zc29fc2Vzc2lvbn1gO1xuICAgICAgICAgICAgaWYgKHNzb1JlZ2lvbiAmJiBzc29SZWdpb24gIT09IHNlc3Npb24uc3NvX3JlZ2lvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoYENvbmZsaWN0aW5nIFNTTyByZWdpb25gICsgY29uZmxpY3RNc2csIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzc29TdGFydFVybCAmJiBzc29TdGFydFVybCAhPT0gc2Vzc2lvbi5zc29fc3RhcnRfdXJsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgQ29uZmxpY3RpbmcgU1NPIHN0YXJ0X3VybGAgKyBjb25mbGljdE1zZywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvZmlsZS5zc29fcmVnaW9uID0gc2Vzc2lvbi5zc29fcmVnaW9uO1xuICAgICAgICAgICAgcHJvZmlsZS5zc29fc3RhcnRfdXJsID0gc2Vzc2lvbi5zc29fc3RhcnRfdXJsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3NvX3N0YXJ0X3VybCwgc3NvX2FjY291bnRfaWQsIHNzb19yZWdpb24sIHNzb19yb2xlX25hbWUsIHNzb19zZXNzaW9uIH0gPSB2YWxpZGF0ZVNzb1Byb2ZpbGUocHJvZmlsZSk7XG4gICAgICAgIHJldHVybiByZXNvbHZlU1NPQ3JlZGVudGlhbHMoe1xuICAgICAgICAgICAgc3NvU3RhcnRVcmw6IHNzb19zdGFydF91cmwsXG4gICAgICAgICAgICBzc29TZXNzaW9uOiBzc29fc2Vzc2lvbixcbiAgICAgICAgICAgIHNzb0FjY291bnRJZDogc3NvX2FjY291bnRfaWQsXG4gICAgICAgICAgICBzc29SZWdpb246IHNzb19yZWdpb24sXG4gICAgICAgICAgICBzc29Sb2xlTmFtZTogc3NvX3JvbGVfbmFtZSxcbiAgICAgICAgICAgIHNzb0NsaWVudDogc3NvQ2xpZW50LFxuICAgICAgICAgICAgcHJvZmlsZTogcHJvZmlsZU5hbWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmICghc3NvU3RhcnRVcmwgfHwgIXNzb0FjY291bnRJZCB8fCAhc3NvUmVnaW9uIHx8ICFzc29Sb2xlTmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKFwiSW5jb21wbGV0ZSBjb25maWd1cmF0aW9uLiBUaGUgZnJvbVNTTygpIGFyZ3VtZW50IGhhc2ggbXVzdCBpbmNsdWRlIFwiICtcbiAgICAgICAgICAgICdcInNzb1N0YXJ0VXJsXCIsIFwic3NvQWNjb3VudElkXCIsIFwic3NvUmVnaW9uXCIsIFwic3NvUm9sZU5hbWVcIicpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVTU09DcmVkZW50aWFscyh7XG4gICAgICAgICAgICBzc29TdGFydFVybCxcbiAgICAgICAgICAgIHNzb1Nlc3Npb24sXG4gICAgICAgICAgICBzc29BY2NvdW50SWQsXG4gICAgICAgICAgICBzc29SZWdpb24sXG4gICAgICAgICAgICBzc29Sb2xlTmFtZSxcbiAgICAgICAgICAgIHNzb0NsaWVudCxcbiAgICAgICAgICAgIHByb2ZpbGU6IHByb2ZpbGVOYW1lLFxuICAgICAgICB9KTtcbiAgICB9XG59O1xuIiwiZXhwb3J0IGNvbnN0IGlzU3RhdGljQ3JlZHNQcm9maWxlID0gKGFyZykgPT4gQm9vbGVhbihhcmcpICYmXG4gICAgdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJlxuICAgIHR5cGVvZiBhcmcuYXdzX2FjY2Vzc19rZXlfaWQgPT09IFwic3RyaW5nXCIgJiZcbiAgICB0eXBlb2YgYXJnLmF3c19zZWNyZXRfYWNjZXNzX2tleSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIFtcInVuZGVmaW5lZFwiLCBcInN0cmluZ1wiXS5pbmRleE9mKHR5cGVvZiBhcmcuYXdzX3Nlc3Npb25fdG9rZW4pID4gLTE7XG5leHBvcnQgY29uc3QgcmVzb2x2ZVN0YXRpY0NyZWRlbnRpYWxzID0gKHByb2ZpbGUpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgYWNjZXNzS2V5SWQ6IHByb2ZpbGUuYXdzX2FjY2Vzc19rZXlfaWQsXG4gICAgc2VjcmV0QWNjZXNzS2V5OiBwcm9maWxlLmF3c19zZWNyZXRfYWNjZXNzX2tleSxcbiAgICBzZXNzaW9uVG9rZW46IHByb2ZpbGUuYXdzX3Nlc3Npb25fdG9rZW4sXG59KTtcbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAYXdzLXNkay9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSBcImZzXCI7XG5pbXBvcnQgeyBmcm9tV2ViVG9rZW4gfSBmcm9tIFwiLi9mcm9tV2ViVG9rZW5cIjtcbmNvbnN0IEVOVl9UT0tFTl9GSUxFID0gXCJBV1NfV0VCX0lERU5USVRZX1RPS0VOX0ZJTEVcIjtcbmNvbnN0IEVOVl9ST0xFX0FSTiA9IFwiQVdTX1JPTEVfQVJOXCI7XG5jb25zdCBFTlZfUk9MRV9TRVNTSU9OX05BTUUgPSBcIkFXU19ST0xFX1NFU1NJT05fTkFNRVwiO1xuZXhwb3J0IGNvbnN0IGZyb21Ub2tlbkZpbGUgPSAoaW5pdCA9IHt9KSA9PiBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHJlc29sdmVUb2tlbkZpbGUoaW5pdCk7XG59O1xuY29uc3QgcmVzb2x2ZVRva2VuRmlsZSA9IChpbml0KSA9PiB7XG4gICAgY29uc3Qgd2ViSWRlbnRpdHlUb2tlbkZpbGUgPSBpbml0Py53ZWJJZGVudGl0eVRva2VuRmlsZSA/PyBwcm9jZXNzLmVudltFTlZfVE9LRU5fRklMRV07XG4gICAgY29uc3Qgcm9sZUFybiA9IGluaXQ/LnJvbGVBcm4gPz8gcHJvY2Vzcy5lbnZbRU5WX1JPTEVfQVJOXTtcbiAgICBjb25zdCByb2xlU2Vzc2lvbk5hbWUgPSBpbml0Py5yb2xlU2Vzc2lvbk5hbWUgPz8gcHJvY2Vzcy5lbnZbRU5WX1JPTEVfU0VTU0lPTl9OQU1FXTtcbiAgICBpZiAoIXdlYklkZW50aXR5VG9rZW5GaWxlIHx8ICFyb2xlQXJuKSB7XG4gICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoXCJXZWIgaWRlbnRpdHkgY29uZmlndXJhdGlvbiBub3Qgc3BlY2lmaWVkXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZnJvbVdlYlRva2VuKHtcbiAgICAgICAgLi4uaW5pdCxcbiAgICAgICAgd2ViSWRlbnRpdHlUb2tlbjogcmVhZEZpbGVTeW5jKHdlYklkZW50aXR5VG9rZW5GaWxlLCB7IGVuY29kaW5nOiBcImFzY2lpXCIgfSksXG4gICAgICAgIHJvbGVBcm4sXG4gICAgICAgIHJvbGVTZXNzaW9uTmFtZSxcbiAgICB9KSgpO1xufTtcbiIsImltcG9ydCB7IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciB9IGZyb20gXCJAYXdzLXNkay9wcm9wZXJ0eS1wcm92aWRlclwiO1xuZXhwb3J0IGNvbnN0IGZyb21XZWJUb2tlbiA9IChpbml0KSA9PiAoKSA9PiB7XG4gICAgY29uc3QgeyByb2xlQXJuLCByb2xlU2Vzc2lvbk5hbWUsIHdlYklkZW50aXR5VG9rZW4sIHByb3ZpZGVySWQsIHBvbGljeUFybnMsIHBvbGljeSwgZHVyYXRpb25TZWNvbmRzLCByb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eSwgfSA9IGluaXQ7XG4gICAgaWYgKCFyb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eSkge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBSb2xlIEFybiAnJHtyb2xlQXJufScgbmVlZHMgdG8gYmUgYXNzdW1lZCB3aXRoIHdlYiBpZGVudGl0eSxgICtcbiAgICAgICAgICAgIGAgYnV0IG5vIHJvbGUgYXNzdW1wdGlvbiBjYWxsYmFjayB3YXMgcHJvdmlkZWQuYCwgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gcm9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHkoe1xuICAgICAgICBSb2xlQXJuOiByb2xlQXJuLFxuICAgICAgICBSb2xlU2Vzc2lvbk5hbWU6IHJvbGVTZXNzaW9uTmFtZSA/PyBgYXdzLXNkay1qcy1zZXNzaW9uLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICBXZWJJZGVudGl0eVRva2VuOiB3ZWJJZGVudGl0eVRva2VuLFxuICAgICAgICBQcm92aWRlcklkOiBwcm92aWRlcklkLFxuICAgICAgICBQb2xpY3lBcm5zOiBwb2xpY3lBcm5zLFxuICAgICAgICBQb2xpY3k6IHBvbGljeSxcbiAgICAgICAgRHVyYXRpb25TZWNvbmRzOiBkdXJhdGlvblNlY29uZHMsXG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBpc0Fzc3VtZVJvbGVQcm9maWxlLCByZXNvbHZlQXNzdW1lUm9sZUNyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVzb2x2ZUFzc3VtZVJvbGVDcmVkZW50aWFsc1wiO1xuaW1wb3J0IHsgaXNQcm9jZXNzUHJvZmlsZSwgcmVzb2x2ZVByb2Nlc3NDcmVkZW50aWFscyB9IGZyb20gXCIuL3Jlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHNcIjtcbmltcG9ydCB7IGlzU3NvUHJvZmlsZSwgcmVzb2x2ZVNzb0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVzb2x2ZVNzb0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBpc1N0YXRpY0NyZWRzUHJvZmlsZSwgcmVzb2x2ZVN0YXRpY0NyZWRlbnRpYWxzIH0gZnJvbSBcIi4vcmVzb2x2ZVN0YXRpY0NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBpc1dlYklkZW50aXR5UHJvZmlsZSwgcmVzb2x2ZVdlYklkZW50aXR5Q3JlZGVudGlhbHMgfSBmcm9tIFwiLi9yZXNvbHZlV2ViSWRlbnRpdHlDcmVkZW50aWFsc1wiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVQcm9maWxlRGF0YSA9IGFzeW5jIChwcm9maWxlTmFtZSwgcHJvZmlsZXMsIG9wdGlvbnMsIHZpc2l0ZWRQcm9maWxlcyA9IHt9KSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IHByb2ZpbGVzW3Byb2ZpbGVOYW1lXTtcbiAgICBpZiAoT2JqZWN0LmtleXModmlzaXRlZFByb2ZpbGVzKS5sZW5ndGggPiAwICYmIGlzU3RhdGljQ3JlZHNQcm9maWxlKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlU3RhdGljQ3JlZGVudGlhbHMoZGF0YSk7XG4gICAgfVxuICAgIGlmIChpc0Fzc3VtZVJvbGVQcm9maWxlKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlQXNzdW1lUm9sZUNyZWRlbnRpYWxzKHByb2ZpbGVOYW1lLCBwcm9maWxlcywgb3B0aW9ucywgdmlzaXRlZFByb2ZpbGVzKTtcbiAgICB9XG4gICAgaWYgKGlzU3RhdGljQ3JlZHNQcm9maWxlKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlU3RhdGljQ3JlZGVudGlhbHMoZGF0YSk7XG4gICAgfVxuICAgIGlmIChpc1dlYklkZW50aXR5UHJvZmlsZShkYXRhKSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVdlYklkZW50aXR5Q3JlZGVudGlhbHMoZGF0YSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChpc1Byb2Nlc3NQcm9maWxlKGRhdGEpKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzKG9wdGlvbnMsIHByb2ZpbGVOYW1lKTtcbiAgICB9XG4gICAgaWYgKGlzU3NvUHJvZmlsZShkYXRhKSkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZVNzb0NyZWRlbnRpYWxzKGRhdGEpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IGNvdWxkIG5vdCBiZSBmb3VuZCBvciBwYXJzZWQgaW4gc2hhcmVkIGNyZWRlbnRpYWxzIGZpbGUuYCk7XG59O1xuIiwiaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBnZXRQcm9maWxlTmFtZSB9IGZyb20gXCJAYXdzLXNkay9zaGFyZWQtaW5pLWZpbGUtbG9hZGVyXCI7XG5pbXBvcnQgeyByZXNvbHZlQ3JlZGVudGlhbFNvdXJjZSB9IGZyb20gXCIuL3Jlc29sdmVDcmVkZW50aWFsU291cmNlXCI7XG5pbXBvcnQgeyByZXNvbHZlUHJvZmlsZURhdGEgfSBmcm9tIFwiLi9yZXNvbHZlUHJvZmlsZURhdGFcIjtcbmV4cG9ydCBjb25zdCBpc0Fzc3VtZVJvbGVQcm9maWxlID0gKGFyZykgPT4gQm9vbGVhbihhcmcpICYmXG4gICAgdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJlxuICAgIHR5cGVvZiBhcmcucm9sZV9hcm4gPT09IFwic3RyaW5nXCIgJiZcbiAgICBbXCJ1bmRlZmluZWRcIiwgXCJzdHJpbmdcIl0uaW5kZXhPZih0eXBlb2YgYXJnLnJvbGVfc2Vzc2lvbl9uYW1lKSA+IC0xICYmXG4gICAgW1widW5kZWZpbmVkXCIsIFwic3RyaW5nXCJdLmluZGV4T2YodHlwZW9mIGFyZy5leHRlcm5hbF9pZCkgPiAtMSAmJlxuICAgIFtcInVuZGVmaW5lZFwiLCBcInN0cmluZ1wiXS5pbmRleE9mKHR5cGVvZiBhcmcubWZhX3NlcmlhbCkgPiAtMSAmJlxuICAgIChpc0Fzc3VtZVJvbGVXaXRoU291cmNlUHJvZmlsZShhcmcpIHx8IGlzQXNzdW1lUm9sZVdpdGhQcm92aWRlclByb2ZpbGUoYXJnKSk7XG5jb25zdCBpc0Fzc3VtZVJvbGVXaXRoU291cmNlUHJvZmlsZSA9IChhcmcpID0+IHR5cGVvZiBhcmcuc291cmNlX3Byb2ZpbGUgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGFyZy5jcmVkZW50aWFsX3NvdXJjZSA9PT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IGlzQXNzdW1lUm9sZVdpdGhQcm92aWRlclByb2ZpbGUgPSAoYXJnKSA9PiB0eXBlb2YgYXJnLmNyZWRlbnRpYWxfc291cmNlID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBhcmcuc291cmNlX3Byb2ZpbGUgPT09IFwidW5kZWZpbmVkXCI7XG5leHBvcnQgY29uc3QgcmVzb2x2ZUFzc3VtZVJvbGVDcmVkZW50aWFscyA9IGFzeW5jIChwcm9maWxlTmFtZSwgcHJvZmlsZXMsIG9wdGlvbnMsIHZpc2l0ZWRQcm9maWxlcyA9IHt9KSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IHByb2ZpbGVzW3Byb2ZpbGVOYW1lXTtcbiAgICBpZiAoIW9wdGlvbnMucm9sZUFzc3VtZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgUHJvZmlsZSAke3Byb2ZpbGVOYW1lfSByZXF1aXJlcyBhIHJvbGUgdG8gYmUgYXNzdW1lZCwgYnV0IG5vIHJvbGUgYXNzdW1wdGlvbiBjYWxsYmFjayB3YXMgcHJvdmlkZWQuYCwgZmFsc2UpO1xuICAgIH1cbiAgICBjb25zdCB7IHNvdXJjZV9wcm9maWxlIH0gPSBkYXRhO1xuICAgIGlmIChzb3VyY2VfcHJvZmlsZSAmJiBzb3VyY2VfcHJvZmlsZSBpbiB2aXNpdGVkUHJvZmlsZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihgRGV0ZWN0ZWQgYSBjeWNsZSBhdHRlbXB0aW5nIHRvIHJlc29sdmUgY3JlZGVudGlhbHMgZm9yIHByb2ZpbGVgICtcbiAgICAgICAgICAgIGAgJHtnZXRQcm9maWxlTmFtZShvcHRpb25zKX0uIFByb2ZpbGVzIHZpc2l0ZWQ6IGAgK1xuICAgICAgICAgICAgT2JqZWN0LmtleXModmlzaXRlZFByb2ZpbGVzKS5qb2luKFwiLCBcIiksIGZhbHNlKTtcbiAgICB9XG4gICAgY29uc3Qgc291cmNlQ3JlZHNQcm92aWRlciA9IHNvdXJjZV9wcm9maWxlXG4gICAgICAgID8gcmVzb2x2ZVByb2ZpbGVEYXRhKHNvdXJjZV9wcm9maWxlLCBwcm9maWxlcywgb3B0aW9ucywge1xuICAgICAgICAgICAgLi4udmlzaXRlZFByb2ZpbGVzLFxuICAgICAgICAgICAgW3NvdXJjZV9wcm9maWxlXTogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgICAgOiByZXNvbHZlQ3JlZGVudGlhbFNvdXJjZShkYXRhLmNyZWRlbnRpYWxfc291cmNlLCBwcm9maWxlTmFtZSkoKTtcbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIFJvbGVBcm46IGRhdGEucm9sZV9hcm4sXG4gICAgICAgIFJvbGVTZXNzaW9uTmFtZTogZGF0YS5yb2xlX3Nlc3Npb25fbmFtZSB8fCBgYXdzLXNkay1qcy0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgRXh0ZXJuYWxJZDogZGF0YS5leHRlcm5hbF9pZCxcbiAgICB9O1xuICAgIGNvbnN0IHsgbWZhX3NlcmlhbCB9ID0gZGF0YTtcbiAgICBpZiAobWZhX3NlcmlhbCkge1xuICAgICAgICBpZiAoIW9wdGlvbnMubWZhQ29kZVByb3ZpZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBQcm9maWxlICR7cHJvZmlsZU5hbWV9IHJlcXVpcmVzIG11bHRpLWZhY3RvciBhdXRoZW50aWNhdGlvbiwgYnV0IG5vIE1GQSBjb2RlIGNhbGxiYWNrIHdhcyBwcm92aWRlZC5gLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zLlNlcmlhbE51bWJlciA9IG1mYV9zZXJpYWw7XG4gICAgICAgIHBhcmFtcy5Ub2tlbkNvZGUgPSBhd2FpdCBvcHRpb25zLm1mYUNvZGVQcm92aWRlcihtZmFfc2VyaWFsKTtcbiAgICB9XG4gICAgY29uc3Qgc291cmNlQ3JlZHMgPSBhd2FpdCBzb3VyY2VDcmVkc1Byb3ZpZGVyO1xuICAgIHJldHVybiBvcHRpb25zLnJvbGVBc3N1bWVyKHNvdXJjZUNyZWRzLCBwYXJhbXMpO1xufTtcbiIsImltcG9ydCB7IGZyb21FbnYgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1lbnZcIjtcbmltcG9ydCB7IGZyb21Db250YWluZXJNZXRhZGF0YSwgZnJvbUluc3RhbmNlTWV0YWRhdGEgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbWRzXCI7XG5pbXBvcnQgeyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IgfSBmcm9tIFwiQGF3cy1zZGsvcHJvcGVydHktcHJvdmlkZXJcIjtcbmV4cG9ydCBjb25zdCByZXNvbHZlQ3JlZGVudGlhbFNvdXJjZSA9IChjcmVkZW50aWFsU291cmNlLCBwcm9maWxlTmFtZSkgPT4ge1xuICAgIGNvbnN0IHNvdXJjZVByb3ZpZGVyc01hcCA9IHtcbiAgICAgICAgRWNzQ29udGFpbmVyOiBmcm9tQ29udGFpbmVyTWV0YWRhdGEsXG4gICAgICAgIEVjMkluc3RhbmNlTWV0YWRhdGE6IGZyb21JbnN0YW5jZU1ldGFkYXRhLFxuICAgICAgICBFbnZpcm9ubWVudDogZnJvbUVudixcbiAgICB9O1xuICAgIGlmIChjcmVkZW50aWFsU291cmNlIGluIHNvdXJjZVByb3ZpZGVyc01hcCkge1xuICAgICAgICByZXR1cm4gc291cmNlUHJvdmlkZXJzTWFwW2NyZWRlbnRpYWxTb3VyY2VdKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yKGBVbnN1cHBvcnRlZCBjcmVkZW50aWFsIHNvdXJjZSBpbiBwcm9maWxlICR7cHJvZmlsZU5hbWV9LiBHb3QgJHtjcmVkZW50aWFsU291cmNlfSwgYCArXG4gICAgICAgICAgICBgZXhwZWN0ZWQgRWNzQ29udGFpbmVyIG9yIEVjMkluc3RhbmNlTWV0YWRhdGEgb3IgRW52aXJvbm1lbnQuYCk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGZyb21Ub2tlbkZpbGUgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci13ZWItaWRlbnRpdHlcIjtcbmV4cG9ydCBjb25zdCBpc1dlYklkZW50aXR5UHJvZmlsZSA9IChhcmcpID0+IEJvb2xlYW4oYXJnKSAmJlxuICAgIHR5cGVvZiBhcmcgPT09IFwib2JqZWN0XCIgJiZcbiAgICB0eXBlb2YgYXJnLndlYl9pZGVudGl0eV90b2tlbl9maWxlID09PSBcInN0cmluZ1wiICYmXG4gICAgdHlwZW9mIGFyZy5yb2xlX2FybiA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIFtcInVuZGVmaW5lZFwiLCBcInN0cmluZ1wiXS5pbmRleE9mKHR5cGVvZiBhcmcucm9sZV9zZXNzaW9uX25hbWUpID4gLTE7XG5leHBvcnQgY29uc3QgcmVzb2x2ZVdlYklkZW50aXR5Q3JlZGVudGlhbHMgPSBhc3luYyAocHJvZmlsZSwgb3B0aW9ucykgPT4gZnJvbVRva2VuRmlsZSh7XG4gICAgd2ViSWRlbnRpdHlUb2tlbkZpbGU6IHByb2ZpbGUud2ViX2lkZW50aXR5X3Rva2VuX2ZpbGUsXG4gICAgcm9sZUFybjogcHJvZmlsZS5yb2xlX2FybixcbiAgICByb2xlU2Vzc2lvbk5hbWU6IHByb2ZpbGUucm9sZV9zZXNzaW9uX25hbWUsXG4gICAgcm9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHk6IG9wdGlvbnMucm9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHksXG59KSgpO1xuIiwiaW1wb3J0IHsgZnJvbVByb2Nlc3MgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1wcm9jZXNzXCI7XG5leHBvcnQgY29uc3QgaXNQcm9jZXNzUHJvZmlsZSA9IChhcmcpID0+IEJvb2xlYW4oYXJnKSAmJiB0eXBlb2YgYXJnID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBhcmcuY3JlZGVudGlhbF9wcm9jZXNzID09PSBcInN0cmluZ1wiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVQcm9jZXNzQ3JlZGVudGlhbHMgPSBhc3luYyAob3B0aW9ucywgcHJvZmlsZSkgPT4gZnJvbVByb2Nlc3Moe1xuICAgIC4uLm9wdGlvbnMsXG4gICAgcHJvZmlsZSxcbn0pKCk7XG4iLCJpbXBvcnQgeyBmcm9tU1NPLCB2YWxpZGF0ZVNzb1Byb2ZpbGUgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1zc29cIjtcbmV4cG9ydCB7IGlzU3NvUHJvZmlsZSB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXNzb1wiO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVTc29DcmVkZW50aWFscyA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgeyBzc29fc3RhcnRfdXJsLCBzc29fYWNjb3VudF9pZCwgc3NvX3Nlc3Npb24sIHNzb19yZWdpb24sIHNzb19yb2xlX25hbWUgfSA9IHZhbGlkYXRlU3NvUHJvZmlsZShkYXRhKTtcbiAgICByZXR1cm4gZnJvbVNTTyh7XG4gICAgICAgIHNzb1N0YXJ0VXJsOiBzc29fc3RhcnRfdXJsLFxuICAgICAgICBzc29BY2NvdW50SWQ6IHNzb19hY2NvdW50X2lkLFxuICAgICAgICBzc29TZXNzaW9uOiBzc29fc2Vzc2lvbixcbiAgICAgICAgc3NvUmVnaW9uOiBzc29fcmVnaW9uLFxuICAgICAgICBzc29Sb2xlTmFtZTogc3NvX3JvbGVfbmFtZSxcbiAgICB9KSgpO1xufTtcbiIsImltcG9ydCB7IGZyb21FbnYgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1lbnZcIjtcbmltcG9ydCB7IGZyb21JbmkgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1pbmlcIjtcbmltcG9ydCB7IGZyb21Qcm9jZXNzIH0gZnJvbSBcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItcHJvY2Vzc1wiO1xuaW1wb3J0IHsgZnJvbVNTTyB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXNzb1wiO1xuaW1wb3J0IHsgZnJvbVRva2VuRmlsZSB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLXdlYi1pZGVudGl0eVwiO1xuaW1wb3J0IHsgY2hhaW4sIENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciwgbWVtb2l6ZSB9IGZyb20gXCJAYXdzLXNkay9wcm9wZXJ0eS1wcm92aWRlclwiO1xuaW1wb3J0IHsgRU5WX1BST0ZJTEUgfSBmcm9tIFwiQGF3cy1zZGsvc2hhcmVkLWluaS1maWxlLWxvYWRlclwiO1xuaW1wb3J0IHsgcmVtb3RlUHJvdmlkZXIgfSBmcm9tIFwiLi9yZW1vdGVQcm92aWRlclwiO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRQcm92aWRlciA9IChpbml0ID0ge30pID0+IG1lbW9pemUoY2hhaW4oLi4uKGluaXQucHJvZmlsZSB8fCBwcm9jZXNzLmVudltFTlZfUFJPRklMRV0gPyBbXSA6IFtmcm9tRW52KCldKSwgZnJvbVNTTyhpbml0KSwgZnJvbUluaShpbml0KSwgZnJvbVByb2Nlc3MoaW5pdCksIGZyb21Ub2tlbkZpbGUoaW5pdCksIHJlbW90ZVByb3ZpZGVyKGluaXQpLCBhc3luYyAoKSA9PiB7XG4gICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzUHJvdmlkZXJFcnJvcihcIkNvdWxkIG5vdCBsb2FkIGNyZWRlbnRpYWxzIGZyb20gYW55IHByb3ZpZGVyc1wiLCBmYWxzZSk7XG59KSwgKGNyZWRlbnRpYWxzKSA9PiBjcmVkZW50aWFscy5leHBpcmF0aW9uICE9PSB1bmRlZmluZWQgJiYgY3JlZGVudGlhbHMuZXhwaXJhdGlvbi5nZXRUaW1lKCkgLSBEYXRlLm5vdygpIDwgMzAwMDAwLCAoY3JlZGVudGlhbHMpID0+IGNyZWRlbnRpYWxzLmV4cGlyYXRpb24gIT09IHVuZGVmaW5lZCk7XG4iLCJpbXBvcnQgeyBnZXRQcm9maWxlTmFtZSwgcGFyc2VLbm93bkZpbGVzIH0gZnJvbSBcIkBhd3Mtc2RrL3NoYXJlZC1pbmktZmlsZS1sb2FkZXJcIjtcbmltcG9ydCB7IHJlc29sdmVQcm9maWxlRGF0YSB9IGZyb20gXCIuL3Jlc29sdmVQcm9maWxlRGF0YVwiO1xuZXhwb3J0IGNvbnN0IGZyb21JbmkgPSAoaW5pdCA9IHt9KSA9PiBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcHJvZmlsZXMgPSBhd2FpdCBwYXJzZUtub3duRmlsZXMoaW5pdCk7XG4gICAgcmV0dXJuIHJlc29sdmVQcm9maWxlRGF0YShnZXRQcm9maWxlTmFtZShpbml0KSwgcHJvZmlsZXMsIGluaXQpO1xufTtcbiIsImltcG9ydCB7IEVOVl9DTURTX0ZVTExfVVJJLCBFTlZfQ01EU19SRUxBVElWRV9VUkksIGZyb21Db250YWluZXJNZXRhZGF0YSwgZnJvbUluc3RhbmNlTWV0YWRhdGEsIH0gZnJvbSBcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItaW1kc1wiO1xuaW1wb3J0IHsgQ3JlZGVudGlhbHNQcm92aWRlckVycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5leHBvcnQgY29uc3QgRU5WX0lNRFNfRElTQUJMRUQgPSBcIkFXU19FQzJfTUVUQURBVEFfRElTQUJMRURcIjtcbmV4cG9ydCBjb25zdCByZW1vdGVQcm92aWRlciA9IChpbml0KSA9PiB7XG4gICAgaWYgKHByb2Nlc3MuZW52W0VOVl9DTURTX1JFTEFUSVZFX1VSSV0gfHwgcHJvY2Vzcy5lbnZbRU5WX0NNRFNfRlVMTF9VUkldKSB7XG4gICAgICAgIHJldHVybiBmcm9tQ29udGFpbmVyTWV0YWRhdGEoaW5pdCk7XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudltFTlZfSU1EU19ESVNBQkxFRF0pIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1Byb3ZpZGVyRXJyb3IoXCJFQzIgSW5zdGFuY2UgTWV0YWRhdGEgU2VydmljZSBhY2Nlc3MgZGlzYWJsZWRcIik7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBmcm9tSW5zdGFuY2VNZXRhZGF0YShpbml0KTtcbn07XG4iLCJjb25zdCBGID0gXCJyZXF1aXJlZFwiLCBHID0gXCJ0eXBlXCIsIEggPSBcImZuXCIsIEkgPSBcImFyZ3ZcIiwgSiA9IFwicmVmXCI7XG5jb25zdCBhID0gZmFsc2UsIGIgPSB0cnVlLCBjID0gXCJib29sZWFuRXF1YWxzXCIsIGQgPSBcInRyZWVcIiwgZSA9IFwic3RyaW5nRXF1YWxzXCIsIGYgPSBcInNpZ3Y0XCIsIGcgPSBcInN0c1wiLCBoID0gXCJ1cy1lYXN0LTFcIiwgaSA9IFwiZW5kcG9pbnRcIiwgaiA9IFwiaHR0cHM6Ly9zdHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIGsgPSBcImVycm9yXCIsIGwgPSBcImdldEF0dHJcIiwgbSA9IHsgW0ZdOiBmYWxzZSwgW0ddOiBcIlN0cmluZ1wiIH0sIG4gPSB7IFtGXTogdHJ1ZSwgXCJkZWZhdWx0XCI6IGZhbHNlLCBbR106IFwiQm9vbGVhblwiIH0sIG8gPSB7IFtKXTogXCJFbmRwb2ludFwiIH0sIHAgPSB7IFtIXTogXCJpc1NldFwiLCBbSV06IFt7IFtKXTogXCJSZWdpb25cIiB9XSB9LCBxID0geyBbSl06IFwiUmVnaW9uXCIgfSwgciA9IHsgW0hdOiBcImF3cy5wYXJ0aXRpb25cIiwgW0ldOiBbcV0sIFwiYXNzaWduXCI6IFwiUGFydGl0aW9uUmVzdWx0XCIgfSwgcyA9IHsgW0pdOiBcIlVzZUZJUFNcIiB9LCB0ID0geyBbSl06IFwiVXNlRHVhbFN0YWNrXCIgfSwgdSA9IHsgXCJ1cmxcIjogXCJodHRwczovL3N0cy5hbWF6b25hd3MuY29tXCIsIFwicHJvcGVydGllc1wiOiB7IFwiYXV0aFNjaGVtZXNcIjogW3sgXCJuYW1lXCI6IGYsIFwic2lnbmluZ05hbWVcIjogZywgXCJzaWduaW5nUmVnaW9uXCI6IGggfV0gfSwgXCJoZWFkZXJzXCI6IHt9IH0sIHYgPSB7fSwgdyA9IHsgXCJjb25kaXRpb25zXCI6IFt7IFtIXTogZSwgW0ldOiBbcSwgXCJhd3MtZ2xvYmFsXCJdIH1dLCBbaV06IHUsIFtHXTogaSB9LCB4ID0geyBbSF06IGMsIFtJXTogW3MsIHRydWVdIH0sIHkgPSB7IFtIXTogYywgW0ldOiBbdCwgdHJ1ZV0gfSwgeiA9IHsgW0hdOiBjLCBbSV06IFt0cnVlLCB7IFtIXTogbCwgW0ldOiBbeyBbSl06IFwiUGFydGl0aW9uUmVzdWx0XCIgfSwgXCJzdXBwb3J0c0ZJUFNcIl0gfV0gfSwgQSA9IHsgW0pdOiBcIlBhcnRpdGlvblJlc3VsdFwiIH0sIEIgPSB7IFtIXTogYywgW0ldOiBbdHJ1ZSwgeyBbSF06IGwsIFtJXTogW0EsIFwic3VwcG9ydHNEdWFsU3RhY2tcIl0gfV0gfSwgQyA9IFt7IFtIXTogXCJpc1NldFwiLCBbSV06IFtvXSB9XSwgRCA9IFt4XSwgRSA9IFt5XTtcbmNvbnN0IF9kYXRhID0geyB2ZXJzaW9uOiBcIjEuMFwiLCBwYXJhbWV0ZXJzOiB7IFJlZ2lvbjogbSwgVXNlRHVhbFN0YWNrOiBuLCBVc2VGSVBTOiBuLCBFbmRwb2ludDogbSwgVXNlR2xvYmFsRW5kcG9pbnQ6IG4gfSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtIXTogYywgW0ldOiBbeyBbSl06IFwiVXNlR2xvYmFsRW5kcG9pbnRcIiB9LCBiXSB9LCB7IFtIXTogXCJub3RcIiwgW0ldOiBDIH0sIHAsIHIsIHsgW0hdOiBjLCBbSV06IFtzLCBhXSB9LCB7IFtIXTogYywgW0ldOiBbdCwgYV0gfV0sIFtHXTogZCwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtIXTogZSwgW0ldOiBbcSwgXCJhcC1ub3J0aGVhc3QtMVwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaSB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZSwgW0ldOiBbcSwgXCJhcC1zb3V0aC0xXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBpIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBlLCBbSV06IFtxLCBcImFwLXNvdXRoZWFzdC0xXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBpIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBlLCBbSV06IFtxLCBcImFwLXNvdXRoZWFzdC0yXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBpIH0sIHcsIHsgY29uZGl0aW9uczogW3sgW0hdOiBlLCBbSV06IFtxLCBcImNhLWNlbnRyYWwtMVwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaSB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZSwgW0ldOiBbcSwgXCJldS1jZW50cmFsLTFcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGkgfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGUsIFtJXTogW3EsIFwiZXUtbm9ydGgtMVwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaSB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZSwgW0ldOiBbcSwgXCJldS13ZXN0LTFcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGkgfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGUsIFtJXTogW3EsIFwiZXUtd2VzdC0yXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBpIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBlLCBbSV06IFtxLCBcImV1LXdlc3QtM1wiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaSB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZSwgW0ldOiBbcSwgXCJzYS1lYXN0LTFcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGkgfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGUsIFtJXTogW3EsIGhdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBpIH0sIHsgY29uZGl0aW9uczogW3sgW0hdOiBlLCBbSV06IFtxLCBcInVzLWVhc3QtMlwiXSB9XSwgZW5kcG9pbnQ6IHUsIFtHXTogaSB9LCB7IGNvbmRpdGlvbnM6IFt7IFtIXTogZSwgW0ldOiBbcSwgXCJ1cy13ZXN0LTFcIl0gfV0sIGVuZHBvaW50OiB1LCBbR106IGkgfSwgeyBjb25kaXRpb25zOiBbeyBbSF06IGUsIFtJXTogW3EsIFwidXMtd2VzdC0yXCJdIH1dLCBlbmRwb2ludDogdSwgW0ddOiBpIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBqLCBwcm9wZXJ0aWVzOiB7IGF1dGhTY2hlbWVzOiBbeyBuYW1lOiBmLCBzaWduaW5nTmFtZTogZywgc2lnbmluZ1JlZ2lvbjogXCJ7UmVnaW9ufVwiIH1dIH0sIGhlYWRlcnM6IHYgfSwgW0ddOiBpIH1dIH0sIHsgY29uZGl0aW9uczogQywgW0ddOiBkLCBydWxlczogW3sgY29uZGl0aW9uczogRCwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBGSVBTIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgW0ddOiBrIH0sIHsgW0ddOiBkLCBydWxlczogW3sgY29uZGl0aW9uczogRSwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBEdWFsc3RhY2sgYW5kIGN1c3RvbSBlbmRwb2ludCBhcmUgbm90IHN1cHBvcnRlZFwiLCBbR106IGsgfSwgeyBlbmRwb2ludDogeyB1cmw6IG8sIHByb3BlcnRpZXM6IHYsIGhlYWRlcnM6IHYgfSwgW0ddOiBpIH1dIH1dIH0sIHsgW0ddOiBkLCBydWxlczogW3sgY29uZGl0aW9uczogW3BdLCBbR106IGQsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbcl0sIFtHXTogZCwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt4LCB5XSwgW0ddOiBkLCBydWxlczogW3sgY29uZGl0aW9uczogW3osIEJdLCBbR106IGQsIHJ1bGVzOiBbeyBbR106IGQsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9zdHMtZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogdiwgaGVhZGVyczogdiB9LCBbR106IGkgfV0gfV0gfSwgeyBlcnJvcjogXCJGSVBTIGFuZCBEdWFsU3RhY2sgYXJlIGVuYWJsZWQsIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IG9uZSBvciBib3RoXCIsIFtHXTogayB9XSB9LCB7IGNvbmRpdGlvbnM6IEQsIFtHXTogZCwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt6XSwgW0ddOiBkLCBydWxlczogW3sgW0ddOiBkLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW0hdOiBlLCBbSV06IFtcImF3cy11cy1nb3ZcIiwgeyBbSF06IGwsIFtJXTogW0EsIFwibmFtZVwiXSB9XSB9XSwgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vc3RzLntSZWdpb259LmFtYXpvbmF3cy5jb21cIiwgcHJvcGVydGllczogdiwgaGVhZGVyczogdiB9LCBbR106IGkgfSwgeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9zdHMtZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogdiwgaGVhZGVyczogdiB9LCBbR106IGkgfV0gfV0gfSwgeyBlcnJvcjogXCJGSVBTIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRklQU1wiLCBbR106IGsgfV0gfSwgeyBjb25kaXRpb25zOiBFLCBbR106IGQsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbQl0sIFtHXTogZCwgcnVsZXM6IFt7IFtHXTogZCwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL3N0cy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogdiwgaGVhZGVyczogdiB9LCBbR106IGkgfV0gfV0gfSwgeyBlcnJvcjogXCJEdWFsU3RhY2sgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBEdWFsU3RhY2tcIiwgW0ddOiBrIH1dIH0sIHsgW0ddOiBkLCBydWxlczogW3csIHsgZW5kcG9pbnQ6IHsgdXJsOiBqLCBwcm9wZXJ0aWVzOiB2LCBoZWFkZXJzOiB2IH0sIFtHXTogaSB9XSB9XSB9XSB9LCB7IGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogTWlzc2luZyBSZWdpb25cIiwgW0ddOiBrIH1dIH1dIH07XG5leHBvcnQgY29uc3QgcnVsZVNldCA9IF9kYXRhO1xuIiwiaW1wb3J0IHsgcmVzb2x2ZUVuZHBvaW50IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzXCI7XG5pbXBvcnQgeyBydWxlU2V0IH0gZnJvbSBcIi4vcnVsZXNldFwiO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyID0gKGVuZHBvaW50UGFyYW1zLCBjb250ZXh0ID0ge30pID0+IHtcbiAgICByZXR1cm4gcmVzb2x2ZUVuZHBvaW50KHJ1bGVTZXQsIHtcbiAgICAgICAgZW5kcG9pbnRQYXJhbXM6IGVuZHBvaW50UGFyYW1zLFxuICAgICAgICBsb2dnZXI6IGNvbnRleHQubG9nZ2VyLFxuICAgIH0pO1xufTtcbiIsImltcG9ydCB7IHJlc29sdmVSZWdpb25Db25maWcgfSBmcm9tIFwiQGF3cy1zZGsvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBnZXRDb250ZW50TGVuZ3RoUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtY29udGVudC1sZW5ndGhcIjtcbmltcG9ydCB7IHJlc29sdmVFbmRwb2ludENvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRIb3N0SGVhZGVyUGx1Z2luLCByZXNvbHZlSG9zdEhlYWRlckNvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1ob3N0LWhlYWRlclwiO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtbG9nZ2VyXCI7XG5pbXBvcnQgeyBnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1yZWN1cnNpb24tZGV0ZWN0aW9uXCI7XG5pbXBvcnQgeyBnZXRSZXRyeVBsdWdpbiwgcmVzb2x2ZVJldHJ5Q29uZmlnIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IHJlc29sdmVTdHNBdXRoQ29uZmlnIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2RrLXN0c1wiO1xuaW1wb3J0IHsgZ2V0VXNlckFnZW50UGx1Z2luLCByZXNvbHZlVXNlckFnZW50Q29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXVzZXItYWdlbnRcIjtcbmltcG9ydCB7IENsaWVudCBhcyBfX0NsaWVudCwgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycywgfSBmcm9tIFwiLi9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnNcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgX19nZXRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZ1wiO1xuZXhwb3J0IHsgX19DbGllbnQgfTtcbmV4cG9ydCBjbGFzcyBTVFNDbGllbnQgZXh0ZW5kcyBfX0NsaWVudCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbikge1xuICAgICAgICBjb25zdCBfY29uZmlnXzAgPSBfX2dldFJ1bnRpbWVDb25maWcoY29uZmlndXJhdGlvbik7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMSA9IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMoX2NvbmZpZ18wKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18yID0gcmVzb2x2ZVJlZ2lvbkNvbmZpZyhfY29uZmlnXzEpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzMgPSByZXNvbHZlRW5kcG9pbnRDb25maWcoX2NvbmZpZ18yKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ180ID0gcmVzb2x2ZVJldHJ5Q29uZmlnKF9jb25maWdfMyk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNSA9IHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnKF9jb25maWdfNCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNiA9IHJlc29sdmVTdHNBdXRoQ29uZmlnKF9jb25maWdfNSwgeyBzdHNDbGllbnRDdG9yOiBTVFNDbGllbnQgfSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNyA9IHJlc29sdmVVc2VyQWdlbnRDb25maWcoX2NvbmZpZ182KTtcbiAgICAgICAgc3VwZXIoX2NvbmZpZ183KTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBfY29uZmlnXzc7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZXRyeVBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0Q29udGVudExlbmd0aFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0SG9zdEhlYWRlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0TG9nZ2VyUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFVzZXJBZ2VudFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMgPSAob3B0aW9ucykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBvcHRpb25zLnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IG9wdGlvbnMudXNlRmlwc0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICB1c2VHbG9iYWxFbmRwb2ludDogb3B0aW9ucy51c2VHbG9iYWxFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFNpZ25pbmdOYW1lOiBcInN0c1wiLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHBhY2thZ2VJbmZvIGZyb20gXCIuLi9wYWNrYWdlLmpzb25cIjtcbmltcG9ydCB7IGRlY29yYXRlRGVmYXVsdENyZWRlbnRpYWxQcm92aWRlciB9IGZyb20gXCIuL2RlZmF1bHRTdHNSb2xlQXNzdW1lcnNcIjtcbmltcG9ydCB7IE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIH0gZnJvbSBcIkBhd3Mtc2RrL2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgZGVmYXVsdFByb3ZpZGVyIGFzIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlXCI7XG5pbXBvcnQgeyBIYXNoIH0gZnJvbSBcIkBhd3Mtc2RrL2hhc2gtbm9kZVwiO1xuaW1wb3J0IHsgTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUywgTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IGxvYWRDb25maWcgYXMgbG9hZE5vZGVDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvbm9kZS1jb25maWctcHJvdmlkZXJcIjtcbmltcG9ydCB7IE5vZGVIdHRwSGFuZGxlciBhcyBSZXF1ZXN0SGFuZGxlciwgc3RyZWFtQ29sbGVjdG9yIH0gZnJvbSBcIkBhd3Mtc2RrL25vZGUtaHR0cC1oYW5kbGVyXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb2R5TGVuZ3RoIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtYm9keS1sZW5ndGgtbm9kZVwiO1xuaW1wb3J0IHsgREVGQVVMVF9SRVRSWV9NT0RFIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtcmV0cnlcIjtcbmltcG9ydCB7IGRlZmF1bHRVc2VyQWdlbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11c2VyLWFnZW50LW5vZGVcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgZ2V0U2hhcmVkUnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWcuc2hhcmVkXCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1kZWZhdWx0cy1tb2RlLW5vZGVcIjtcbmltcG9ydCB7IGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24gfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiB7XG4gICAgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbihwcm9jZXNzLnZlcnNpb24pO1xuICAgIGNvbnN0IGRlZmF1bHRzTW9kZSA9IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcoY29uZmlnKTtcbiAgICBjb25zdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIgPSAoKSA9PiBkZWZhdWx0c01vZGUoKS50aGVuKGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUpO1xuICAgIGNvbnN0IGNsaWVudFNoYXJlZFZhbHVlcyA9IGdldFNoYXJlZFJ1bnRpbWVDb25maWcoY29uZmlnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5jbGllbnRTaGFyZWRWYWx1ZXMsXG4gICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgcnVudGltZTogXCJub2RlXCIsXG4gICAgICAgIGRlZmF1bHRzTW9kZSxcbiAgICAgICAgYm9keUxlbmd0aENoZWNrZXI6IGNvbmZpZz8uYm9keUxlbmd0aENoZWNrZXIgPz8gY2FsY3VsYXRlQm9keUxlbmd0aCxcbiAgICAgICAgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcjogY29uZmlnPy5jcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyID8/IGRlY29yYXRlRGVmYXVsdENyZWRlbnRpYWxQcm92aWRlcihjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyKSxcbiAgICAgICAgZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyOiBjb25maWc/LmRlZmF1bHRVc2VyQWdlbnRQcm92aWRlciA/P1xuICAgICAgICAgICAgZGVmYXVsdFVzZXJBZ2VudCh7IHNlcnZpY2VJZDogY2xpZW50U2hhcmVkVmFsdWVzLnNlcnZpY2VJZCwgY2xpZW50VmVyc2lvbjogcGFja2FnZUluZm8udmVyc2lvbiB9KSxcbiAgICAgICAgbWF4QXR0ZW1wdHM6IGNvbmZpZz8ubWF4QXR0ZW1wdHMgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHJlZ2lvbjogY29uZmlnPy5yZWdpb24gPz8gbG9hZE5vZGVDb25maWcoTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMpLFxuICAgICAgICByZXF1ZXN0SGFuZGxlcjogY29uZmlnPy5yZXF1ZXN0SGFuZGxlciA/PyBuZXcgUmVxdWVzdEhhbmRsZXIoZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKSxcbiAgICAgICAgcmV0cnlNb2RlOiBjb25maWc/LnJldHJ5TW9kZSA/P1xuICAgICAgICAgICAgbG9hZE5vZGVDb25maWcoe1xuICAgICAgICAgICAgICAgIC4uLk5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBhc3luYyAoKSA9PiAoYXdhaXQgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKCkpLnJldHJ5TW9kZSB8fCBERUZBVUxUX1JFVFJZX01PREUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgc2hhMjU2OiBjb25maWc/LnNoYTI1NiA/PyBIYXNoLmJpbmQobnVsbCwgXCJzaGEyNTZcIiksXG4gICAgICAgIHN0cmVhbUNvbGxlY3RvcjogY29uZmlnPy5zdHJlYW1Db2xsZWN0b3IgPz8gc3RyZWFtQ29sbGVjdG9yLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogY29uZmlnPy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IGNvbmZpZz8udXNlRmlwc0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgTm9PcExvZ2dlciB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBwYXJzZVVybCB9IGZyb20gXCJAYXdzLXNkay91cmwtcGFyc2VyXCI7XG5pbXBvcnQgeyBmcm9tQmFzZTY0LCB0b0Jhc2U2NCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWJhc2U2NFwiO1xuaW1wb3J0IHsgZnJvbVV0ZjgsIHRvVXRmOCB9IGZyb20gXCJAYXdzLXNkay91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyIH0gZnJvbSBcIi4vZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlclwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiAoe1xuICAgIGFwaVZlcnNpb246IFwiMjAxMS0wNi0xNVwiLFxuICAgIGJhc2U2NERlY29kZXI6IGNvbmZpZz8uYmFzZTY0RGVjb2RlciA/PyBmcm9tQmFzZTY0LFxuICAgIGJhc2U2NEVuY29kZXI6IGNvbmZpZz8uYmFzZTY0RW5jb2RlciA/PyB0b0Jhc2U2NCxcbiAgICBkaXNhYmxlSG9zdFByZWZpeDogY29uZmlnPy5kaXNhYmxlSG9zdFByZWZpeCA/PyBmYWxzZSxcbiAgICBlbmRwb2ludFByb3ZpZGVyOiBjb25maWc/LmVuZHBvaW50UHJvdmlkZXIgPz8gZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIsXG4gICAgbG9nZ2VyOiBjb25maWc/LmxvZ2dlciA/PyBuZXcgTm9PcExvZ2dlcigpLFxuICAgIHNlcnZpY2VJZDogY29uZmlnPy5zZXJ2aWNlSWQgPz8gXCJTVFNcIixcbiAgICB1cmxQYXJzZXI6IGNvbmZpZz8udXJsUGFyc2VyID8/IHBhcnNlVXJsLFxuICAgIHV0ZjhEZWNvZGVyOiBjb25maWc/LnV0ZjhEZWNvZGVyID8/IGZyb21VdGY4LFxuICAgIHV0ZjhFbmNvZGVyOiBjb25maWc/LnV0ZjhFbmNvZGVyID8/IHRvVXRmOCxcbn0pO1xuIiwiaW1wb3J0IHsgcmVzb2x2ZUF3c0F1dGhDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zaWduaW5nXCI7XG5leHBvcnQgY29uc3QgcmVzb2x2ZVN0c0F1dGhDb25maWcgPSAoaW5wdXQsIHsgc3RzQ2xpZW50Q3RvciB9KSA9PiByZXNvbHZlQXdzQXV0aENvbmZpZyh7XG4gICAgLi4uaW5wdXQsXG4gICAgc3RzQ2xpZW50Q3Rvcixcbn0pO1xuIiwiaW1wb3J0IHsgZ2V0RGVmYXVsdFJvbGVBc3N1bWVyIGFzIFN0c0dldERlZmF1bHRSb2xlQXNzdW1lciwgZ2V0RGVmYXVsdFJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5IGFzIFN0c0dldERlZmF1bHRSb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eSwgfSBmcm9tIFwiLi9kZWZhdWx0U3RzUm9sZUFzc3VtZXJzXCI7XG5pbXBvcnQgeyBTVFNDbGllbnQgfSBmcm9tIFwiLi9TVFNDbGllbnRcIjtcbmNvbnN0IGdldEN1c3RvbWl6YWJsZVN0c0NsaWVudEN0b3IgPSAoYmFzZUN0b3IsIGN1c3RvbWl6YXRpb25zKSA9PiB7XG4gICAgaWYgKCFjdXN0b21pemF0aW9ucylcbiAgICAgICAgcmV0dXJuIGJhc2VDdG9yO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGNsYXNzIEN1c3RvbWl6YWJsZVNUU0NsaWVudCBleHRlbmRzIGJhc2VDdG9yIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICAgICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjdXN0b21pemF0aW9uIG9mIGN1c3RvbWl6YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShjdXN0b21pemF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRSb2xlQXNzdW1lciA9IChzdHNPcHRpb25zID0ge30sIHN0c1BsdWdpbnMpID0+IFN0c0dldERlZmF1bHRSb2xlQXNzdW1lcihzdHNPcHRpb25zLCBnZXRDdXN0b21pemFibGVTdHNDbGllbnRDdG9yKFNUU0NsaWVudCwgc3RzUGx1Z2lucykpO1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRSb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eSA9IChzdHNPcHRpb25zID0ge30sIHN0c1BsdWdpbnMpID0+IFN0c0dldERlZmF1bHRSb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eShzdHNPcHRpb25zLCBnZXRDdXN0b21pemFibGVTdHNDbGllbnRDdG9yKFNUU0NsaWVudCwgc3RzUGx1Z2lucykpO1xuZXhwb3J0IGNvbnN0IGRlY29yYXRlRGVmYXVsdENyZWRlbnRpYWxQcm92aWRlciA9IChwcm92aWRlcikgPT4gKGlucHV0KSA9PiBwcm92aWRlcih7XG4gICAgcm9sZUFzc3VtZXI6IGdldERlZmF1bHRSb2xlQXNzdW1lcihpbnB1dCksXG4gICAgcm9sZUFzc3VtZXJXaXRoV2ViSWRlbnRpdHk6IGdldERlZmF1bHRSb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eShpbnB1dCksXG4gICAgLi4uaW5wdXQsXG59KTtcbiIsImNvbnN0IHMgPSBcInJlcXVpcmVkXCIsIHQgPSBcImZuXCIsIHUgPSBcImFyZ3ZcIiwgdiA9IFwicmVmXCI7XG5jb25zdCBhID0gXCJpc1NldFwiLCBiID0gXCJ0cmVlXCIsIGMgPSBcImVycm9yXCIsIGQgPSBcImVuZHBvaW50XCIsIGUgPSBcIlBhcnRpdGlvblJlc3VsdFwiLCBmID0gXCJzdHJpbmdFcXVhbHNcIiwgZyA9IHsgW3NdOiBmYWxzZSwgXCJ0eXBlXCI6IFwiU3RyaW5nXCIgfSwgaCA9IHsgW3NdOiB0cnVlLCBcImRlZmF1bHRcIjogZmFsc2UsIFwidHlwZVwiOiBcIkJvb2xlYW5cIiB9LCBpID0geyBbdl06IFwiRW5kcG9pbnRcIiB9LCBqID0geyBbdF06IFwiYm9vbGVhbkVxdWFsc1wiLCBbdV06IFt7IFt2XTogXCJVc2VGSVBTXCIgfSwgdHJ1ZV0gfSwgayA9IHsgW3RdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3VdOiBbeyBbdl06IFwiVXNlRHVhbFN0YWNrXCIgfSwgdHJ1ZV0gfSwgbCA9IHt9LCBtID0geyBbdl06IFwiUmVnaW9uXCIgfSwgbiA9IHsgW3RdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3VdOiBbdHJ1ZSwgeyBbdF06IFwiZ2V0QXR0clwiLCBbdV06IFt7IFt2XTogZSB9LCBcInN1cHBvcnRzRklQU1wiXSB9XSB9LCBvID0geyBbdF06IFwiYm9vbGVhbkVxdWFsc1wiLCBbdV06IFt0cnVlLCB7IFt0XTogXCJnZXRBdHRyXCIsIFt1XTogW3sgW3ZdOiBlIH0sIFwic3VwcG9ydHNEdWFsU3RhY2tcIl0gfV0gfSwgcCA9IFtqXSwgcSA9IFtrXSwgciA9IFttXTtcbmNvbnN0IF9kYXRhID0geyB2ZXJzaW9uOiBcIjEuMFwiLCBwYXJhbWV0ZXJzOiB7IFJlZ2lvbjogZywgVXNlRHVhbFN0YWNrOiBoLCBVc2VGSVBTOiBoLCBFbmRwb2ludDogZyB9LCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3RdOiBhLCBbdV06IFtpXSB9XSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IHAsIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRklQUyBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGMgfSwgeyB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogcSwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBEdWFsc3RhY2sgYW5kIGN1c3RvbSBlbmRwb2ludCBhcmUgbm90IHN1cHBvcnRlZFwiLCB0eXBlOiBjIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBpLCBwcm9wZXJ0aWVzOiBsLCBoZWFkZXJzOiBsIH0sIHR5cGU6IGQgfV0gfV0gfSwgeyB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3RdOiBhLCBbdV06IHIgfV0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdF06IFwiYXdzLnBhcnRpdGlvblwiLCBbdV06IHIsIGFzc2lnbjogZSB9XSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtqLCBrXSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtuLCBvXSwgdHlwZTogYiwgcnVsZXM6IFt7IHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9jbG91ZHRyYWlsLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9XSB9XSB9LCB7IGVycm9yOiBcIkZJUFMgYW5kIER1YWxTdGFjayBhcmUgZW5hYmxlZCwgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgb25lIG9yIGJvdGhcIiwgdHlwZTogYyB9XSB9LCB7IGNvbmRpdGlvbnM6IHAsIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbbl0sIHR5cGU6IGIsIHJ1bGVzOiBbeyB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3RdOiBmLCBbdV06IFttLCBcInVzLWdvdi1lYXN0LTFcIl0gfV0sIGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL2Nsb3VkdHJhaWwudXMtZ292LWVhc3QtMS5hbWF6b25hd3MuY29tXCIsIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9LCB7IGNvbmRpdGlvbnM6IFt7IFt0XTogZiwgW3VdOiBbbSwgXCJ1cy1nb3Ytd2VzdC0xXCJdIH1dLCBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9jbG91ZHRyYWlsLnVzLWdvdi13ZXN0LTEuYW1hem9uYXdzLmNvbVwiLCBwcm9wZXJ0aWVzOiBsLCBoZWFkZXJzOiBsIH0sIHR5cGU6IGQgfSwgeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9jbG91ZHRyYWlsLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9XSB9XSB9LCB7IGVycm9yOiBcIkZJUFMgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBGSVBTXCIsIHR5cGU6IGMgfV0gfSwgeyBjb25kaXRpb25zOiBxLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW29dLCB0eXBlOiBiLCBydWxlczogW3sgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL2Nsb3VkdHJhaWwue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9XSB9XSB9LCB7IGVycm9yOiBcIkR1YWxTdGFjayBpcyBlbmFibGVkIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IER1YWxTdGFja1wiLCB0eXBlOiBjIH1dIH0sIHsgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL2Nsb3VkdHJhaWwue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9XSB9XSB9XSB9LCB7IGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogTWlzc2luZyBSZWdpb25cIiwgdHlwZTogYyB9XSB9XSB9O1xuZXhwb3J0IGNvbnN0IHJ1bGVTZXQgPSBfZGF0YTtcbiIsImltcG9ydCB7IHJlc29sdmVFbmRwb2ludCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWVuZHBvaW50c1wiO1xuaW1wb3J0IHsgcnVsZVNldCB9IGZyb20gXCIuL3J1bGVzZXRcIjtcbmV4cG9ydCBjb25zdCBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciA9IChlbmRwb2ludFBhcmFtcywgY29udGV4dCA9IHt9KSA9PiB7XG4gICAgcmV0dXJuIHJlc29sdmVFbmRwb2ludChydWxlU2V0LCB7XG4gICAgICAgIGVuZHBvaW50UGFyYW1zOiBlbmRwb2ludFBhcmFtcyxcbiAgICAgICAgbG9nZ2VyOiBjb250ZXh0LmxvZ2dlcixcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgeyByZXNvbHZlUmVnaW9uQ29uZmlnIH0gZnJvbSBcIkBhd3Mtc2RrL2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgZ2V0Q29udGVudExlbmd0aFBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWNvbnRlbnQtbGVuZ3RoXCI7XG5pbXBvcnQgeyByZXNvbHZlRW5kcG9pbnRDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0SG9zdEhlYWRlclBsdWdpbiwgcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtaG9zdC1oZWFkZXJcIjtcbmltcG9ydCB7IGdldExvZ2dlclBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWxvZ2dlclwiO1xuaW1wb3J0IHsgZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmVjdXJzaW9uLWRldGVjdGlvblwiO1xuaW1wb3J0IHsgZ2V0UmV0cnlQbHVnaW4sIHJlc29sdmVSZXRyeUNvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBnZXRBd3NBdXRoUGx1Z2luLCByZXNvbHZlQXdzQXV0aENvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zaWduaW5nXCI7XG5pbXBvcnQgeyBnZXRVc2VyQWdlbnRQbHVnaW4sIHJlc29sdmVVc2VyQWdlbnRDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtdXNlci1hZ2VudFwiO1xuaW1wb3J0IHsgQ2xpZW50IGFzIF9fQ2xpZW50LCB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzLCB9IGZyb20gXCIuL2VuZHBvaW50L0VuZHBvaW50UGFyYW1ldGVyc1wiO1xuaW1wb3J0IHsgZ2V0UnVudGltZUNvbmZpZyBhcyBfX2dldFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnXCI7XG5leHBvcnQgeyBfX0NsaWVudCB9O1xuZXhwb3J0IGNsYXNzIENsb3VkVHJhaWxDbGllbnQgZXh0ZW5kcyBfX0NsaWVudCB7XG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbikge1xuICAgICAgICBjb25zdCBfY29uZmlnXzAgPSBfX2dldFJ1bnRpbWVDb25maWcoY29uZmlndXJhdGlvbik7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMSA9IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMoX2NvbmZpZ18wKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18yID0gcmVzb2x2ZVJlZ2lvbkNvbmZpZyhfY29uZmlnXzEpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzMgPSByZXNvbHZlRW5kcG9pbnRDb25maWcoX2NvbmZpZ18yKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ180ID0gcmVzb2x2ZVJldHJ5Q29uZmlnKF9jb25maWdfMyk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNSA9IHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnKF9jb25maWdfNCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNiA9IHJlc29sdmVBd3NBdXRoQ29uZmlnKF9jb25maWdfNSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNyA9IHJlc29sdmVVc2VyQWdlbnRDb25maWcoX2NvbmZpZ182KTtcbiAgICAgICAgc3VwZXIoX2NvbmZpZ183KTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBfY29uZmlnXzc7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZXRyeVBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0Q29udGVudExlbmd0aFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0SG9zdEhlYWRlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0TG9nZ2VyUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEF3c0F1dGhQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFVzZXJBZ2VudFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMgPSAob3B0aW9ucykgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBvcHRpb25zLnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IG9wdGlvbnMudXNlRmlwc0VuZHBvaW50ID8/IGZhbHNlLFxuICAgICAgICBkZWZhdWx0U2lnbmluZ05hbWU6IFwiY2xvdWR0cmFpbFwiLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHBhY2thZ2VJbmZvIGZyb20gXCIuLi9wYWNrYWdlLmpzb25cIjtcbmltcG9ydCB7IGRlY29yYXRlRGVmYXVsdENyZWRlbnRpYWxQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtc3RzXCI7XG5pbXBvcnQgeyBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TLCB9IGZyb20gXCJAYXdzLXNkay9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGRlZmF1bHRQcm92aWRlciBhcyBjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyIH0gZnJvbSBcIkBhd3Mtc2RrL2NyZWRlbnRpYWwtcHJvdmlkZXItbm9kZVwiO1xuaW1wb3J0IHsgSGFzaCB9IGZyb20gXCJAYXdzLXNkay9oYXNoLW5vZGVcIjtcbmltcG9ydCB7IE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMsIE5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXJldHJ5XCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnIGFzIGxvYWROb2RlQ29uZmlnIH0gZnJvbSBcIkBhd3Mtc2RrL25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBOb2RlSHR0cEhhbmRsZXIgYXMgUmVxdWVzdEhhbmRsZXIsIHN0cmVhbUNvbGxlY3RvciB9IGZyb20gXCJAYXdzLXNkay9ub2RlLWh0dHAtaGFuZGxlclwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlQm9keUxlbmd0aCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWJvZHktbGVuZ3RoLW5vZGVcIjtcbmltcG9ydCB7IERFRkFVTFRfUkVUUllfTU9ERSB9IGZyb20gXCJAYXdzLXNkay91dGlsLXJldHJ5XCI7XG5pbXBvcnQgeyBkZWZhdWx0VXNlckFnZW50IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXNlci1hZ2VudC1ub2RlXCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIGdldFNoYXJlZFJ1bnRpbWVDb25maWcgfSBmcm9tIFwiLi9ydW50aW1lQ29uZmlnLnNoYXJlZFwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtZGVmYXVsdHMtbW9kZS1ub2RlXCI7XG5pbXBvcnQgeyBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4ge1xuICAgIGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24ocHJvY2Vzcy52ZXJzaW9uKTtcbiAgICBjb25zdCBkZWZhdWx0c01vZGUgPSByZXNvbHZlRGVmYXVsdHNNb2RlQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyID0gKCkgPT4gZGVmYXVsdHNNb2RlKCkudGhlbihsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlKTtcbiAgICBjb25zdCBjbGllbnRTaGFyZWRWYWx1ZXMgPSBnZXRTaGFyZWRSdW50aW1lQ29uZmlnKGNvbmZpZyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY2xpZW50U2hhcmVkVmFsdWVzLFxuICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIHJ1bnRpbWU6IFwibm9kZVwiLFxuICAgICAgICBkZWZhdWx0c01vZGUsXG4gICAgICAgIGJvZHlMZW5ndGhDaGVja2VyOiBjb25maWc/LmJvZHlMZW5ndGhDaGVja2VyID8/IGNhbGN1bGF0ZUJvZHlMZW5ndGgsXG4gICAgICAgIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6IGNvbmZpZz8uY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciA/PyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIoY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciksXG4gICAgICAgIGRlZmF1bHRVc2VyQWdlbnRQcm92aWRlcjogY29uZmlnPy5kZWZhdWx0VXNlckFnZW50UHJvdmlkZXIgPz9cbiAgICAgICAgICAgIGRlZmF1bHRVc2VyQWdlbnQoeyBzZXJ2aWNlSWQ6IGNsaWVudFNoYXJlZFZhbHVlcy5zZXJ2aWNlSWQsIGNsaWVudFZlcnNpb246IHBhY2thZ2VJbmZvLnZlcnNpb24gfSksXG4gICAgICAgIG1heEF0dGVtcHRzOiBjb25maWc/Lm1heEF0dGVtcHRzID8/IGxvYWROb2RlQ29uZmlnKE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICByZWdpb246IGNvbmZpZz8ucmVnaW9uID8/IGxvYWROb2RlQ29uZmlnKE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TKSxcbiAgICAgICAgcmVxdWVzdEhhbmRsZXI6IGNvbmZpZz8ucmVxdWVzdEhhbmRsZXIgPz8gbmV3IFJlcXVlc3RIYW5kbGVyKGRlZmF1bHRDb25maWdQcm92aWRlciksXG4gICAgICAgIHJldHJ5TW9kZTogY29uZmlnPy5yZXRyeU1vZGUgPz9cbiAgICAgICAgICAgIGxvYWROb2RlQ29uZmlnKHtcbiAgICAgICAgICAgICAgICAuLi5OT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogYXN5bmMgKCkgPT4gKGF3YWl0IGRlZmF1bHRDb25maWdQcm92aWRlcigpKS5yZXRyeU1vZGUgfHwgREVGQVVMVF9SRVRSWV9NT0RFLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIHNoYTI1NjogY29uZmlnPy5zaGEyNTYgPz8gSGFzaC5iaW5kKG51bGwsIFwic2hhMjU2XCIpLFxuICAgICAgICBzdHJlYW1Db2xsZWN0b3I6IGNvbmZpZz8uc3RyZWFtQ29sbGVjdG9yID8/IHN0cmVhbUNvbGxlY3RvcixcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IGNvbmZpZz8udXNlRHVhbHN0YWNrRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBjb25maWc/LnVzZUZpcHNFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9GSVBTX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKSxcbiAgICB9O1xufTtcbiIsImltcG9ydCB7IE5vT3BMb2dnZXIgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcGFyc2VVcmwgfSBmcm9tIFwiQGF3cy1zZGsvdXJsLXBhcnNlclwiO1xuaW1wb3J0IHsgZnJvbUJhc2U2NCwgdG9CYXNlNjQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1iYXNlNjRcIjtcbmltcG9ydCB7IGZyb21VdGY4LCB0b1V0ZjggfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11dGY4XCI7XG5pbXBvcnQgeyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciB9IGZyb20gXCIuL2VuZHBvaW50L2VuZHBvaW50UmVzb2x2ZXJcIjtcbmV4cG9ydCBjb25zdCBnZXRSdW50aW1lQ29uZmlnID0gKGNvbmZpZykgPT4gKHtcbiAgICBhcGlWZXJzaW9uOiBcIjIwMTMtMTEtMDFcIixcbiAgICBiYXNlNjREZWNvZGVyOiBjb25maWc/LmJhc2U2NERlY29kZXIgPz8gZnJvbUJhc2U2NCxcbiAgICBiYXNlNjRFbmNvZGVyOiBjb25maWc/LmJhc2U2NEVuY29kZXIgPz8gdG9CYXNlNjQsXG4gICAgZGlzYWJsZUhvc3RQcmVmaXg6IGNvbmZpZz8uZGlzYWJsZUhvc3RQcmVmaXggPz8gZmFsc2UsXG4gICAgZW5kcG9pbnRQcm92aWRlcjogY29uZmlnPy5lbmRwb2ludFByb3ZpZGVyID8/IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyLFxuICAgIGxvZ2dlcjogY29uZmlnPy5sb2dnZXIgPz8gbmV3IE5vT3BMb2dnZXIoKSxcbiAgICBzZXJ2aWNlSWQ6IGNvbmZpZz8uc2VydmljZUlkID8/IFwiQ2xvdWRUcmFpbFwiLFxuICAgIHVybFBhcnNlcjogY29uZmlnPy51cmxQYXJzZXIgPz8gcGFyc2VVcmwsXG4gICAgdXRmOERlY29kZXI6IGNvbmZpZz8udXRmOERlY29kZXIgPz8gZnJvbVV0ZjgsXG4gICAgdXRmOEVuY29kZXI6IGNvbmZpZz8udXRmOEVuY29kZXIgPz8gdG9VdGY4LFxufSk7XG4iLCJpbXBvcnQgeyBTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fU2VydmljZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuZXhwb3J0IHsgX19TZXJ2aWNlRXhjZXB0aW9uIH07XG5leHBvcnQgY2xhc3MgQ2xvdWRUcmFpbFNlcnZpY2VFeGNlcHRpb24gZXh0ZW5kcyBfX1NlcnZpY2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDbG91ZFRyYWlsU2VydmljZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENsb3VkVHJhaWxTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuL0Nsb3VkVHJhaWxTZXJ2aWNlRXhjZXB0aW9uXCI7XG5leHBvcnQgY2xhc3MgQWNjb3VudEhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJBY2NvdW50SGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQWNjb3VudEhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQWNjb3VudEhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBY2NvdW50Tm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJBY2NvdW50Tm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkFjY291bnROb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBY2NvdW50Tm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkFjY291bnROb3RSZWdpc3RlcmVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBY2NvdW50Tm90UmVnaXN0ZXJlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFjY291bnRSZWdpc3RlcmVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQWNjb3VudFJlZ2lzdGVyZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkFjY291bnRSZWdpc3RlcmVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFjY291bnRSZWdpc3RlcmVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGFubmVsTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDaGFubmVsTm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENvbmZsaWN0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ29uZmxpY3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENvbmZsaWN0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBRdWVyeVN0YXR1cyA9IHtcbiAgICBDQU5DRUxMRUQ6IFwiQ0FOQ0VMTEVEXCIsXG4gICAgRkFJTEVEOiBcIkZBSUxFRFwiLFxuICAgIEZJTklTSEVEOiBcIkZJTklTSEVEXCIsXG4gICAgUVVFVUVEOiBcIlFVRVVFRFwiLFxuICAgIFJVTk5JTkc6IFwiUlVOTklOR1wiLFxuICAgIFRJTUVEX09VVDogXCJUSU1FRF9PVVRcIixcbn07XG5leHBvcnQgY2xhc3MgSW5hY3RpdmVRdWVyeUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkluYWN0aXZlUXVlcnlFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkluYWN0aXZlUXVlcnlFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW5hY3RpdmVRdWVyeUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBRdWVyeUlkTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJRdWVyeUlkTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlF1ZXJ5SWROb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBRdWVyeUlkTm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDYW5ub3REZWxlZ2F0ZU1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2Fubm90RGVsZWdhdGVNYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2Fubm90RGVsZWdhdGVNYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDYW5ub3REZWxlZ2F0ZU1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDaGFubmVsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGFubmVsRXhpc3RzRm9yRURTRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDaGFubmVsRXhpc3RzRm9yRURTRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDaGFubmVsTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBEZXN0aW5hdGlvblR5cGUgPSB7XG4gICAgQVdTX1NFUlZJQ0U6IFwiQVdTX1NFUlZJQ0VcIixcbiAgICBFVkVOVF9EQVRBX1NUT1JFOiBcIkVWRU5UX0RBVEFfU1RPUkVcIixcbn07XG5leHBvcnQgY2xhc3MgSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkU291cmNlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFNvdXJjZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFNvdXJjZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkU291cmNlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBFdmVudERhdGFTdG9yZVN0YXR1cyA9IHtcbiAgICBDUkVBVEVEOiBcIkNSRUFURURcIixcbiAgICBFTkFCTEVEOiBcIkVOQUJMRURcIixcbiAgICBQRU5ESU5HX0RFTEVUSU9OOiBcIlBFTkRJTkdfREVMRVRJT05cIixcbiAgICBTVEFSVElOR19JTkdFU1RJT046IFwiU1RBUlRJTkdfSU5HRVNUSU9OXCIsXG4gICAgU1RPUFBFRF9JTkdFU1RJT046IFwiU1RPUFBFRF9JTkdFU1RJT05cIixcbiAgICBTVE9QUElOR19JTkdFU1RJT046IFwiU1RPUFBJTkdfSU5HRVNUSU9OXCIsXG59O1xuZXhwb3J0IGNsYXNzIEV2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEV2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkS21zS2V5SWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkS21zS2V5SWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkS21zS2V5SWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBLbXNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJLbXNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkttc0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBLbXNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkttc0tleU5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE9yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk9yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE9yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJPcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDbG91ZFRyYWlsSW52YWxpZENsaWVudFRva2VuSWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDbG91ZFdhdGNoTG9nc0RlbGl2ZXJ5VW5hdmFpbGFibGVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkluc3VmZmljaWVudFNuc1RvcGljUG9saWN5RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZENsb3VkV2F0Y2hMb2dzUm9sZUFybkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZENsb3VkV2F0Y2hMb2dzUm9sZUFybkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRTM1ByZWZpeEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkU25zVG9waWNOYW1lRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkU25zVG9waWNOYW1lRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgS21zS2V5RGlzYWJsZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJLbXNLZXlEaXNhYmxlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiS21zS2V5RGlzYWJsZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgS21zS2V5RGlzYWJsZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk1heGltdW1OdW1iZXJPZlRyYWlsc0V4Y2VlZGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJNYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBNYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVHJhaWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVHJhaWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJUcmFpbEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVHJhaWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRyYWlsTm90UHJvdmlkZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRyYWlsTm90UHJvdmlkZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEV2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRXZlbnREYXRhU3RvcmVIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEV2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEV2ZW50RGF0YVN0b3JlVGVybWluYXRpb25Qcm90ZWN0ZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJFdmVudERhdGFTdG9yZVRlcm1pbmF0aW9uUHJvdGVjdGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFdmVudERhdGFTdG9yZVRlcm1pbmF0aW9uUHJvdGVjdGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEV2ZW50RGF0YVN0b3JlVGVybWluYXRpb25Qcm90ZWN0ZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVzb3VyY2VQb2xpY3lOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUmVzb3VyY2VQb2xpY3lOb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVHJhaWxOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVHJhaWxOb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE5vdE9yZ2FuaXphdGlvbk1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk5vdE9yZ2FuaXphdGlvbk1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE5vdE9yZ2FuaXphdGlvbk1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgRGVsaXZlcnlTdGF0dXMgPSB7XG4gICAgQUNDRVNTX0RFTklFRDogXCJBQ0NFU1NfREVOSUVEXCIsXG4gICAgQUNDRVNTX0RFTklFRF9TSUdOSU5HX0ZJTEU6IFwiQUNDRVNTX0RFTklFRF9TSUdOSU5HX0ZJTEVcIixcbiAgICBDQU5DRUxMRUQ6IFwiQ0FOQ0VMTEVEXCIsXG4gICAgRkFJTEVEOiBcIkZBSUxFRFwiLFxuICAgIEZBSUxFRF9TSUdOSU5HX0ZJTEU6IFwiRkFJTEVEX1NJR05JTkdfRklMRVwiLFxuICAgIFBFTkRJTkc6IFwiUEVORElOR1wiLFxuICAgIFJFU09VUkNFX05PVF9GT1VORDogXCJSRVNPVVJDRV9OT1RfRk9VTkRcIixcbiAgICBTVUNDRVNTOiBcIlNVQ0NFU1NcIixcbiAgICBVTktOT1dOOiBcIlVOS05PV05cIixcbn07XG5leHBvcnQgY29uc3QgUmVhZFdyaXRlVHlwZSA9IHtcbiAgICBBbGw6IFwiQWxsXCIsXG4gICAgUmVhZE9ubHk6IFwiUmVhZE9ubHlcIixcbiAgICBXcml0ZU9ubHk6IFwiV3JpdGVPbmx5XCIsXG59O1xuZXhwb3J0IGNvbnN0IEltcG9ydFN0YXR1cyA9IHtcbiAgICBDT01QTEVURUQ6IFwiQ09NUExFVEVEXCIsXG4gICAgRkFJTEVEOiBcIkZBSUxFRFwiLFxuICAgIElOSVRJQUxJWklORzogXCJJTklUSUFMSVpJTkdcIixcbiAgICBJTl9QUk9HUkVTUzogXCJJTl9QUk9HUkVTU1wiLFxuICAgIFNUT1BQRUQ6IFwiU1RPUFBFRFwiLFxufTtcbmV4cG9ydCBjbGFzcyBJbXBvcnROb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkltcG9ydE5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbXBvcnROb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbXBvcnROb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEluc2lnaHRUeXBlID0ge1xuICAgIEFwaUNhbGxSYXRlSW5zaWdodDogXCJBcGlDYWxsUmF0ZUluc2lnaHRcIixcbiAgICBBcGlFcnJvclJhdGVJbnNpZ2h0OiBcIkFwaUVycm9yUmF0ZUluc2lnaHRcIixcbn07XG5leHBvcnQgY2xhc3MgSW5zaWdodE5vdEVuYWJsZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnNpZ2h0Tm90RW5hYmxlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW5zaWdodE5vdEVuYWJsZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW5zaWdodE5vdEVuYWJsZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJbXBvcnRGYWlsdXJlU3RhdHVzID0ge1xuICAgIEZBSUxFRDogXCJGQUlMRURcIixcbiAgICBSRVRSWTogXCJSRVRSWVwiLFxuICAgIFNVQ0NFRURFRDogXCJTVUNDRUVERURcIixcbn07XG5leHBvcnQgY2xhc3MgSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRUb2tlbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRUb2tlbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFRva2VuRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRUb2tlbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWREYXRlUmFuZ2VFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkRGF0ZVJhbmdlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkRGF0ZVJhbmdlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWREYXRlUmFuZ2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUXVlcnlTdGF0dXNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUXVlcnlTdGF0dXNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRRdWVyeVN0YXR1c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUXVlcnlTdGF0dXNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRXZlbnRDYXRlZ29yeUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRFdmVudENhdGVnb3J5RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkRXZlbnRDYXRlZ29yeUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkRXZlbnRDYXRlZ29yeUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRMb29rdXBBdHRyaWJ1dGVzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZExvb2t1cEF0dHJpYnV0ZXNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRMb29rdXBBdHRyaWJ1dGVzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRMb29rdXBBdHRyaWJ1dGVzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgRXZlbnRDYXRlZ29yeSA9IHtcbiAgICBJbnNpZ2h0OiBcImluc2lnaHRcIixcbn07XG5leHBvcnQgY29uc3QgTG9va3VwQXR0cmlidXRlS2V5ID0ge1xuICAgIEFDQ0VTU19LRVlfSUQ6IFwiQWNjZXNzS2V5SWRcIixcbiAgICBFVkVOVF9JRDogXCJFdmVudElkXCIsXG4gICAgRVZFTlRfTkFNRTogXCJFdmVudE5hbWVcIixcbiAgICBFVkVOVF9TT1VSQ0U6IFwiRXZlbnRTb3VyY2VcIixcbiAgICBSRUFEX09OTFk6IFwiUmVhZE9ubHlcIixcbiAgICBSRVNPVVJDRV9OQU1FOiBcIlJlc291cmNlTmFtZVwiLFxuICAgIFJFU09VUkNFX1RZUEU6IFwiUmVzb3VyY2VUeXBlXCIsXG4gICAgVVNFUk5BTUU6IFwiVXNlcm5hbWVcIixcbn07XG5leHBvcnQgY2xhc3MgSW52YWxpZEluc2lnaHRTZWxlY3RvcnNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkSW5zaWdodFNlbGVjdG9yc0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZEluc2lnaHRTZWxlY3RvcnNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZEluc2lnaHRTZWxlY3RvcnNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZVBvbGljeU5vdFZhbGlkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUmVzb3VyY2VQb2xpY3lOb3RWYWxpZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVzb3VyY2VQb2xpY3lOb3RWYWxpZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZXNvdXJjZVBvbGljeU5vdFZhbGlkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRGVsZWdhdGVkQWRtaW5BY2NvdW50TGltaXRFeGNlZWRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkRlbGVnYXRlZEFkbWluQWNjb3VudExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkRlbGVnYXRlZEFkbWluQWNjb3VudExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRGVsZWdhdGVkQWRtaW5BY2NvdW50TGltaXRFeGNlZWRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRFdmVudERhdGFTdG9yZVN0YXR1c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRJbXBvcnRTb3VyY2VFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRJbXBvcnRTb3VyY2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUXVlcnlTdGF0ZW1lbnRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUXVlcnlTdGF0ZW1lbnRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRRdWVyeVN0YXRlbWVudEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUXVlcnlTdGF0ZW1lbnRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNYXhDb25jdXJyZW50UXVlcmllc0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk1heENvbmN1cnJlbnRRdWVyaWVzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJNYXhDb25jdXJyZW50UXVlcmllc0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBNYXhDb25jdXJyZW50UXVlcmllc0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgX2pzb24sIGRlY29yYXRlU2VydmljZUV4Y2VwdGlvbiBhcyBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbiwgZXhwZWN0Qm9vbGVhbiBhcyBfX2V4cGVjdEJvb2xlYW4sIGV4cGVjdEludDMyIGFzIF9fZXhwZWN0SW50MzIsIGV4cGVjdExvbmcgYXMgX19leHBlY3RMb25nLCBleHBlY3ROb25OdWxsIGFzIF9fZXhwZWN0Tm9uTnVsbCwgZXhwZWN0TnVtYmVyIGFzIF9fZXhwZWN0TnVtYmVyLCBleHBlY3RTdHJpbmcgYXMgX19leHBlY3RTdHJpbmcsIHBhcnNlRXBvY2hUaW1lc3RhbXAgYXMgX19wYXJzZUVwb2NoVGltZXN0YW1wLCB0YWtlLCB3aXRoQmFzZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgSHR0cFJlcXVlc3QgYXMgX19IdHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IENsb3VkVHJhaWxTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvQ2xvdWRUcmFpbFNlcnZpY2VFeGNlcHRpb25cIjtcbmltcG9ydCB7IEFjY291bnRIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uLCBBY2NvdW50Tm90Rm91bmRFeGNlcHRpb24sIEFjY291bnROb3RSZWdpc3RlcmVkRXhjZXB0aW9uLCBBY2NvdW50UmVnaXN0ZXJlZEV4Y2VwdGlvbiwgQ2Fubm90RGVsZWdhdGVNYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvbiwgQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb24sIENoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uLCBDaGFubmVsRXhpc3RzRm9yRURTRXhjZXB0aW9uLCBDaGFubmVsTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvbiwgQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uLCBDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvbiwgQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb24sIENsb3VkVHJhaWxJbnZhbGlkQ2xpZW50VG9rZW5JZEV4Y2VwdGlvbiwgQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uLCBDb25mbGljdEV4Y2VwdGlvbiwgRGVsZWdhdGVkQWRtaW5BY2NvdW50TGltaXRFeGNlZWRlZEV4Y2VwdGlvbiwgRXZlbnREYXRhU3RvcmVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLCBFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb24sIEV2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvbiwgRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uLCBFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uLCBFdmVudERhdGFTdG9yZVRlcm1pbmF0aW9uUHJvdGVjdGVkRXhjZXB0aW9uLCBJbXBvcnROb3RGb3VuZEV4Y2VwdGlvbiwgSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvbiwgSW5hY3RpdmVRdWVyeUV4Y2VwdGlvbiwgSW5zaWdodE5vdEVuYWJsZWRFeGNlcHRpb24sIEluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvbiwgSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvbiwgSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb24sIEluc3VmZmljaWVudFNuc1RvcGljUG9saWN5RXhjZXB0aW9uLCBJbnZhbGlkQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybkV4Y2VwdGlvbiwgSW52YWxpZENsb3VkV2F0Y2hMb2dzUm9sZUFybkV4Y2VwdGlvbiwgSW52YWxpZERhdGVSYW5nZUV4Y2VwdGlvbiwgSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb24sIEludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uLCBJbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb24sIEludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvbiwgSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb24sIEludmFsaWRJbXBvcnRTb3VyY2VFeGNlcHRpb24sIEludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uLCBJbnZhbGlkS21zS2V5SWRFeGNlcHRpb24sIEludmFsaWRMb29rdXBBdHRyaWJ1dGVzRXhjZXB0aW9uLCBJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvbiwgSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvbiwgSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uLCBJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uLCBJbnZhbGlkUXVlcnlTdGF0ZW1lbnRFeGNlcHRpb24sIEludmFsaWRRdWVyeVN0YXR1c0V4Y2VwdGlvbiwgSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvbiwgSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uLCBJbnZhbGlkU25zVG9waWNOYW1lRXhjZXB0aW9uLCBJbnZhbGlkU291cmNlRXhjZXB0aW9uLCBJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uLCBJbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uLCBJbnZhbGlkVG9rZW5FeGNlcHRpb24sIEludmFsaWRUcmFpbE5hbWVFeGNlcHRpb24sIEttc0V4Y2VwdGlvbiwgS21zS2V5RGlzYWJsZWRFeGNlcHRpb24sIEttc0tleU5vdEZvdW5kRXhjZXB0aW9uLCBNYXhDb25jdXJyZW50UXVlcmllc0V4Y2VwdGlvbiwgTWF4aW11bU51bWJlck9mVHJhaWxzRXhjZWVkZWRFeGNlcHRpb24sIE5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb24sIE5vdE9yZ2FuaXphdGlvbk1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uLCBOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uLCBPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb24sIE9yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uLCBPcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb24sIFF1ZXJ5SWROb3RGb3VuZEV4Y2VwdGlvbiwgUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvbiwgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiwgUmVzb3VyY2VQb2xpY3lOb3RGb3VuZEV4Y2VwdGlvbiwgUmVzb3VyY2VQb2xpY3lOb3RWYWxpZEV4Y2VwdGlvbiwgUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uLCBTM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiwgVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb24sIFRyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiwgVHJhaWxOb3RGb3VuZEV4Y2VwdGlvbiwgVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvbiwgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24sIH0gZnJvbSBcIi4uL21vZGVscy9tb2RlbHNfMFwiO1xuZXhwb3J0IGNvbnN0IHNlX0FkZFRhZ3NDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJBZGRUYWdzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DYW5jZWxRdWVyeUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkNhbmNlbFF1ZXJ5XCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVDaGFubmVsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiQ3JlYXRlQ2hhbm5lbFwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlRXZlbnREYXRhU3RvcmVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJDcmVhdGVFdmVudERhdGFTdG9yZVwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlVHJhaWxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJDcmVhdGVUcmFpbFwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlQ2hhbm5lbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkRlbGV0ZUNoYW5uZWxcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiRGVsZXRlRXZlbnREYXRhU3RvcmVcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVJlc291cmNlUG9saWN5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiRGVsZXRlUmVzb3VyY2VQb2xpY3lcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVRyYWlsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiRGVsZXRlVHJhaWxcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlcmVnaXN0ZXJPcmdhbml6YXRpb25EZWxlZ2F0ZWRBZG1pbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkRlcmVnaXN0ZXJPcmdhbml6YXRpb25EZWxlZ2F0ZWRBZG1pblwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVRdWVyeUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkRlc2NyaWJlUXVlcnlcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVHJhaWxzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiRGVzY3JpYmVUcmFpbHNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldENoYW5uZWxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJHZXRDaGFubmVsXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRFdmVudERhdGFTdG9yZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkdldEV2ZW50RGF0YVN0b3JlXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRFdmVudFNlbGVjdG9yc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkdldEV2ZW50U2VsZWN0b3JzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRJbXBvcnRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJHZXRJbXBvcnRcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldEluc2lnaHRTZWxlY3RvcnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJHZXRJbnNpZ2h0U2VsZWN0b3JzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRRdWVyeVJlc3VsdHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJHZXRRdWVyeVJlc3VsdHNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldFJlc291cmNlUG9saWN5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiR2V0UmVzb3VyY2VQb2xpY3lcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldFRyYWlsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiR2V0VHJhaWxcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldFRyYWlsU3RhdHVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiR2V0VHJhaWxTdGF0dXNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RDaGFubmVsc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkxpc3RDaGFubmVsc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEV2ZW50RGF0YVN0b3Jlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkxpc3RFdmVudERhdGFTdG9yZXNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RJbXBvcnRGYWlsdXJlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkxpc3RJbXBvcnRGYWlsdXJlc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEltcG9ydHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJMaXN0SW1wb3J0c1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFB1YmxpY0tleXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJMaXN0UHVibGljS2V5c1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoc2VfTGlzdFB1YmxpY0tleXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RRdWVyaWVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiTGlzdFF1ZXJpZXNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHNlX0xpc3RRdWVyaWVzUmVxdWVzdChpbnB1dCwgY29udGV4dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VGFnc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIkxpc3RUYWdzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VHJhaWxzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiTGlzdFRyYWlsc1wiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTG9va3VwRXZlbnRzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiTG9va3VwRXZlbnRzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShzZV9Mb29rdXBFdmVudHNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dEV2ZW50U2VsZWN0b3JzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiUHV0RXZlbnRTZWxlY3RvcnNcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dEluc2lnaHRTZWxlY3RvcnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJQdXRJbnNpZ2h0U2VsZWN0b3JzXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRSZXNvdXJjZVBvbGljeUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlB1dFJlc291cmNlUG9saWN5XCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9SZWdpc3Rlck9yZ2FuaXphdGlvbkRlbGVnYXRlZEFkbWluQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiUmVnaXN0ZXJPcmdhbml6YXRpb25EZWxlZ2F0ZWRBZG1pblwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfUmVtb3ZlVGFnc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlJlbW92ZVRhZ3NcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1Jlc3RvcmVFdmVudERhdGFTdG9yZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlJlc3RvcmVFdmVudERhdGFTdG9yZVwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU3RhcnRFdmVudERhdGFTdG9yZUluZ2VzdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlN0YXJ0RXZlbnREYXRhU3RvcmVJbmdlc3Rpb25cIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1N0YXJ0SW1wb3J0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiU3RhcnRJbXBvcnRcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHNlX1N0YXJ0SW1wb3J0UmVxdWVzdChpbnB1dCwgY29udGV4dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdGFydExvZ2dpbmdDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJTdGFydExvZ2dpbmdcIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1N0YXJ0UXVlcnlDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJTdGFydFF1ZXJ5XCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdG9wRXZlbnREYXRhU3RvcmVJbmdlc3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJTdG9wRXZlbnREYXRhU3RvcmVJbmdlc3Rpb25cIik7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KF9qc29uKGlucHV0KSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1N0b3BJbXBvcnRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJTdG9wSW1wb3J0XCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TdG9wTG9nZ2luZ0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gc2hhcmVkSGVhZGVycyhcIlN0b3BMb2dnaW5nXCIpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShfanNvbihpbnB1dCkpO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVDaGFubmVsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBzaGFyZWRIZWFkZXJzKFwiVXBkYXRlQ2hhbm5lbFwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlRXZlbnREYXRhU3RvcmVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJVcGRhdGVFdmVudERhdGFTdG9yZVwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVHJhaWxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHNoYXJlZEhlYWRlcnMoXCJVcGRhdGVUcmFpbFwiKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoX2pzb24oaW5wdXQpKTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3QgZGVfQWRkVGFnc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQWRkVGFnc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQWRkVGFnc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NhbmNlbFF1ZXJ5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DYW5jZWxRdWVyeUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ2FuY2VsUXVlcnlDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlUXVlcnlFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZVF1ZXJ5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZVF1ZXJ5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJRdWVyeUlkTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNRdWVyeUlkTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1F1ZXJ5SWROb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVDaGFubmVsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVDaGFubmVsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9DcmVhdGVDaGFubmVsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU291cmNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFNvdXJjZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFNvdXJjZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVFdmVudERhdGFTdG9yZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlRXZlbnREYXRhU3RvcmVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9DcmVhdGVFdmVudERhdGFTdG9yZVJlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ3JlYXRlRXZlbnREYXRhU3RvcmVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEttc0tleUlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkttc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ttc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfS21zRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ttc0tleU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9LbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVRyYWlsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVUcmFpbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ3JlYXRlVHJhaWxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxJbnZhbGlkQ2xpZW50VG9rZW5JZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxJbnZhbGlkQ2xpZW50VG9rZW5JZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEludmFsaWRDbGllbnRUb2tlbklkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDbG91ZFdhdGNoTG9nc0RlbGl2ZXJ5VW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFdhdGNoTG9nc0RlbGl2ZXJ5VW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudFNuc1RvcGljUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50U25zVG9waWNQb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudFNuc1RvcGljUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZENsb3VkV2F0Y2hMb2dzUm9sZUFybkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEttc0tleUlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTM1ByZWZpeEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRTM1ByZWZpeEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFMzUHJlZml4RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU25zVG9waWNOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUYWdQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJLbXNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNLbXNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ttc0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiS21zS2V5RGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNLbXNLZXlEaXNhYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfS21zS2V5RGlzYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkttc0tleU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjS21zS2V5Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ttc0tleU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI01heGltdW1OdW1iZXJPZlRyYWlsc0V4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJTM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1MzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9TM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGFnc0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RyYWlsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdFByb3ZpZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVDaGFubmVsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVDaGFubmVsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVDaGFubmVsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlRXZlbnREYXRhU3RvcmVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUV2ZW50RGF0YVN0b3JlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVFdmVudERhdGFTdG9yZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsRXhpc3RzRm9yRURTRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVUZXJtaW5hdGlvblByb3RlY3RlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlVGVybWluYXRpb25Qcm90ZWN0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlVGVybWluYXRpb25Qcm90ZWN0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlUmVzb3VyY2VQb2xpY3lDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVJlc291cmNlUG9saWN5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVSZXNvdXJjZVBvbGljeUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVBvbGljeU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VQb2xpY3lOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VQb2xpY3lOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlVHJhaWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVRyYWlsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVUcmFpbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlcmVnaXN0ZXJPcmdhbml6YXRpb25EZWxlZ2F0ZWRBZG1pbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVyZWdpc3Rlck9yZ2FuaXphdGlvbkRlbGVnYXRlZEFkbWluQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXJlZ2lzdGVyT3JnYW5pemF0aW9uRGVsZWdhdGVkQWRtaW5Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2NvdW50Tm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkFjY291bnROb3RSZWdpc3RlcmVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQWNjb3VudE5vdFJlZ2lzdGVyZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY291bnROb3RSZWdpc3RlcmVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVRdWVyeUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVRdWVyeUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlUXVlcnlSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlUXVlcnlDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9RdWVyeUlkTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUcmFpbHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVHJhaWxzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXNjcmliZVRyYWlsc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldENoYW5uZWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldENoYW5uZWxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRDaGFubmVsUmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRDaGFubmVsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0RXZlbnREYXRhU3RvcmVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldEV2ZW50RGF0YVN0b3JlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0RXZlbnREYXRhU3RvcmVSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldEV2ZW50RGF0YVN0b3JlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRFdmVudFNlbGVjdG9yc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0RXZlbnRTZWxlY3RvcnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldEV2ZW50U2VsZWN0b3JzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRJbXBvcnRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldEltcG9ydENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldEltcG9ydFJlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0SW1wb3J0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkltcG9ydE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW1wb3J0Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ltcG9ydE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0SW5zaWdodFNlbGVjdG9yc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0SW5zaWdodFNlbGVjdG9yc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0SW5zaWdodFNlbGVjdG9yc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zaWdodE5vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnNpZ2h0Tm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zaWdodE5vdEVuYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldFF1ZXJ5UmVzdWx0c0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0UXVlcnlSZXN1bHRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRRdWVyeVJlc3VsdHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9RdWVyeUlkTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0UmVzb3VyY2VQb2xpY3lDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldFJlc291cmNlUG9saWN5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRSZXNvdXJjZVBvbGljeUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlQVJOTm90VmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVBvbGljeU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VQb2xpY3lOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VQb2xpY3lOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0VHJhaWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldFRyYWlsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRUcmFpbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRUcmFpbFN0YXR1c0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0VHJhaWxTdGF0dXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRUcmFpbFN0YXR1c1Jlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0VHJhaWxTdGF0dXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RyYWlsTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdENoYW5uZWxzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0Q2hhbm5lbHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RDaGFubmVsc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEV2ZW50RGF0YVN0b3Jlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEV2ZW50RGF0YVN0b3Jlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RFdmVudERhdGFTdG9yZXNSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RFdmVudERhdGFTdG9yZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEltcG9ydEZhaWx1cmVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0SW1wb3J0RmFpbHVyZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9MaXN0SW1wb3J0RmFpbHVyZXNSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RJbXBvcnRGYWlsdXJlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEltcG9ydHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RJbXBvcnRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdEltcG9ydHNSZXNwb25zZShkYXRhLCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RJbXBvcnRzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RQdWJsaWNLZXlzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0UHVibGljS2V5c0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RQdWJsaWNLZXlzUmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0UHVibGljS2V5c0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RRdWVyaWVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0UXVlcmllc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RRdWVyaWVzUmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0UXVlcmllc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRGF0ZVJhbmdlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZERhdGVSYW5nZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZERhdGVSYW5nZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFF1ZXJ5U3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFF1ZXJ5U3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUXVlcnlTdGF0dXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VGFnc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRhZ3NDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RUYWdzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VHJhaWxzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VHJhaWxzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0VHJhaWxzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xvb2t1cEV2ZW50c0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTG9va3VwRXZlbnRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTG9va3VwRXZlbnRzUmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9Mb29rdXBFdmVudHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkRXZlbnRDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRMb29rdXBBdHRyaWJ1dGVzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZExvb2t1cEF0dHJpYnV0ZXNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRMb29rdXBBdHRyaWJ1dGVzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTWF4UmVzdWx0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVGltZVJhbmdlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRFdmVudFNlbGVjdG9yc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0RXZlbnRTZWxlY3RvcnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1B1dEV2ZW50U2VsZWN0b3JzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1B1dEluc2lnaHRTZWxlY3RvcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dEluc2lnaHRTZWxlY3RvcnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1B1dEluc2lnaHRTZWxlY3RvcnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRTM0J1Y2tldFBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEluc2lnaHRTZWxlY3RvcnNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiS21zRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjS21zRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9LbXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1MzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRSZXNvdXJjZVBvbGljeUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0UmVzb3VyY2VQb2xpY3lDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1B1dFJlc291cmNlUG9saWN5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlUG9saWN5Tm90VmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZVBvbGljeU5vdFZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVBvbGljeU5vdFZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9SZWdpc3Rlck9yZ2FuaXphdGlvbkRlbGVnYXRlZEFkbWluQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9SZWdpc3Rlck9yZ2FuaXphdGlvbkRlbGVnYXRlZEFkbWluQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9SZWdpc3Rlck9yZ2FuaXphdGlvbkRlbGVnYXRlZEFkbWluQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY291bnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0FjY291bnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjb3VudE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJBY2NvdW50UmVnaXN0ZXJlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0FjY291bnRSZWdpc3RlcmVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2NvdW50UmVnaXN0ZXJlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2Fubm90RGVsZWdhdGVNYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nhbm5vdERlbGVnYXRlTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nhbm5vdERlbGVnYXRlTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRGVsZWdhdGVkQWRtaW5BY2NvdW50TGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0RlbGVnYXRlZEFkbWluQWNjb3VudExpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0RlbGVnYXRlZEFkbWluQWNjb3VudExpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYW5hZ2VtZW50QWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUmVtb3ZlVGFnc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUmVtb3ZlVGFnc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUmVtb3ZlVGFnc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0NoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DaGFubmVsTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNSZXNvdXJjZVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9SZXN0b3JlRXZlbnREYXRhU3RvcmVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1Jlc3RvcmVFdmVudERhdGFTdG9yZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1Jlc3RvcmVFdmVudERhdGFTdG9yZVJlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUmVzdG9yZUV2ZW50RGF0YVN0b3JlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVNYXhMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RhcnRFdmVudERhdGFTdG9yZUluZ2VzdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU3RhcnRFdmVudERhdGFTdG9yZUluZ2VzdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU3RhcnRFdmVudERhdGFTdG9yZUluZ2VzdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1N0YXJ0SW1wb3J0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdGFydEltcG9ydENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1N0YXJ0SW1wb3J0UmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TdGFydEltcG9ydENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2NvdW50SGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0FjY291bnRIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2NvdW50SGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbXBvcnROb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ltcG9ydE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbXBvcnROb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRFbmNyeXB0aW9uUG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRJbXBvcnRTb3VyY2VFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RhcnRMb2dnaW5nQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdGFydExvZ2dpbmdDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1N0YXJ0TG9nZ2luZ0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1N0YXJ0UXVlcnlDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1N0YXJ0UXVlcnlDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1N0YXJ0UXVlcnlDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFF1ZXJ5U3RhdGVtZW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFF1ZXJ5U3RhdGVtZW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUXVlcnlTdGF0ZW1lbnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTM1ByZWZpeEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWF4Q29uY3VycmVudFF1ZXJpZXNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNNYXhDb25jdXJyZW50UXVlcmllc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWF4Q29uY3VycmVudFF1ZXJpZXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNTM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RvcEV2ZW50RGF0YVN0b3JlSW5nZXN0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TdG9wRXZlbnREYXRhU3RvcmVJbmdlc3Rpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1N0b3BFdmVudERhdGFTdG9yZUluZ2VzdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudERhdGFTdG9yZUNhdGVnb3J5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRXZlbnREYXRhU3RvcmVTdGF0dXNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1N0b3BJbXBvcnRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1N0b3BJbXBvcnRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9TdG9wSW1wb3J0UmVzcG9uc2UoZGF0YSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TdG9wSW1wb3J0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkltcG9ydE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW1wb3J0Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ltcG9ydE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU3RvcExvZ2dpbmdDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1N0b3BMb2dnaW5nQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gX2pzb24oZGF0YSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TdG9wTG9nZ2luZ0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0Nsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5zdWZmaWNpZW50RGVwZW5kZW5jeVNlcnZpY2VBY2Nlc3NQZXJtaXNzaW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRyYWlsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFpbE5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUNoYW5uZWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUNoYW5uZWxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBfanNvbihkYXRhKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUNoYW5uZWxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2hhbm5lbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2hhbm5lbEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDaGFubmVsTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NoYW5uZWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZUFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERhdGFTdG9yZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVFdmVudERhdGFTdG9yZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlRXZlbnREYXRhU3RvcmVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9VcGRhdGVFdmVudERhdGFTdG9yZVJlc3BvbnNlKGRhdGEsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVXBkYXRlRXZlbnREYXRhU3RvcmVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkV2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlSGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluYWN0aXZlRXZlbnREYXRhU3RvcmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEV2ZW50U2VsZWN0b3JzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkS21zS2V5SWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkS21zS2V5SWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkttc0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ttc0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfS21zRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ttc0tleU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9LbXNLZXlOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk5vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Ob3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZVRyYWlsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVUcmFpbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IF9qc29uKGRhdGEpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVXBkYXRlVHJhaWxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2xvdWRUcmFpbEFSTkludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRUcmFpbEFjY2Vzc05vdEVuYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDbG91ZFRyYWlsSW52YWxpZENsaWVudFRva2VuSWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNDbG91ZFRyYWlsSW52YWxpZENsaWVudFRva2VuSWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Nsb3VkVHJhaWxJbnZhbGlkQ2xpZW50VG9rZW5JZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ2xvdWRXYXRjaExvZ3NEZWxpdmVyeVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DbG91ZFdhdGNoTG9nc0RlbGl2ZXJ5VW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnN1ZmZpY2llbnREZXBlbmRlbmN5U2VydmljZUFjY2Vzc1Blcm1pc3Npb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkluc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0luc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0luc3VmZmljaWVudFNuc1RvcGljUG9saWN5RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnN1ZmZpY2llbnRTbnNUb3BpY1BvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkQ2xvdWRXYXRjaExvZ3NMb2dHcm91cEFybkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkQ2xvdWRXYXRjaExvZ3NSb2xlQXJuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkQ2xvdWRXYXRjaExvZ3NSb2xlQXJuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRFdmVudFNlbGVjdG9yc0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkSG9tZVJlZ2lvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRLbXNLZXlJZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZEttc0tleUlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUzNCdWNrZXROYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkUzNQcmVmaXhFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTM1ByZWZpeEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI0ludmFsaWRTbnNUb3BpY05hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTbnNUb3BpY05hbWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUcmFpbE5hbWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNJbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhaWxOYW1lRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJLbXNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNLbXNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ttc0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiS21zS2V5RGlzYWJsZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR0cmFpbCNLbXNLZXlEaXNhYmxlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfS21zS2V5RGlzYWJsZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkttc0tleU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjS21zS2V5Tm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ttc0tleU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJOb01hbmFnZW1lbnRBY2NvdW50U0xSRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTm90T3JnYW5pemF0aW9uTWFzdGVyQWNjb3VudEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk9wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09wZXJhdGlvbk5vdFBlcm1pdHRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfT3BlcmF0aW9uTm90UGVybWl0dGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJPcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25Ob3RJbkFsbEZlYXR1cmVzTW9kZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjT3JnYW5pemF0aW9uc05vdEluVXNlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Pcmdhbml6YXRpb25zTm90SW5Vc2VFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjUzNCdWNrZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1MzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFpbE5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhaWxOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHRyYWlsI1RyYWlsTm90UHJvdmlkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RyYWlsTm90UHJvdmlkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3VkdHJhaWwjVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5jb25zdCBkZV9BY2NvdW50SGFzT25nb2luZ0ltcG9ydEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEFjY291bnRIYXNPbmdvaW5nSW1wb3J0RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9BY2NvdW50Tm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBBY2NvdW50Tm90Rm91bmRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0FjY291bnROb3RSZWdpc3RlcmVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQWNjb3VudE5vdFJlZ2lzdGVyZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0FjY291bnRSZWdpc3RlcmVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQWNjb3VudFJlZ2lzdGVyZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0Nhbm5vdERlbGVnYXRlTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDYW5ub3REZWxlZ2F0ZU1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9DaGFubmVsQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENoYW5uZWxBbHJlYWR5RXhpc3RzRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9DaGFubmVsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENoYW5uZWxBUk5JbnZhbGlkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9DaGFubmVsRXhpc3RzRm9yRURTRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ2hhbm5lbEV4aXN0c0ZvckVEU0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ2hhbm5lbE1heExpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDaGFubmVsTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ2hhbm5lbE5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9DbG91ZFRyYWlsQWNjZXNzTm90RW5hYmxlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENsb3VkVHJhaWxBY2Nlc3NOb3RFbmFibGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9DbG91ZFRyYWlsQVJOSW52YWxpZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENsb3VkVHJhaWxBUk5JbnZhbGlkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9DbG91ZFRyYWlsSW52YWxpZENsaWVudFRva2VuSWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDbG91ZFRyYWlsSW52YWxpZENsaWVudFRva2VuSWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0Nsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENsb3VkV2F0Y2hMb2dzRGVsaXZlcnlVbmF2YWlsYWJsZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDb25mbGljdEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRGVsZWdhdGVkQWRtaW5BY2NvdW50TGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IERlbGVnYXRlZEFkbWluQWNjb3VudExpbWl0RXhjZWVkZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0V2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEV2ZW50RGF0YVN0b3JlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRXZlbnREYXRhU3RvcmVBUk5JbnZhbGlkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9FdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBFdmVudERhdGFTdG9yZUhhc09uZ29pbmdJbXBvcnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0V2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEV2ZW50RGF0YVN0b3JlTWF4TGltaXRFeGNlZWRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfRXZlbnREYXRhU3RvcmVOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEV2ZW50RGF0YVN0b3JlTm90Rm91bmRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0V2ZW50RGF0YVN0b3JlVGVybWluYXRpb25Qcm90ZWN0ZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBFdmVudERhdGFTdG9yZVRlcm1pbmF0aW9uUHJvdGVjdGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbXBvcnROb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEltcG9ydE5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbmFjdGl2ZUV2ZW50RGF0YVN0b3JlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW5hY3RpdmVFdmVudERhdGFTdG9yZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW5hY3RpdmVRdWVyeUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEluYWN0aXZlUXVlcnlFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0luc2lnaHROb3RFbmFibGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW5zaWdodE5vdEVuYWJsZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0luc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEluc3VmZmljaWVudERlcGVuZGVuY3lTZXJ2aWNlQWNjZXNzUGVybWlzc2lvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW5zdWZmaWNpZW50RW5jcnlwdGlvblBvbGljeUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEluc3VmZmljaWVudEVuY3J5cHRpb25Qb2xpY3lFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0luc3VmZmljaWVudFMzQnVja2V0UG9saWN5RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW5zdWZmaWNpZW50UzNCdWNrZXRQb2xpY3lFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0luc3VmZmljaWVudFNuc1RvcGljUG9saWN5RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW5zdWZmaWNpZW50U25zVG9waWNQb2xpY3lFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRDbG91ZFdhdGNoTG9nc0xvZ0dyb3VwQXJuRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZENsb3VkV2F0Y2hMb2dzTG9nR3JvdXBBcm5FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRDbG91ZFdhdGNoTG9nc1JvbGVBcm5FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkQ2xvdWRXYXRjaExvZ3NSb2xlQXJuRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkRGF0ZVJhbmdlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZERhdGVSYW5nZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkRXZlbnRDYXRlZ29yeUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlQ2F0ZWdvcnlFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkRXZlbnREYXRhU3RvcmVDYXRlZ29yeUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZEV2ZW50RGF0YVN0b3JlU3RhdHVzRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkRXZlbnRTZWxlY3RvcnNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRIb21lUmVnaW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZEhvbWVSZWdpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRJbXBvcnRTb3VyY2VFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkSW1wb3J0U291cmNlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkSW5zaWdodFNlbGVjdG9yc0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRJbnNpZ2h0U2VsZWN0b3JzRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkS21zS2V5SWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkS21zS2V5SWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRMb29rdXBBdHRyaWJ1dGVzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZExvb2t1cEF0dHJpYnV0ZXNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZE1heFJlc3VsdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkUGFyYW1ldGVyRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkUXVlcnlTdGF0ZW1lbnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkUXVlcnlTdGF0ZW1lbnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRRdWVyeVN0YXR1c0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRRdWVyeVN0YXR1c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFMzQnVja2V0TmFtZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTM0J1Y2tldE5hbWVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTM1ByZWZpeEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTM1ByZWZpeEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFNuc1RvcGljTmFtZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTbnNUb3BpY05hbWVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTb3VyY2VFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkU291cmNlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkVGFnUGFyYW1ldGVyRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFRhZ1BhcmFtZXRlckV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFRpbWVSYW5nZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRUb2tlbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRUb2tlbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFRyYWlsTmFtZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRUcmFpbE5hbWVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ttc0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEttc0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfS21zS2V5RGlzYWJsZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBLbXNLZXlEaXNhYmxlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfS21zS2V5Tm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBLbXNLZXlOb3RGb3VuZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTWF4Q29uY3VycmVudFF1ZXJpZXNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBNYXhDb25jdXJyZW50UXVlcmllc0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTWF4aW11bU51bWJlck9mVHJhaWxzRXhjZWVkZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBNYXhpbXVtTnVtYmVyT2ZUcmFpbHNFeGNlZWRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfTm9NYW5hZ2VtZW50QWNjb3VudFNMUkV4aXN0c0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE5vTWFuYWdlbWVudEFjY291bnRTTFJFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX05vdE9yZ2FuaXphdGlvbk1hbmFnZW1lbnRBY2NvdW50RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTm90T3JnYW5pemF0aW9uTWFuYWdlbWVudEFjY291bnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX05vdE9yZ2FuaXphdGlvbk1hc3RlckFjY291bnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBOb3RPcmdhbml6YXRpb25NYXN0ZXJBY2NvdW50RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX09yZ2FuaXphdGlvbk5vdEluQWxsRmVhdHVyZXNNb2RlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgT3JnYW5pemF0aW9uTm90SW5BbGxGZWF0dXJlc01vZGVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX09yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE9yZ2FuaXphdGlvbnNOb3RJblVzZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUXVlcnlJZE5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9SZXNvdXJjZUFSTk5vdFZhbGlkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VBUk5Ob3RWYWxpZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1Jlc291cmNlUG9saWN5Tm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZXNvdXJjZVBvbGljeU5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9SZXNvdXJjZVBvbGljeU5vdFZhbGlkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VQb2xpY3lOb3RWYWxpZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUmVzb3VyY2VUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9TM0J1Y2tldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFMzQnVja2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9UYWdzTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gX2pzb24oYm9keSk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFRhZ3NMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9UcmFpbEFscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBUcmFpbEFscmVhZHlFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1RyYWlsTm90Rm91bmRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBUcmFpbE5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9UcmFpbE5vdFByb3ZpZGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBfanNvbihib2R5KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVHJhaWxOb3RQcm92aWRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3QgZGVfVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IF9qc29uKGJvZHkpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5kZXNlcmlhbGl6ZWQsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgYm9keSk7XG59O1xuY29uc3Qgc2VfTGlzdFB1YmxpY0tleXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRW5kVGltZTogKF8pID0+IE1hdGgucm91bmQoXy5nZXRUaW1lKCkgLyAxMDAwKSxcbiAgICAgICAgTmV4dFRva2VuOiBbXSxcbiAgICAgICAgU3RhcnRUaW1lOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0xpc3RRdWVyaWVzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEVuZFRpbWU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICAgIEV2ZW50RGF0YVN0b3JlOiBbXSxcbiAgICAgICAgTWF4UmVzdWx0czogW10sXG4gICAgICAgIE5leHRUb2tlbjogW10sXG4gICAgICAgIFF1ZXJ5U3RhdHVzOiBbXSxcbiAgICAgICAgU3RhcnRUaW1lOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0xvb2t1cEV2ZW50c1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBFbmRUaW1lOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBFdmVudENhdGVnb3J5OiBbXSxcbiAgICAgICAgTG9va3VwQXR0cmlidXRlczogX2pzb24sXG4gICAgICAgIE1heFJlc3VsdHM6IFtdLFxuICAgICAgICBOZXh0VG9rZW46IFtdLFxuICAgICAgICBTdGFydFRpbWU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU3RhcnRJbXBvcnRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGVzdGluYXRpb25zOiBfanNvbixcbiAgICAgICAgRW5kRXZlbnRUaW1lOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBJbXBvcnRJZDogW10sXG4gICAgICAgIEltcG9ydFNvdXJjZTogX2pzb24sXG4gICAgICAgIFN0YXJ0RXZlbnRUaW1lOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUV2ZW50RGF0YVN0b3JlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFkdmFuY2VkRXZlbnRTZWxlY3RvcnM6IF9qc29uLFxuICAgICAgICBDcmVhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBFdmVudERhdGFTdG9yZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEttc0tleUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTXVsdGlSZWdpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBPcmdhbml6YXRpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFJldGVudGlvblBlcmlvZDogX19leHBlY3RJbnQzMixcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGFnc0xpc3Q6IF9qc29uLFxuICAgICAgICBUZXJtaW5hdGlvblByb3RlY3Rpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFVwZGF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVRdWVyeVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEZWxpdmVyeVMzVXJpOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGVsaXZlcnlTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFcnJvck1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBRdWVyeUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUXVlcnlTdGF0aXN0aWNzOiAoXykgPT4gZGVfUXVlcnlTdGF0aXN0aWNzRm9yRGVzY3JpYmVRdWVyeShfLCBjb250ZXh0KSxcbiAgICAgICAgUXVlcnlTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBRdWVyeVN0cmluZzogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRXZlbnQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjY2Vzc0tleUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ2xvdWRUcmFpbEV2ZW50OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRXZlbnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEV2ZW50TmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEV2ZW50U291cmNlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRXZlbnRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBSZWFkT25seTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlczogX2pzb24sXG4gICAgICAgIFVzZXJuYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9FdmVudERhdGFTdG9yZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWR2YW5jZWRFdmVudFNlbGVjdG9yczogX2pzb24sXG4gICAgICAgIENyZWF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEV2ZW50RGF0YVN0b3JlQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTXVsdGlSZWdpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBPcmdhbml6YXRpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFJldGVudGlvblBlcmlvZDogX19leHBlY3RJbnQzMixcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVybWluYXRpb25Qcm90ZWN0aW9uRW5hYmxlZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBVcGRhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0V2ZW50RGF0YVN0b3JlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9FdmVudERhdGFTdG9yZShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9FdmVudHNMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0V2ZW50KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0dldENoYW5uZWxSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2hhbm5lbEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERlc3RpbmF0aW9uczogX2pzb24sXG4gICAgICAgIEluZ2VzdGlvblN0YXR1czogKF8pID0+IGRlX0luZ2VzdGlvblN0YXR1cyhfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNvdXJjZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNvdXJjZUNvbmZpZzogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2V0RXZlbnREYXRhU3RvcmVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWR2YW5jZWRFdmVudFNlbGVjdG9yczogX2pzb24sXG4gICAgICAgIENyZWF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEV2ZW50RGF0YVN0b3JlQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgS21zS2V5SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBNdWx0aVJlZ2lvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE9yZ2FuaXphdGlvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgUmV0ZW50aW9uUGVyaW9kOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZXJtaW5hdGlvblByb3RlY3Rpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFVwZGF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2V0SW1wb3J0UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENyZWF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERlc3RpbmF0aW9uczogX2pzb24sXG4gICAgICAgIEVuZEV2ZW50VGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgSW1wb3J0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbXBvcnRTb3VyY2U6IF9qc29uLFxuICAgICAgICBJbXBvcnRTdGF0aXN0aWNzOiBfanNvbixcbiAgICAgICAgSW1wb3J0U3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhcnRFdmVudFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFVwZGF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2V0VHJhaWxTdGF0dXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgSXNMb2dnaW5nOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIExhdGVzdENsb3VkV2F0Y2hMb2dzRGVsaXZlcnlFcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhdGVzdENsb3VkV2F0Y2hMb2dzRGVsaXZlcnlUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXRlc3REZWxpdmVyeUF0dGVtcHRTdWNjZWVkZWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXRlc3REZWxpdmVyeUF0dGVtcHRUaW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGF0ZXN0RGVsaXZlcnlFcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhdGVzdERlbGl2ZXJ5VGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTGF0ZXN0RGlnZXN0RGVsaXZlcnlFcnJvcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhdGVzdERpZ2VzdERlbGl2ZXJ5VGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTGF0ZXN0Tm90aWZpY2F0aW9uQXR0ZW1wdFN1Y2NlZWRlZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhdGVzdE5vdGlmaWNhdGlvbkF0dGVtcHRUaW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGF0ZXN0Tm90aWZpY2F0aW9uRXJyb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXRlc3ROb3RpZmljYXRpb25UaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBTdGFydExvZ2dpbmdUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBTdG9wTG9nZ2luZ1RpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFRpbWVMb2dnaW5nU3RhcnRlZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRpbWVMb2dnaW5nU3RvcHBlZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW1wb3J0RmFpbHVyZUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfSW1wb3J0RmFpbHVyZUxpc3RJdGVtKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0ltcG9ydEZhaWx1cmVMaXN0SXRlbSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRXJyb3JNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRXJyb3JUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMb2NhdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW1wb3J0c0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfSW1wb3J0c0xpc3RJdGVtKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0ltcG9ydHNMaXN0SXRlbSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ3JlYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGVzdGluYXRpb25zOiBfanNvbixcbiAgICAgICAgSW1wb3J0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbXBvcnRTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBVcGRhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0luZ2VzdGlvblN0YXR1cyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgTGF0ZXN0SW5nZXN0aW9uQXR0ZW1wdEV2ZW50SUQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXRlc3RJbmdlc3Rpb25BdHRlbXB0VGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTGF0ZXN0SW5nZXN0aW9uRXJyb3JDb2RlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGF0ZXN0SW5nZXN0aW9uU3VjY2Vzc0V2ZW50SUQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXRlc3RJbmdlc3Rpb25TdWNjZXNzVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MaXN0RXZlbnREYXRhU3RvcmVzUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEV2ZW50RGF0YVN0b3JlczogKF8pID0+IGRlX0V2ZW50RGF0YVN0b3JlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MaXN0SW1wb3J0RmFpbHVyZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRmFpbHVyZXM6IChfKSA9PiBkZV9JbXBvcnRGYWlsdXJlTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MaXN0SW1wb3J0c1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBJbXBvcnRzOiAoXykgPT4gZGVfSW1wb3J0c0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTGlzdFB1YmxpY0tleXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUHVibGljS2V5TGlzdDogKF8pID0+IGRlX1B1YmxpY0tleUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTGlzdFF1ZXJpZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUXVlcmllczogKF8pID0+IGRlX1F1ZXJpZXMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTG9va3VwRXZlbnRzUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEV2ZW50czogKF8pID0+IGRlX0V2ZW50c0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUHVibGljS2V5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaW5nZXJwcmludDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbGlkaXR5RW5kVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVmFsaWRpdHlTdGFydFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFZhbHVlOiBjb250ZXh0LmJhc2U2NERlY29kZXIsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUHVibGljS2V5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9QdWJsaWNLZXkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfUXVlcmllcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9RdWVyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9RdWVyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ3JlYXRpb25UaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBRdWVyeUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUXVlcnlTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1F1ZXJ5U3RhdGlzdGljc0ZvckRlc2NyaWJlUXVlcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJ5dGVzU2Nhbm5lZDogX19leHBlY3RMb25nLFxuICAgICAgICBDcmVhdGlvblRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEV2ZW50c01hdGNoZWQ6IF9fZXhwZWN0TG9uZyxcbiAgICAgICAgRXZlbnRzU2Nhbm5lZDogX19leHBlY3RMb25nLFxuICAgICAgICBFeGVjdXRpb25UaW1lSW5NaWxsaXM6IF9fZXhwZWN0SW50MzIsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVzdG9yZUV2ZW50RGF0YVN0b3JlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFkdmFuY2VkRXZlbnRTZWxlY3RvcnM6IF9qc29uLFxuICAgICAgICBDcmVhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBFdmVudERhdGFTdG9yZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEttc0tleUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTXVsdGlSZWdpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBPcmdhbml6YXRpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFJldGVudGlvblBlcmlvZDogX19leHBlY3RJbnQzMixcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVybWluYXRpb25Qcm90ZWN0aW9uRW5hYmxlZDogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBVcGRhdGVkVGltZXN0YW1wOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1N0YXJ0SW1wb3J0UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENyZWF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERlc3RpbmF0aW9uczogX2pzb24sXG4gICAgICAgIEVuZEV2ZW50VGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgSW1wb3J0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbXBvcnRTb3VyY2U6IF9qc29uLFxuICAgICAgICBJbXBvcnRTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGFydEV2ZW50VGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVXBkYXRlZFRpbWVzdGFtcDogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TdG9wSW1wb3J0UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENyZWF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERlc3RpbmF0aW9uczogX2pzb24sXG4gICAgICAgIEVuZEV2ZW50VGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgSW1wb3J0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbXBvcnRTb3VyY2U6IF9qc29uLFxuICAgICAgICBJbXBvcnRTdGF0aXN0aWNzOiBfanNvbixcbiAgICAgICAgSW1wb3J0U3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhcnRFdmVudFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFVwZGF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVXBkYXRlRXZlbnREYXRhU3RvcmVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWR2YW5jZWRFdmVudFNlbGVjdG9yczogX2pzb24sXG4gICAgICAgIENyZWF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEV2ZW50RGF0YVN0b3JlQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgS21zS2V5SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBNdWx0aVJlZ2lvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE9yZ2FuaXphdGlvbkVuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgUmV0ZW50aW9uUGVyaW9kOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZXJtaW5hdGlvblByb3RlY3Rpb25FbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIFVwZGF0ZWRUaW1lc3RhbXA6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVzZXJpYWxpemVNZXRhZGF0YSA9IChvdXRwdXQpID0+ICh7XG4gICAgaHR0cFN0YXR1c0NvZGU6IG91dHB1dC5zdGF0dXNDb2RlLFxuICAgIHJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdGlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3QtaWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1yZXF1ZXN0LWlkXCJdLFxuICAgIGV4dGVuZGVkUmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWlkLTJcIl0sXG4gICAgY2ZJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1jZi1pZFwiXSxcbn0pO1xuY29uc3QgY29sbGVjdEJvZHkgPSAoc3RyZWFtQm9keSA9IG5ldyBVaW50OEFycmF5KCksIGNvbnRleHQpID0+IHtcbiAgICBpZiAoc3RyZWFtQm9keSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzdHJlYW1Cb2R5KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQuc3RyZWFtQ29sbGVjdG9yKHN0cmVhbUJvZHkpIHx8IFByb21pc2UucmVzb2x2ZShuZXcgVWludDhBcnJheSgpKTtcbn07XG5jb25zdCBjb2xsZWN0Qm9keVN0cmluZyA9IChzdHJlYW1Cb2R5LCBjb250ZXh0KSA9PiBjb2xsZWN0Qm9keShzdHJlYW1Cb2R5LCBjb250ZXh0KS50aGVuKChib2R5KSA9PiBjb250ZXh0LnV0ZjhFbmNvZGVyKGJvZHkpKTtcbmNvbnN0IHRocm93RGVmYXVsdEVycm9yID0gd2l0aEJhc2VFeGNlcHRpb24oX19CYXNlRXhjZXB0aW9uKTtcbmNvbnN0IGJ1aWxkSHR0cFJwY1JlcXVlc3QgPSBhc3luYyAoY29udGV4dCwgaGVhZGVycywgcGF0aCwgcmVzb2x2ZWRIb3N0bmFtZSwgYm9keSkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIHBhdGg6IGJhc2VQYXRoLmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSArIHBhdGggOiBiYXNlUGF0aCArIHBhdGgsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgfTtcbiAgICBpZiAocmVzb2x2ZWRIb3N0bmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLmhvc3RuYW1lID0gcmVzb2x2ZWRIb3N0bmFtZTtcbiAgICB9XG4gICAgaWYgKGJvZHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5ib2R5ID0gYm9keTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KGNvbnRlbnRzKTtcbn07XG5mdW5jdGlvbiBzaGFyZWRIZWFkZXJzKG9wZXJhdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24veC1hbXotanNvbi0xLjFcIixcbiAgICAgICAgXCJ4LWFtei10YXJnZXRcIjogYENsb3VkVHJhaWxfMjAxMzExMDEuJHtvcGVyYXRpb259YCxcbiAgICB9O1xufVxuY29uc3QgcGFyc2VCb2R5ID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5U3RyaW5nKHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGVuY29kZWQpID0+IHtcbiAgICBpZiAoZW5jb2RlZC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZW5jb2RlZCk7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn0pO1xuY29uc3QgcGFyc2VFcnJvckJvZHkgPSBhc3luYyAoZXJyb3JCb2R5LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYXJzZUJvZHkoZXJyb3JCb2R5LCBjb250ZXh0KTtcbiAgICB2YWx1ZS5tZXNzYWdlID0gdmFsdWUubWVzc2FnZSA/PyB2YWx1ZS5NZXNzYWdlO1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5jb25zdCBsb2FkUmVzdEpzb25FcnJvckNvZGUgPSAob3V0cHV0LCBkYXRhKSA9PiB7XG4gICAgY29uc3QgZmluZEtleSA9IChvYmplY3QsIGtleSkgPT4gT2JqZWN0LmtleXMob2JqZWN0KS5maW5kKChrKSA9PiBrLnRvTG93ZXJDYXNlKCkgPT09IGtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICBjb25zdCBzYW5pdGl6ZUVycm9yQ29kZSA9IChyYXdWYWx1ZSkgPT4ge1xuICAgICAgICBsZXQgY2xlYW5WYWx1ZSA9IHJhd1ZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFuVmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFuVmFsdWUuaW5kZXhPZihcIixcIikgPj0gMCkge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUuc3BsaXQoXCIsXCIpWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhblZhbHVlLmluZGV4T2YoXCI6XCIpID49IDApIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnNwbGl0KFwiOlwiKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYW5WYWx1ZS5pbmRleE9mKFwiI1wiKSA+PSAwKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS5zcGxpdChcIiNcIilbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsZWFuVmFsdWU7XG4gICAgfTtcbiAgICBjb25zdCBoZWFkZXJLZXkgPSBmaW5kS2V5KG91dHB1dC5oZWFkZXJzLCBcIngtYW16bi1lcnJvcnR5cGVcIik7XG4gICAgaWYgKGhlYWRlcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShvdXRwdXQuaGVhZGVyc1toZWFkZXJLZXldKTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShkYXRhLmNvZGUpO1xuICAgIH1cbiAgICBpZiAoZGF0YVtcIl9fdHlwZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZUVycm9yQ29kZShkYXRhW1wiX190eXBlXCJdKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgZ2V0RW5kcG9pbnRQbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0U2VyZGVQbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zZXJkZVwiO1xuaW1wb3J0IHsgQ29tbWFuZCBhcyAkQ29tbWFuZCB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBkZV9Mb29rdXBFdmVudHNDb21tYW5kLCBzZV9Mb29rdXBFdmVudHNDb21tYW5kIH0gZnJvbSBcIi4uL3Byb3RvY29scy9Bd3NfanNvbjFfMVwiO1xuZXhwb3J0IHsgJENvbW1hbmQgfTtcbmV4cG9ydCBjbGFzcyBMb29rdXBFdmVudHNDb21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIExvb2t1cEV2ZW50c0NvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJDbG91ZFRyYWlsQ2xpZW50XCI7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gXCJMb29rdXBFdmVudHNDb21tYW5kXCI7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICAgICAgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0SGFuZGxlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnJlc29sdmUoKHJlcXVlc3QpID0+IHJlcXVlc3RIYW5kbGVyLmhhbmRsZShyZXF1ZXN0LnJlcXVlc3QsIG9wdGlvbnMgfHwge30pLCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZShpbnB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2VfTG9va3VwRXZlbnRzQ29tbWFuZChpbnB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKG91dHB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZGVfTG9va3VwRXZlbnRzQ29tbWFuZChvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEV2ZW50IH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LWNsb3VkdHJhaWwnXHJcblxyXG5leHBvcnQgY2xhc3MgQ2xvdWRUcmFpbFVzZXJFdmVudCB7XHJcblx0aWFtUm9sZTogc3RyaW5nIFxyXG5cdHN0c1Nlc3Npb246IHN0cmluZyBcclxuXHRldmVudFRpbWU6IERhdGVcclxuXHJcblx0Y29uc3RydWN0b3IoZXZlbnQ6IEV2ZW50KSB7XHJcblx0XHRjb25zdCBjbG91ZFRyYWlsRXZlbnQgPSBKU09OLnBhcnNlKGV2ZW50LkNsb3VkVHJhaWxFdmVudClcclxuXHRcdGNvbnN0IFtyb2xlLCBzZXNzaW9uXSA9ICBjbG91ZFRyYWlsRXZlbnQudXNlcklkZW50aXR5LmFybi5zcGxpdCgnLycpLnNsaWNlKDEpIC8vIGFybjphd3M6c3RzOjphY2NvdW50OmFzc3VtZWQtcm9sZS9ST0xFX05BTUUvU0VTU0lPTl9OQU1FIC0gbWF5IGhhdmUgdW5kZWZpbmVkIHNlc3Npb24gaWYgSUFNIHVzZXIgaXMgdXNlZCB0byBsb2dpblxyXG5cdFx0XHJcblx0XHR0aGlzLmlhbVJvbGUgPSByb2xlXHJcblx0XHR0aGlzLnN0c1Nlc3Npb24gPSBzZXNzaW9uXHJcblx0XHR0aGlzLmV2ZW50VGltZSA9IGV2ZW50LkV2ZW50VGltZVxyXG5cdH1cclxufSIsImltcG9ydCB7IENsb3VkVHJhaWxDbGllbnQsIExvb2t1cEV2ZW50c0NvbW1hbmQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtY2xvdWR0cmFpbCdcclxuaW1wb3J0IHsgQ2xvdWRUcmFpbFVzZXJFdmVudCB9IGZyb20gJy4vQ2xvdWRUcmFpbFVzZXJFdmVudCdcclxuaW1wb3J0IHsgUXVpY2tTaWdodFVzZXIgfSBmcm9tICcuL1F1aWNrU2lnaHRVc2VyJ1xyXG5cclxuZXhwb3J0IGNsYXNzIENsb3VkVHJhaWxVc2VyRXZlbnRNYW5hZ2VyIHtcclxuXHRwcml2YXRlIGNsb3VkVHJhaWxDbGllbnQgPSBuZXcgQ2xvdWRUcmFpbENsaWVudCh7fSlcclxuXHJcblx0Ly8gRmlsdGVycyBvdXQgZXZlbnRzIHRoYXQgZG8gbm90IG9yaWdpbmF0ZSB3aXRoIHNvbWVvbmUncyBlLW1haWwgYWRkcmVzc1xyXG5cdC8vIHN1Y2ggYXMgYW55IGF1dG9tYXRlZCBwcm9jZXNzIHdoaWNoIHRvdWNoZXMgUXVpY2tTaWdodCwgaW5jbHVkaW5nIHRoaXMgb25lXHJcblx0cHVibGljIGFzeW5jIHJldHJpZXZlUXVpY2tTaWdodFVzZXJFdmVudHMoc3RhcnREYXRlOiBEYXRlKTogUHJvbWlzZTxDbG91ZFRyYWlsVXNlckV2ZW50W10+IHtcclxuXHRcdGNvbnN0IGV2ZW50czogQ2xvdWRUcmFpbFVzZXJFdmVudFtdID0gW11cclxuXHJcblx0XHRsZXQgbmV4dFRva2VuOiBzdHJpbmcgPSBudWxsIC8vIFRoaXMgaXMgYW5ub3lpbmc7IG51bGwgZG9lc24ndCB3b3JrIGluIHRoZSBRdWlja1NpZ2h0IEFQSSBidXQgZW1wdHkgc3RyaW5nIGRvZXNuJ3Qgd29yayBpbiB0aGUgQ2xvdWRUcmFpbCBBUElcclxuXHRcdGRvIHtcclxuXHRcdFx0Y29uc3QgbG9va3VwRXZlbnRzQ29tbWFuZCA9IG5ldyBMb29rdXBFdmVudHNDb21tYW5kKHtcclxuXHRcdFx0XHRMb29rdXBBdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdEF0dHJpYnV0ZUtleTogJ0V2ZW50U291cmNlJyxcclxuXHRcdFx0XHRcdFx0QXR0cmlidXRlVmFsdWU6ICdxdWlja3NpZ2h0LmFtYXpvbmF3cy5jb20nLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdFN0YXJ0VGltZTogc3RhcnREYXRlLFxyXG5cdFx0XHRcdE5leHRUb2tlbjogbmV4dFRva2VuLFxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0Y29uc3QgbG9va3VwRXZlbnRzUmVzdWx0ID0gYXdhaXQgdGhpcy5jbG91ZFRyYWlsQ2xpZW50LnNlbmQobG9va3VwRXZlbnRzQ29tbWFuZClcclxuXHJcblx0XHRcdG5leHRUb2tlbiA9IGxvb2t1cEV2ZW50c1Jlc3VsdC5OZXh0VG9rZW5cclxuXHJcblx0XHRcdGxvb2t1cEV2ZW50c1Jlc3VsdC5FdmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IGV2ZW50cy5wdXNoKG5ldyBDbG91ZFRyYWlsVXNlckV2ZW50KGV2ZW50KSkpXHJcblx0XHR9IHdoaWxlIChuZXh0VG9rZW4pXHJcblxyXG5cdFx0cmV0dXJuIGV2ZW50c1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldExhc3RBY2Nlc3NEYXRlKHVzZXI6IFF1aWNrU2lnaHRVc2VyLCBldmVudHM6IENsb3VkVHJhaWxVc2VyRXZlbnRbXSk6IERhdGUge1xyXG5cdFx0Y29uc3QgdGhpc1BhcnRpY3VsYXJVc2VyRXZlbnRzID0gZXZlbnRzLmZpbHRlcigoZXZlbnQpID0+IHVzZXIuaWFtUm9sZSA9PT0gZXZlbnQuaWFtUm9sZSAmJiB1c2VyLnN0c1Nlc3Npb24gPT09IGV2ZW50LnN0c1Nlc3Npb24pXHJcblxyXG5cdFx0aWYgKHRoaXNQYXJ0aWN1bGFyVXNlckV2ZW50cy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0Ly8gU3RyeWtlciBkaXNhYmxlIG5leHQtbGluZSBhbGwgXCJJIGRvIG5vdCBjYXJlIGFib3V0IG11dGF0aW5nIGNvbnNvbGUgc3RhdGVtZW50c1wiXHJcblx0XHRcdGNvbnNvbGUuZGVidWcoYCR7dXNlci5pYW1Sb2xlfS8ke3VzZXIuc3RzU2Vzc2lvbn0gbm8gQ2xvdWRUcmFpbCBldmVudHMgZm91bmRgKVxyXG5cdFx0XHRyZXR1cm4gbmV3IERhdGUoMCkgLy8gUmV0dXJuIDE5NzAgYXMgbGFzdCBhY2Nlc3MgZGF0ZSB0byBtYWtlIGxvZ2ljIGVhc2llciBkb3duIHRoZSByb2FkXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU29ydCBuZXdlc3QgdG8gb2xkZXN0XHJcblx0XHRjb25zdCBuZXdlc3RFdmVudCA9IHRoaXNQYXJ0aWN1bGFyVXNlckV2ZW50cy5zb3J0KChhLCBiKSA9PiBhLmV2ZW50VGltZSA8PSBiLmV2ZW50VGltZSA/IDEgOiAtMSlbMF1cclxuXHRcdC8vIFN0cnlrZXIgZGlzYWJsZSBuZXh0LWxpbmUgYWxsIFwiSSBkbyBub3QgY2FyZSBhYm91dCBtdXRhdGluZyBjb25zb2xlIHN0YXRlbWVudHNcIlxyXG5cdFx0Y29uc29sZS5kZWJ1ZyhgJHt1c2VyLmlhbVJvbGV9LyR7dXNlci5zdHNTZXNzaW9ufSBsYXRlc3QgZXZlbnQ6ICR7SlNPTi5zdHJpbmdpZnkobmV3ZXN0RXZlbnQsIG51bGwsIDEpfWApXHJcblxyXG5cdFx0cmV0dXJuIG5ld2VzdEV2ZW50LmV2ZW50VGltZVxyXG5cdH1cclxufSIsImV4cG9ydCBjb25zdCByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzID0gKG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogb3B0aW9ucy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBvcHRpb25zLnVzZUZpcHNFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFNpZ25pbmdOYW1lOiBcIm1vbml0b3JpbmdcIixcbiAgICB9O1xufTtcbiIsImNvbnN0IHMgPSBcInJlcXVpcmVkXCIsIHQgPSBcImZuXCIsIHUgPSBcImFyZ3ZcIiwgdiA9IFwicmVmXCI7XG5jb25zdCBhID0gXCJpc1NldFwiLCBiID0gXCJ0cmVlXCIsIGMgPSBcImVycm9yXCIsIGQgPSBcImVuZHBvaW50XCIsIGUgPSBcIlBhcnRpdGlvblJlc3VsdFwiLCBmID0gXCJnZXRBdHRyXCIsIGcgPSB7IFtzXTogZmFsc2UsIFwidHlwZVwiOiBcIlN0cmluZ1wiIH0sIGggPSB7IFtzXTogdHJ1ZSwgXCJkZWZhdWx0XCI6IGZhbHNlLCBcInR5cGVcIjogXCJCb29sZWFuXCIgfSwgaSA9IHsgW3ZdOiBcIkVuZHBvaW50XCIgfSwgaiA9IHsgW3RdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3VdOiBbeyBbdl06IFwiVXNlRklQU1wiIH0sIHRydWVdIH0sIGsgPSB7IFt0XTogXCJib29sZWFuRXF1YWxzXCIsIFt1XTogW3sgW3ZdOiBcIlVzZUR1YWxTdGFja1wiIH0sIHRydWVdIH0sIGwgPSB7fSwgbSA9IHsgW3RdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3VdOiBbdHJ1ZSwgeyBbdF06IGYsIFt1XTogW3sgW3ZdOiBlIH0sIFwic3VwcG9ydHNGSVBTXCJdIH1dIH0sIG4gPSB7IFt2XTogZSB9LCBvID0geyBbdF06IFwiYm9vbGVhbkVxdWFsc1wiLCBbdV06IFt0cnVlLCB7IFt0XTogZiwgW3VdOiBbbiwgXCJzdXBwb3J0c0R1YWxTdGFja1wiXSB9XSB9LCBwID0gW2pdLCBxID0gW2tdLCByID0gW3sgW3ZdOiBcIlJlZ2lvblwiIH1dO1xuY29uc3QgX2RhdGEgPSB7IHZlcnNpb246IFwiMS4wXCIsIHBhcmFtZXRlcnM6IHsgUmVnaW9uOiBnLCBVc2VEdWFsU3RhY2s6IGgsIFVzZUZJUFM6IGgsIEVuZHBvaW50OiBnIH0sIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdF06IGEsIFt1XTogW2ldIH1dLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogcCwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBGSVBTIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgdHlwZTogYyB9LCB7IHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBxLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IER1YWxzdGFjayBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGMgfSwgeyBlbmRwb2ludDogeyB1cmw6IGksIHByb3BlcnRpZXM6IGwsIGhlYWRlcnM6IGwgfSwgdHlwZTogZCB9XSB9XSB9LCB7IHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdF06IGEsIFt1XTogciB9XSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFt0XTogXCJhd3MucGFydGl0aW9uXCIsIFt1XTogciwgYXNzaWduOiBlIH1dLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW2osIGtdLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW20sIG9dLCB0eXBlOiBiLCBydWxlczogW3sgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL21vbml0b3JpbmctZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogbCwgaGVhZGVyczogbCB9LCB0eXBlOiBkIH1dIH1dIH0sIHsgZXJyb3I6IFwiRklQUyBhbmQgRHVhbFN0YWNrIGFyZSBlbmFibGVkLCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBvbmUgb3IgYm90aFwiLCB0eXBlOiBjIH1dIH0sIHsgY29uZGl0aW9uczogcCwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFttXSwgdHlwZTogYiwgcnVsZXM6IFt7IHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbdF06IFwic3RyaW5nRXF1YWxzXCIsIFt1XTogW1wiYXdzLXVzLWdvdlwiLCB7IFt0XTogZiwgW3VdOiBbbiwgXCJuYW1lXCJdIH1dIH1dLCBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9tb25pdG9yaW5nLntSZWdpb259LmFtYXpvbmF3cy5jb21cIiwgcHJvcGVydGllczogbCwgaGVhZGVyczogbCB9LCB0eXBlOiBkIH0sIHsgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vbW9uaXRvcmluZy1maXBzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBsLCBoZWFkZXJzOiBsIH0sIHR5cGU6IGQgfV0gfV0gfSwgeyBlcnJvcjogXCJGSVBTIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRklQU1wiLCB0eXBlOiBjIH1dIH0sIHsgY29uZGl0aW9uczogcSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtvXSwgdHlwZTogYiwgcnVsZXM6IFt7IHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9tb25pdG9yaW5nLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZHVhbFN0YWNrRG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBsLCBoZWFkZXJzOiBsIH0sIHR5cGU6IGQgfV0gfV0gfSwgeyBlcnJvcjogXCJEdWFsU3RhY2sgaXMgZW5hYmxlZCBidXQgdGhpcyBwYXJ0aXRpb24gZG9lcyBub3Qgc3VwcG9ydCBEdWFsU3RhY2tcIiwgdHlwZTogYyB9XSB9LCB7IHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9tb25pdG9yaW5nLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBsLCBoZWFkZXJzOiBsIH0sIHR5cGU6IGQgfV0gfV0gfV0gfSwgeyBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IE1pc3NpbmcgUmVnaW9uXCIsIHR5cGU6IGMgfV0gfV0gfTtcbmV4cG9ydCBjb25zdCBydWxlU2V0ID0gX2RhdGE7XG4iLCJpbXBvcnQgeyByZXNvbHZlRW5kcG9pbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1lbmRwb2ludHNcIjtcbmltcG9ydCB7IHJ1bGVTZXQgfSBmcm9tIFwiLi9ydWxlc2V0XCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgPSAoZW5kcG9pbnRQYXJhbXMsIGNvbnRleHQgPSB7fSkgPT4ge1xuICAgIHJldHVybiByZXNvbHZlRW5kcG9pbnQocnVsZVNldCwge1xuICAgICAgICBlbmRwb2ludFBhcmFtczogZW5kcG9pbnRQYXJhbXMsXG4gICAgICAgIGxvZ2dlcjogY29udGV4dC5sb2dnZXIsXG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgcmVzb2x2ZVJlZ2lvbkNvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9jb25maWctcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGdldENvbnRlbnRMZW5ndGhQbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1jb250ZW50LWxlbmd0aFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUVuZHBvaW50Q29uZmlnIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldEhvc3RIZWFkZXJQbHVnaW4sIHJlc29sdmVIb3N0SGVhZGVyQ29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWhvc3QtaGVhZGVyXCI7XG5pbXBvcnQgeyBnZXRMb2dnZXJQbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1sb2dnZXJcIjtcbmltcG9ydCB7IGdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXJlY3Vyc2lvbi1kZXRlY3Rpb25cIjtcbmltcG9ydCB7IGdldFJldHJ5UGx1Z2luLCByZXNvbHZlUmV0cnlDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgZ2V0QXdzQXV0aFBsdWdpbiwgcmVzb2x2ZUF3c0F1dGhDb25maWcsIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2lnbmluZ1wiO1xuaW1wb3J0IHsgZ2V0VXNlckFnZW50UGx1Z2luLCByZXNvbHZlVXNlckFnZW50Q29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXVzZXItYWdlbnRcIjtcbmltcG9ydCB7IENsaWVudCBhcyBfX0NsaWVudCwgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycywgfSBmcm9tIFwiLi9lbmRwb2ludC9FbmRwb2ludFBhcmFtZXRlcnNcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgX19nZXRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZ1wiO1xuZXhwb3J0IHsgX19DbGllbnQgfTtcbmV4cG9ydCBjbGFzcyBDbG91ZFdhdGNoQ2xpZW50IGV4dGVuZHMgX19DbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18wID0gX19nZXRSdW50aW1lQ29uZmlnKGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBjb25zdCBfY29uZmlnXzEgPSByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzKF9jb25maWdfMCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMiA9IHJlc29sdmVSZWdpb25Db25maWcoX2NvbmZpZ18xKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18zID0gcmVzb2x2ZUVuZHBvaW50Q29uZmlnKF9jb25maWdfMik7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNCA9IHJlc29sdmVSZXRyeUNvbmZpZyhfY29uZmlnXzMpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzUgPSByZXNvbHZlSG9zdEhlYWRlckNvbmZpZyhfY29uZmlnXzQpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzYgPSByZXNvbHZlQXdzQXV0aENvbmZpZyhfY29uZmlnXzUpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzcgPSByZXNvbHZlVXNlckFnZW50Q29uZmlnKF9jb25maWdfNik7XG4gICAgICAgIHN1cGVyKF9jb25maWdfNyk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gX2NvbmZpZ183O1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmV0cnlQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldENvbnRlbnRMZW5ndGhQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEhvc3RIZWFkZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldExvZ2dlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRBd3NBdXRoUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRVc2VyQWdlbnRQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCBwYWNrYWdlSW5mbyBmcm9tIFwiLi4vcGFja2FnZS5qc29uXCI7XG5pbXBvcnQgeyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXN0c1wiO1xuaW1wb3J0IHsgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgfSBmcm9tIFwiQGF3cy1zZGsvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBkZWZhdWx0UHJvdmlkZXIgYXMgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGVcIjtcbmltcG9ydCB7IEhhc2ggfSBmcm9tIFwiQGF3cy1zZGsvaGFzaC1ub2RlXCI7XG5pbXBvcnQgeyBOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZyBhcyBsb2FkTm9kZUNvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgTm9kZUh0dHBIYW5kbGVyIGFzIFJlcXVlc3RIYW5kbGVyLCBzdHJlYW1Db2xsZWN0b3IgfSBmcm9tIFwiQGF3cy1zZGsvbm9kZS1odHRwLWhhbmRsZXJcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZUJvZHlMZW5ndGggfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1ib2R5LWxlbmd0aC1ub2RlXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JFVFJZX01PREUgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1yZXRyeVwiO1xuaW1wb3J0IHsgZGVmYXVsdFVzZXJBZ2VudCB9IGZyb20gXCJAYXdzLXNkay91dGlsLXVzZXItYWdlbnQtbm9kZVwiO1xuaW1wb3J0IHsgZ2V0UnVudGltZUNvbmZpZyBhcyBnZXRTaGFyZWRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZy5zaGFyZWRcIjtcbmltcG9ydCB7IGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyB9IGZyb20gXCJAYXdzLXNkay91dGlsLWRlZmF1bHRzLW1vZGUtbm9kZVwiO1xuaW1wb3J0IHsgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgY29uc3QgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+IHtcbiAgICBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uKHByb2Nlc3MudmVyc2lvbik7XG4gICAgY29uc3QgZGVmYXVsdHNNb2RlID0gcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyhjb25maWcpO1xuICAgIGNvbnN0IGRlZmF1bHRDb25maWdQcm92aWRlciA9ICgpID0+IGRlZmF1bHRzTW9kZSgpLnRoZW4obG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSk7XG4gICAgY29uc3QgY2xpZW50U2hhcmVkVmFsdWVzID0gZ2V0U2hhcmVkUnVudGltZUNvbmZpZyhjb25maWcpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmNsaWVudFNoYXJlZFZhbHVlcyxcbiAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICBydW50aW1lOiBcIm5vZGVcIixcbiAgICAgICAgZGVmYXVsdHNNb2RlLFxuICAgICAgICBib2R5TGVuZ3RoQ2hlY2tlcjogY29uZmlnPy5ib2R5TGVuZ3RoQ2hlY2tlciA/PyBjYWxjdWxhdGVCb2R5TGVuZ3RoLFxuICAgICAgICBjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyOiBjb25maWc/LmNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIgPz8gZGVjb3JhdGVEZWZhdWx0Q3JlZGVudGlhbFByb3ZpZGVyKGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIpLFxuICAgICAgICBkZWZhdWx0VXNlckFnZW50UHJvdmlkZXI6IGNvbmZpZz8uZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyID8/XG4gICAgICAgICAgICBkZWZhdWx0VXNlckFnZW50KHsgc2VydmljZUlkOiBjbGllbnRTaGFyZWRWYWx1ZXMuc2VydmljZUlkLCBjbGllbnRWZXJzaW9uOiBwYWNrYWdlSW5mby52ZXJzaW9uIH0pLFxuICAgICAgICBtYXhBdHRlbXB0czogY29uZmlnPy5tYXhBdHRlbXB0cyA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgcmVnaW9uOiBjb25maWc/LnJlZ2lvbiA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUyksXG4gICAgICAgIHJlcXVlc3RIYW5kbGVyOiBjb25maWc/LnJlcXVlc3RIYW5kbGVyID8/IG5ldyBSZXF1ZXN0SGFuZGxlcihkZWZhdWx0Q29uZmlnUHJvdmlkZXIpLFxuICAgICAgICByZXRyeU1vZGU6IGNvbmZpZz8ucmV0cnlNb2RlID8/XG4gICAgICAgICAgICBsb2FkTm9kZUNvbmZpZyh7XG4gICAgICAgICAgICAgICAgLi4uTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGFzeW5jICgpID0+IChhd2FpdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIoKSkucmV0cnlNb2RlIHx8IERFRkFVTFRfUkVUUllfTU9ERSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBzaGEyNTY6IGNvbmZpZz8uc2hhMjU2ID8/IEhhc2guYmluZChudWxsLCBcInNoYTI1NlwiKSxcbiAgICAgICAgc3RyZWFtQ29sbGVjdG9yOiBjb25maWc/LnN0cmVhbUNvbGxlY3RvciA/PyBzdHJlYW1Db2xsZWN0b3IsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBjb25maWc/LnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogY29uZmlnPy51c2VGaXBzRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBOb09wTG9nZ2VyIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHBhcnNlVXJsIH0gZnJvbSBcIkBhd3Mtc2RrL3VybC1wYXJzZXJcIjtcbmltcG9ydCB7IGZyb21CYXNlNjQsIHRvQmFzZTY0IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtYmFzZTY0XCI7XG5pbXBvcnQgeyBmcm9tVXRmOCwgdG9VdGY4IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXRmOFwiO1xuaW1wb3J0IHsgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tIFwiLi9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyXCI7XG5leHBvcnQgY29uc3QgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+ICh7XG4gICAgYXBpVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgYmFzZTY0RGVjb2RlcjogY29uZmlnPy5iYXNlNjREZWNvZGVyID8/IGZyb21CYXNlNjQsXG4gICAgYmFzZTY0RW5jb2RlcjogY29uZmlnPy5iYXNlNjRFbmNvZGVyID8/IHRvQmFzZTY0LFxuICAgIGRpc2FibGVIb3N0UHJlZml4OiBjb25maWc/LmRpc2FibGVIb3N0UHJlZml4ID8/IGZhbHNlLFxuICAgIGVuZHBvaW50UHJvdmlkZXI6IGNvbmZpZz8uZW5kcG9pbnRQcm92aWRlciA/PyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlcixcbiAgICBsb2dnZXI6IGNvbmZpZz8ubG9nZ2VyID8/IG5ldyBOb09wTG9nZ2VyKCksXG4gICAgc2VydmljZUlkOiBjb25maWc/LnNlcnZpY2VJZCA/PyBcIkNsb3VkV2F0Y2hcIixcbiAgICB1cmxQYXJzZXI6IGNvbmZpZz8udXJsUGFyc2VyID8/IHBhcnNlVXJsLFxuICAgIHV0ZjhEZWNvZGVyOiBjb25maWc/LnV0ZjhEZWNvZGVyID8/IGZyb21VdGY4LFxuICAgIHV0ZjhFbmNvZGVyOiBjb25maWc/LnV0ZjhFbmNvZGVyID8/IHRvVXRmOCxcbn0pO1xuIiwiaW1wb3J0IHsgU2VydmljZUV4Y2VwdGlvbiBhcyBfX1NlcnZpY2VFeGNlcHRpb24sIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmV4cG9ydCB7IF9fU2VydmljZUV4Y2VwdGlvbiB9O1xuZXhwb3J0IGNsYXNzIENsb3VkV2F0Y2hTZXJ2aWNlRXhjZXB0aW9uIGV4dGVuZHMgX19TZXJ2aWNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2xvdWRXYXRjaFNlcnZpY2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDbG91ZFdhdGNoU2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi9DbG91ZFdhdGNoU2VydmljZUV4Y2VwdGlvblwiO1xuZXhwb3J0IGNvbnN0IEFjdGlvbnNTdXBwcmVzc2VkQnkgPSB7XG4gICAgQWxhcm06IFwiQWxhcm1cIixcbiAgICBFeHRlbnNpb25QZXJpb2Q6IFwiRXh0ZW5zaW9uUGVyaW9kXCIsXG4gICAgV2FpdFBlcmlvZDogXCJXYWl0UGVyaW9kXCIsXG59O1xuZXhwb3J0IGNvbnN0IEFsYXJtVHlwZSA9IHtcbiAgICBDb21wb3NpdGVBbGFybTogXCJDb21wb3NpdGVBbGFybVwiLFxuICAgIE1ldHJpY0FsYXJtOiBcIk1ldHJpY0FsYXJtXCIsXG59O1xuZXhwb3J0IGNvbnN0IEhpc3RvcnlJdGVtVHlwZSA9IHtcbiAgICBBY3Rpb246IFwiQWN0aW9uXCIsXG4gICAgQ29uZmlndXJhdGlvblVwZGF0ZTogXCJDb25maWd1cmF0aW9uVXBkYXRlXCIsXG4gICAgU3RhdGVVcGRhdGU6IFwiU3RhdGVVcGRhdGVcIixcbn07XG5leHBvcnQgY29uc3QgU3RhbmRhcmRVbml0ID0ge1xuICAgIEJpdHM6IFwiQml0c1wiLFxuICAgIEJpdHNfU2Vjb25kOiBcIkJpdHMvU2Vjb25kXCIsXG4gICAgQnl0ZXM6IFwiQnl0ZXNcIixcbiAgICBCeXRlc19TZWNvbmQ6IFwiQnl0ZXMvU2Vjb25kXCIsXG4gICAgQ291bnQ6IFwiQ291bnRcIixcbiAgICBDb3VudF9TZWNvbmQ6IFwiQ291bnQvU2Vjb25kXCIsXG4gICAgR2lnYWJpdHM6IFwiR2lnYWJpdHNcIixcbiAgICBHaWdhYml0c19TZWNvbmQ6IFwiR2lnYWJpdHMvU2Vjb25kXCIsXG4gICAgR2lnYWJ5dGVzOiBcIkdpZ2FieXRlc1wiLFxuICAgIEdpZ2FieXRlc19TZWNvbmQ6IFwiR2lnYWJ5dGVzL1NlY29uZFwiLFxuICAgIEtpbG9iaXRzOiBcIktpbG9iaXRzXCIsXG4gICAgS2lsb2JpdHNfU2Vjb25kOiBcIktpbG9iaXRzL1NlY29uZFwiLFxuICAgIEtpbG9ieXRlczogXCJLaWxvYnl0ZXNcIixcbiAgICBLaWxvYnl0ZXNfU2Vjb25kOiBcIktpbG9ieXRlcy9TZWNvbmRcIixcbiAgICBNZWdhYml0czogXCJNZWdhYml0c1wiLFxuICAgIE1lZ2FiaXRzX1NlY29uZDogXCJNZWdhYml0cy9TZWNvbmRcIixcbiAgICBNZWdhYnl0ZXM6IFwiTWVnYWJ5dGVzXCIsXG4gICAgTWVnYWJ5dGVzX1NlY29uZDogXCJNZWdhYnl0ZXMvU2Vjb25kXCIsXG4gICAgTWljcm9zZWNvbmRzOiBcIk1pY3Jvc2Vjb25kc1wiLFxuICAgIE1pbGxpc2Vjb25kczogXCJNaWxsaXNlY29uZHNcIixcbiAgICBOb25lOiBcIk5vbmVcIixcbiAgICBQZXJjZW50OiBcIlBlcmNlbnRcIixcbiAgICBTZWNvbmRzOiBcIlNlY29uZHNcIixcbiAgICBUZXJhYml0czogXCJUZXJhYml0c1wiLFxuICAgIFRlcmFiaXRzX1NlY29uZDogXCJUZXJhYml0cy9TZWNvbmRcIixcbiAgICBUZXJhYnl0ZXM6IFwiVGVyYWJ5dGVzXCIsXG4gICAgVGVyYWJ5dGVzX1NlY29uZDogXCJUZXJhYnl0ZXMvU2Vjb25kXCIsXG59O1xuZXhwb3J0IGNvbnN0IEFub21hbHlEZXRlY3RvclN0YXRlVmFsdWUgPSB7XG4gICAgUEVORElOR19UUkFJTklORzogXCJQRU5ESU5HX1RSQUlOSU5HXCIsXG4gICAgVFJBSU5FRDogXCJUUkFJTkVEXCIsXG4gICAgVFJBSU5FRF9JTlNVRkZJQ0lFTlRfREFUQTogXCJUUkFJTkVEX0lOU1VGRklDSUVOVF9EQVRBXCIsXG59O1xuZXhwb3J0IGNvbnN0IEFub21hbHlEZXRlY3RvclR5cGUgPSB7XG4gICAgTUVUUklDX01BVEg6IFwiTUVUUklDX01BVEhcIixcbiAgICBTSU5HTEVfTUVUUklDOiBcIlNJTkdMRV9NRVRSSUNcIixcbn07XG5leHBvcnQgY29uc3QgQ29tcGFyaXNvbk9wZXJhdG9yID0ge1xuICAgIEdyZWF0ZXJUaGFuT3JFcXVhbFRvVGhyZXNob2xkOiBcIkdyZWF0ZXJUaGFuT3JFcXVhbFRvVGhyZXNob2xkXCIsXG4gICAgR3JlYXRlclRoYW5UaHJlc2hvbGQ6IFwiR3JlYXRlclRoYW5UaHJlc2hvbGRcIixcbiAgICBHcmVhdGVyVGhhblVwcGVyVGhyZXNob2xkOiBcIkdyZWF0ZXJUaGFuVXBwZXJUaHJlc2hvbGRcIixcbiAgICBMZXNzVGhhbkxvd2VyT3JHcmVhdGVyVGhhblVwcGVyVGhyZXNob2xkOiBcIkxlc3NUaGFuTG93ZXJPckdyZWF0ZXJUaGFuVXBwZXJUaHJlc2hvbGRcIixcbiAgICBMZXNzVGhhbkxvd2VyVGhyZXNob2xkOiBcIkxlc3NUaGFuTG93ZXJUaHJlc2hvbGRcIixcbiAgICBMZXNzVGhhbk9yRXF1YWxUb1RocmVzaG9sZDogXCJMZXNzVGhhbk9yRXF1YWxUb1RocmVzaG9sZFwiLFxuICAgIExlc3NUaGFuVGhyZXNob2xkOiBcIkxlc3NUaGFuVGhyZXNob2xkXCIsXG59O1xuZXhwb3J0IGNvbnN0IFN0YXRlVmFsdWUgPSB7XG4gICAgQUxBUk06IFwiQUxBUk1cIixcbiAgICBJTlNVRkZJQ0lFTlRfREFUQTogXCJJTlNVRkZJQ0lFTlRfREFUQVwiLFxuICAgIE9LOiBcIk9LXCIsXG59O1xuZXhwb3J0IGNsYXNzIENvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBEYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvciBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkRhc2hib2FyZEludmFsaWRJbnB1dEVycm9yXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJEYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvclwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBEYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvci5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLmRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcyA9IG9wdHMuZGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBEYXNoYm9hcmROb3RGb3VuZEVycm9yIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRGFzaGJvYXJkTm90Rm91bmRFcnJvclwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiRGFzaGJvYXJkTm90Rm91bmRFcnJvclwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBEYXNoYm9hcmROb3RGb3VuZEVycm9yLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc291cmNlTm90Rm91bmQgZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJSZXNvdXJjZU5vdEZvdW5kXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNvdXJjZU5vdEZvdW5kXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlTm90Rm91bmQucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2aWNlRmF1bHQgZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnRlcm5hbFNlcnZpY2VGYXVsdFwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcInNlcnZlclwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcInNlcnZlclwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW50ZXJuYWxTZXJ2aWNlRmF1bHQucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE1pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk1pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIE1pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuUmVzb3VyY2VUeXBlID0gb3B0cy5SZXNvdXJjZVR5cGU7XG4gICAgICAgIHRoaXMuUmVzb3VyY2VJZCA9IG9wdHMuUmVzb3VyY2VJZDtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBTY2FuQnkgPSB7XG4gICAgVElNRVNUQU1QX0FTQ0VORElORzogXCJUaW1lc3RhbXBBc2NlbmRpbmdcIixcbiAgICBUSU1FU1RBTVBfREVTQ0VORElORzogXCJUaW1lc3RhbXBEZXNjZW5kaW5nXCIsXG59O1xuZXhwb3J0IGNsYXNzIEludmFsaWROZXh0VG9rZW4gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkTmV4dFRva2VuXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkTmV4dFRva2VuXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWROZXh0VG9rZW4ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgRXZhbHVhdGlvblN0YXRlID0ge1xuICAgIFBBUlRJQUxfREFUQTogXCJQQVJUSUFMX0RBVEFcIixcbn07XG5leHBvcnQgY29uc3QgU3RhdGlzdGljID0ge1xuICAgIEF2ZXJhZ2U6IFwiQXZlcmFnZVwiLFxuICAgIE1heGltdW06IFwiTWF4aW11bVwiLFxuICAgIE1pbmltdW06IFwiTWluaW11bVwiLFxuICAgIFNhbXBsZUNvdW50OiBcIlNhbXBsZUNvdW50XCIsXG4gICAgU3VtOiBcIlN1bVwiLFxufTtcbmV4cG9ydCBjbGFzcyBMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgU3RhdHVzQ29kZSA9IHtcbiAgICBDT01QTEVURTogXCJDb21wbGV0ZVwiLFxuICAgIEZPUkJJRERFTjogXCJGb3JiaWRkZW5cIixcbiAgICBJTlRFUk5BTF9FUlJPUjogXCJJbnRlcm5hbEVycm9yXCIsXG4gICAgUEFSVElBTF9EQVRBOiBcIlBhcnRpYWxEYXRhXCIsXG59O1xuZXhwb3J0IGNvbnN0IE1ldHJpY1N0cmVhbU91dHB1dEZvcm1hdCA9IHtcbiAgICBKU09OOiBcImpzb25cIixcbiAgICBPUEVOX1RFTEVNRVRSWV8wXzc6IFwib3BlbnRlbGVtZXRyeTAuN1wiLFxufTtcbmV4cG9ydCBjb25zdCBSZWNlbnRseUFjdGl2ZSA9IHtcbiAgICBQVDNIOiBcIlBUM0hcIixcbn07XG5leHBvcnQgY2xhc3MgTGltaXRFeGNlZWRlZEZhdWx0IGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiTGltaXRFeGNlZWRlZEZhdWx0XCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJMaW1pdEV4Y2VlZGVkRmF1bHRcIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTGltaXRFeGNlZWRlZEZhdWx0LnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRGb3JtYXRGYXVsdCBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRGb3JtYXRGYXVsdFwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZEZvcm1hdEZhdWx0XCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRGb3JtYXRGYXVsdC5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGRlY29yYXRlU2VydmljZUV4Y2VwdGlvbiBhcyBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbiwgZXhwZWN0Tm9uTnVsbCBhcyBfX2V4cGVjdE5vbk51bGwsIGV4cGVjdFN0cmluZyBhcyBfX2V4cGVjdFN0cmluZywgZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQgYXMgX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCwgZ2V0QXJyYXlJZlNpbmdsZUl0ZW0gYXMgX19nZXRBcnJheUlmU2luZ2xlSXRlbSwgZ2V0VmFsdWVGcm9tVGV4dE5vZGUgYXMgX19nZXRWYWx1ZUZyb21UZXh0Tm9kZSwgcGFyc2VCb29sZWFuIGFzIF9fcGFyc2VCb29sZWFuLCBwYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQgYXMgX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQsIHNlcmlhbGl6ZUZsb2F0IGFzIF9fc2VyaWFsaXplRmxvYXQsIHN0cmljdFBhcnNlRmxvYXQgYXMgX19zdHJpY3RQYXJzZUZsb2F0LCBzdHJpY3RQYXJzZUludDMyIGFzIF9fc3RyaWN0UGFyc2VJbnQzMiwgc3RyaWN0UGFyc2VMb25nIGFzIF9fc3RyaWN0UGFyc2VMb25nLCB3aXRoQmFzZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgSHR0cFJlcXVlc3QgYXMgX19IdHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IFhNTFBhcnNlciB9IGZyb20gXCJmYXN0LXhtbC1wYXJzZXJcIjtcbmltcG9ydCB7IENsb3VkV2F0Y2hTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvQ2xvdWRXYXRjaFNlcnZpY2VFeGNlcHRpb25cIjtcbmltcG9ydCB7IENvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb24sIERhc2hib2FyZEludmFsaWRJbnB1dEVycm9yLCBEYXNoYm9hcmROb3RGb3VuZEVycm9yLCBJbnRlcm5hbFNlcnZpY2VGYXVsdCwgSW52YWxpZEZvcm1hdEZhdWx0LCBJbnZhbGlkTmV4dFRva2VuLCBJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb24sIEludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbiwgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbiwgTGltaXRFeGNlZWRlZEZhdWx0LCBNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb24sIFJlc291cmNlTm90Rm91bmQsIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24sIH0gZnJvbSBcIi4uL21vZGVscy9tb2RlbHNfMFwiO1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUFsYXJtc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZWxldGVBbGFybXNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVBbGFybXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUFub21hbHlEZXRlY3RvckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZWxldGVBbm9tYWx5RGV0ZWN0b3JJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVBbm9tYWx5RGV0ZWN0b3JcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZURhc2hib2FyZHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlRGFzaGJvYXJkc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZURhc2hib2FyZHNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUluc2lnaHRSdWxlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZWxldGVJbnNpZ2h0UnVsZXNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVJbnNpZ2h0UnVsZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZU1ldHJpY1N0cmVhbUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZWxldGVNZXRyaWNTdHJlYW1JbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVNZXRyaWNTdHJlYW1cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQWxhcm1IaXN0b3J5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Rlc2NyaWJlQWxhcm1IaXN0b3J5SW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVzY3JpYmVBbGFybUhpc3RvcnlcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQWxhcm1zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Rlc2NyaWJlQWxhcm1zSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVzY3JpYmVBbGFybXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQWxhcm1zRm9yTWV0cmljQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Rlc2NyaWJlQWxhcm1zRm9yTWV0cmljSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVzY3JpYmVBbGFybXNGb3JNZXRyaWNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQW5vbWFseURldGVjdG9yc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZUFub21hbHlEZXRlY3RvcnNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZXNjcmliZUFub21hbHlEZXRlY3RvcnNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlSW5zaWdodFJ1bGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Rlc2NyaWJlSW5zaWdodFJ1bGVzSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVzY3JpYmVJbnNpZ2h0UnVsZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rpc2FibGVBbGFybUFjdGlvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGlzYWJsZUFsYXJtQWN0aW9uc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRpc2FibGVBbGFybUFjdGlvbnNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rpc2FibGVJbnNpZ2h0UnVsZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGlzYWJsZUluc2lnaHRSdWxlc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRpc2FibGVJbnNpZ2h0UnVsZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0VuYWJsZUFsYXJtQWN0aW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9FbmFibGVBbGFybUFjdGlvbnNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJFbmFibGVBbGFybUFjdGlvbnNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0VuYWJsZUluc2lnaHRSdWxlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9FbmFibGVJbnNpZ2h0UnVsZXNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJFbmFibGVJbnNpZ2h0UnVsZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldERhc2hib2FyZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9HZXREYXNoYm9hcmRJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXREYXNoYm9hcmRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldEluc2lnaHRSdWxlUmVwb3J0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldEluc2lnaHRSdWxlUmVwb3J0SW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0SW5zaWdodFJ1bGVSZXBvcnRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldE1ldHJpY0RhdGFDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0TWV0cmljRGF0YUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldE1ldHJpY0RhdGFcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldE1ldHJpY1N0YXRpc3RpY3NDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0TWV0cmljU3RhdGlzdGljc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldE1ldHJpY1N0YXRpc3RpY3NcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldE1ldHJpY1N0cmVhbUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9HZXRNZXRyaWNTdHJlYW1JbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRNZXRyaWNTdHJlYW1cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldE1ldHJpY1dpZGdldEltYWdlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldE1ldHJpY1dpZGdldEltYWdlSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0TWV0cmljV2lkZ2V0SW1hZ2VcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3REYXNoYm9hcmRzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0xpc3REYXNoYm9hcmRzSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiTGlzdERhc2hib2FyZHNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RNYW5hZ2VkSW5zaWdodFJ1bGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0xpc3RNYW5hZ2VkSW5zaWdodFJ1bGVzSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiTGlzdE1hbmFnZWRJbnNpZ2h0UnVsZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RNZXRyaWNzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0xpc3RNZXRyaWNzSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiTGlzdE1ldHJpY3NcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RNZXRyaWNTdHJlYW1zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0xpc3RNZXRyaWNTdHJlYW1zSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiTGlzdE1ldHJpY1N0cmVhbXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUYWdzRm9yUmVzb3VyY2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfTGlzdFRhZ3NGb3JSZXNvdXJjZUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RUYWdzRm9yUmVzb3VyY2VcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dEFub21hbHlEZXRlY3RvckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXRBbm9tYWx5RGV0ZWN0b3JJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJQdXRBbm9tYWx5RGV0ZWN0b3JcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dENvbXBvc2l0ZUFsYXJtQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1B1dENvbXBvc2l0ZUFsYXJtSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiUHV0Q29tcG9zaXRlQWxhcm1cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dERhc2hib2FyZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXREYXNoYm9hcmRJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJQdXREYXNoYm9hcmRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dEluc2lnaHRSdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1B1dEluc2lnaHRSdWxlSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiUHV0SW5zaWdodFJ1bGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dE1hbmFnZWRJbnNpZ2h0UnVsZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfUHV0TWFuYWdlZEluc2lnaHRSdWxlc0lucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlB1dE1hbmFnZWRJbnNpZ2h0UnVsZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dE1ldHJpY0FsYXJtQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1B1dE1ldHJpY0FsYXJtSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiUHV0TWV0cmljQWxhcm1cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dE1ldHJpY0RhdGFDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfUHV0TWV0cmljRGF0YUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlB1dE1ldHJpY0RhdGFcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dE1ldHJpY1N0cmVhbUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXRNZXRyaWNTdHJlYW1JbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJQdXRNZXRyaWNTdHJlYW1cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NldEFsYXJtU3RhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU2V0QWxhcm1TdGF0ZUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNldEFsYXJtU3RhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1N0YXJ0TWV0cmljU3RyZWFtc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TdGFydE1ldHJpY1N0cmVhbXNJbnB1dChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTdGFydE1ldHJpY1N0cmVhbXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1N0b3BNZXRyaWNTdHJlYW1zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1N0b3BNZXRyaWNTdHJlYW1zSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU3RvcE1ldHJpY1N0cmVhbXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1RhZ1Jlc291cmNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1RhZ1Jlc291cmNlSW5wdXQoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiVGFnUmVzb3VyY2VcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VudGFnUmVzb3VyY2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVW50YWdSZXNvdXJjZUlucHV0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVudGFnUmVzb3VyY2VcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTA4LTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUFsYXJtc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQWxhcm1zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlQWxhcm1zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNSZXNvdXJjZU5vdEZvdW5kXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlQW5vbWFseURldGVjdG9yQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVBbm9tYWx5RGV0ZWN0b3JDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWxldGVBbm9tYWx5RGV0ZWN0b3JPdXRwdXQoZGF0YS5EZWxldGVBbm9tYWx5RGV0ZWN0b3JSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlQW5vbWFseURldGVjdG9yQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVEYXNoYm9hcmRzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVEYXNoYm9hcmRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlRGFzaGJvYXJkc091dHB1dChkYXRhLkRlbGV0ZURhc2hib2FyZHNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlRGFzaGJvYXJkc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNEYXNoYm9hcmROb3RGb3VuZEVycm9yXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9EYXNoYm9hcmROb3RGb3VuZEVycm9yUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlSW5zaWdodFJ1bGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVJbnNpZ2h0UnVsZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWxldGVJbnNpZ2h0UnVsZXNPdXRwdXQoZGF0YS5EZWxldGVJbnNpZ2h0UnVsZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVNZXRyaWNTdHJlYW1Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZU1ldHJpY1N0cmVhbUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZU1ldHJpY1N0cmVhbU91dHB1dChkYXRhLkRlbGV0ZU1ldHJpY1N0cmVhbVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVNZXRyaWNTdHJlYW1Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUFsYXJtSGlzdG9yeUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBbGFybUhpc3RvcnlDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZXNjcmliZUFsYXJtSGlzdG9yeU91dHB1dChkYXRhLkRlc2NyaWJlQWxhcm1IaXN0b3J5UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQWxhcm1IaXN0b3J5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVBbGFybXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQWxhcm1zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVzY3JpYmVBbGFybXNPdXRwdXQoZGF0YS5EZXNjcmliZUFsYXJtc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXNjcmliZUFsYXJtc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQWxhcm1zRm9yTWV0cmljQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUFsYXJtc0Zvck1ldHJpY0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlQWxhcm1zRm9yTWV0cmljT3V0cHV0KGRhdGEuRGVzY3JpYmVBbGFybXNGb3JNZXRyaWNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBbGFybXNGb3JNZXRyaWNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQW5vbWFseURldGVjdG9yc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBbm9tYWx5RGV0ZWN0b3JzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVzY3JpYmVBbm9tYWx5RGV0ZWN0b3JzT3V0cHV0KGRhdGEuRGVzY3JpYmVBbm9tYWx5RGV0ZWN0b3JzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQW5vbWFseURldGVjdG9yc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlSW5zaWdodFJ1bGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUluc2lnaHRSdWxlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlSW5zaWdodFJ1bGVzT3V0cHV0KGRhdGEuRGVzY3JpYmVJbnNpZ2h0UnVsZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVJbnNpZ2h0UnVsZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EaXNhYmxlQWxhcm1BY3Rpb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EaXNhYmxlQWxhcm1BY3Rpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGlzYWJsZUFsYXJtQWN0aW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfRGlzYWJsZUluc2lnaHRSdWxlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGlzYWJsZUluc2lnaHRSdWxlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rpc2FibGVJbnNpZ2h0UnVsZXNPdXRwdXQoZGF0YS5EaXNhYmxlSW5zaWdodFJ1bGVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rpc2FibGVJbnNpZ2h0UnVsZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0VuYWJsZUFsYXJtQWN0aW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRW5hYmxlQWxhcm1BY3Rpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRW5hYmxlQWxhcm1BY3Rpb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9FbmFibGVJbnNpZ2h0UnVsZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0VuYWJsZUluc2lnaHRSdWxlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0VuYWJsZUluc2lnaHRSdWxlc091dHB1dChkYXRhLkVuYWJsZUluc2lnaHRSdWxlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9FbmFibGVJbnNpZ2h0UnVsZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXREYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldERhc2hib2FyZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldERhc2hib2FyZE91dHB1dChkYXRhLkdldERhc2hib2FyZFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXREYXNoYm9hcmRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjRGFzaGJvYXJkTm90Rm91bmRFcnJvclwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRGFzaGJvYXJkTm90Rm91bmRFcnJvclJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldEluc2lnaHRSdWxlUmVwb3J0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRJbnNpZ2h0UnVsZVJlcG9ydENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldEluc2lnaHRSdWxlUmVwb3J0T3V0cHV0KGRhdGEuR2V0SW5zaWdodFJ1bGVSZXBvcnRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0SW5zaWdodFJ1bGVSZXBvcnRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRNZXRyaWNEYXRhQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRNZXRyaWNEYXRhQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0TWV0cmljRGF0YU91dHB1dChkYXRhLkdldE1ldHJpY0RhdGFSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0TWV0cmljRGF0YUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldE1ldHJpY1N0YXRpc3RpY3NDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldE1ldHJpY1N0YXRpc3RpY3NDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRNZXRyaWNTdGF0aXN0aWNzT3V0cHV0KGRhdGEuR2V0TWV0cmljU3RhdGlzdGljc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRNZXRyaWNTdGF0aXN0aWNzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldE1ldHJpY1N0cmVhbUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0TWV0cmljU3RyZWFtQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0TWV0cmljU3RyZWFtT3V0cHV0KGRhdGEuR2V0TWV0cmljU3RyZWFtUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldE1ldHJpY1N0cmVhbUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0TWV0cmljV2lkZ2V0SW1hZ2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldE1ldHJpY1dpZGdldEltYWdlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0TWV0cmljV2lkZ2V0SW1hZ2VPdXRwdXQoZGF0YS5HZXRNZXRyaWNXaWRnZXRJbWFnZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRNZXRyaWNXaWRnZXRJbWFnZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdERhc2hib2FyZHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3REYXNoYm9hcmRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdERhc2hib2FyZHNPdXRwdXQoZGF0YS5MaXN0RGFzaGJvYXJkc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0RGFzaGJvYXJkc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0TWFuYWdlZEluc2lnaHRSdWxlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdE1hbmFnZWRJbnNpZ2h0UnVsZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9MaXN0TWFuYWdlZEluc2lnaHRSdWxlc091dHB1dChkYXRhLkxpc3RNYW5hZ2VkSW5zaWdodFJ1bGVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RNYW5hZ2VkSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdE1ldHJpY3NDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RNZXRyaWNzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdE1ldHJpY3NPdXRwdXQoZGF0YS5MaXN0TWV0cmljc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0TWV0cmljc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0TWV0cmljU3RyZWFtc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdE1ldHJpY1N0cmVhbXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9MaXN0TWV0cmljU3RyZWFtc091dHB1dChkYXRhLkxpc3RNZXRyaWNTdHJlYW1zUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RNZXRyaWNTdHJlYW1zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZE5leHRUb2tlblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RUYWdzRm9yUmVzb3VyY2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RUYWdzRm9yUmVzb3VyY2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9MaXN0VGFnc0ZvclJlc291cmNlT3V0cHV0KGRhdGEuTGlzdFRhZ3NGb3JSZXNvdXJjZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0VGFnc0ZvclJlc291cmNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRBbm9tYWx5RGV0ZWN0b3JDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dEFub21hbHlEZXRlY3RvckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1B1dEFub21hbHlEZXRlY3Rvck91dHB1dChkYXRhLlB1dEFub21hbHlEZXRlY3RvclJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRBbm9tYWx5RGV0ZWN0b3JDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1B1dENvbXBvc2l0ZUFsYXJtQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRDb21wb3NpdGVBbGFybUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1B1dENvbXBvc2l0ZUFsYXJtQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNMaW1pdEV4Y2VlZGVkRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1B1dERhc2hib2FyZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0RGFzaGJvYXJkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfUHV0RGFzaGJvYXJkT3V0cHV0KGRhdGEuUHV0RGFzaGJvYXJkUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1B1dERhc2hib2FyZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlcklucHV0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjRGFzaGJvYXJkSW52YWxpZElucHV0RXJyb3JcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Rhc2hib2FyZEludmFsaWRJbnB1dEVycm9yUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUHV0SW5zaWdodFJ1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dEluc2lnaHRSdWxlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfUHV0SW5zaWdodFJ1bGVPdXRwdXQoZGF0YS5QdXRJbnNpZ2h0UnVsZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRJbnNpZ2h0UnVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1B1dE1hbmFnZWRJbnNpZ2h0UnVsZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dE1hbmFnZWRJbnNpZ2h0UnVsZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9QdXRNYW5hZ2VkSW5zaWdodFJ1bGVzT3V0cHV0KGRhdGEuUHV0TWFuYWdlZEluc2lnaHRSdWxlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRNYW5hZ2VkSW5zaWdodFJ1bGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRNZXRyaWNBbGFybUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0TWV0cmljQWxhcm1Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgYXdhaXQgY29sbGVjdEJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRNZXRyaWNBbGFybUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTGltaXRFeGNlZWRlZEZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRNZXRyaWNEYXRhQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRNZXRyaWNEYXRhQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0TWV0cmljRGF0YUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRNZXRyaWNTdHJlYW1Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1B1dE1ldHJpY1N0cmVhbUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1B1dE1ldHJpY1N0cmVhbU91dHB1dChkYXRhLlB1dE1ldHJpY1N0cmVhbVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRNZXRyaWNTdHJlYW1Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0NvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1pc3NpbmdQYXJhbWV0ZXJcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NldEFsYXJtU3RhdGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NldEFsYXJtU3RhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgYXdhaXQgY29sbGVjdEJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZXRBbGFybVN0YXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRGb3JtYXRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkRm9ybWF0RmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRGb3JtYXRGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI1Jlc291cmNlTm90Rm91bmRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TdGFydE1ldHJpY1N0cmVhbXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1N0YXJ0TWV0cmljU3RyZWFtc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1N0YXJ0TWV0cmljU3RyZWFtc091dHB1dChkYXRhLlN0YXJ0TWV0cmljU3RyZWFtc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TdGFydE1ldHJpY1N0cmVhbXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNaXNzaW5nUGFyYW1ldGVyXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TdG9wTWV0cmljU3RyZWFtc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU3RvcE1ldHJpY1N0cmVhbXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9TdG9wTWV0cmljU3RyZWFtc091dHB1dChkYXRhLlN0b3BNZXRyaWNTdHJlYW1zUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1N0b3BNZXRyaWNTdHJlYW1zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsU2VydmljZUVycm9yXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW50ZXJuYWxTZXJ2aWNlRmF1bHRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVGFnUmVzb3VyY2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1RhZ1Jlc291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfVGFnUmVzb3VyY2VPdXRwdXQoZGF0YS5UYWdSZXNvdXJjZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9UYWdSZXNvdXJjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uY3VycmVudE1vZGlmaWNhdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxTZXJ2aWNlRXJyb3JcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNJbnRlcm5hbFNlcnZpY2VGYXVsdFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VudGFnUmVzb3VyY2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VudGFnUmVzb3VyY2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9VbnRhZ1Jlc291cmNlT3V0cHV0KGRhdGEuVW50YWdSZXNvdXJjZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9VbnRhZ1Jlc291cmNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbFNlcnZpY2VFcnJvclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5jbG91ZHdhdGNoI0ludGVybmFsU2VydmljZUZhdWx0XCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLmNsb3Vkd2F0Y2gjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MuY2xvdWR3YXRjaCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5jb25zdCBkZV9Db25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9Db25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDb25jdXJyZW50TW9kaWZpY2F0aW9uRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvclJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfRGFzaGJvYXJkSW52YWxpZElucHV0RXJyb3IoYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IERhc2hib2FyZEludmFsaWRJbnB1dEVycm9yKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9EYXNoYm9hcmROb3RGb3VuZEVycm9yUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9EYXNoYm9hcmROb3RGb3VuZEVycm9yKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBEYXNoYm9hcmROb3RGb3VuZEVycm9yKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdFJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHQoYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludGVybmFsU2VydmljZUZhdWx0KHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkRm9ybWF0RmF1bHRSZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRGb3JtYXRGYXVsdChib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZEZvcm1hdEZhdWx0KHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkTmV4dFRva2VuUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkTmV4dFRva2VuKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkTmV4dFRva2VuKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRQYXJhbWV0ZXJDb21iaW5hdGlvbkV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFBhcmFtZXRlckNvbWJpbmF0aW9uRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9MaW1pdEV4Y2VlZGVkRmF1bHRSZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0xpbWl0RXhjZWVkZWRGYXVsdChib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTGltaXRFeGNlZWRlZEZhdWx0KHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX01pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTWlzc2luZ1JlcXVpcmVkUGFyYW1ldGVyRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9SZXNvdXJjZU5vdEZvdW5kUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9SZXNvdXJjZU5vdEZvdW5kKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZXNvdXJjZU5vdEZvdW5kKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmRlc2VyaWFsaXplZCxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBib2R5KTtcbn07XG5jb25zdCBzZV9BbGFybU5hbWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0FsYXJtVHlwZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQW5vbWFseURldGVjdG9yQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRXhjbHVkZWRUaW1lUmFuZ2VzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0Fub21hbHlEZXRlY3RvckV4Y2x1ZGVkVGltZVJhbmdlcyhpbnB1dC5FeGNsdWRlZFRpbWVSYW5nZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRXhjbHVkZWRUaW1lUmFuZ2VzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRXhjbHVkZWRUaW1lUmFuZ2VzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRXhjbHVkZWRUaW1lUmFuZ2VzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNUaW1lem9uZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXRyaWNUaW1lem9uZVwiXSA9IGlucHV0Lk1ldHJpY1RpbWV6b25lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Bbm9tYWx5RGV0ZWN0b3JFeGNsdWRlZFRpbWVSYW5nZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmFuZ2UoZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Fub21hbHlEZXRlY3RvclR5cGVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NvdW50cyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBfX3NlcmlhbGl6ZUZsb2F0KGVudHJ5KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EYXNoYm9hcmROYW1lcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVBbGFybXNJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQWxhcm1OYW1lcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BbGFybU5hbWVzKGlucHV0LkFsYXJtTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQWxhcm1OYW1lcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFsYXJtTmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBbGFybU5hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZUFub21hbHlEZXRlY3RvcklucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lc3BhY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZXNwYWNlXCJdID0gaW5wdXQuTmFtZXNwYWNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXRyaWNOYW1lXCJdID0gaW5wdXQuTWV0cmljTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRpbWVuc2lvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGltZW5zaW9ucyhpbnB1dC5EaW1lbnNpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRpbWVuc2lvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5EaW1lbnNpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGltZW5zaW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0XCJdID0gaW5wdXQuU3RhdDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvciAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9TaW5nbGVNZXRyaWNBbm9tYWx5RGV0ZWN0b3IoaW5wdXQuU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNNYXRoQW5vbWFseURldGVjdG9yICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3IoaW5wdXQuTWV0cmljTWF0aEFub21hbHlEZXRlY3RvciwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE1ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3IuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlRGFzaGJvYXJkc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5EYXNoYm9hcmROYW1lcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EYXNoYm9hcmROYW1lcyhpbnB1dC5EYXNoYm9hcmROYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EYXNoYm9hcmROYW1lcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRhc2hib2FyZE5hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGFzaGJvYXJkTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlSW5zaWdodFJ1bGVzSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVOYW1lcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9JbnNpZ2h0UnVsZU5hbWVzKGlucHV0LlJ1bGVOYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5SdWxlTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5SdWxlTmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBSdWxlTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlTWV0cmljU3RyZWFtSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Rlc2NyaWJlQWxhcm1IaXN0b3J5SW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkFsYXJtTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBbGFybU5hbWVcIl0gPSBpbnB1dC5BbGFybU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BbGFybVR5cGVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FsYXJtVHlwZXMoaW5wdXQuQWxhcm1UeXBlcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5BbGFybVR5cGVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQWxhcm1UeXBlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEFsYXJtVHlwZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lkhpc3RvcnlJdGVtVHlwZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJIaXN0b3J5SXRlbVR5cGVcIl0gPSBpbnB1dC5IaXN0b3J5SXRlbVR5cGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGFydERhdGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhcnREYXRlXCJdID0gaW5wdXQuU3RhcnREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzBdICsgXCJaXCI7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmREYXRlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuZERhdGVcIl0gPSBpbnB1dC5FbmREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzBdICsgXCJaXCI7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NYXhSZWNvcmRzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1heFJlY29yZHNcIl0gPSBpbnB1dC5NYXhSZWNvcmRzO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTmV4dFRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5leHRUb2tlblwiXSA9IGlucHV0Lk5leHRUb2tlbjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNjYW5CeSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTY2FuQnlcIl0gPSBpbnB1dC5TY2FuQnk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Rlc2NyaWJlQWxhcm1zRm9yTWV0cmljSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5OYW1lc3BhY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZXNwYWNlXCJdID0gaW5wdXQuTmFtZXNwYWNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhdGlzdGljICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXRpc3RpY1wiXSA9IGlucHV0LlN0YXRpc3RpYztcbiAgICB9XG4gICAgaWYgKGlucHV0LkV4dGVuZGVkU3RhdGlzdGljICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkV4dGVuZGVkU3RhdGlzdGljXCJdID0gaW5wdXQuRXh0ZW5kZWRTdGF0aXN0aWM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaW1lbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbnMoaW5wdXQuRGltZW5zaW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EaW1lbnNpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBlcmlvZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQZXJpb2RcIl0gPSBpbnB1dC5QZXJpb2Q7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Vbml0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlVuaXRcIl0gPSBpbnB1dC5Vbml0O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZUFsYXJtc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5BbGFybU5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FsYXJtTmFtZXMoaW5wdXQuQWxhcm1OYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5BbGFybU5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQWxhcm1OYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEFsYXJtTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFsYXJtTmFtZVByZWZpeCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBbGFybU5hbWVQcmVmaXhcIl0gPSBpbnB1dC5BbGFybU5hbWVQcmVmaXg7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BbGFybVR5cGVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FsYXJtVHlwZXMoaW5wdXQuQWxhcm1UeXBlcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5BbGFybVR5cGVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQWxhcm1UeXBlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEFsYXJtVHlwZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNoaWxkcmVuT2ZBbGFybU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ2hpbGRyZW5PZkFsYXJtTmFtZVwiXSA9IGlucHV0LkNoaWxkcmVuT2ZBbGFybU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5QYXJlbnRzT2ZBbGFybU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUGFyZW50c09mQWxhcm1OYW1lXCJdID0gaW5wdXQuUGFyZW50c09mQWxhcm1OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhdGVWYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0ZVZhbHVlXCJdID0gaW5wdXQuU3RhdGVWYWx1ZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFjdGlvblByZWZpeCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBY3Rpb25QcmVmaXhcIl0gPSBpbnB1dC5BY3Rpb25QcmVmaXg7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NYXhSZWNvcmRzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1heFJlY29yZHNcIl0gPSBpbnB1dC5NYXhSZWNvcmRzO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTmV4dFRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5leHRUb2tlblwiXSA9IGlucHV0Lk5leHRUb2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVzY3JpYmVBbm9tYWx5RGV0ZWN0b3JzSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5NYXhSZXN1bHRzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1heFJlc3VsdHNcIl0gPSBpbnB1dC5NYXhSZXN1bHRzO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaW1lbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbnMoaW5wdXQuRGltZW5zaW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EaW1lbnNpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFub21hbHlEZXRlY3RvclR5cGVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0Fub21hbHlEZXRlY3RvclR5cGVzKGlucHV0LkFub21hbHlEZXRlY3RvclR5cGVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkFub21hbHlEZXRlY3RvclR5cGVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQW5vbWFseURldGVjdG9yVHlwZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBbm9tYWx5RGV0ZWN0b3JUeXBlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZUluc2lnaHRSdWxlc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4UmVzdWx0cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhSZXN1bHRzXCJdID0gaW5wdXQuTWF4UmVzdWx0cztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGltZW5zaW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVcIl0gPSBpbnB1dC5OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVmFsdWVcIl0gPSBpbnB1dC5WYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGltZW5zaW9uRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVcIl0gPSBpbnB1dC5OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVmFsdWVcIl0gPSBpbnB1dC5WYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGltZW5zaW9uRmlsdGVycyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EaW1lbnNpb25GaWx0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RpbWVuc2lvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGltZW5zaW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EaXNhYmxlQWxhcm1BY3Rpb25zSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkFsYXJtTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWxhcm1OYW1lcyhpbnB1dC5BbGFybU5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkFsYXJtTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5BbGFybU5hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQWxhcm1OYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EaXNhYmxlSW5zaWdodFJ1bGVzSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVOYW1lcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9JbnNpZ2h0UnVsZU5hbWVzKGlucHV0LlJ1bGVOYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5SdWxlTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5SdWxlTmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBSdWxlTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRW5hYmxlQWxhcm1BY3Rpb25zSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkFsYXJtTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWxhcm1OYW1lcyhpbnB1dC5BbGFybU5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkFsYXJtTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5BbGFybU5hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQWxhcm1OYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9FbmFibGVJbnNpZ2h0UnVsZXNJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUnVsZU5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0luc2lnaHRSdWxlTmFtZXMoaW5wdXQuUnVsZU5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlJ1bGVOYW1lcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlJ1bGVOYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJ1bGVOYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9FeHRlbmRlZFN0YXRpc3RpY3MgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0RGFzaGJvYXJkSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkRhc2hib2FyZE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGFzaGJvYXJkTmFtZVwiXSA9IGlucHV0LkRhc2hib2FyZE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldEluc2lnaHRSdWxlUmVwb3J0SW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVOYW1lXCJdID0gaW5wdXQuUnVsZU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGFydFRpbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhcnRUaW1lXCJdID0gaW5wdXQuU3RhcnRUaW1lLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzBdICsgXCJaXCI7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmRUaW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuZFRpbWVcIl0gPSBpbnB1dC5FbmRUaW1lLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzBdICsgXCJaXCI7XG4gICAgfVxuICAgIGlmIChpbnB1dC5QZXJpb2QgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUGVyaW9kXCJdID0gaW5wdXQuUGVyaW9kO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4Q29udHJpYnV0b3JDb3VudCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhDb250cmlidXRvckNvdW50XCJdID0gaW5wdXQuTWF4Q29udHJpYnV0b3JDb3VudDtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfSW5zaWdodFJ1bGVNZXRyaWNMaXN0KGlucHV0Lk1ldHJpY3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuTWV0cmljcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk1ldHJpY3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWNzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5PcmRlckJ5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk9yZGVyQnlcIl0gPSBpbnB1dC5PcmRlckJ5O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRNZXRyaWNEYXRhSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk1ldHJpY0RhdGFRdWVyaWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY0RhdGFRdWVyaWVzKGlucHV0Lk1ldHJpY0RhdGFRdWVyaWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk1ldHJpY0RhdGFRdWVyaWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuTWV0cmljRGF0YVF1ZXJpZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWNEYXRhUXVlcmllcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhcnRUaW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXJ0VGltZVwiXSA9IGlucHV0LlN0YXJ0VGltZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRW5kVGltZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmRUaW1lXCJdID0gaW5wdXQuRW5kVGltZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTmV4dFRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5leHRUb2tlblwiXSA9IGlucHV0Lk5leHRUb2tlbjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNjYW5CeSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTY2FuQnlcIl0gPSBpbnB1dC5TY2FuQnk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NYXhEYXRhcG9pbnRzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1heERhdGFwb2ludHNcIl0gPSBpbnB1dC5NYXhEYXRhcG9pbnRzO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTGFiZWxPcHRpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0xhYmVsT3B0aW9ucyhpbnB1dC5MYWJlbE9wdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBMYWJlbE9wdGlvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0TWV0cmljU3RhdGlzdGljc0lucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lc3BhY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZXNwYWNlXCJdID0gaW5wdXQuTmFtZXNwYWNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXRyaWNOYW1lXCJdID0gaW5wdXQuTWV0cmljTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRpbWVuc2lvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGltZW5zaW9ucyhpbnB1dC5EaW1lbnNpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRpbWVuc2lvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5EaW1lbnNpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGltZW5zaW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhcnRUaW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXJ0VGltZVwiXSA9IGlucHV0LlN0YXJ0VGltZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRW5kVGltZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmRUaW1lXCJdID0gaW5wdXQuRW5kVGltZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUGVyaW9kICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBlcmlvZFwiXSA9IGlucHV0LlBlcmlvZDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXRpc3RpY3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfU3RhdGlzdGljcyhpbnB1dC5TdGF0aXN0aWNzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlN0YXRpc3RpY3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5TdGF0aXN0aWNzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgU3RhdGlzdGljcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXh0ZW5kZWRTdGF0aXN0aWNzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0V4dGVuZGVkU3RhdGlzdGljcyhpbnB1dC5FeHRlbmRlZFN0YXRpc3RpY3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRXh0ZW5kZWRTdGF0aXN0aWNzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRXh0ZW5kZWRTdGF0aXN0aWNzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRXh0ZW5kZWRTdGF0aXN0aWNzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Vbml0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlVuaXRcIl0gPSBpbnB1dC5Vbml0O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRNZXRyaWNTdHJlYW1JbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lXCJdID0gaW5wdXQuTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0TWV0cmljV2lkZ2V0SW1hZ2VJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTWV0cmljV2lkZ2V0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1ldHJpY1dpZGdldFwiXSA9IGlucHV0Lk1ldHJpY1dpZGdldDtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk91dHB1dEZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJPdXRwdXRGb3JtYXRcIl0gPSBpbnB1dC5PdXRwdXRGb3JtYXQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0luc2lnaHRSdWxlTWV0cmljTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9JbnNpZ2h0UnVsZU5hbWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xhYmVsT3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGltZXpvbmUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGltZXpvbmVcIl0gPSBpbnB1dC5UaW1lem9uZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTGlzdERhc2hib2FyZHNJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRGFzaGJvYXJkTmFtZVByZWZpeCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEYXNoYm9hcmROYW1lUHJlZml4XCJdID0gaW5wdXQuRGFzaGJvYXJkTmFtZVByZWZpeDtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3RNYW5hZ2VkSW5zaWdodFJ1bGVzSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJlc291cmNlQVJOICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJlc291cmNlQVJOXCJdID0gaW5wdXQuUmVzb3VyY2VBUk47XG4gICAgfVxuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4UmVzdWx0cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhSZXN1bHRzXCJdID0gaW5wdXQuTWF4UmVzdWx0cztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTGlzdE1ldHJpY3NJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaW1lbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbkZpbHRlcnMoaW5wdXQuRGltZW5zaW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EaW1lbnNpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZWNlbnRseUFjdGl2ZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZWNlbnRseUFjdGl2ZVwiXSA9IGlucHV0LlJlY2VudGx5QWN0aXZlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuSW5jbHVkZUxpbmtlZEFjY291bnRzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkluY2x1ZGVMaW5rZWRBY2NvdW50c1wiXSA9IGlucHV0LkluY2x1ZGVMaW5rZWRBY2NvdW50cztcbiAgICB9XG4gICAgaWYgKGlucHV0Lk93bmluZ0FjY291bnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiT3duaW5nQWNjb3VudFwiXSA9IGlucHV0Lk93bmluZ0FjY291bnQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3RNZXRyaWNTdHJlYW1zSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5NYXhSZXN1bHRzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1heFJlc3VsdHNcIl0gPSBpbnB1dC5NYXhSZXN1bHRzO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MaXN0VGFnc0ZvclJlc291cmNlSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJlc291cmNlQVJOICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJlc291cmNlQVJOXCJdID0gaW5wdXQuUmVzb3VyY2VBUk47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01hbmFnZWRSdWxlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UZW1wbGF0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVOYW1lXCJdID0gaW5wdXQuVGVtcGxhdGVOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVzb3VyY2VBUk4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmVzb3VyY2VBUk5cIl0gPSBpbnB1dC5SZXNvdXJjZUFSTjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnTGlzdChpbnB1dC5UYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRhZ3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NYW5hZ2VkUnVsZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWFuYWdlZFJ1bGUoZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpYyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY05hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWV0cmljTmFtZVwiXSA9IGlucHV0Lk1ldHJpY05hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaW1lbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0RpbWVuc2lvbnMoaW5wdXQuRGltZW5zaW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EaW1lbnNpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERpbWVuc2lvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljRGF0YSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNEYXR1bShlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljRGF0YVF1ZXJpZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljRGF0YVF1ZXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNEYXRhUXVlcnkgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LklkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIklkXCJdID0gaW5wdXQuSWQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNTdGF0ICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0YXQoaW5wdXQuTWV0cmljU3RhdCwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE1ldHJpY1N0YXQuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkV4cHJlc3Npb24gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRXhwcmVzc2lvblwiXSA9IGlucHV0LkV4cHJlc3Npb247XG4gICAgfVxuICAgIGlmIChpbnB1dC5MYWJlbCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJMYWJlbFwiXSA9IGlucHV0LkxhYmVsO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmV0dXJuRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXR1cm5EYXRhXCJdID0gaW5wdXQuUmV0dXJuRGF0YTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBlcmlvZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQZXJpb2RcIl0gPSBpbnB1dC5QZXJpb2Q7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BY2NvdW50SWQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWNjb3VudElkXCJdID0gaW5wdXQuQWNjb3VudElkO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNEYXR1bSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTWV0cmljTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXRyaWNOYW1lXCJdID0gaW5wdXQuTWV0cmljTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRpbWVuc2lvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGltZW5zaW9ucyhpbnB1dC5EaW1lbnNpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRpbWVuc2lvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5EaW1lbnNpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGltZW5zaW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGltZXN0YW1wICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRpbWVzdGFtcFwiXSA9IGlucHV0LlRpbWVzdGFtcC50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVmFsdWVcIl0gPSBfX3NlcmlhbGl6ZUZsb2F0KGlucHV0LlZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXRpc3RpY1ZhbHVlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9TdGF0aXN0aWNTZXQoaW5wdXQuU3RhdGlzdGljVmFsdWVzLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgU3RhdGlzdGljVmFsdWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5WYWx1ZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVmFsdWVzKGlucHV0LlZhbHVlcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5WYWx1ZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5WYWx1ZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBWYWx1ZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNvdW50cyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Db3VudHMoaW5wdXQuQ291bnRzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkNvdW50cz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkNvdW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYENvdW50cy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJVbml0XCJdID0gaW5wdXQuVW5pdDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0b3JhZ2VSZXNvbHV0aW9uICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0b3JhZ2VSZXNvbHV0aW9uXCJdID0gaW5wdXQuU3RvcmFnZVJlc29sdXRpb247XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3IgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk1ldHJpY0RhdGFRdWVyaWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY0RhdGFRdWVyaWVzKGlucHV0Lk1ldHJpY0RhdGFRdWVyaWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk1ldHJpY0RhdGFRdWVyaWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuTWV0cmljRGF0YVF1ZXJpZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWNEYXRhUXVlcmllcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNTdGF0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5NZXRyaWMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljKGlucHV0Lk1ldHJpYywgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE1ldHJpYy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUGVyaW9kICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBlcmlvZFwiXSA9IGlucHV0LlBlcmlvZDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdFwiXSA9IGlucHV0LlN0YXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Vbml0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlVuaXRcIl0gPSBpbnB1dC5Vbml0O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNTdHJlYW1GaWx0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWVzcGFjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lc3BhY2VcIl0gPSBpbnB1dC5OYW1lc3BhY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNOYW1lcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNTdHJlYW1GaWx0ZXJNZXRyaWNOYW1lcyhpbnB1dC5NZXRyaWNOYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5NZXRyaWNOYW1lcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk1ldHJpY05hbWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWV0cmljTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljU3RyZWFtRmlsdGVyTWV0cmljTmFtZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWV0cmljU3RyZWFtRmlsdGVycyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNTdHJlYW1GaWx0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpY1N0cmVhbU5hbWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NBZGRpdGlvbmFsU3RhdGlzdGljcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSW5jbHVkZU1ldHJpY3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc0luY2x1ZGVNZXRyaWNzKGlucHV0LkluY2x1ZGVNZXRyaWNzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkluY2x1ZGVNZXRyaWNzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuSW5jbHVkZU1ldHJpY3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBJbmNsdWRlTWV0cmljcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWRkaXRpb25hbFN0YXRpc3RpY3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc0FkZGl0aW9uYWxTdGF0aXN0aWNzKGlucHV0LkFkZGl0aW9uYWxTdGF0aXN0aWNzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkFkZGl0aW9uYWxTdGF0aXN0aWNzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQWRkaXRpb25hbFN0YXRpc3RpY3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBZGRpdGlvbmFsU3RhdGlzdGljcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtU3RhdGlzdGljc0NvbmZpZ3VyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NJbmNsdWRlTWV0cmljcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzTWV0cmljKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzTWV0cmljID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lc3BhY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZXNwYWNlXCJdID0gaW5wdXQuTmFtZXNwYWNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXRyaWNOYW1lXCJdID0gaW5wdXQuTWV0cmljTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUHV0QW5vbWFseURldGVjdG9ySW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWVzcGFjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOYW1lc3BhY2VcIl0gPSBpbnB1dC5OYW1lc3BhY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1ldHJpY05hbWVcIl0gPSBpbnB1dC5NZXRyaWNOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGltZW5zaW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EaW1lbnNpb25zKGlucHV0LkRpbWVuc2lvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGltZW5zaW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEaW1lbnNpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXRcIl0gPSBpbnB1dC5TdGF0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Bbm9tYWx5RGV0ZWN0b3JDb25maWd1cmF0aW9uKGlucHV0LkNvbmZpZ3VyYXRpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBDb25maWd1cmF0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TaW5nbGVNZXRyaWNBbm9tYWx5RGV0ZWN0b3IgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yKGlucHV0LlNpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvciwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFNpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3Rvci4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTWF0aEFub21hbHlEZXRlY3RvciAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNNYXRoQW5vbWFseURldGVjdG9yKGlucHV0Lk1ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3IsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWNNYXRoQW5vbWFseURldGVjdG9yLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1B1dENvbXBvc2l0ZUFsYXJtSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkFjdGlvbnNFbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFjdGlvbnNFbmFibGVkXCJdID0gaW5wdXQuQWN0aW9uc0VuYWJsZWQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BbGFybUFjdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVzb3VyY2VMaXN0KGlucHV0LkFsYXJtQWN0aW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5BbGFybUFjdGlvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5BbGFybUFjdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBbGFybUFjdGlvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFsYXJtRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWxhcm1EZXNjcmlwdGlvblwiXSA9IGlucHV0LkFsYXJtRGVzY3JpcHRpb247XG4gICAgfVxuICAgIGlmIChpbnB1dC5BbGFybU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWxhcm1OYW1lXCJdID0gaW5wdXQuQWxhcm1OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWxhcm1SdWxlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFsYXJtUnVsZVwiXSA9IGlucHV0LkFsYXJtUnVsZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lkluc3VmZmljaWVudERhdGFBY3Rpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1Jlc291cmNlTGlzdChpbnB1dC5JbnN1ZmZpY2llbnREYXRhQWN0aW9ucywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5JbnN1ZmZpY2llbnREYXRhQWN0aW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkluc3VmZmljaWVudERhdGFBY3Rpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSW5zdWZmaWNpZW50RGF0YUFjdGlvbnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk9LQWN0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZXNvdXJjZUxpc3QoaW5wdXQuT0tBY3Rpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk9LQWN0aW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk9LQWN0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE9LQWN0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9UYWdMaXN0KGlucHV0LlRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BY3Rpb25zU3VwcHJlc3NvciAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBY3Rpb25zU3VwcHJlc3NvclwiXSA9IGlucHV0LkFjdGlvbnNTdXBwcmVzc29yO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWN0aW9uc1N1cHByZXNzb3JXYWl0UGVyaW9kICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFjdGlvbnNTdXBwcmVzc29yV2FpdFBlcmlvZFwiXSA9IGlucHV0LkFjdGlvbnNTdXBwcmVzc29yV2FpdFBlcmlvZDtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFjdGlvbnNTdXBwcmVzc29yRXh0ZW5zaW9uUGVyaW9kICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFjdGlvbnNTdXBwcmVzc29yRXh0ZW5zaW9uUGVyaW9kXCJdID0gaW5wdXQuQWN0aW9uc1N1cHByZXNzb3JFeHRlbnNpb25QZXJpb2Q7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1B1dERhc2hib2FyZElucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5EYXNoYm9hcmROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRhc2hib2FyZE5hbWVcIl0gPSBpbnB1dC5EYXNoYm9hcmROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGFzaGJvYXJkQm9keSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEYXNoYm9hcmRCb2R5XCJdID0gaW5wdXQuRGFzaGJvYXJkQm9keTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUHV0SW5zaWdodFJ1bGVJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUnVsZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZU5hbWVcIl0gPSBpbnB1dC5SdWxlTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJ1bGVTdGF0ZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU3RhdGVcIl0gPSBpbnB1dC5SdWxlU3RhdGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SdWxlRGVmaW5pdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlRGVmaW5pdGlvblwiXSA9IGlucHV0LlJ1bGVEZWZpbml0aW9uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9UYWdMaXN0KGlucHV0LlRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1B1dE1hbmFnZWRJbnNpZ2h0UnVsZXNJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTWFuYWdlZFJ1bGVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01hbmFnZWRSdWxlcyhpbnB1dC5NYW5hZ2VkUnVsZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuTWFuYWdlZFJ1bGVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuTWFuYWdlZFJ1bGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWFuYWdlZFJ1bGVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1B1dE1ldHJpY0FsYXJtSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkFsYXJtTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBbGFybU5hbWVcIl0gPSBpbnB1dC5BbGFybU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BbGFybURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFsYXJtRGVzY3JpcHRpb25cIl0gPSBpbnB1dC5BbGFybURlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWN0aW9uc0VuYWJsZWQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWN0aW9uc0VuYWJsZWRcIl0gPSBpbnB1dC5BY3Rpb25zRW5hYmxlZDtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk9LQWN0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZXNvdXJjZUxpc3QoaW5wdXQuT0tBY3Rpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk9LQWN0aW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk9LQWN0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE9LQWN0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWxhcm1BY3Rpb25zICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1Jlc291cmNlTGlzdChpbnB1dC5BbGFybUFjdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQWxhcm1BY3Rpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQWxhcm1BY3Rpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQWxhcm1BY3Rpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5JbnN1ZmZpY2llbnREYXRhQWN0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZXNvdXJjZUxpc3QoaW5wdXQuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5JbnN1ZmZpY2llbnREYXRhQWN0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEluc3VmZmljaWVudERhdGFBY3Rpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXRyaWNOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1ldHJpY05hbWVcIl0gPSBpbnB1dC5NZXRyaWNOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTmFtZXNwYWNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVzcGFjZVwiXSA9IGlucHV0Lk5hbWVzcGFjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXRpc3RpYyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0aXN0aWNcIl0gPSBpbnB1dC5TdGF0aXN0aWM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FeHRlbmRlZFN0YXRpc3RpYyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFeHRlbmRlZFN0YXRpc3RpY1wiXSA9IGlucHV0LkV4dGVuZGVkU3RhdGlzdGljO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGltZW5zaW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EaW1lbnNpb25zKGlucHV0LkRpbWVuc2lvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRGltZW5zaW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEaW1lbnNpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5QZXJpb2QgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUGVyaW9kXCJdID0gaW5wdXQuUGVyaW9kO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJVbml0XCJdID0gaW5wdXQuVW5pdDtcbiAgICB9XG4gICAgaWYgKGlucHV0LkV2YWx1YXRpb25QZXJpb2RzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkV2YWx1YXRpb25QZXJpb2RzXCJdID0gaW5wdXQuRXZhbHVhdGlvblBlcmlvZHM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EYXRhcG9pbnRzVG9BbGFybSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEYXRhcG9pbnRzVG9BbGFybVwiXSA9IGlucHV0LkRhdGFwb2ludHNUb0FsYXJtO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGhyZXNob2xkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRocmVzaG9sZFwiXSA9IF9fc2VyaWFsaXplRmxvYXQoaW5wdXQuVGhyZXNob2xkKTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNvbXBhcmlzb25PcGVyYXRvciAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb21wYXJpc29uT3BlcmF0b3JcIl0gPSBpbnB1dC5Db21wYXJpc29uT3BlcmF0b3I7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UcmVhdE1pc3NpbmdEYXRhICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRyZWF0TWlzc2luZ0RhdGFcIl0gPSBpbnB1dC5UcmVhdE1pc3NpbmdEYXRhO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXZhbHVhdGVMb3dTYW1wbGVDb3VudFBlcmNlbnRpbGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRXZhbHVhdGVMb3dTYW1wbGVDb3VudFBlcmNlbnRpbGVcIl0gPSBpbnB1dC5FdmFsdWF0ZUxvd1NhbXBsZUNvdW50UGVyY2VudGlsZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1ldHJpY3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljRGF0YVF1ZXJpZXMoaW5wdXQuTWV0cmljcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5NZXRyaWNzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuTWV0cmljcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE1ldHJpY3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGFnTGlzdChpbnB1dC5UYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRhZ3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGhyZXNob2xkTWV0cmljSWQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGhyZXNob2xkTWV0cmljSWRcIl0gPSBpbnB1dC5UaHJlc2hvbGRNZXRyaWNJZDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUHV0TWV0cmljRGF0YUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lc3BhY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZXNwYWNlXCJdID0gaW5wdXQuTmFtZXNwYWNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNEYXRhKGlucHV0Lk1ldHJpY0RhdGEsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuTWV0cmljRGF0YT8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLk1ldHJpY0RhdGEgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNZXRyaWNEYXRhLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1B1dE1ldHJpY1N0cmVhbUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVcIl0gPSBpbnB1dC5OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuSW5jbHVkZUZpbHRlcnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtRmlsdGVycyhpbnB1dC5JbmNsdWRlRmlsdGVycywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5JbmNsdWRlRmlsdGVycz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkluY2x1ZGVGaWx0ZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSW5jbHVkZUZpbHRlcnMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkV4Y2x1ZGVGaWx0ZXJzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0cmVhbUZpbHRlcnMoaW5wdXQuRXhjbHVkZUZpbHRlcnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRXhjbHVkZUZpbHRlcnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5FeGNsdWRlRmlsdGVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEV4Y2x1ZGVGaWx0ZXJzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5GaXJlaG9zZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJGaXJlaG9zZUFyblwiXSA9IGlucHV0LkZpcmVob3NlQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUm9sZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSb2xlQXJuXCJdID0gaW5wdXQuUm9sZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk91dHB1dEZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJPdXRwdXRGb3JtYXRcIl0gPSBpbnB1dC5PdXRwdXRGb3JtYXQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1RhZ0xpc3QoaW5wdXQuVGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5UYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXRpc3RpY3NDb25maWd1cmF0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMoaW5wdXQuU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlN0YXRpc3RpY3NDb25maWd1cmF0aW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlN0YXRpc3RpY3NDb25maWd1cmF0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFN0YXRpc3RpY3NDb25maWd1cmF0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuSW5jbHVkZUxpbmtlZEFjY291bnRzTWV0cmljcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJbmNsdWRlTGlua2VkQWNjb3VudHNNZXRyaWNzXCJdID0gaW5wdXQuSW5jbHVkZUxpbmtlZEFjY291bnRzTWV0cmljcztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUmFuZ2UgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlN0YXJ0VGltZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGFydFRpbWVcIl0gPSBpbnB1dC5TdGFydFRpbWUudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkVuZFRpbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW5kVGltZVwiXSA9IGlucHV0LkVuZFRpbWUudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUmVzb3VyY2VMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NldEFsYXJtU3RhdGVJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQWxhcm1OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFsYXJtTmFtZVwiXSA9IGlucHV0LkFsYXJtTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXRlVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3RhdGVWYWx1ZVwiXSA9IGlucHV0LlN0YXRlVmFsdWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0ZVJlYXNvbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0ZVJlYXNvblwiXSA9IGlucHV0LlN0YXRlUmVhc29uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhdGVSZWFzb25EYXRhICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXRlUmVhc29uRGF0YVwiXSA9IGlucHV0LlN0YXRlUmVhc29uRGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lc3BhY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZXNwYWNlXCJdID0gaW5wdXQuTmFtZXNwYWNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWV0cmljTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXRyaWNOYW1lXCJdID0gaW5wdXQuTWV0cmljTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRpbWVuc2lvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGltZW5zaW9ucyhpbnB1dC5EaW1lbnNpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRpbWVuc2lvbnM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5EaW1lbnNpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGltZW5zaW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3RhdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0XCJdID0gaW5wdXQuU3RhdDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU3RhcnRNZXRyaWNTdHJlYW1zSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01ldHJpY1N0cmVhbU5hbWVzKGlucHV0Lk5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0Lk5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuTmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBOYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TdGF0aXN0aWNzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1N0YXRpc3RpY1NldCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuU2FtcGxlQ291bnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU2FtcGxlQ291bnRcIl0gPSBfX3NlcmlhbGl6ZUZsb2F0KGlucHV0LlNhbXBsZUNvdW50KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN1bSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdW1cIl0gPSBfX3NlcmlhbGl6ZUZsb2F0KGlucHV0LlN1bSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NaW5pbXVtICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1pbmltdW1cIl0gPSBfX3NlcmlhbGl6ZUZsb2F0KGlucHV0Lk1pbmltdW0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4aW11bSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhpbXVtXCJdID0gX19zZXJpYWxpemVGbG9hdChpbnB1dC5NYXhpbXVtKTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU3RvcE1ldHJpY1N0cmVhbXNJbnB1dCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWV0cmljU3RyZWFtTmFtZXMoaW5wdXQuTmFtZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5OYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE5hbWVzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1RhZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuS2V5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIktleVwiXSA9IGlucHV0LktleTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlZhbHVlXCJdID0gaW5wdXQuVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1RhZ0tleUxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVGFnTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9UYWcoZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1RhZ1Jlc291cmNlSW5wdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJlc291cmNlQVJOICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJlc291cmNlQVJOXCJdID0gaW5wdXQuUmVzb3VyY2VBUk47XG4gICAgfVxuICAgIGlmIChpbnB1dC5UYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1RhZ0xpc3QoaW5wdXQuVGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5UYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVW50YWdSZXNvdXJjZUlucHV0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SZXNvdXJjZUFSTiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXNvdXJjZUFSTlwiXSA9IGlucHV0LlJlc291cmNlQVJOO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGFnS2V5cyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9UYWdLZXlMaXN0KGlucHV0LlRhZ0tleXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFnS2V5cz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ0tleXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdLZXlzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1ZhbHVlcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBfX3NlcmlhbGl6ZUZsb2F0KGVudHJ5KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBkZV9BbGFybUhpc3RvcnlJdGVtID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkFsYXJtTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFsYXJtTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBbGFybVR5cGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BbGFybVR5cGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBbGFybVR5cGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIlRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiSGlzdG9yeUl0ZW1UeXBlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSGlzdG9yeUl0ZW1UeXBlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiSGlzdG9yeUl0ZW1UeXBlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkhpc3RvcnlTdW1tYXJ5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSGlzdG9yeVN1bW1hcnkgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJIaXN0b3J5U3VtbWFyeVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJIaXN0b3J5RGF0YVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkhpc3RvcnlEYXRhID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiSGlzdG9yeURhdGFcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQWxhcm1IaXN0b3J5SXRlbXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0FsYXJtSGlzdG9yeUl0ZW0oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Fub21hbHlEZXRlY3RvciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lc3BhY2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lc3BhY2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lc3BhY2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWV0cmljTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY05hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXRyaWNOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5EaW1lbnNpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRGltZW5zaW9uc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkRpbWVuc2lvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EaW1lbnNpb25zID0gZGVfRGltZW5zaW9ucyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkRpbWVuc2lvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU3RhdFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvbiA9IGRlX0Fub21hbHlEZXRlY3RvckNvbmZpZ3VyYXRpb24ob3V0cHV0W1wiQ29uZmlndXJhdGlvblwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGVWYWx1ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlVmFsdWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yID0gZGVfU2luZ2xlTWV0cmljQW5vbWFseURldGVjdG9yKG91dHB1dFtcIlNpbmdsZU1ldHJpY0Fub21hbHlEZXRlY3RvclwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXRyaWNNYXRoQW5vbWFseURldGVjdG9yXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljTWF0aEFub21hbHlEZXRlY3RvciA9IGRlX01ldHJpY01hdGhBbm9tYWx5RGV0ZWN0b3Iob3V0cHV0W1wiTWV0cmljTWF0aEFub21hbHlEZXRlY3RvclwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Bbm9tYWx5RGV0ZWN0b3JDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5FeGNsdWRlZFRpbWVSYW5nZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRXhjbHVkZWRUaW1lUmFuZ2VzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkV4Y2x1ZGVkVGltZVJhbmdlc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkV4Y2x1ZGVkVGltZVJhbmdlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV4Y2x1ZGVkVGltZVJhbmdlcyA9IGRlX0Fub21hbHlEZXRlY3RvckV4Y2x1ZGVkVGltZVJhbmdlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkV4Y2x1ZGVkVGltZVJhbmdlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWV0cmljVGltZXpvbmVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNUaW1lem9uZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1ldHJpY1RpbWV6b25lXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Fub21hbHlEZXRlY3RvckV4Y2x1ZGVkVGltZVJhbmdlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUmFuZ2UoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Fub21hbHlEZXRlY3RvcnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0Fub21hbHlEZXRlY3RvcihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfQmF0Y2hGYWlsdXJlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUGFydGlhbEZhaWx1cmUoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NvbXBvc2l0ZUFsYXJtID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkFjdGlvbnNFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWN0aW9uc0VuYWJsZWQgPSBfX3BhcnNlQm9vbGVhbihvdXRwdXRbXCJBY3Rpb25zRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuQWxhcm1BY3Rpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtQWN0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJBbGFybUFjdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJBbGFybUFjdGlvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BbGFybUFjdGlvbnMgPSBkZV9SZXNvdXJjZUxpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJBbGFybUFjdGlvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFsYXJtQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1Bcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBbGFybUFyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBbGFybUNvbmZpZ3VyYXRpb25VcGRhdGVkVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1Db25maWd1cmF0aW9uVXBkYXRlZFRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJBbGFybUNvbmZpZ3VyYXRpb25VcGRhdGVkVGltZXN0YW1wXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBbGFybURlc2NyaXB0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1EZXNjcmlwdGlvbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFsYXJtRGVzY3JpcHRpb25cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWxhcm1OYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWxhcm1OYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFsYXJtUnVsZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtUnVsZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFsYXJtUnVsZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiSW5zdWZmaWNpZW50RGF0YUFjdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvdXRwdXRbXCJJbnN1ZmZpY2llbnREYXRhQWN0aW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkluc3VmZmljaWVudERhdGFBY3Rpb25zID0gZGVfUmVzb3VyY2VMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiSW5zdWZmaWNpZW50RGF0YUFjdGlvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5PS0FjdGlvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuT0tBY3Rpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk9LQWN0aW9uc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIk9LQWN0aW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk9LQWN0aW9ucyA9IGRlX1Jlc291cmNlTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk9LQWN0aW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVSZWFzb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZVJlYXNvbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlUmVhc29uXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlUmVhc29uRGF0YVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlUmVhc29uRGF0YSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlUmVhc29uRGF0YVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVVwZGF0ZWRUaW1lc3RhbXBcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZVVwZGF0ZWRUaW1lc3RhbXAgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiU3RhdGVVcGRhdGVkVGltZXN0YW1wXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGVWYWx1ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlVmFsdWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVUcmFuc2l0aW9uZWRUaW1lc3RhbXBcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZVRyYW5zaXRpb25lZFRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJTdGF0ZVRyYW5zaXRpb25lZFRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWN0aW9uc1N1cHByZXNzZWRCeVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFjdGlvbnNTdXBwcmVzc2VkQnkgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBY3Rpb25zU3VwcHJlc3NlZEJ5XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFjdGlvbnNTdXBwcmVzc2VkUmVhc29uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWN0aW9uc1N1cHByZXNzZWRSZWFzb24gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBY3Rpb25zU3VwcHJlc3NlZFJlYXNvblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBY3Rpb25zU3VwcHJlc3NvclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFjdGlvbnNTdXBwcmVzc29yID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWN0aW9uc1N1cHByZXNzb3JcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWN0aW9uc1N1cHByZXNzb3JXYWl0UGVyaW9kXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWN0aW9uc1N1cHByZXNzb3JXYWl0UGVyaW9kID0gX19zdHJpY3RQYXJzZUludDMyKG91dHB1dFtcIkFjdGlvbnNTdXBwcmVzc29yV2FpdFBlcmlvZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBY3Rpb25zU3VwcHJlc3NvckV4dGVuc2lvblBlcmlvZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFjdGlvbnNTdXBwcmVzc29yRXh0ZW5zaW9uUGVyaW9kID0gX19zdHJpY3RQYXJzZUludDMyKG91dHB1dFtcIkFjdGlvbnNTdXBwcmVzc29yRXh0ZW5zaW9uUGVyaW9kXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NvbXBvc2l0ZUFsYXJtcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfQ29tcG9zaXRlQWxhcm0oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NvbmN1cnJlbnRNb2RpZmljYXRpb25FeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rhc2hib2FyZEVudHJpZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0Rhc2hib2FyZEVudHJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRFbnRyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJEYXNoYm9hcmROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGFzaGJvYXJkTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRhc2hib2FyZE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRGFzaGJvYXJkQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGFzaGJvYXJkQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGFzaGJvYXJkQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkxhc3RNb2RpZmllZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkxhc3RNb2RpZmllZCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJMYXN0TW9kaWZpZWRcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNpemVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TaXplID0gX19zdHJpY3RQYXJzZUxvbmcob3V0cHV0W1wiU2l6ZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRJbnZhbGlkSW5wdXRFcnJvciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LmRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5kYXNoYm9hcmRWYWxpZGF0aW9uTWVzc2FnZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiZGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiZGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuZGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzID0gZGVfRGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiZGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EYXNoYm9hcmROb3RGb3VuZEVycm9yID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRWYWxpZGF0aW9uTWVzc2FnZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJEYXRhUGF0aFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhdGFQYXRoID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGF0YVBhdGhcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2UoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RhdGFwb2ludCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUaW1lc3RhbXBcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UaW1lc3RhbXAgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiVGltZXN0YW1wXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTYW1wbGVDb3VudFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNhbXBsZUNvdW50ID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIlNhbXBsZUNvdW50XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkF2ZXJhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BdmVyYWdlID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIkF2ZXJhZ2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3VtXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3VtID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIlN1bVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNaW5pbXVtXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWluaW11bSA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJNaW5pbXVtXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1heGltdW1cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NYXhpbXVtID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIk1heGltdW1cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVW5pdFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlVuaXQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJVbml0XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5FeHRlbmRlZFN0YXRpc3RpY3MgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRXh0ZW5kZWRTdGF0aXN0aWNzID0ge307XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkV4dGVuZGVkU3RhdGlzdGljc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkV4dGVuZGVkU3RhdGlzdGljc1wiXVtcImVudHJ5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXh0ZW5kZWRTdGF0aXN0aWNzID0gZGVfRGF0YXBvaW50VmFsdWVNYXAoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJFeHRlbmRlZFN0YXRpc3RpY3NcIl1bXCJlbnRyeVwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGF0YXBvaW50cyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRGF0YXBvaW50KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRhcG9pbnRWYWx1ZU1hcCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gb3V0cHV0LnJlZHVjZSgoYWNjLCBwYWlyKSA9PiB7XG4gICAgICAgIGlmIChwYWlyW1widmFsdWVcIl0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgYWNjW3BhaXJbXCJrZXlcIl1dID0gX19zdHJpY3RQYXJzZUZsb2F0KHBhaXJbXCJ2YWx1ZVwiXSk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufTtcbmNvbnN0IGRlX0RhdGFwb2ludFZhbHVlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19zdHJpY3RQYXJzZUZsb2F0KGVudHJ5KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EZWxldGVBbm9tYWx5RGV0ZWN0b3JPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlRGFzaGJvYXJkc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVJbnNpZ2h0UnVsZXNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LkZhaWx1cmVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkZhaWx1cmVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRmFpbHVyZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GYWlsdXJlcyA9IGRlX0JhdGNoRmFpbHVyZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJGYWlsdXJlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlTWV0cmljU3RyZWFtT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQWxhcm1IaXN0b3J5T3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5BbGFybUhpc3RvcnlJdGVtcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5BbGFybUhpc3RvcnlJdGVtcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJBbGFybUhpc3RvcnlJdGVtc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkFsYXJtSGlzdG9yeUl0ZW1zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1IaXN0b3J5SXRlbXMgPSBkZV9BbGFybUhpc3RvcnlJdGVtcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkFsYXJtSGlzdG9yeUl0ZW1zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBbGFybXNGb3JNZXRyaWNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0Lk1ldHJpY0FsYXJtcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNBbGFybXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiTWV0cmljQWxhcm1zXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWV0cmljQWxhcm1zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljQWxhcm1zID0gZGVfTWV0cmljQWxhcm1zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiTWV0cmljQWxhcm1zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFsYXJtc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuQ29tcG9zaXRlQWxhcm1zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbXBvc2l0ZUFsYXJtcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJDb21wb3NpdGVBbGFybXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJDb21wb3NpdGVBbGFybXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db21wb3NpdGVBbGFybXMgPSBkZV9Db21wb3NpdGVBbGFybXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJDb21wb3NpdGVBbGFybXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5NZXRyaWNBbGFybXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljQWxhcm1zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1ldHJpY0FsYXJtc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIk1ldHJpY0FsYXJtc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY0FsYXJtcyA9IGRlX01ldHJpY0FsYXJtcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1ldHJpY0FsYXJtc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQW5vbWFseURldGVjdG9yc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuQW5vbWFseURldGVjdG9ycyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Bbm9tYWx5RGV0ZWN0b3JzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkFub21hbHlEZXRlY3RvcnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJBbm9tYWx5RGV0ZWN0b3JzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQW5vbWFseURldGVjdG9ycyA9IGRlX0Fub21hbHlEZXRlY3RvcnMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJBbm9tYWx5RGV0ZWN0b3JzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVJbnNpZ2h0UnVsZXNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5JbnNpZ2h0UnVsZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuSW5zaWdodFJ1bGVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkluc2lnaHRSdWxlc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkluc2lnaHRSdWxlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkluc2lnaHRSdWxlcyA9IGRlX0luc2lnaHRSdWxlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkluc2lnaHRSdWxlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGltZW5zaW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlZhbHVlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVmFsdWVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGltZW5zaW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRGltZW5zaW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EaXNhYmxlSW5zaWdodFJ1bGVzT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5GYWlsdXJlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5GYWlsdXJlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJGYWlsdXJlc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkZhaWx1cmVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZXMgPSBkZV9CYXRjaEZhaWx1cmVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRmFpbHVyZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0VuYWJsZUluc2lnaHRSdWxlc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRmFpbHVyZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRmFpbHVyZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJGYWlsdXJlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVzID0gZGVfQmF0Y2hGYWlsdXJlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkZhaWx1cmVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXREYXNoYm9hcmRPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiRGFzaGJvYXJkQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGFzaGJvYXJkQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGFzaGJvYXJkQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkRhc2hib2FyZEJvZHlcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EYXNoYm9hcmRCb2R5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGFzaGJvYXJkQm9keVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEYXNoYm9hcmROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGFzaGJvYXJkTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRhc2hib2FyZE5hbWVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0SW5zaWdodFJ1bGVSZXBvcnRPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LktleUxhYmVscyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5LZXlMYWJlbHMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiS2V5TGFiZWxzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiS2V5TGFiZWxzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuS2V5TGFiZWxzID0gZGVfSW5zaWdodFJ1bGVDb250cmlidXRvcktleUxhYmVscyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIktleUxhYmVsc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWdncmVnYXRpb25TdGF0aXN0aWNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BZ2dyZWdhdGlvblN0YXRpc3RpYyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFnZ3JlZ2F0aW9uU3RhdGlzdGljXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFnZ3JlZ2F0ZVZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWdncmVnYXRlVmFsdWUgPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiQWdncmVnYXRlVmFsdWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQXBwcm94aW1hdGVVbmlxdWVDb3VudFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFwcHJveGltYXRlVW5pcXVlQ291bnQgPSBfX3N0cmljdFBhcnNlTG9uZyhvdXRwdXRbXCJBcHByb3hpbWF0ZVVuaXF1ZUNvdW50XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5Db250cmlidXRvcnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuQ29udHJpYnV0b3JzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkNvbnRyaWJ1dG9yc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkNvbnRyaWJ1dG9yc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbnRyaWJ1dG9ycyA9IGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3JzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiQ29udHJpYnV0b3JzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuTWV0cmljRGF0YXBvaW50cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNEYXRhcG9pbnRzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1ldHJpY0RhdGFwb2ludHNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJNZXRyaWNEYXRhcG9pbnRzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljRGF0YXBvaW50cyA9IGRlX0luc2lnaHRSdWxlTWV0cmljRGF0YXBvaW50cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1ldHJpY0RhdGFwb2ludHNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldE1ldHJpY0RhdGFPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0Lk1ldHJpY0RhdGFSZXN1bHRzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY0RhdGFSZXN1bHRzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1ldHJpY0RhdGFSZXN1bHRzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWV0cmljRGF0YVJlc3VsdHNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNEYXRhUmVzdWx0cyA9IGRlX01ldHJpY0RhdGFSZXN1bHRzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiTWV0cmljRGF0YVJlc3VsdHNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk5leHRUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5leHRUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5leHRUb2tlblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuTWVzc2FnZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWVzc2FnZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiTWVzc2FnZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJNZXNzYWdlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2VzID0gZGVfTWV0cmljRGF0YVJlc3VsdE1lc3NhZ2VzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiTWVzc2FnZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldE1ldHJpY1N0YXRpc3RpY3NPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTGFiZWxcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5MYWJlbCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkxhYmVsXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5EYXRhcG9pbnRzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkRhdGFwb2ludHMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRGF0YXBvaW50c1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkRhdGFwb2ludHNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EYXRhcG9pbnRzID0gZGVfRGF0YXBvaW50cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkRhdGFwb2ludHNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldE1ldHJpY1N0cmVhbU91dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJBcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Bcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5JbmNsdWRlRmlsdGVycyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5JbmNsdWRlRmlsdGVycyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJJbmNsdWRlRmlsdGVyc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkluY2x1ZGVGaWx0ZXJzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSW5jbHVkZUZpbHRlcnMgPSBkZV9NZXRyaWNTdHJlYW1GaWx0ZXJzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiSW5jbHVkZUZpbHRlcnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5FeGNsdWRlRmlsdGVycyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5FeGNsdWRlRmlsdGVycyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJFeGNsdWRlRmlsdGVyc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkV4Y2x1ZGVGaWx0ZXJzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXhjbHVkZUZpbHRlcnMgPSBkZV9NZXRyaWNTdHJlYW1GaWx0ZXJzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRXhjbHVkZUZpbHRlcnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkZpcmVob3NlQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmlyZWhvc2VBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJGaXJlaG9zZUFyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJSb2xlQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUm9sZUFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlJvbGVBcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkNyZWF0aW9uRGF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNyZWF0aW9uRGF0ZSA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJDcmVhdGlvbkRhdGVcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkxhc3RVcGRhdGVEYXRlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTGFzdFVwZGF0ZURhdGUgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiTGFzdFVwZGF0ZURhdGVcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk91dHB1dEZvcm1hdFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk91dHB1dEZvcm1hdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk91dHB1dEZvcm1hdFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuU3RhdGlzdGljc0NvbmZpZ3VyYXRpb25zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRpc3RpY3NDb25maWd1cmF0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJTdGF0aXN0aWNzQ29uZmlndXJhdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvdXRwdXRbXCJTdGF0aXN0aWNzQ29uZmlndXJhdGlvbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMgPSBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJTdGF0aXN0aWNzQ29uZmlndXJhdGlvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkluY2x1ZGVMaW5rZWRBY2NvdW50c01ldHJpY3NcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JbmNsdWRlTGlua2VkQWNjb3VudHNNZXRyaWNzID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiSW5jbHVkZUxpbmtlZEFjY291bnRzTWV0cmljc1wiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRNZXRyaWNXaWRnZXRJbWFnZU91dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNZXRyaWNXaWRnZXRJbWFnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY1dpZGdldEltYWdlID0gY29udGV4dC5iYXNlNjREZWNvZGVyKG91dHB1dFtcIk1ldHJpY1dpZGdldEltYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0luc2lnaHRSdWxlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU3RhdGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU2NoZW1hXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU2NoZW1hID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU2NoZW1hXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkRlZmluaXRpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EZWZpbml0aW9uID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGVmaW5pdGlvblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNYW5hZ2VkUnVsZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1hbmFnZWRSdWxlID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiTWFuYWdlZFJ1bGVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW5zaWdodFJ1bGVDb250cmlidXRvciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuS2V5cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5LZXlzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIktleXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJLZXlzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuS2V5cyA9IGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3JLZXlzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiS2V5c1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQXBwcm94aW1hdGVBZ2dyZWdhdGVWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFwcHJveGltYXRlQWdncmVnYXRlVmFsdWUgPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiQXBwcm94aW1hdGVBZ2dyZWdhdGVWYWx1ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRGF0YXBvaW50cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5EYXRhcG9pbnRzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkRhdGFwb2ludHNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJEYXRhcG9pbnRzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGF0YXBvaW50cyA9IGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3JEYXRhcG9pbnRzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGF0YXBvaW50c1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW5zaWdodFJ1bGVDb250cmlidXRvckRhdGFwb2ludCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUaW1lc3RhbXBcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UaW1lc3RhbXAgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiVGltZXN0YW1wXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBcHByb3hpbWF0ZVZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQXBwcm94aW1hdGVWYWx1ZSA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJBcHByb3hpbWF0ZVZhbHVlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0luc2lnaHRSdWxlQ29udHJpYnV0b3JEYXRhcG9pbnRzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9JbnNpZ2h0UnVsZUNvbnRyaWJ1dG9yRGF0YXBvaW50KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9JbnNpZ2h0UnVsZUNvbnRyaWJ1dG9yS2V5TGFiZWxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW5zaWdodFJ1bGVDb250cmlidXRvcktleXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0U3RyaW5nKGVudHJ5KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9JbnNpZ2h0UnVsZUNvbnRyaWJ1dG9ycyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfSW5zaWdodFJ1bGVDb250cmlidXRvcihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfSW5zaWdodFJ1bGVNZXRyaWNEYXRhcG9pbnQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIlRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVW5pcXVlQ29udHJpYnV0b3JzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVW5pcXVlQ29udHJpYnV0b3JzID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIlVuaXF1ZUNvbnRyaWJ1dG9yc1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNYXhDb250cmlidXRvclZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWF4Q29udHJpYnV0b3JWYWx1ZSA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJNYXhDb250cmlidXRvclZhbHVlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNhbXBsZUNvdW50XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU2FtcGxlQ291bnQgPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiU2FtcGxlQ291bnRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQXZlcmFnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkF2ZXJhZ2UgPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiQXZlcmFnZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdW1cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdW0gPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiU3VtXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1pbmltdW1cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NaW5pbXVtID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIk1pbmltdW1cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTWF4aW11bVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1heGltdW0gPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiTWF4aW11bVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnNpZ2h0UnVsZU1ldHJpY0RhdGFwb2ludHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0luc2lnaHRSdWxlTWV0cmljRGF0YXBvaW50KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9JbnNpZ2h0UnVsZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0luc2lnaHRSdWxlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9JbnRlcm5hbFNlcnZpY2VGYXVsdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW52YWxpZEZvcm1hdEZhdWx0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkTmV4dFRva2VuID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGltaXRFeGNlZWRlZEZhdWx0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0RGFzaGJvYXJkc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRGFzaGJvYXJkRW50cmllcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5EYXNoYm9hcmRFbnRyaWVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkRhc2hib2FyZEVudHJpZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJEYXNoYm9hcmRFbnRyaWVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGFzaGJvYXJkRW50cmllcyA9IGRlX0Rhc2hib2FyZEVudHJpZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJEYXNoYm9hcmRFbnRyaWVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdE1hbmFnZWRJbnNpZ2h0UnVsZXNPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0Lk1hbmFnZWRSdWxlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5NYW5hZ2VkUnVsZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiTWFuYWdlZFJ1bGVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWFuYWdlZFJ1bGVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWFuYWdlZFJ1bGVzID0gZGVfTWFuYWdlZFJ1bGVEZXNjcmlwdGlvbnMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJNYW5hZ2VkUnVsZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk5leHRUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5leHRUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5leHRUb2tlblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0TWV0cmljc091dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuTWV0cmljcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1ldHJpY3NcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJNZXRyaWNzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljcyA9IGRlX01ldHJpY3MoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJNZXRyaWNzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk93bmluZ0FjY291bnRzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLk93bmluZ0FjY291bnRzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk93bmluZ0FjY291bnRzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiT3duaW5nQWNjb3VudHNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Pd25pbmdBY2NvdW50cyA9IGRlX093bmluZ0FjY291bnRzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiT3duaW5nQWNjb3VudHNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RNZXRyaWNTdHJlYW1zT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5leHRUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5leHRUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5leHRUb2tlblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRW50cmllcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5FbnRyaWVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkVudHJpZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJFbnRyaWVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRW50cmllcyA9IGRlX01ldHJpY1N0cmVhbUVudHJpZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJFbnRyaWVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VGFnc0ZvclJlc291cmNlT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5UYWdzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLlRhZ3MgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiVGFnc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlRhZ3NcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UYWdzID0gZGVfVGFnTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlRhZ3NcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01hbmFnZWRSdWxlRGVzY3JpcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlJlc291cmNlQVJOXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUmVzb3VyY2VBUk4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJSZXNvdXJjZUFSTlwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJSdWxlU3RhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SdWxlU3RhdGUgPSBkZV9NYW5hZ2VkUnVsZVN0YXRlKG91dHB1dFtcIlJ1bGVTdGF0ZVwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NYW5hZ2VkUnVsZURlc2NyaXB0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWFuYWdlZFJ1bGVEZXNjcmlwdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfTWFuYWdlZFJ1bGVTdGF0ZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJSdWxlTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJ1bGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiUnVsZU5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01lc3NhZ2VEYXRhID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNvZGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db2RlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29kZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlZhbHVlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVmFsdWVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWV0cmljID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVzcGFjZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWVzcGFjZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVzcGFjZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXRyaWNOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1ldHJpY05hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkRpbWVuc2lvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9ucyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJEaW1lbnNpb25zXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiRGltZW5zaW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvbnMgPSBkZV9EaW1lbnNpb25zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGltZW5zaW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWV0cmljQWxhcm0gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQWxhcm1OYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWxhcm1OYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFsYXJtQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1Bcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBbGFybUFyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJBbGFybURlc2NyaXB0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1EZXNjcmlwdGlvbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFsYXJtRGVzY3JpcHRpb25cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWxhcm1Db25maWd1cmF0aW9uVXBkYXRlZFRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFsYXJtQ29uZmlndXJhdGlvblVwZGF0ZWRUaW1lc3RhbXAgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiQWxhcm1Db25maWd1cmF0aW9uVXBkYXRlZFRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWN0aW9uc0VuYWJsZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BY3Rpb25zRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIkFjdGlvbnNFbmFibGVkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5PS0FjdGlvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuT0tBY3Rpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk9LQWN0aW9uc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIk9LQWN0aW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk9LQWN0aW9ucyA9IGRlX1Jlc291cmNlTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk9LQWN0aW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkFsYXJtQWN0aW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5BbGFybUFjdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiQWxhcm1BY3Rpb25zXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiQWxhcm1BY3Rpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWxhcm1BY3Rpb25zID0gZGVfUmVzb3VyY2VMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiQWxhcm1BY3Rpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuSW5zdWZmaWNpZW50RGF0YUFjdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiSW5zdWZmaWNpZW50RGF0YUFjdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvdXRwdXRbXCJJbnN1ZmZpY2llbnREYXRhQWN0aW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkluc3VmZmljaWVudERhdGFBY3Rpb25zID0gZGVfUmVzb3VyY2VMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiSW5zdWZmaWNpZW50RGF0YUFjdGlvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlVmFsdWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ZVZhbHVlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU3RhdGVWYWx1ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVJlYXNvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlUmVhc29uID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU3RhdGVSZWFzb25cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGVSZWFzb25EYXRhXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGVSZWFzb25EYXRhID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU3RhdGVSZWFzb25EYXRhXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlVXBkYXRlZFRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlVXBkYXRlZFRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJTdGF0ZVVwZGF0ZWRUaW1lc3RhbXBcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1ldHJpY05hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWV0cmljTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOYW1lc3BhY2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lc3BhY2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lc3BhY2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdGlzdGljXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGlzdGljID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU3RhdGlzdGljXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkV4dGVuZGVkU3RhdGlzdGljXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXh0ZW5kZWRTdGF0aXN0aWMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJFeHRlbmRlZFN0YXRpc3RpY1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRGltZW5zaW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5EaW1lbnNpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkRpbWVuc2lvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJEaW1lbnNpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9ucyA9IGRlX0RpbWVuc2lvbnMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJEaW1lbnNpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJQZXJpb2RcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5QZXJpb2QgPSBfX3N0cmljdFBhcnNlSW50MzIob3V0cHV0W1wiUGVyaW9kXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlVuaXRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Vbml0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVW5pdFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFdmFsdWF0aW9uUGVyaW9kc1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV2YWx1YXRpb25QZXJpb2RzID0gX19zdHJpY3RQYXJzZUludDMyKG91dHB1dFtcIkV2YWx1YXRpb25QZXJpb2RzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkRhdGFwb2ludHNUb0FsYXJtXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGF0YXBvaW50c1RvQWxhcm0gPSBfX3N0cmljdFBhcnNlSW50MzIob3V0cHV0W1wiRGF0YXBvaW50c1RvQWxhcm1cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVGhyZXNob2xkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGhyZXNob2xkID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIlRocmVzaG9sZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJDb21wYXJpc29uT3BlcmF0b3JcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db21wYXJpc29uT3BlcmF0b3IgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDb21wYXJpc29uT3BlcmF0b3JcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVHJlYXRNaXNzaW5nRGF0YVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRyZWF0TWlzc2luZ0RhdGEgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUcmVhdE1pc3NpbmdEYXRhXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkV2YWx1YXRlTG93U2FtcGxlQ291bnRQZXJjZW50aWxlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXZhbHVhdGVMb3dTYW1wbGVDb3VudFBlcmNlbnRpbGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJFdmFsdWF0ZUxvd1NhbXBsZUNvdW50UGVyY2VudGlsZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuTWV0cmljcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIk1ldHJpY3NcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJNZXRyaWNzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljcyA9IGRlX01ldHJpY0RhdGFRdWVyaWVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiTWV0cmljc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVGhyZXNob2xkTWV0cmljSWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UaHJlc2hvbGRNZXRyaWNJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRocmVzaG9sZE1ldHJpY0lkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkV2YWx1YXRpb25TdGF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV2YWx1YXRpb25TdGF0ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkV2YWx1YXRpb25TdGF0ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0ZVRyYW5zaXRpb25lZFRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXRlVHJhbnNpdGlvbmVkVGltZXN0YW1wID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIlN0YXRlVHJhbnNpdGlvbmVkVGltZXN0YW1wXCJdKSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NZXRyaWNBbGFybXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01ldHJpY0FsYXJtKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNEYXRhUXVlcmllcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWV0cmljRGF0YVF1ZXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNEYXRhUXVlcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiSWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIklkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1ldHJpY1N0YXRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNTdGF0ID0gZGVfTWV0cmljU3RhdChvdXRwdXRbXCJNZXRyaWNTdGF0XCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkV4cHJlc3Npb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FeHByZXNzaW9uID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRXhwcmVzc2lvblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJMYWJlbFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkxhYmVsID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTGFiZWxcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUmV0dXJuRGF0YVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJldHVybkRhdGEgPSBfX3BhcnNlQm9vbGVhbihvdXRwdXRbXCJSZXR1cm5EYXRhXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlBlcmlvZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlBlcmlvZCA9IF9fc3RyaWN0UGFyc2VJbnQzMihvdXRwdXRbXCJQZXJpb2RcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQWNjb3VudElkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWNjb3VudElkID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQWNjb3VudElkXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01ldHJpY0RhdGFSZXN1bHQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiSWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5JZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIklkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkxhYmVsXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTGFiZWwgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJMYWJlbFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuVGltZXN0YW1wcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5UaW1lc3RhbXBzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIlRpbWVzdGFtcHNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJUaW1lc3RhbXBzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGltZXN0YW1wcyA9IGRlX1RpbWVzdGFtcHMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJUaW1lc3RhbXBzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuVmFsdWVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLlZhbHVlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJWYWx1ZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJWYWx1ZXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WYWx1ZXMgPSBkZV9EYXRhcG9pbnRWYWx1ZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJWYWx1ZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXR1c0NvZGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0dXNDb2RlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU3RhdHVzQ29kZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuTWVzc2FnZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWVzc2FnZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiTWVzc2FnZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJNZXNzYWdlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2VzID0gZGVfTWV0cmljRGF0YVJlc3VsdE1lc3NhZ2VzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiTWVzc2FnZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01ldHJpY0RhdGFSZXN1bHRNZXNzYWdlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWVzc2FnZURhdGEoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX01ldHJpY0RhdGFSZXN1bHRzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZXRyaWNEYXRhUmVzdWx0KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNNYXRoQW5vbWFseURldGVjdG9yID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5NZXRyaWNEYXRhUXVlcmllcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNEYXRhUXVlcmllcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJNZXRyaWNEYXRhUXVlcmllc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIk1ldHJpY0RhdGFRdWVyaWVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljRGF0YVF1ZXJpZXMgPSBkZV9NZXRyaWNEYXRhUXVlcmllcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1ldHJpY0RhdGFRdWVyaWVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NZXRyaWNzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZXRyaWMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX01ldHJpY1N0YXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWV0cmljXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljID0gZGVfTWV0cmljKG91dHB1dFtcIk1ldHJpY1wiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJQZXJpb2RcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5QZXJpb2QgPSBfX3N0cmljdFBhcnNlSW50MzIob3V0cHV0W1wiUGVyaW9kXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU3RhdFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJVbml0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVW5pdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlVuaXRcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWV0cmljU3RyZWFtRW50cmllcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWV0cmljU3RyZWFtRW50cnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX01ldHJpY1N0cmVhbUVudHJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkFyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJDcmVhdGlvbkRhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DcmVhdGlvbkRhdGUgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiQ3JlYXRpb25EYXRlXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJMYXN0VXBkYXRlRGF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkxhc3RVcGRhdGVEYXRlID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIkxhc3RVcGRhdGVEYXRlXCJdKSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRmlyZWhvc2VBcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GaXJlaG9zZUFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZpcmVob3NlQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0YXRlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0ZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJPdXRwdXRGb3JtYXRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5PdXRwdXRGb3JtYXQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJPdXRwdXRGb3JtYXRcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWV0cmljU3RyZWFtRmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVzcGFjZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWVzcGFjZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVzcGFjZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuTWV0cmljTmFtZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTWV0cmljTmFtZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiTWV0cmljTmFtZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJNZXRyaWNOYW1lc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldHJpY05hbWVzID0gZGVfTWV0cmljU3RyZWFtRmlsdGVyTWV0cmljTmFtZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJNZXRyaWNOYW1lc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWV0cmljU3RyZWFtRmlsdGVyTWV0cmljTmFtZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0U3RyaW5nKGVudHJ5KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNTdHJlYW1GaWx0ZXJzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZXRyaWNTdHJlYW1GaWx0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NBZGRpdGlvbmFsU3RhdGlzdGljcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5JbmNsdWRlTWV0cmljcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5JbmNsdWRlTWV0cmljcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJJbmNsdWRlTWV0cmljc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkluY2x1ZGVNZXRyaWNzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSW5jbHVkZU1ldHJpY3MgPSBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzSW5jbHVkZU1ldHJpY3MoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJJbmNsdWRlTWV0cmljc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LkFkZGl0aW9uYWxTdGF0aXN0aWNzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkFkZGl0aW9uYWxTdGF0aXN0aWNzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkFkZGl0aW9uYWxTdGF0aXN0aWNzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiQWRkaXRpb25hbFN0YXRpc3RpY3NcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5BZGRpdGlvbmFsU3RhdGlzdGljcyA9IGRlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NBZGRpdGlvbmFsU3RhdGlzdGljcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkFkZGl0aW9uYWxTdGF0aXN0aWNzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzQ29uZmlndXJhdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NDb25maWd1cmF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZXRyaWNTdHJlYW1TdGF0aXN0aWNzSW5jbHVkZU1ldHJpY3MgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NNZXRyaWMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX01ldHJpY1N0cmVhbVN0YXRpc3RpY3NNZXRyaWMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZXNwYWNlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZXNwYWNlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZXNwYWNlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1ldHJpY05hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWV0cmljTmFtZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX093bmluZ0FjY291bnRzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGFydGlhbEZhaWx1cmUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiRmFpbHVyZVJlc291cmNlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZVJlc291cmNlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRmFpbHVyZVJlc291cmNlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkV4Y2VwdGlvblR5cGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FeGNlcHRpb25UeXBlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRXhjZXB0aW9uVHlwZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJGYWlsdXJlQ29kZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZhaWx1cmVDb2RlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRmFpbHVyZUNvZGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRmFpbHVyZURlc2NyaXB0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZURlc2NyaXB0aW9uID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRmFpbHVyZURlc2NyaXB0aW9uXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1B1dEFub21hbHlEZXRlY3Rvck91dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QdXREYXNoYm9hcmRPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0LkRhc2hib2FyZFZhbGlkYXRpb25NZXNzYWdlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5EYXNoYm9hcmRWYWxpZGF0aW9uTWVzc2FnZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiRGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzID0gZGVfRGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGFzaGJvYXJkVmFsaWRhdGlvbk1lc3NhZ2VzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QdXRJbnNpZ2h0UnVsZU91dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QdXRNYW5hZ2VkSW5zaWdodFJ1bGVzT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5GYWlsdXJlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5GYWlsdXJlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJGYWlsdXJlc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkZhaWx1cmVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZXMgPSBkZV9CYXRjaEZhaWx1cmVzKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRmFpbHVyZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1B1dE1ldHJpY1N0cmVhbU91dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJBcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Bcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJBcm5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmFuZ2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiU3RhcnRUaW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhcnRUaW1lID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIlN0YXJ0VGltZVwiXSkpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRW5kVGltZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkVuZFRpbWUgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiRW5kVGltZVwiXSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VOb3RGb3VuZCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJSZXNvdXJjZVR5cGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SZXNvdXJjZVR5cGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJSZXNvdXJjZVR5cGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiUmVzb3VyY2VJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJlc291cmNlSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJSZXNvdXJjZUlkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TaW5nbGVNZXRyaWNBbm9tYWx5RGV0ZWN0b3IgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZXNwYWNlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZXNwYWNlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZXNwYWNlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1ldHJpY05hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXRyaWNOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWV0cmljTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRGltZW5zaW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5EaW1lbnNpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkRpbWVuc2lvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJEaW1lbnNpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9ucyA9IGRlX0RpbWVuc2lvbnMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJEaW1lbnNpb25zXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdGF0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlN0YXRcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU3RhcnRNZXRyaWNTdHJlYW1zT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1N0b3BNZXRyaWNTdHJlYW1zT3V0cHV0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1RhZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJLZXlcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5LZXkgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJLZXlcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVmFsdWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WYWx1ZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlZhbHVlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1RhZ0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1RhZyhlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGFnUmVzb3VyY2VPdXRwdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVGltZXN0YW1wcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KGVudHJ5KSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfVW50YWdSZXNvdXJjZU91dHB1dCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZXNlcmlhbGl6ZU1ldGFkYXRhID0gKG91dHB1dCkgPT4gKHtcbiAgICBodHRwU3RhdHVzQ29kZTogb3V0cHV0LnN0YXR1c0NvZGUsXG4gICAgcmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0aWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdC1pZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16LXJlcXVlc3QtaWRcIl0sXG4gICAgZXh0ZW5kZWRSZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotaWQtMlwiXSxcbiAgICBjZklkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWNmLWlkXCJdLFxufSk7XG5jb25zdCBjb2xsZWN0Qm9keSA9IChzdHJlYW1Cb2R5ID0gbmV3IFVpbnQ4QXJyYXkoKSwgY29udGV4dCkgPT4ge1xuICAgIGlmIChzdHJlYW1Cb2R5IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0cmVhbUJvZHkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dC5zdHJlYW1Db2xsZWN0b3Ioc3RyZWFtQm9keSkgfHwgUHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KCkpO1xufTtcbmNvbnN0IGNvbGxlY3RCb2R5U3RyaW5nID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5KHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGJvZHkpID0+IGNvbnRleHQudXRmOEVuY29kZXIoYm9keSkpO1xuY29uc3QgdGhyb3dEZWZhdWx0RXJyb3IgPSB3aXRoQmFzZUV4Y2VwdGlvbihfX0Jhc2VFeGNlcHRpb24pO1xuY29uc3QgYnVpbGRIdHRwUnBjUmVxdWVzdCA9IGFzeW5jIChjb250ZXh0LCBoZWFkZXJzLCBwYXRoLCByZXNvbHZlZEhvc3RuYW1lLCBib2R5KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgY29udGVudHMgPSB7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgcGF0aDogYmFzZVBhdGguZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpICsgcGF0aCA6IGJhc2VQYXRoICsgcGF0aCxcbiAgICAgICAgaGVhZGVycyxcbiAgICB9O1xuICAgIGlmIChyZXNvbHZlZEhvc3RuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuaG9zdG5hbWUgPSByZXNvbHZlZEhvc3RuYW1lO1xuICAgIH1cbiAgICBpZiAoYm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLmJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3QoY29udGVudHMpO1xufTtcbmNvbnN0IFNIQVJFRF9IRUFERVJTID0ge1xuICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG59O1xuY29uc3QgcGFyc2VCb2R5ID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5U3RyaW5nKHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGVuY29kZWQpID0+IHtcbiAgICBpZiAoZW5jb2RlZC5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IFhNTFBhcnNlcih7XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lUHJlZml4OiBcIlwiLFxuICAgICAgICAgICAgaHRtbEVudGl0aWVzOiB0cnVlLFxuICAgICAgICAgICAgaWdub3JlQXR0cmlidXRlczogZmFsc2UsXG4gICAgICAgICAgICBpZ25vcmVEZWNsYXJhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIHBhcnNlVGFnVmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgdHJpbVZhbHVlczogZmFsc2UsXG4gICAgICAgICAgICB0YWdWYWx1ZVByb2Nlc3NvcjogKF8sIHZhbCkgPT4gKHZhbC50cmltKCkgPT09IFwiXCIgJiYgdmFsLmluY2x1ZGVzKFwiXFxuXCIpID8gXCJcIiA6IHVuZGVmaW5lZCksXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJzZXIuYWRkRW50aXR5KFwiI3hEXCIsIFwiXFxyXCIpO1xuICAgICAgICBwYXJzZXIuYWRkRW50aXR5KFwiIzEwXCIsIFwiXFxuXCIpO1xuICAgICAgICBjb25zdCBwYXJzZWRPYmogPSBwYXJzZXIucGFyc2UoZW5jb2RlZCk7XG4gICAgICAgIGNvbnN0IHRleHROb2RlTmFtZSA9IFwiI3RleHRcIjtcbiAgICAgICAgY29uc3Qga2V5ID0gT2JqZWN0LmtleXMocGFyc2VkT2JqKVswXTtcbiAgICAgICAgY29uc3QgcGFyc2VkT2JqVG9SZXR1cm4gPSBwYXJzZWRPYmpba2V5XTtcbiAgICAgICAgaWYgKHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV0pIHtcbiAgICAgICAgICAgIHBhcnNlZE9ialRvUmV0dXJuW2tleV0gPSBwYXJzZWRPYmpUb1JldHVyblt0ZXh0Tm9kZU5hbWVdO1xuICAgICAgICAgICAgZGVsZXRlIHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9fZ2V0VmFsdWVGcm9tVGV4dE5vZGUocGFyc2VkT2JqVG9SZXR1cm4pO1xuICAgIH1cbiAgICByZXR1cm4ge307XG59KTtcbmNvbnN0IHBhcnNlRXJyb3JCb2R5ID0gYXN5bmMgKGVycm9yQm9keSwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFyc2VCb2R5KGVycm9yQm9keSwgY29udGV4dCk7XG4gICAgaWYgKHZhbHVlLkVycm9yKSB7XG4gICAgICAgIHZhbHVlLkVycm9yLm1lc3NhZ2UgPSB2YWx1ZS5FcnJvci5tZXNzYWdlID8/IHZhbHVlLkVycm9yLk1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5jb25zdCBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nID0gKGZvcm1FbnRyaWVzKSA9PiBPYmplY3QuZW50cmllcyhmb3JtRW50cmllcylcbiAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IF9fZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQoa2V5KSArIFwiPVwiICsgX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgLmpvaW4oXCImXCIpO1xuY29uc3QgbG9hZFF1ZXJ5RXJyb3JDb2RlID0gKG91dHB1dCwgZGF0YSkgPT4ge1xuICAgIGlmIChkYXRhLkVycm9yPy5Db2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuRXJyb3IuQ29kZTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID09IDQwNCkge1xuICAgICAgICByZXR1cm4gXCJOb3RGb3VuZFwiO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBnZXRFbmRwb2ludFBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRTZXJkZVBsdWdpbiB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXNlcmRlXCI7XG5pbXBvcnQgeyBDb21tYW5kIGFzICRDb21tYW5kIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IGRlX1B1dE1ldHJpY0RhdGFDb21tYW5kLCBzZV9QdXRNZXRyaWNEYXRhQ29tbWFuZCB9IGZyb20gXCIuLi9wcm90b2NvbHMvQXdzX3F1ZXJ5XCI7XG5leHBvcnQgeyAkQ29tbWFuZCB9O1xuZXhwb3J0IGNsYXNzIFB1dE1ldHJpY0RhdGFDb21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIFB1dE1ldHJpY0RhdGFDb21tYW5kLmdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkpKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBjbGllbnRTdGFjay5jb25jYXQodGhpcy5taWRkbGV3YXJlU3RhY2spO1xuICAgICAgICBjb25zdCB7IGxvZ2dlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgY2xpZW50TmFtZSA9IFwiQ2xvdWRXYXRjaENsaWVudFwiO1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IFwiUHV0TWV0cmljRGF0YUNvbW1hbmRcIjtcbiAgICAgICAgY29uc3QgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQgPSB7XG4gICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICBjbGllbnROYW1lLFxuICAgICAgICAgICAgY29tbWFuZE5hbWUsXG4gICAgICAgICAgICBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgICAgICBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RIYW5kbGVyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICByZXR1cm4gc3RhY2sucmVzb2x2ZSgocmVxdWVzdCkgPT4gcmVxdWVzdEhhbmRsZXIuaGFuZGxlKHJlcXVlc3QucmVxdWVzdCwgb3B0aW9ucyB8fCB7fSksIGhhbmRsZXJFeGVjdXRpb25Db250ZXh0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKGlucHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBzZV9QdXRNZXRyaWNEYXRhQ29tbWFuZChpbnB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKG91dHB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0TWV0cmljRGF0YUNvbW1hbmQob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDbG91ZFdhdGNoQ2xpZW50LCBNZXRyaWNEYXR1bSwgUHV0TWV0cmljRGF0YUNvbW1hbmQgfSBmcm9tICdAYXdzLXNkay9jbGllbnQtY2xvdWR3YXRjaCdcclxuXHJcbmV4cG9ydCBjbGFzcyBDbG91ZFdhdGNoTWV0cmljQ2xpZW50IHtcclxuXHRwcml2YXRlIG1ldHJpY0RhdGE6IE1ldHJpY0RhdHVtW10gPSBbXVxyXG5cdHByaXZhdGUgY2xvdWRXYXRjaENsaWVudCA9IG5ldyBDbG91ZFdhdGNoQ2xpZW50KHt9KVxyXG5cclxuXHQvLyBOb3JtYWxseSB3ZSdkIHdvcnJ5IGFib3V0IG1heCBtZXRyaWMgZGF0YSBwZXIgcmVxdWVzdCBidXQgdGhlIG1heCBpcyBjdXJyZW50bHkgMjAgYW5kIHdlIHdvbid0IGJlIHB1Ymxpc2hpbmcgdGhhdCBtYW55IG1ldHJpY3NcclxuXHRwdWJsaWMgcXVldWVNZXRyaWMobWV0cmljRGF0dW06IE1ldHJpY0RhdHVtKSB7XHJcblx0XHR0aGlzLm1ldHJpY0RhdGEucHVzaChtZXRyaWNEYXR1bSlcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBlbWl0UXVldWVkTWV0cmljcygpIHtcclxuXHRcdGNvbnN0IHB1dE1ldHJpY0RhdGFDb21tYW5kID0gbmV3IFB1dE1ldHJpY0RhdGFDb21tYW5kKHtcclxuXHRcdFx0TmFtZXNwYWNlOiBwcm9jZXNzLmVudi5BV1NfTEFNQkRBX0ZVTkNUSU9OX05BTUUsXHJcblx0XHRcdE1ldHJpY0RhdGE6IHRoaXMubWV0cmljRGF0YSxcclxuXHRcdH0pXHJcblxyXG5cdFx0Ly8gU3RyeWtlciBkaXNhYmxlIG5leHQtbGluZSBhbGwgXCJJIGRvIG5vdCBjYXJlIGFib3V0IG11dGF0aW5nIGNvbnNvbGUgc3RhdGVtZW50c1wiXHJcblx0XHRjb25zb2xlLmRlYnVnKGBFbWl0dGluZyBtZXRyaWNzOlxcbiR7SlNPTi5zdHJpbmdpZnkocHV0TWV0cmljRGF0YUNvbW1hbmQuaW5wdXQsIG51bGwsIDIpfWApXHJcblxyXG5cdFx0YXdhaXQgdGhpcy5jbG91ZFdhdGNoQ2xpZW50LnNlbmQocHV0TWV0cmljRGF0YUNvbW1hbmQpXHJcblxyXG5cdFx0dGhpcy5tZXRyaWNEYXRhID0gW11cclxuXHR9XHJcbn0iLCJleHBvcnQgY29uc3QgcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycyA9IChvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IG9wdGlvbnMudXNlRHVhbHN0YWNrRW5kcG9pbnQgPz8gZmFsc2UsXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogb3B0aW9ucy51c2VGaXBzRW5kcG9pbnQgPz8gZmFsc2UsXG4gICAgICAgIGRlZmF1bHRTaWduaW5nTmFtZTogXCJzZXNcIixcbiAgICB9O1xufTtcbiIsImNvbnN0IHAgPSBcInJlcXVpcmVkXCIsIHEgPSBcImZuXCIsIHIgPSBcImFyZ3ZcIiwgcyA9IFwicmVmXCI7XG5jb25zdCBhID0gXCJQYXJ0aXRpb25SZXN1bHRcIiwgYiA9IFwidHJlZVwiLCBjID0gXCJlcnJvclwiLCBkID0gXCJlbmRwb2ludFwiLCBlID0geyBbcF06IGZhbHNlLCBcInR5cGVcIjogXCJTdHJpbmdcIiB9LCBmID0geyBbcF06IHRydWUsIFwiZGVmYXVsdFwiOiBmYWxzZSwgXCJ0eXBlXCI6IFwiQm9vbGVhblwiIH0sIGcgPSB7IFtzXTogXCJFbmRwb2ludFwiIH0sIGggPSB7IFtxXTogXCJib29sZWFuRXF1YWxzXCIsIFtyXTogW3sgW3NdOiBcIlVzZUZJUFNcIiB9LCB0cnVlXSB9LCBpID0geyBbcV06IFwiYm9vbGVhbkVxdWFsc1wiLCBbcl06IFt7IFtzXTogXCJVc2VEdWFsU3RhY2tcIiB9LCB0cnVlXSB9LCBqID0ge30sIGsgPSB7IFtxXTogXCJib29sZWFuRXF1YWxzXCIsIFtyXTogW3RydWUsIHsgW3FdOiBcImdldEF0dHJcIiwgW3JdOiBbeyBbc106IGEgfSwgXCJzdXBwb3J0c0ZJUFNcIl0gfV0gfSwgbCA9IHsgW3FdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3JdOiBbdHJ1ZSwgeyBbcV06IFwiZ2V0QXR0clwiLCBbcl06IFt7IFtzXTogYSB9LCBcInN1cHBvcnRzRHVhbFN0YWNrXCJdIH1dIH0sIG0gPSBbZ10sIG4gPSBbaF0sIG8gPSBbaV07XG5jb25zdCBfZGF0YSA9IHsgdmVyc2lvbjogXCIxLjBcIiwgcGFyYW1ldGVyczogeyBSZWdpb246IGUsIFVzZUR1YWxTdGFjazogZiwgVXNlRklQUzogZiwgRW5kcG9pbnQ6IGUgfSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtxXTogXCJhd3MucGFydGl0aW9uXCIsIFtyXTogW3sgW3NdOiBcIlJlZ2lvblwiIH1dLCBhc3NpZ246IGEgfV0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbeyBbcV06IFwiaXNTZXRcIiwgW3JdOiBtIH0sIHsgW3FdOiBcInBhcnNlVVJMXCIsIFtyXTogbSwgYXNzaWduOiBcInVybFwiIH1dLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogbiwgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBGSVBTIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgdHlwZTogYyB9LCB7IHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBvLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IER1YWxzdGFjayBhbmQgY3VzdG9tIGVuZHBvaW50IGFyZSBub3Qgc3VwcG9ydGVkXCIsIHR5cGU6IGMgfSwgeyBlbmRwb2ludDogeyB1cmw6IGcsIHByb3BlcnRpZXM6IGosIGhlYWRlcnM6IGogfSwgdHlwZTogZCB9XSB9XSB9LCB7IGNvbmRpdGlvbnM6IFtoLCBpXSwgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFtrLCBsXSwgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL2VtYWlsLWZpcHMue1JlZ2lvbn0ue1BhcnRpdGlvblJlc3VsdCNkdWFsU3RhY2tEbnNTdWZmaXh9XCIsIHByb3BlcnRpZXM6IGosIGhlYWRlcnM6IGogfSwgdHlwZTogZCB9XSB9LCB7IGVycm9yOiBcIkZJUFMgYW5kIER1YWxTdGFjayBhcmUgZW5hYmxlZCwgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgb25lIG9yIGJvdGhcIiwgdHlwZTogYyB9XSB9LCB7IGNvbmRpdGlvbnM6IG4sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBba10sIHR5cGU6IGIsIHJ1bGVzOiBbeyB0eXBlOiBiLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vZW1haWwtZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaiwgaGVhZGVyczogaiB9LCB0eXBlOiBkIH1dIH1dIH0sIHsgZXJyb3I6IFwiRklQUyBpcyBlbmFibGVkIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IEZJUFNcIiwgdHlwZTogYyB9XSB9LCB7IGNvbmRpdGlvbnM6IG8sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbbF0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9lbWFpbC57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaiwgaGVhZGVyczogaiB9LCB0eXBlOiBkIH1dIH0sIHsgZXJyb3I6IFwiRHVhbFN0YWNrIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRHVhbFN0YWNrXCIsIHR5cGU6IGMgfV0gfSwgeyBlbmRwb2ludDogeyB1cmw6IFwiaHR0cHM6Ly9lbWFpbC57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaiwgaGVhZGVyczogaiB9LCB0eXBlOiBkIH1dIH1dIH07XG5leHBvcnQgY29uc3QgcnVsZVNldCA9IF9kYXRhO1xuIiwiaW1wb3J0IHsgcmVzb2x2ZUVuZHBvaW50IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzXCI7XG5pbXBvcnQgeyBydWxlU2V0IH0gZnJvbSBcIi4vcnVsZXNldFwiO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyID0gKGVuZHBvaW50UGFyYW1zLCBjb250ZXh0ID0ge30pID0+IHtcbiAgICByZXR1cm4gcmVzb2x2ZUVuZHBvaW50KHJ1bGVTZXQsIHtcbiAgICAgICAgZW5kcG9pbnRQYXJhbXM6IGVuZHBvaW50UGFyYW1zLFxuICAgICAgICBsb2dnZXI6IGNvbnRleHQubG9nZ2VyLFxuICAgIH0pO1xufTtcbiIsImltcG9ydCB7IHJlc29sdmVSZWdpb25Db25maWcgfSBmcm9tIFwiQGF3cy1zZGsvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBnZXRDb250ZW50TGVuZ3RoUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtY29udGVudC1sZW5ndGhcIjtcbmltcG9ydCB7IHJlc29sdmVFbmRwb2ludENvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRIb3N0SGVhZGVyUGx1Z2luLCByZXNvbHZlSG9zdEhlYWRlckNvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1ob3N0LWhlYWRlclwiO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtbG9nZ2VyXCI7XG5pbXBvcnQgeyBnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1yZWN1cnNpb24tZGV0ZWN0aW9uXCI7XG5pbXBvcnQgeyBnZXRSZXRyeVBsdWdpbiwgcmVzb2x2ZVJldHJ5Q29uZmlnIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IGdldEF3c0F1dGhQbHVnaW4sIHJlc29sdmVBd3NBdXRoQ29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXNpZ25pbmdcIjtcbmltcG9ydCB7IGdldFVzZXJBZ2VudFBsdWdpbiwgcmVzb2x2ZVVzZXJBZ2VudENvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS11c2VyLWFnZW50XCI7XG5pbXBvcnQgeyBDbGllbnQgYXMgX19DbGllbnQsIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMsIH0gZnJvbSBcIi4vZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzXCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIF9fZ2V0UnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWdcIjtcbmV4cG9ydCB7IF9fQ2xpZW50IH07XG5leHBvcnQgY2xhc3MgU0VTQ2xpZW50IGV4dGVuZHMgX19DbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18wID0gX19nZXRSdW50aW1lQ29uZmlnKGNvbmZpZ3VyYXRpb24pO1xuICAgICAgICBjb25zdCBfY29uZmlnXzEgPSByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzKF9jb25maWdfMCk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMiA9IHJlc29sdmVSZWdpb25Db25maWcoX2NvbmZpZ18xKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18zID0gcmVzb2x2ZUVuZHBvaW50Q29uZmlnKF9jb25maWdfMik7XG4gICAgICAgIGNvbnN0IF9jb25maWdfNCA9IHJlc29sdmVSZXRyeUNvbmZpZyhfY29uZmlnXzMpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzUgPSByZXNvbHZlSG9zdEhlYWRlckNvbmZpZyhfY29uZmlnXzQpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzYgPSByZXNvbHZlQXdzQXV0aENvbmZpZyhfY29uZmlnXzUpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzcgPSByZXNvbHZlVXNlckFnZW50Q29uZmlnKF9jb25maWdfNik7XG4gICAgICAgIHN1cGVyKF9jb25maWdfNyk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gX2NvbmZpZ183O1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmV0cnlQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldENvbnRlbnRMZW5ndGhQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEhvc3RIZWFkZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldExvZ2dlclBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRBd3NBdXRoUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRVc2VyQWdlbnRQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCBwYWNrYWdlSW5mbyBmcm9tIFwiLi4vcGFja2FnZS5qc29uXCI7XG5pbXBvcnQgeyBkZWNvcmF0ZURlZmF1bHRDcmVkZW50aWFsUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXN0c1wiO1xuaW1wb3J0IHsgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUywgfSBmcm9tIFwiQGF3cy1zZGsvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBkZWZhdWx0UHJvdmlkZXIgYXMgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlciB9IGZyb20gXCJAYXdzLXNkay9jcmVkZW50aWFsLXByb3ZpZGVyLW5vZGVcIjtcbmltcG9ydCB7IEhhc2ggfSBmcm9tIFwiQGF3cy1zZGsvaGFzaC1ub2RlXCI7XG5pbXBvcnQgeyBOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TLCBOT0RFX1JFVFJZX01PREVfQ09ORklHX09QVElPTlMgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1yZXRyeVwiO1xuaW1wb3J0IHsgbG9hZENvbmZpZyBhcyBsb2FkTm9kZUNvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuaW1wb3J0IHsgTm9kZUh0dHBIYW5kbGVyIGFzIFJlcXVlc3RIYW5kbGVyLCBzdHJlYW1Db2xsZWN0b3IgfSBmcm9tIFwiQGF3cy1zZGsvbm9kZS1odHRwLWhhbmRsZXJcIjtcbmltcG9ydCB7IGNhbGN1bGF0ZUJvZHlMZW5ndGggfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1ib2R5LWxlbmd0aC1ub2RlXCI7XG5pbXBvcnQgeyBERUZBVUxUX1JFVFJZX01PREUgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1yZXRyeVwiO1xuaW1wb3J0IHsgZGVmYXVsdFVzZXJBZ2VudCB9IGZyb20gXCJAYXdzLXNkay91dGlsLXVzZXItYWdlbnQtbm9kZVwiO1xuaW1wb3J0IHsgZ2V0UnVudGltZUNvbmZpZyBhcyBnZXRTaGFyZWRSdW50aW1lQ29uZmlnIH0gZnJvbSBcIi4vcnVudGltZUNvbmZpZy5zaGFyZWRcIjtcbmltcG9ydCB7IGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyB9IGZyb20gXCJAYXdzLXNkay91dGlsLWRlZmF1bHRzLW1vZGUtbm9kZVwiO1xuaW1wb3J0IHsgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbiB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgY29uc3QgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+IHtcbiAgICBlbWl0V2FybmluZ0lmVW5zdXBwb3J0ZWRWZXJzaW9uKHByb2Nlc3MudmVyc2lvbik7XG4gICAgY29uc3QgZGVmYXVsdHNNb2RlID0gcmVzb2x2ZURlZmF1bHRzTW9kZUNvbmZpZyhjb25maWcpO1xuICAgIGNvbnN0IGRlZmF1bHRDb25maWdQcm92aWRlciA9ICgpID0+IGRlZmF1bHRzTW9kZSgpLnRoZW4obG9hZENvbmZpZ3NGb3JEZWZhdWx0TW9kZSk7XG4gICAgY29uc3QgY2xpZW50U2hhcmVkVmFsdWVzID0gZ2V0U2hhcmVkUnVudGltZUNvbmZpZyhjb25maWcpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmNsaWVudFNoYXJlZFZhbHVlcyxcbiAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICBydW50aW1lOiBcIm5vZGVcIixcbiAgICAgICAgZGVmYXVsdHNNb2RlLFxuICAgICAgICBib2R5TGVuZ3RoQ2hlY2tlcjogY29uZmlnPy5ib2R5TGVuZ3RoQ2hlY2tlciA/PyBjYWxjdWxhdGVCb2R5TGVuZ3RoLFxuICAgICAgICBjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyOiBjb25maWc/LmNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIgPz8gZGVjb3JhdGVEZWZhdWx0Q3JlZGVudGlhbFByb3ZpZGVyKGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIpLFxuICAgICAgICBkZWZhdWx0VXNlckFnZW50UHJvdmlkZXI6IGNvbmZpZz8uZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyID8/XG4gICAgICAgICAgICBkZWZhdWx0VXNlckFnZW50KHsgc2VydmljZUlkOiBjbGllbnRTaGFyZWRWYWx1ZXMuc2VydmljZUlkLCBjbGllbnRWZXJzaW9uOiBwYWNrYWdlSW5mby52ZXJzaW9uIH0pLFxuICAgICAgICBtYXhBdHRlbXB0czogY29uZmlnPy5tYXhBdHRlbXB0cyA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TKSxcbiAgICAgICAgcmVnaW9uOiBjb25maWc/LnJlZ2lvbiA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUywgTk9ERV9SRUdJT05fQ09ORklHX0ZJTEVfT1BUSU9OUyksXG4gICAgICAgIHJlcXVlc3RIYW5kbGVyOiBjb25maWc/LnJlcXVlc3RIYW5kbGVyID8/IG5ldyBSZXF1ZXN0SGFuZGxlcihkZWZhdWx0Q29uZmlnUHJvdmlkZXIpLFxuICAgICAgICByZXRyeU1vZGU6IGNvbmZpZz8ucmV0cnlNb2RlID8/XG4gICAgICAgICAgICBsb2FkTm9kZUNvbmZpZyh7XG4gICAgICAgICAgICAgICAgLi4uTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TLFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGFzeW5jICgpID0+IChhd2FpdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIoKSkucmV0cnlNb2RlIHx8IERFRkFVTFRfUkVUUllfTU9ERSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBzaGEyNTY6IGNvbmZpZz8uc2hhMjU2ID8/IEhhc2guYmluZChudWxsLCBcInNoYTI1NlwiKSxcbiAgICAgICAgc3RyZWFtQ29sbGVjdG9yOiBjb25maWc/LnN0cmVhbUNvbGxlY3RvciA/PyBzdHJlYW1Db2xsZWN0b3IsXG4gICAgICAgIHVzZUR1YWxzdGFja0VuZHBvaW50OiBjb25maWc/LnVzZUR1YWxzdGFja0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0RVQUxTVEFDS19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHVzZUZpcHNFbmRwb2ludDogY29uZmlnPy51c2VGaXBzRW5kcG9pbnQgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9VU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyksXG4gICAgfTtcbn07XG4iLCJpbXBvcnQgeyBOb09wTG9nZ2VyIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHBhcnNlVXJsIH0gZnJvbSBcIkBhd3Mtc2RrL3VybC1wYXJzZXJcIjtcbmltcG9ydCB7IGZyb21CYXNlNjQsIHRvQmFzZTY0IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtYmFzZTY0XCI7XG5pbXBvcnQgeyBmcm9tVXRmOCwgdG9VdGY4IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtdXRmOFwiO1xuaW1wb3J0IHsgZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIgfSBmcm9tIFwiLi9lbmRwb2ludC9lbmRwb2ludFJlc29sdmVyXCI7XG5leHBvcnQgY29uc3QgZ2V0UnVudGltZUNvbmZpZyA9IChjb25maWcpID0+ICh7XG4gICAgYXBpVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgYmFzZTY0RGVjb2RlcjogY29uZmlnPy5iYXNlNjREZWNvZGVyID8/IGZyb21CYXNlNjQsXG4gICAgYmFzZTY0RW5jb2RlcjogY29uZmlnPy5iYXNlNjRFbmNvZGVyID8/IHRvQmFzZTY0LFxuICAgIGRpc2FibGVIb3N0UHJlZml4OiBjb25maWc/LmRpc2FibGVIb3N0UHJlZml4ID8/IGZhbHNlLFxuICAgIGVuZHBvaW50UHJvdmlkZXI6IGNvbmZpZz8uZW5kcG9pbnRQcm92aWRlciA/PyBkZWZhdWx0RW5kcG9pbnRSZXNvbHZlcixcbiAgICBsb2dnZXI6IGNvbmZpZz8ubG9nZ2VyID8/IG5ldyBOb09wTG9nZ2VyKCksXG4gICAgc2VydmljZUlkOiBjb25maWc/LnNlcnZpY2VJZCA/PyBcIlNFU1wiLFxuICAgIHVybFBhcnNlcjogY29uZmlnPy51cmxQYXJzZXIgPz8gcGFyc2VVcmwsXG4gICAgdXRmOERlY29kZXI6IGNvbmZpZz8udXRmOERlY29kZXIgPz8gZnJvbVV0ZjgsXG4gICAgdXRmOEVuY29kZXI6IGNvbmZpZz8udXRmOEVuY29kZXIgPz8gdG9VdGY4LFxufSk7XG4iLCJpbXBvcnQgeyBTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fU2VydmljZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuZXhwb3J0IHsgX19TZXJ2aWNlRXhjZXB0aW9uIH07XG5leHBvcnQgY2xhc3MgU0VTU2VydmljZUV4Y2VwdGlvbiBleHRlbmRzIF9fU2VydmljZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFNFU1NlcnZpY2VFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTRVNTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuL1NFU1NlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjbGFzcyBBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkFjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBbHJlYWR5RXhpc3RzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTmFtZSA9IG9wdHMuTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgQmVoYXZpb3JPbk1YRmFpbHVyZSA9IHtcbiAgICBSZWplY3RNZXNzYWdlOiBcIlJlamVjdE1lc3NhZ2VcIixcbiAgICBVc2VEZWZhdWx0VmFsdWU6IFwiVXNlRGVmYXVsdFZhbHVlXCIsXG59O1xuZXhwb3J0IGNvbnN0IEJvdW5jZVR5cGUgPSB7XG4gICAgQ29udGVudFJlamVjdGVkOiBcIkNvbnRlbnRSZWplY3RlZFwiLFxuICAgIERvZXNOb3RFeGlzdDogXCJEb2VzTm90RXhpc3RcIixcbiAgICBFeGNlZWRlZFF1b3RhOiBcIkV4Y2VlZGVkUXVvdGFcIixcbiAgICBNZXNzYWdlVG9vTGFyZ2U6IFwiTWVzc2FnZVRvb0xhcmdlXCIsXG4gICAgVGVtcG9yYXJ5RmFpbHVyZTogXCJUZW1wb3JhcnlGYWlsdXJlXCIsXG4gICAgVW5kZWZpbmVkOiBcIlVuZGVmaW5lZFwiLFxufTtcbmV4cG9ydCBjb25zdCBEc25BY3Rpb24gPSB7XG4gICAgREVMQVlFRDogXCJkZWxheWVkXCIsXG4gICAgREVMSVZFUkVEOiBcImRlbGl2ZXJlZFwiLFxuICAgIEVYUEFOREVEOiBcImV4cGFuZGVkXCIsXG4gICAgRkFJTEVEOiBcImZhaWxlZFwiLFxuICAgIFJFTEFZRUQ6IFwicmVsYXllZFwiLFxufTtcbmV4cG9ydCBjb25zdCBCdWxrRW1haWxTdGF0dXMgPSB7XG4gICAgQWNjb3VudERhaWx5UXVvdGFFeGNlZWRlZDogXCJBY2NvdW50RGFpbHlRdW90YUV4Y2VlZGVkXCIsXG4gICAgQWNjb3VudFNlbmRpbmdQYXVzZWQ6IFwiQWNjb3VudFNlbmRpbmdQYXVzZWRcIixcbiAgICBBY2NvdW50U3VzcGVuZGVkOiBcIkFjY291bnRTdXNwZW5kZWRcIixcbiAgICBBY2NvdW50VGhyb3R0bGVkOiBcIkFjY291bnRUaHJvdHRsZWRcIixcbiAgICBDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0OiBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIixcbiAgICBDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZDogXCJDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZFwiLFxuICAgIEZhaWxlZDogXCJGYWlsZWRcIixcbiAgICBJbnZhbGlkUGFyYW1ldGVyVmFsdWU6IFwiSW52YWxpZFBhcmFtZXRlclZhbHVlXCIsXG4gICAgSW52YWxpZFNlbmRpbmdQb29sTmFtZTogXCJJbnZhbGlkU2VuZGluZ1Bvb2xOYW1lXCIsXG4gICAgTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZDogXCJNYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkXCIsXG4gICAgTWVzc2FnZVJlamVjdGVkOiBcIk1lc3NhZ2VSZWplY3RlZFwiLFxuICAgIFN1Y2Nlc3M6IFwiU3VjY2Vzc1wiLFxuICAgIFRlbXBsYXRlRG9lc05vdEV4aXN0OiBcIlRlbXBsYXRlRG9lc05vdEV4aXN0XCIsXG4gICAgVHJhbnNpZW50RmFpbHVyZTogXCJUcmFuc2llbnRGYWlsdXJlXCIsXG59O1xuZXhwb3J0IGNsYXNzIENhbm5vdERlbGV0ZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNhbm5vdERlbGV0ZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2Fubm90RGVsZXRlRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENhbm5vdERlbGV0ZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk5hbWUgPSBvcHRzLk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIExpbWl0RXhjZWVkZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIExpbWl0RXhjZWVkZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJ1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlJ1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk5hbWUgPSBvcHRzLk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IERpbWVuc2lvblZhbHVlU291cmNlID0ge1xuICAgIEVNQUlMX0hFQURFUjogXCJlbWFpbEhlYWRlclwiLFxuICAgIExJTktfVEFHOiBcImxpbmtUYWdcIixcbiAgICBNRVNTQUdFX1RBRzogXCJtZXNzYWdlVGFnXCIsXG59O1xuZXhwb3J0IGNsYXNzIENvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIENvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBvcHRzLkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBDb25maWd1cmF0aW9uU2V0QXR0cmlidXRlID0ge1xuICAgIERFTElWRVJZX09QVElPTlM6IFwiZGVsaXZlcnlPcHRpb25zXCIsXG4gICAgRVZFTlRfREVTVElOQVRJT05TOiBcImV2ZW50RGVzdGluYXRpb25zXCIsXG4gICAgUkVQVVRBVElPTl9PUFRJT05TOiBcInJlcHV0YXRpb25PcHRpb25zXCIsXG4gICAgVFJBQ0tJTkdfT1BUSU9OUzogXCJ0cmFja2luZ09wdGlvbnNcIixcbn07XG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IG9wdHMuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZENvbmZpZ3VyYXRpb25TZXRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEV2ZW50VHlwZSA9IHtcbiAgICBCT1VOQ0U6IFwiYm91bmNlXCIsXG4gICAgQ0xJQ0s6IFwiY2xpY2tcIixcbiAgICBDT01QTEFJTlQ6IFwiY29tcGxhaW50XCIsXG4gICAgREVMSVZFUlk6IFwiZGVsaXZlcnlcIixcbiAgICBPUEVOOiBcIm9wZW5cIixcbiAgICBSRUpFQ1Q6IFwicmVqZWN0XCIsXG4gICAgUkVOREVSSU5HX0ZBSUxVUkU6IFwicmVuZGVyaW5nRmFpbHVyZVwiLFxuICAgIFNFTkQ6IFwic2VuZFwiLFxufTtcbmV4cG9ydCBjbGFzcyBFdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJFdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBFdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICAgICAgdGhpcy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IG9wdHMuRXZlbnREZXN0aW5hdGlvbk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IG9wdHMuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgICAgIHRoaXMuRXZlbnREZXN0aW5hdGlvbk5hbWUgPSBvcHRzLkV2ZW50RGVzdGluYXRpb25OYW1lO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICAgICAgdGhpcy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IG9wdHMuRXZlbnREZXN0aW5hdGlvbk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICAgICAgdGhpcy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IG9wdHMuRXZlbnREZXN0aW5hdGlvbk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVHJhY2tpbmdPcHRpb25zQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlRyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVHJhY2tpbmdPcHRpb25zQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsSW52YWxpZENvbnRlbnRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsSW52YWxpZENvbnRlbnRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVOYW1lID0gb3B0cy5DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuRnJvbUVtYWlsQWRkcmVzcyA9IG9wdHMuRnJvbUVtYWlsQWRkcmVzcztcbiAgICB9XG59XG5leHBvcnQgY29uc3QgUmVjZWlwdEZpbHRlclBvbGljeSA9IHtcbiAgICBBbGxvdzogXCJBbGxvd1wiLFxuICAgIEJsb2NrOiBcIkJsb2NrXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNOU0FjdGlvbkVuY29kaW5nID0ge1xuICAgIEJhc2U2NDogXCJCYXNlNjRcIixcbiAgICBVVEY4OiBcIlVURi04XCIsXG59O1xuZXhwb3J0IGNvbnN0IFN0b3BTY29wZSA9IHtcbiAgICBSVUxFX1NFVDogXCJSdWxlU2V0XCIsXG59O1xuZXhwb3J0IGNvbnN0IFRsc1BvbGljeSA9IHtcbiAgICBPcHRpb25hbDogXCJPcHRpb25hbFwiLFxuICAgIFJlcXVpcmU6IFwiUmVxdWlyZVwiLFxufTtcbmV4cG9ydCBjbGFzcyBJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWRMYW1iZGFGdW5jdGlvbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5GdW5jdGlvbkFybiA9IG9wdHMuRnVuY3Rpb25Bcm47XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5CdWNrZXQgPSBvcHRzLkJ1Y2tldDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkU25zVG9waWNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuVG9waWMgPSBvcHRzLlRvcGljO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTmFtZSA9IG9wdHMuTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkVGVtcGxhdGVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuVGVtcGxhdGVOYW1lID0gb3B0cy5UZW1wbGF0ZU5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEN1c3RvbU1haWxGcm9tU3RhdHVzID0ge1xuICAgIEZhaWxlZDogXCJGYWlsZWRcIixcbiAgICBQZW5kaW5nOiBcIlBlbmRpbmdcIixcbiAgICBTdWNjZXNzOiBcIlN1Y2Nlc3NcIixcbiAgICBUZW1wb3JhcnlGYWlsdXJlOiBcIlRlbXBvcmFyeUZhaWx1cmVcIixcbn07XG5leHBvcnQgY2xhc3MgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVOYW1lID0gb3B0cy5DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkV2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkV2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICAgICAgdGhpcy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IG9wdHMuRXZlbnREZXN0aW5hdGlvbk5hbWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVHJhY2tpbmdPcHRpb25zRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFRyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gb3B0cy5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5UZW1wbGF0ZU5hbWUgPSBvcHRzLlRlbXBsYXRlTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZERlbGl2ZXJ5T3B0aW9uc0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZERlbGl2ZXJ5T3B0aW9uc0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUG9saWN5RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFBvbGljeUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW52YWxpZFBvbGljeUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUG9saWN5RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkUmVuZGVyaW5nUGFyYW1ldGVyRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUmVuZGVyaW5nUGFyYW1ldGVyRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5UZW1wbGF0ZU5hbWUgPSBvcHRzLlRlbXBsYXRlTmFtZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNZXNzYWdlUmVqZWN0ZWQgZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJNZXNzYWdlUmVqZWN0ZWRcIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1lc3NhZ2VSZWplY3RlZFwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBNZXNzYWdlUmVqZWN0ZWQucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIk1pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLlRlbXBsYXRlTmFtZSA9IG9wdHMuVGVtcGxhdGVOYW1lO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlByb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJQcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBQcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGRlY29yYXRlU2VydmljZUV4Y2VwdGlvbiBhcyBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbiwgZXhwZWN0Tm9uTnVsbCBhcyBfX2V4cGVjdE5vbk51bGwsIGV4cGVjdFN0cmluZyBhcyBfX2V4cGVjdFN0cmluZywgZXh0ZW5kZWRFbmNvZGVVUklDb21wb25lbnQgYXMgX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCwgZ2V0QXJyYXlJZlNpbmdsZUl0ZW0gYXMgX19nZXRBcnJheUlmU2luZ2xlSXRlbSwgZ2V0VmFsdWVGcm9tVGV4dE5vZGUgYXMgX19nZXRWYWx1ZUZyb21UZXh0Tm9kZSwgcGFyc2VCb29sZWFuIGFzIF9fcGFyc2VCb29sZWFuLCBwYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQgYXMgX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQsIHN0cmljdFBhcnNlRmxvYXQgYXMgX19zdHJpY3RQYXJzZUZsb2F0LCBzdHJpY3RQYXJzZUxvbmcgYXMgX19zdHJpY3RQYXJzZUxvbmcsIHdpdGhCYXNlRXhjZXB0aW9uLCB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBIdHRwUmVxdWVzdCBhcyBfX0h0dHBSZXF1ZXN0IH0gZnJvbSBcIkBzbWl0aHkvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgWE1MUGFyc2VyIH0gZnJvbSBcImZhc3QteG1sLXBhcnNlclwiO1xuaW1wb3J0IHsgQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb24sIEFscmVhZHlFeGlzdHNFeGNlcHRpb24sIENhbm5vdERlbGV0ZUV4Y2VwdGlvbiwgQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNFeGNlcHRpb24sIENvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb24sIENvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uLCBDdXN0b21WZXJpZmljYXRpb25FbWFpbEludmFsaWRDb250ZW50RXhjZXB0aW9uLCBDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbiwgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbiwgRXZlbnREZXN0aW5hdGlvbkFscmVhZHlFeGlzdHNFeGNlcHRpb24sIEV2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb24sIEZyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvbiwgSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvbkV4Y2VwdGlvbiwgSW52YWxpZENvbmZpZ3VyYXRpb25TZXRFeGNlcHRpb24sIEludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb24sIEludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uLCBJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24sIEludmFsaWRQb2xpY3lFeGNlcHRpb24sIEludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb24sIEludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb24sIEludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvbiwgSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uLCBJbnZhbGlkVGVtcGxhdGVFeGNlcHRpb24sIEludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb24sIExpbWl0RXhjZWVkZWRFeGNlcHRpb24sIE1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb24sIE1lc3NhZ2VSZWplY3RlZCwgTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvbiwgUHJvZHVjdGlvbkFjY2Vzc05vdEdyYW50ZWRFeGNlcHRpb24sIFJ1bGVEb2VzTm90RXhpc3RFeGNlcHRpb24sIFJ1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb24sIFRlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uLCBUcmFja2luZ09wdGlvbnNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uLCBUcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb24sIH0gZnJvbSBcIi4uL21vZGVscy9tb2RlbHNfMFwiO1xuaW1wb3J0IHsgU0VTU2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi4vbW9kZWxzL1NFU1NlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjb25zdCBzZV9DbG9uZVJlY2VpcHRSdWxlU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0Nsb25lUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkNsb25lUmVjZWlwdFJ1bGVTZXRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQ3JlYXRlQ29uZmlndXJhdGlvblNldFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiQ3JlYXRlQ29uZmlndXJhdGlvblNldFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQ3JlYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkNyZWF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkNyZWF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQ3JlYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiQ3JlYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlUmVjZWlwdEZpbHRlckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9DcmVhdGVSZWNlaXB0RmlsdGVyUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJDcmVhdGVSZWNlaXB0RmlsdGVyXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVSZWNlaXB0UnVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9DcmVhdGVSZWNlaXB0UnVsZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiQ3JlYXRlUmVjZWlwdFJ1bGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0NyZWF0ZVJlY2VpcHRSdWxlU2V0UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJDcmVhdGVSZWNlaXB0UnVsZVNldFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfQ3JlYXRlVGVtcGxhdGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkNyZWF0ZVRlbXBsYXRlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVDb25maWd1cmF0aW9uU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZUNvbmZpZ3VyYXRpb25TZXRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZWxldGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUlkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZUlkZW50aXR5UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVJZGVudGl0eVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlSWRlbnRpdHlQb2xpY3lDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlSWRlbnRpdHlQb2xpY3lSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZUlkZW50aXR5UG9saWN5XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVSZWNlaXB0RmlsdGVyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZVJlY2VpcHRGaWx0ZXJSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZVJlY2VpcHRGaWx0ZXJcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVJlY2VpcHRSdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZVJlY2VpcHRSdWxlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVSZWNlaXB0UnVsZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVsZXRlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkRlbGV0ZVJlY2VpcHRSdWxlU2V0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZWxldGVUZW1wbGF0ZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVsZXRlVGVtcGxhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVZlcmlmaWVkRW1haWxBZGRyZXNzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0RlbGV0ZVZlcmlmaWVkRW1haWxBZGRyZXNzUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZWxldGVWZXJpZmllZEVtYWlsQWRkcmVzc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVBY3RpdmVSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZUFjdGl2ZVJlY2VpcHRSdWxlU2V0UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZXNjcmliZUFjdGl2ZVJlY2VpcHRSdWxlU2V0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVzY3JpYmVDb25maWd1cmF0aW9uU2V0UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfRGVzY3JpYmVSZWNlaXB0UnVsZVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiRGVzY3JpYmVSZWNlaXB0UnVsZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9EZXNjcmliZVJlY2VpcHRSdWxlU2V0UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJEZXNjcmliZVJlY2VpcHRSdWxlU2V0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRBY2NvdW50U2VuZGluZ0VuYWJsZWRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGNvbnN0IGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgQWN0aW9uOiBcIkdldEFjY291bnRTZW5kaW5nRW5hYmxlZFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9HZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRJZGVudGl0eURraW1BdHRyaWJ1dGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldElkZW50aXR5RGtpbUF0dHJpYnV0ZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldElkZW50aXR5RGtpbUF0dHJpYnV0ZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldElkZW50aXR5TWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldElkZW50aXR5TWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJHZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldElkZW50aXR5Tm90aWZpY2F0aW9uQXR0cmlidXRlc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXRJZGVudGl0eVBvbGljaWVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0dldElkZW50aXR5UG9saWNpZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldElkZW50aXR5UG9saWNpZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9HZXRJZGVudGl0eVZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0U2VuZFF1b3RhQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBjb25zdCBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIEFjdGlvbjogXCJHZXRTZW5kUXVvdGFcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldFNlbmRTdGF0aXN0aWNzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBjb25zdCBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIEFjdGlvbjogXCJHZXRTZW5kU3RhdGlzdGljc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfR2V0VGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfR2V0VGVtcGxhdGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkdldFRlbXBsYXRlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0Q29uZmlndXJhdGlvblNldHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfTGlzdENvbmZpZ3VyYXRpb25TZXRzUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJMaXN0Q29uZmlndXJhdGlvblNldHNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdElkZW50aXRpZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfTGlzdElkZW50aXRpZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RJZGVudGl0aWVzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0SWRlbnRpdHlQb2xpY2llc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0SWRlbnRpdHlQb2xpY2llc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiTGlzdElkZW50aXR5UG9saWNpZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RSZWNlaXB0RmlsdGVyc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0UmVjZWlwdEZpbHRlcnNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RSZWNlaXB0RmlsdGVyc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFJlY2VpcHRSdWxlU2V0c0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9MaXN0UmVjZWlwdFJ1bGVTZXRzUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJMaXN0UmVjZWlwdFJ1bGVTZXRzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VGVtcGxhdGVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX0xpc3RUZW1wbGF0ZXNSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIkxpc3RUZW1wbGF0ZXNcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RWZXJpZmllZEVtYWlsQWRkcmVzc2VzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBjb25zdCBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIEFjdGlvbjogXCJMaXN0VmVyaWZpZWRFbWFpbEFkZHJlc3Nlc1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfUHV0Q29uZmlndXJhdGlvblNldERlbGl2ZXJ5T3B0aW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJQdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9QdXRJZGVudGl0eVBvbGljeUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9QdXRJZGVudGl0eVBvbGljeVJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiUHV0SWRlbnRpdHlQb2xpY3lcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1Jlb3JkZXJSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9SZW9yZGVyUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlJlb3JkZXJSZWNlaXB0UnVsZVNldFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2VuZEJvdW5jZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZW5kQm91bmNlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTZW5kQm91bmNlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZW5kQnVsa1RlbXBsYXRlZEVtYWlsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NlbmRCdWxrVGVtcGxhdGVkRW1haWxSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNlbmRCdWxrVGVtcGxhdGVkRW1haWxcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZW5kQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2VuZEVtYWlsQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NlbmRFbWFpbFJlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU2VuZEVtYWlsXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZW5kUmF3RW1haWxDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU2VuZFJhd0VtYWlsUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTZW5kUmF3RW1haWxcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NlbmRUZW1wbGF0ZWRFbWFpbENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZW5kVGVtcGxhdGVkRW1haWxSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNlbmRUZW1wbGF0ZWRFbWFpbFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNldEFjdGl2ZVJlY2VpcHRSdWxlU2V0XCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZXRJZGVudGl0eURraW1FbmFibGVkQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NldElkZW50aXR5RGtpbUVuYWJsZWRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNldElkZW50aXR5RGtpbUVuYWJsZWRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZXRJZGVudGl0eUZlZWRiYWNrRm9yd2FyZGluZ0VuYWJsZWRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2V0SWRlbnRpdHlIZWFkZXJzSW5Ob3RpZmljYXRpb25zRW5hYmxlZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZXRJZGVudGl0eUhlYWRlcnNJbk5vdGlmaWNhdGlvbnNFbmFibGVkUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTZXRJZGVudGl0eUhlYWRlcnNJbk5vdGlmaWNhdGlvbnNFbmFibGVkXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1NldElkZW50aXR5TWFpbEZyb21Eb21haW5SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlNldElkZW50aXR5TWFpbEZyb21Eb21haW5cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NldElkZW50aXR5Tm90aWZpY2F0aW9uVG9waWNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY1wiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2V0UmVjZWlwdFJ1bGVQb3NpdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9TZXRSZWNlaXB0UnVsZVBvc2l0aW9uUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJTZXRSZWNlaXB0UnVsZVBvc2l0aW9uXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9UZXN0UmVuZGVyVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVGVzdFJlbmRlclRlbXBsYXRlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJUZXN0UmVuZGVyVGVtcGxhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUFjY291bnRTZW5kaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9VcGRhdGVBY2NvdW50U2VuZGluZ0VuYWJsZWRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZUFjY291bnRTZW5kaW5nRW5hYmxlZFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVXBkYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0UmVwdXRhdGlvbk1ldHJpY3NFbmFibGVkQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRSZXB1dGF0aW9uTWV0cmljc0VuYWJsZWRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZUNvbmZpZ3VyYXRpb25TZXRSZXB1dGF0aW9uTWV0cmljc0VuYWJsZWRcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0U2VuZGluZ0VuYWJsZWRSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZUNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nRW5hYmxlZFwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0gU0hBUkVEX0hFQURFUlM7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcoe1xuICAgICAgICAuLi5zZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJVcGRhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1VwZGF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVJlY2VpcHRSdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1VwZGF0ZVJlY2VpcHRSdWxlUmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJVcGRhdGVSZWNlaXB0UnVsZVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IFNIQVJFRF9IRUFERVJTO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBidWlsZEZvcm1VcmxlbmNvZGVkU3RyaW5nKHtcbiAgICAgICAgLi4uc2VfVXBkYXRlVGVtcGxhdGVSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlVwZGF0ZVRlbXBsYXRlXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9WZXJpZnlEb21haW5Ea2ltQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1ZlcmlmeURvbWFpbkRraW1SZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlZlcmlmeURvbWFpbkRraW1cIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1ZlcmlmeURvbWFpbklkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1ZlcmlmeURvbWFpbklkZW50aXR5UmVxdWVzdChpbnB1dCwgY29udGV4dCksXG4gICAgICAgIEFjdGlvbjogXCJWZXJpZnlEb21haW5JZGVudGl0eVwiLFxuICAgICAgICBWZXJzaW9uOiBcIjIwMTAtMTItMDFcIixcbiAgICB9KTtcbiAgICByZXR1cm4gYnVpbGRIdHRwUnBjUmVxdWVzdChjb250ZXh0LCBoZWFkZXJzLCBcIi9cIiwgdW5kZWZpbmVkLCBib2R5KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVmVyaWZ5RW1haWxBZGRyZXNzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1ZlcmlmeUVtYWlsQWRkcmVzc1JlcXVlc3QoaW5wdXQsIGNvbnRleHQpLFxuICAgICAgICBBY3Rpb246IFwiVmVyaWZ5RW1haWxBZGRyZXNzXCIsXG4gICAgICAgIFZlcnNpb246IFwiMjAxMC0xMi0wMVwiLFxuICAgIH0pO1xuICAgIHJldHVybiBidWlsZEh0dHBScGNSZXF1ZXN0KGNvbnRleHQsIGhlYWRlcnMsIFwiL1wiLCB1bmRlZmluZWQsIGJvZHkpO1xufTtcbmV4cG9ydCBjb25zdCBzZV9WZXJpZnlFbWFpbElkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBTSEFSRURfSEVBREVSUztcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyh7XG4gICAgICAgIC4uLnNlX1ZlcmlmeUVtYWlsSWRlbnRpdHlSZXF1ZXN0KGlucHV0LCBjb250ZXh0KSxcbiAgICAgICAgQWN0aW9uOiBcIlZlcmlmeUVtYWlsSWRlbnRpdHlcIixcbiAgICAgICAgVmVyc2lvbjogXCIyMDEwLTEyLTAxXCIsXG4gICAgfSk7XG4gICAgcmV0dXJuIGJ1aWxkSHR0cFJwY1JlcXVlc3QoY29udGV4dCwgaGVhZGVycywgXCIvXCIsIHVuZGVmaW5lZCwgYm9keSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Nsb25lUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Nsb25lUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9DbG9uZVJlY2VpcHRSdWxlU2V0UmVzcG9uc2UoZGF0YS5DbG9uZVJlY2VpcHRSdWxlU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Nsb25lUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWxyZWFkeUV4aXN0c1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUnVsZVNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0UmVzcG9uc2UoZGF0YS5DcmVhdGVDb25maWd1cmF0aW9uU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0QWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZENvbmZpZ3VyYXRpb25TZXRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkQ29uZmlndXJhdGlvblNldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVzcG9uc2UoZGF0YS5DcmVhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjRXZlbnREZXN0aW5hdGlvbkFscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0V2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZEZpcmVob3NlRGVzdGluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU05TRGVzdGluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXNwb25zZShkYXRhLkNyZWF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhY2tpbmdPcHRpb25zXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFja2luZ09wdGlvbnNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNUcmFja2luZ09wdGlvbnNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UcmFja2luZ09wdGlvbnNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUFscmVhZHlFeGlzdHNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Zyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVJlY2VpcHRGaWx0ZXJDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVJlY2VpcHRGaWx0ZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9DcmVhdGVSZWNlaXB0RmlsdGVyUmVzcG9uc2UoZGF0YS5DcmVhdGVSZWNlaXB0RmlsdGVyUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVJlY2VpcHRGaWx0ZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWxyZWFkeUV4aXN0c1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVJlY2VpcHRSdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVSZWNlaXB0UnVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0NyZWF0ZVJlY2VpcHRSdWxlUmVzcG9uc2UoZGF0YS5DcmVhdGVSZWNlaXB0UnVsZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9DcmVhdGVSZWNlaXB0UnVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBbHJlYWR5RXhpc3RzXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNBbHJlYWR5RXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTGFtYmRhRnVuY3Rpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRMYW1iZGFGdW5jdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZExhbWJkYUZ1bmN0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUzNDb25maWd1cmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU25zVG9waWNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRTbnNUb3BpY0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSdWxlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSdWxlU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfQ3JlYXRlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZShkYXRhLkNyZWF0ZVJlY2VpcHRSdWxlU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFscmVhZHlFeGlzdHNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0FscmVhZHlFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlVGVtcGxhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9DcmVhdGVUZW1wbGF0ZVJlc3BvbnNlKGRhdGEuQ3JlYXRlVGVtcGxhdGVSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfQ3JlYXRlVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWxyZWFkeUV4aXN0c1wiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWxyZWFkeUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFRlbXBsYXRlXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkVGVtcGxhdGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRUZW1wbGF0ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0UmVzcG9uc2UoZGF0YS5EZWxldGVDb25maWd1cmF0aW9uU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVzcG9uc2UoZGF0YS5EZWxldGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJFdmVudERlc3RpbmF0aW9uRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNFdmVudERlc3RpbmF0aW9uRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9FdmVudERlc3RpbmF0aW9uRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXNwb25zZShkYXRhLkRlbGV0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1RyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhY2tpbmdPcHRpb25zRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZUlkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVJZGVudGl0eUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZUlkZW50aXR5UmVzcG9uc2UoZGF0YS5EZWxldGVJZGVudGl0eVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVJZGVudGl0eUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlSWRlbnRpdHlQb2xpY3lDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUlkZW50aXR5UG9saWN5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlSWRlbnRpdHlQb2xpY3lSZXNwb25zZShkYXRhLkRlbGV0ZUlkZW50aXR5UG9saWN5UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUlkZW50aXR5UG9saWN5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVSZWNlaXB0RmlsdGVyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVSZWNlaXB0RmlsdGVyQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlUmVjZWlwdEZpbHRlclJlc3BvbnNlKGRhdGEuRGVsZXRlUmVjZWlwdEZpbHRlclJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVSZWNlaXB0RmlsdGVyQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVSZWNlaXB0UnVsZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlUmVjZWlwdFJ1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZWxldGVSZWNlaXB0UnVsZVJlc3BvbnNlKGRhdGEuRGVsZXRlUmVjZWlwdFJ1bGVSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVsZXRlUmVjZWlwdFJ1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiUnVsZVNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVSZWNlaXB0UnVsZVNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0RlbGV0ZVJlY2VpcHRSdWxlU2V0UmVzcG9uc2UoZGF0YS5EZWxldGVSZWNlaXB0UnVsZVNldFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVSZWNlaXB0UnVsZVNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDYW5ub3REZWxldGVcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0Nhbm5vdERlbGV0ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ2Fubm90RGVsZXRlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfRGVsZXRlVGVtcGxhdGVSZXNwb25zZShkYXRhLkRlbGV0ZVRlbXBsYXRlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVRlbXBsYXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVWZXJpZmllZEVtYWlsQWRkcmVzc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlVmVyaWZpZWRFbWFpbEFkZHJlc3NDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgYXdhaXQgY29sbGVjdEJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZWxldGVWZXJpZmllZEVtYWlsQWRkcmVzc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVBY3RpdmVSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBY3RpdmVSZWNlaXB0UnVsZVNldENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0Rlc2NyaWJlQWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZShkYXRhLkRlc2NyaWJlQWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBY3RpdmVSZWNlaXB0UnVsZVNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVDb25maWd1cmF0aW9uU2V0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRSZXNwb25zZShkYXRhLkRlc2NyaWJlQ29uZmlndXJhdGlvblNldFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZXNjcmliZVJlY2VpcHRSdWxlUmVzcG9uc2UoZGF0YS5EZXNjcmliZVJlY2VpcHRSdWxlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiUnVsZURvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUnVsZVNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9EZXNjcmliZVJlY2VpcHRSdWxlU2V0UmVzcG9uc2UoZGF0YS5EZXNjcmliZVJlY2VpcHRSdWxlU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVTZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiUnVsZVNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldEFjY291bnRTZW5kaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0QWNjb3VudFNlbmRpbmdFbmFibGVkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0QWNjb3VudFNlbmRpbmdFbmFibGVkUmVzcG9uc2UoZGF0YS5HZXRBY2NvdW50U2VuZGluZ0VuYWJsZWRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0QWNjb3VudFNlbmRpbmdFbmFibGVkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVJlc3BvbnNlKGRhdGEuR2V0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRJZGVudGl0eURraW1BdHRyaWJ1dGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRJZGVudGl0eURraW1BdHRyaWJ1dGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0SWRlbnRpdHlEa2ltQXR0cmlidXRlc1Jlc3BvbnNlKGRhdGEuR2V0SWRlbnRpdHlEa2ltQXR0cmlidXRlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRJZGVudGl0eURraW1BdHRyaWJ1dGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRJZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlc1Jlc3BvbnNlKGRhdGEuR2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldElkZW50aXR5Tm90aWZpY2F0aW9uQXR0cmlidXRlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzUmVzcG9uc2UoZGF0YS5HZXRJZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRJZGVudGl0eVBvbGljaWVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRJZGVudGl0eVBvbGljaWVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0SWRlbnRpdHlQb2xpY2llc1Jlc3BvbnNlKGRhdGEuR2V0SWRlbnRpdHlQb2xpY2llc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRJZGVudGl0eVBvbGljaWVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9HZXRJZGVudGl0eVZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc1Jlc3BvbnNlKGRhdGEuR2V0SWRlbnRpdHlWZXJpZmljYXRpb25BdHRyaWJ1dGVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldElkZW50aXR5VmVyaWZpY2F0aW9uQXR0cmlidXRlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfR2V0U2VuZFF1b3RhQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRTZW5kUXVvdGFDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9HZXRTZW5kUXVvdGFSZXNwb25zZShkYXRhLkdldFNlbmRRdW90YVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRTZW5kUXVvdGFDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldFNlbmRTdGF0aXN0aWNzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRTZW5kU3RhdGlzdGljc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0dldFNlbmRTdGF0aXN0aWNzUmVzcG9uc2UoZGF0YS5HZXRTZW5kU3RhdGlzdGljc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9HZXRTZW5kU3RhdGlzdGljc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfR2V0VGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dldFRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfR2V0VGVtcGxhdGVSZXNwb25zZShkYXRhLkdldFRlbXBsYXRlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0dldFRlbXBsYXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlRlbXBsYXRlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0Q29uZmlndXJhdGlvblNldHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RDb25maWd1cmF0aW9uU2V0c0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RDb25maWd1cmF0aW9uU2V0c1Jlc3BvbnNlKGRhdGEuTGlzdENvbmZpZ3VyYXRpb25TZXRzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RDb25maWd1cmF0aW9uU2V0c0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9MaXN0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXNSZXNwb25zZShkYXRhLkxpc3RDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RJZGVudGl0aWVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0SWRlbnRpdGllc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RJZGVudGl0aWVzUmVzcG9uc2UoZGF0YS5MaXN0SWRlbnRpdGllc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9MaXN0SWRlbnRpdGllc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdElkZW50aXR5UG9saWNpZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RJZGVudGl0eVBvbGljaWVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdElkZW50aXR5UG9saWNpZXNSZXNwb25zZShkYXRhLkxpc3RJZGVudGl0eVBvbGljaWVzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RJZGVudGl0eVBvbGljaWVzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0UmVjZWlwdEZpbHRlcnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RSZWNlaXB0RmlsdGVyc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RSZWNlaXB0RmlsdGVyc1Jlc3BvbnNlKGRhdGEuTGlzdFJlY2VpcHRGaWx0ZXJzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RSZWNlaXB0RmlsdGVyc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFJlY2VpcHRSdWxlU2V0c0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFJlY2VpcHRSdWxlU2V0c0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RSZWNlaXB0UnVsZVNldHNSZXNwb25zZShkYXRhLkxpc3RSZWNlaXB0UnVsZVNldHNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdFJlY2VpcHRSdWxlU2V0c0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRlbXBsYXRlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRlbXBsYXRlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX0xpc3RUZW1wbGF0ZXNSZXNwb25zZShkYXRhLkxpc3RUZW1wbGF0ZXNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfTGlzdFRlbXBsYXRlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFZlcmlmaWVkRW1haWxBZGRyZXNzZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RWZXJpZmllZEVtYWlsQWRkcmVzc2VzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfTGlzdFZlcmlmaWVkRW1haWxBZGRyZXNzZXNSZXNwb25zZShkYXRhLkxpc3RWZXJpZmllZEVtYWlsQWRkcmVzc2VzUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX0xpc3RWZXJpZmllZEVtYWlsQWRkcmVzc2VzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfUHV0Q29uZmlndXJhdGlvblNldERlbGl2ZXJ5T3B0aW9uc1Jlc3BvbnNlKGRhdGEuUHV0Q29uZmlndXJhdGlvblNldERlbGl2ZXJ5T3B0aW9uc1Jlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWREZWxpdmVyeU9wdGlvbnNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXRJZGVudGl0eVBvbGljeUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0SWRlbnRpdHlQb2xpY3lDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9QdXRJZGVudGl0eVBvbGljeVJlc3BvbnNlKGRhdGEuUHV0SWRlbnRpdHlQb2xpY3lSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUHV0SWRlbnRpdHlQb2xpY3lDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBvbGljeVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZFBvbGljeUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBvbGljeUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1Jlb3JkZXJSZWNlaXB0UnVsZVNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUmVvcmRlclJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfUmVvcmRlclJlY2VpcHRSdWxlU2V0UmVzcG9uc2UoZGF0YS5SZW9yZGVyUmVjZWlwdFJ1bGVTZXRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfUmVvcmRlclJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlJ1bGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJ1bGVTZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZW5kQm91bmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZW5kQm91bmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2VuZEJvdW5jZVJlc3BvbnNlKGRhdGEuU2VuZEJvdW5jZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZW5kQm91bmNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIk1lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NZXNzYWdlUmVqZWN0ZWRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZW5kQnVsa1RlbXBsYXRlZEVtYWlsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZW5kQnVsa1RlbXBsYXRlZEVtYWlsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2VuZEJ1bGtUZW1wbGF0ZWRFbWFpbFJlc3BvbnNlKGRhdGEuU2VuZEJ1bGtUZW1wbGF0ZWRFbWFpbFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZW5kQnVsa1RlbXBsYXRlZEVtYWlsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NZXNzYWdlUmVqZWN0ZWRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRlbXBsYXRlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZW5kQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbFJlc3BvbnNlKGRhdGEuU2VuZEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0Zyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNZXNzYWdlUmVqZWN0ZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI01lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWVzc2FnZVJlamVjdGVkUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjUHJvZHVjdGlvbkFjY2Vzc05vdEdyYW50ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Byb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU2VuZEVtYWlsQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZW5kRW1haWxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9TZW5kRW1haWxSZXNwb25zZShkYXRhLlNlbmRFbWFpbFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZW5kRW1haWxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNNZXNzYWdlUmVqZWN0ZWRcIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01lc3NhZ2VSZWplY3RlZFJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NlbmRSYXdFbWFpbENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2VuZFJhd0VtYWlsQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2VuZFJhd0VtYWlsUmVzcG9uc2UoZGF0YS5TZW5kUmF3RW1haWxSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2VuZFJhd0VtYWlsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIk1lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWVzc2FnZVJlamVjdGVkXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NZXNzYWdlUmVqZWN0ZWRSZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZW5kVGVtcGxhdGVkRW1haWxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlbmRUZW1wbGF0ZWRFbWFpbENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NlbmRUZW1wbGF0ZWRFbWFpbFJlc3BvbnNlKGRhdGEuU2VuZFRlbXBsYXRlZEVtYWlsUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1NlbmRUZW1wbGF0ZWRFbWFpbENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNNYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9NYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJNZXNzYWdlUmVqZWN0ZWRcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI01lc3NhZ2VSZWplY3RlZFwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWVzc2FnZVJlamVjdGVkUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUZW1wbGF0ZURvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NldEFjdGl2ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZShkYXRhLlNldEFjdGl2ZVJlY2VpcHRSdWxlU2V0UmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1NldEFjdGl2ZVJlY2VpcHRSdWxlU2V0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlJ1bGVTZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZXRJZGVudGl0eURraW1FbmFibGVkQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZXRJZGVudGl0eURraW1FbmFibGVkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfU2V0SWRlbnRpdHlEa2ltRW5hYmxlZFJlc3BvbnNlKGRhdGEuU2V0SWRlbnRpdHlEa2ltRW5hYmxlZFJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9TZXRJZGVudGl0eURraW1FbmFibGVkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9TZXRJZGVudGl0eUZlZWRiYWNrRm9yd2FyZGluZ0VuYWJsZWRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZFJlc3BvbnNlKGRhdGEuU2V0SWRlbnRpdHlGZWVkYmFja0ZvcndhcmRpbmdFbmFibGVkUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1NldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfU2V0SWRlbnRpdHlIZWFkZXJzSW5Ob3RpZmljYXRpb25zRW5hYmxlZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2V0SWRlbnRpdHlIZWFkZXJzSW5Ob3RpZmljYXRpb25zRW5hYmxlZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NldElkZW50aXR5SGVhZGVyc0luTm90aWZpY2F0aW9uc0VuYWJsZWRSZXNwb25zZShkYXRhLlNldElkZW50aXR5SGVhZGVyc0luTm90aWZpY2F0aW9uc0VuYWJsZWRSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2V0SWRlbnRpdHlIZWFkZXJzSW5Ob3RpZmljYXRpb25zRW5hYmxlZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfU2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NldElkZW50aXR5TWFpbEZyb21Eb21haW5SZXNwb25zZShkYXRhLlNldElkZW50aXR5TWFpbEZyb21Eb21haW5SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NldElkZW50aXR5Tm90aWZpY2F0aW9uVG9waWNSZXNwb25zZShkYXRhLlNldElkZW50aXR5Tm90aWZpY2F0aW9uVG9waWNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2V0SWRlbnRpdHlOb3RpZmljYXRpb25Ub3BpY0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICBvdXRwdXQsXG4gICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgIGVycm9yQ29kZSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVfU2V0UmVjZWlwdFJ1bGVQb3NpdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2V0UmVjZWlwdFJ1bGVQb3NpdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1NldFJlY2VpcHRSdWxlUG9zaXRpb25SZXNwb25zZShkYXRhLlNldFJlY2VpcHRSdWxlUG9zaXRpb25SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfU2V0UmVjZWlwdFJ1bGVQb3NpdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJSdWxlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSdWxlU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVGVzdFJlbmRlclRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9UZXN0UmVuZGVyVGVtcGxhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9UZXN0UmVuZGVyVGVtcGxhdGVSZXNwb25zZShkYXRhLlRlc3RSZW5kZXJUZW1wbGF0ZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9UZXN0UmVuZGVyVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW52YWxpZFJlbmRlcmluZ1BhcmFtZXRlclwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZFJlbmRlcmluZ1BhcmFtZXRlckV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFJlbmRlcmluZ1BhcmFtZXRlckV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTWlzc2luZ1JlbmRlcmluZ0F0dHJpYnV0ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGVtcGxhdGVEb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUFjY291bnRTZW5kaW5nRW5hYmxlZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQWNjb3VudFNlbmRpbmdFbmFibGVkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVXBkYXRlQWNjb3VudFNlbmRpbmdFbmFibGVkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlc3BvbnNlKGRhdGEuVXBkYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25SZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfRXZlbnREZXN0aW5hdGlvbkRvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZENsb3VkV2F0Y2hEZXN0aW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZEZpcmVob3NlRGVzdGluYXRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFNOU0Rlc3RpbmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkU05TRGVzdGluYXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRSZXB1dGF0aW9uTWV0cmljc0VuYWJsZWRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRSZXB1dGF0aW9uTWV0cmljc0VuYWJsZWRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgYXdhaXQgY29sbGVjdEJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0UmVwdXRhdGlvbk1ldHJpY3NFbmFibGVkQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0U2VuZGluZ0VuYWJsZWRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nRW5hYmxlZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nRW5hYmxlZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXNwb25zZShkYXRhLlVwZGF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNDb25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkVHJhY2tpbmdPcHRpb25zXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI1RyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVHJhY2tpbmdPcHRpb25zRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBhd2FpdCBjb2xsZWN0Qm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdFwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0Zyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZVJlY2VpcHRSdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVSZWNlaXB0UnVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBsZXQgY29udGVudHMgPSB7fTtcbiAgICBjb250ZW50cyA9IGRlX1VwZGF0ZVJlY2VpcHRSdWxlUmVzcG9uc2UoZGF0YS5VcGRhdGVSZWNlaXB0UnVsZVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9VcGRhdGVSZWNlaXB0UnVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFF1ZXJ5RXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTGFtYmRhRnVuY3Rpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRMYW1iZGFGdW5jdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZExhbWJkYUZ1bmN0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUzNDb25maWd1cmF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNJbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUzNDb25maWd1cmF0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkU25zVG9waWNcIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3Muc2VzI0ludmFsaWRTbnNUb3BpY0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSdWxlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSdWxlU2V0RG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNSdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SdWxlU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfVXBkYXRlVGVtcGxhdGVSZXNwb25zZShkYXRhLlVwZGF0ZVRlbXBsYXRlUmVzdWx0LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVRlbXBsYXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludmFsaWRUZW1wbGF0ZVwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5zZXMjSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkVGVtcGxhdGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRlbXBsYXRlRG9lc05vdEV4aXN0XCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnNlcyNUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHk6IHBhcnNlZEJvZHkuRXJyb3IsXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9WZXJpZnlEb21haW5Ea2ltQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9WZXJpZnlEb21haW5Ea2ltQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfVmVyaWZ5RG9tYWluRGtpbVJlc3BvbnNlKGRhdGEuVmVyaWZ5RG9tYWluRGtpbVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9WZXJpZnlEb21haW5Ea2ltQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9WZXJpZnlEb21haW5JZGVudGl0eUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVmVyaWZ5RG9tYWluSWRlbnRpdHlDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCk7XG4gICAgbGV0IGNvbnRlbnRzID0ge307XG4gICAgY29udGVudHMgPSBkZV9WZXJpZnlEb21haW5JZGVudGl0eVJlc3BvbnNlKGRhdGEuVmVyaWZ5RG9tYWluSWRlbnRpdHlSZXN1bHQsIGNvbnRleHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVmVyaWZ5RG9tYWluSWRlbnRpdHlDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRRdWVyeUVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgb3V0cHV0LFxuICAgICAgICBwYXJzZWRCb2R5OiBwYXJzZWRCb2R5LkVycm9yLFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlX1ZlcmlmeUVtYWlsQWRkcmVzc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVmVyaWZ5RW1haWxBZGRyZXNzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGF3YWl0IGNvbGxlY3RCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59O1xuY29uc3QgZGVfVmVyaWZ5RW1haWxBZGRyZXNzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9WZXJpZnlFbWFpbElkZW50aXR5Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9WZXJpZnlFbWFpbElkZW50aXR5Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpO1xuICAgIGxldCBjb250ZW50cyA9IHt9O1xuICAgIGNvbnRlbnRzID0gZGVfVmVyaWZ5RW1haWxJZGVudGl0eVJlc3BvbnNlKGRhdGEuVmVyaWZ5RW1haWxJZGVudGl0eVJlc3VsdCwgY29udGV4dCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbn07XG5jb25zdCBkZV9WZXJpZnlFbWFpbElkZW50aXR5Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUXVlcnlFcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgIG91dHB1dCxcbiAgICAgICAgcGFyc2VkQm9keTogcGFyc2VkQm9keS5FcnJvcixcbiAgICAgICAgZXJyb3JDb2RlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9BY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0FscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0FscmVhZHlFeGlzdHNFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEFscmVhZHlFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0Nhbm5vdERlbGV0ZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfQ2Fubm90RGVsZXRlRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDYW5ub3REZWxldGVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9Db25maWd1cmF0aW9uU2V0QWxyZWFkeUV4aXN0c0V4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ29uZmlndXJhdGlvblNldEFscmVhZHlFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0NvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IENvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9Db25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsSW52YWxpZENvbnRlbnRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsSW52YWxpZENvbnRlbnRFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsSW52YWxpZENvbnRlbnRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZUFscmVhZHlFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0V2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9FdmVudERlc3RpbmF0aW9uQWxyZWFkeUV4aXN0c0V4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRXZlbnREZXN0aW5hdGlvbkFscmVhZHlFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0V2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0V2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEV2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0Zyb21FbWFpbEFkZHJlc3NOb3RWZXJpZmllZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfRnJvbUVtYWlsQWRkcmVzc05vdFZlcmlmaWVkRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBGcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRDbG91ZFdhdGNoRGVzdGluYXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkQ29uZmlndXJhdGlvblNldEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZENvbmZpZ3VyYXRpb25TZXRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWREZWxpdmVyeU9wdGlvbnNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRGaXJlaG9zZURlc3RpbmF0aW9uRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9JbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZEZpcmVob3NlRGVzdGluYXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRMYW1iZGFGdW5jdGlvbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZExhbWJkYUZ1bmN0aW9uRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRQb2xpY3lFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRQb2xpY3lFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRQb2xpY3lFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRSZW5kZXJpbmdQYXJhbWV0ZXJFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRTM0NvbmZpZ3VyYXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZFNOU0Rlc3RpbmF0aW9uRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkU05TRGVzdGluYXRpb25FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTbnNUb3BpY0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZFNuc1RvcGljRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkU25zVG9waWNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRUZW1wbGF0ZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfSW52YWxpZFRlbXBsYXRlRXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnZhbGlkVGVtcGxhdGVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0ludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRUcmFja2luZ09wdGlvbnNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IExpbWl0RXhjZWVkZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX01haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE1haWxGcm9tRG9tYWluTm90VmVyaWZpZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX01lc3NhZ2VSZWplY3RlZFJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfTWVzc2FnZVJlamVjdGVkKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBNZXNzYWdlUmVqZWN0ZWQoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX01pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX01pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IE1pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1Byb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9Qcm9kdWN0aW9uQWNjZXNzTm90R3JhbnRlZEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgUHJvZHVjdGlvbkFjY2Vzc05vdEdyYW50ZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX1J1bGVEb2VzTm90RXhpc3RFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFJ1bGVEb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX1J1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFJ1bGVTZXREb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZV9UZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbihib2R5LkVycm9yLCBjb250ZXh0KTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVGVtcGxhdGVEb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1RyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgYm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZCA9IGRlX1RyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb24oYm9keS5FcnJvciwgY29udGV4dCk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFRyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IGRlX1RyYWNraW5nT3B0aW9uc0RvZXNOb3RFeGlzdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBib2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkID0gZGVfVHJhY2tpbmdPcHRpb25zRG9lc05vdEV4aXN0RXhjZXB0aW9uKGJvZHkuRXJyb3IsIGNvbnRleHQpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBUcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uZGVzZXJpYWxpemVkLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIGJvZHkpO1xufTtcbmNvbnN0IHNlX0FkZEhlYWRlckFjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSGVhZGVyTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJIZWFkZXJOYW1lXCJdID0gaW5wdXQuSGVhZGVyTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkhlYWRlclZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkhlYWRlclZhbHVlXCJdID0gaW5wdXQuSGVhZGVyVmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0FkZHJlc3NMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0JvZHkgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRleHQgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQ29udGVudChpbnB1dC5UZXh0LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGV4dC4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuSHRtbCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Db250ZW50KGlucHV0Lkh0bWwsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBIdG1sLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0JvdW5jZUFjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVG9waWNBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9waWNBcm5cIl0gPSBpbnB1dC5Ub3BpY0FybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNtdHBSZXBseUNvZGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU210cFJlcGx5Q29kZVwiXSA9IGlucHV0LlNtdHBSZXBseUNvZGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TdGF0dXNDb2RlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN0YXR1c0NvZGVcIl0gPSBpbnB1dC5TdGF0dXNDb2RlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNZXNzYWdlXCJdID0gaW5wdXQuTWVzc2FnZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNlbmRlciAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTZW5kZXJcIl0gPSBpbnB1dC5TZW5kZXI7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0JvdW5jZWRSZWNpcGllbnRJbmZvID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SZWNpcGllbnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmVjaXBpZW50XCJdID0gaW5wdXQuUmVjaXBpZW50O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVjaXBpZW50QXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJlY2lwaWVudEFyblwiXSA9IGlucHV0LlJlY2lwaWVudEFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkJvdW5jZVR5cGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQm91bmNlVHlwZVwiXSA9IGlucHV0LkJvdW5jZVR5cGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZWNpcGllbnREc25GaWVsZHMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjaXBpZW50RHNuRmllbGRzKGlucHV0LlJlY2lwaWVudERzbkZpZWxkcywgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJlY2lwaWVudERzbkZpZWxkcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9Cb3VuY2VkUmVjaXBpZW50SW5mb0xpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQm91bmNlZFJlY2lwaWVudEluZm8oZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0J1bGtFbWFpbERlc3RpbmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5EZXN0aW5hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EZXN0aW5hdGlvbihpbnB1dC5EZXN0aW5hdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERlc3RpbmF0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXBsYWNlbWVudFRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWVzc2FnZVRhZ0xpc3QoaW5wdXQuUmVwbGFjZW1lbnRUYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlJlcGxhY2VtZW50VGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlJlcGxhY2VtZW50VGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJlcGxhY2VtZW50VGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVwbGFjZW1lbnRUZW1wbGF0ZURhdGEgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmVwbGFjZW1lbnRUZW1wbGF0ZURhdGFcIl0gPSBpbnB1dC5SZXBsYWNlbWVudFRlbXBsYXRlRGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQnVsa0VtYWlsRGVzdGluYXRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0J1bGtFbWFpbERlc3RpbmF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DbG9uZVJlY2VpcHRSdWxlU2V0UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUnVsZVNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZVNldE5hbWVcIl0gPSBpbnB1dC5SdWxlU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk9yaWdpbmFsUnVsZVNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiT3JpZ2luYWxSdWxlU2V0TmFtZVwiXSA9IGlucHV0Lk9yaWdpbmFsUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0Nsb3VkV2F0Y2hEZXN0aW5hdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRGltZW5zaW9uQ29uZmlndXJhdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQ2xvdWRXYXRjaERpbWVuc2lvbkNvbmZpZ3VyYXRpb25zKGlucHV0LkRpbWVuc2lvbkNvbmZpZ3VyYXRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRpbWVuc2lvbkNvbmZpZ3VyYXRpb25zPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRGltZW5zaW9uQ29uZmlndXJhdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEaW1lbnNpb25Db25maWd1cmF0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DbG91ZFdhdGNoRGltZW5zaW9uQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRGltZW5zaW9uTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEaW1lbnNpb25OYW1lXCJdID0gaW5wdXQuRGltZW5zaW9uTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRpbWVuc2lvblZhbHVlU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRpbWVuc2lvblZhbHVlU291cmNlXCJdID0gaW5wdXQuRGltZW5zaW9uVmFsdWVTb3VyY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EZWZhdWx0RGltZW5zaW9uVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGVmYXVsdERpbWVuc2lvblZhbHVlXCJdID0gaW5wdXQuRGVmYXVsdERpbWVuc2lvblZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DbG91ZFdhdGNoRGltZW5zaW9uQ29uZmlndXJhdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQ2xvdWRXYXRjaERpbWVuc2lvbkNvbmZpZ3VyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NvbmZpZ3VyYXRpb25TZXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NvbmZpZ3VyYXRpb25TZXRBdHRyaWJ1dGVMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NvbnRlbnQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkRhdGEgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRGF0YVwiXSA9IGlucHV0LkRhdGE7XG4gICAgfVxuICAgIGlmIChpbnB1dC5DaGFyc2V0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNoYXJzZXRcIl0gPSBpbnB1dC5DaGFyc2V0O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FdmVudERlc3RpbmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0V2ZW50RGVzdGluYXRpb24oaW5wdXQuRXZlbnREZXN0aW5hdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEV2ZW50RGVzdGluYXRpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQ3JlYXRlQ29uZmlndXJhdGlvblNldFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXQgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQ29uZmlndXJhdGlvblNldChpbnB1dC5Db25maWd1cmF0aW9uU2V0LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQ29uZmlndXJhdGlvblNldC4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DcmVhdGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRyYWNraW5nT3B0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9UcmFja2luZ09wdGlvbnMoaW5wdXQuVHJhY2tpbmdPcHRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVHJhY2tpbmdPcHRpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NyZWF0ZUN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UZW1wbGF0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVOYW1lXCJdID0gaW5wdXQuVGVtcGxhdGVOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRnJvbUVtYWlsQWRkcmVzcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJGcm9tRW1haWxBZGRyZXNzXCJdID0gaW5wdXQuRnJvbUVtYWlsQWRkcmVzcztcbiAgICB9XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlU3ViamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZVN1YmplY3RcIl0gPSBpbnB1dC5UZW1wbGF0ZVN1YmplY3Q7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UZW1wbGF0ZUNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVDb250ZW50XCJdID0gaW5wdXQuVGVtcGxhdGVDb250ZW50O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3VjY2Vzc1JlZGlyZWN0aW9uVVJMICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlN1Y2Nlc3NSZWRpcmVjdGlvblVSTFwiXSA9IGlucHV0LlN1Y2Nlc3NSZWRpcmVjdGlvblVSTDtcbiAgICB9XG4gICAgaWYgKGlucHV0LkZhaWx1cmVSZWRpcmVjdGlvblVSTCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJGYWlsdXJlUmVkaXJlY3Rpb25VUkxcIl0gPSBpbnB1dC5GYWlsdXJlUmVkaXJlY3Rpb25VUkw7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0NyZWF0ZVJlY2VpcHRGaWx0ZXJSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5GaWx0ZXIgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjZWlwdEZpbHRlcihpbnB1dC5GaWx0ZXIsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBGaWx0ZXIuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQ3JlYXRlUmVjZWlwdFJ1bGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWZ0ZXIgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWZ0ZXJcIl0gPSBpbnB1dC5BZnRlcjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJ1bGUgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjZWlwdFJ1bGUoaW5wdXQuUnVsZSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJ1bGUuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfQ3JlYXRlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9DcmVhdGVUZW1wbGF0ZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1RlbXBsYXRlKGlucHV0LlRlbXBsYXRlLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGVtcGxhdGUuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlQ29uZmlndXJhdGlvblNldEV2ZW50RGVzdGluYXRpb25SZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSA9IGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXZlbnREZXN0aW5hdGlvbk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0gPSBpbnB1dC5FdmVudERlc3RpbmF0aW9uTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlQ29uZmlndXJhdGlvblNldFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSA9IGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlTmFtZVwiXSA9IGlucHV0LlRlbXBsYXRlTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlSWRlbnRpdHlQb2xpY3lSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJZGVudGl0eVwiXSA9IGlucHV0LklkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUG9saWN5TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJQb2xpY3lOYW1lXCJdID0gaW5wdXQuUG9saWN5TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlSWRlbnRpdHlSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0eSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJZGVudGl0eVwiXSA9IGlucHV0LklkZW50aXR5O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVSZWNlaXB0RmlsdGVyUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRmlsdGVyTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJGaWx0ZXJOYW1lXCJdID0gaW5wdXQuRmlsdGVyTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlUmVjZWlwdFJ1bGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUnVsZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZU5hbWVcIl0gPSBpbnB1dC5SdWxlTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsZXRlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZWxldGVUZW1wbGF0ZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZU5hbWVcIl0gPSBpbnB1dC5UZW1wbGF0ZU5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0RlbGV0ZVZlcmlmaWVkRW1haWxBZGRyZXNzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRW1haWxBZGRyZXNzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVtYWlsQWRkcmVzc1wiXSA9IGlucHV0LkVtYWlsQWRkcmVzcztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVsaXZlcnlPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UbHNQb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGxzUG9saWN5XCJdID0gaW5wdXQuVGxzUG9saWN5O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZUFjdGl2ZVJlY2VpcHRSdWxlU2V0UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSA9IGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldEF0dHJpYnV0ZU5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0NvbmZpZ3VyYXRpb25TZXRBdHRyaWJ1dGVMaXN0KGlucHV0LkNvbmZpZ3VyYXRpb25TZXRBdHRyaWJ1dGVOYW1lcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0QXR0cmlidXRlTmFtZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5Db25maWd1cmF0aW9uU2V0QXR0cmlidXRlTmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBDb25maWd1cmF0aW9uU2V0QXR0cmlidXRlTmFtZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVzY3JpYmVSZWNlaXB0UnVsZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVTZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVTZXROYW1lXCJdID0gaW5wdXQuUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SdWxlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlTmFtZVwiXSA9IGlucHV0LlJ1bGVOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9EZXNjcmliZVJlY2VpcHRSdWxlU2V0UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUnVsZVNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZVNldE5hbWVcIl0gPSBpbnB1dC5SdWxlU2V0TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRGVzdGluYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRvQWRkcmVzc2VzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FkZHJlc3NMaXN0KGlucHV0LlRvQWRkcmVzc2VzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRvQWRkcmVzc2VzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVG9BZGRyZXNzZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUb0FkZHJlc3Nlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ2NBZGRyZXNzZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWRkcmVzc0xpc3QoaW5wdXQuQ2NBZGRyZXNzZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQ2NBZGRyZXNzZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5DY0FkZHJlc3NlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYENjQWRkcmVzc2VzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5CY2NBZGRyZXNzZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWRkcmVzc0xpc3QoaW5wdXQuQmNjQWRkcmVzc2VzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkJjY0FkZHJlc3Nlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkJjY0FkZHJlc3NlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEJjY0FkZHJlc3Nlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9FdmVudERlc3RpbmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVcIl0gPSBpbnB1dC5OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRW5hYmxlZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmFibGVkXCJdID0gaW5wdXQuRW5hYmxlZDtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1hdGNoaW5nRXZlbnRUeXBlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9FdmVudFR5cGVzKGlucHV0Lk1hdGNoaW5nRXZlbnRUeXBlcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5NYXRjaGluZ0V2ZW50VHlwZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5NYXRjaGluZ0V2ZW50VHlwZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBNYXRjaGluZ0V2ZW50VHlwZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LktpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0tpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uKGlucHV0LktpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgS2luZXNpc0ZpcmVob3NlRGVzdGluYXRpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNsb3VkV2F0Y2hEZXN0aW5hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9DbG91ZFdhdGNoRGVzdGluYXRpb24oaW5wdXQuQ2xvdWRXYXRjaERlc3RpbmF0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQ2xvdWRXYXRjaERlc3RpbmF0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TTlNEZXN0aW5hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9TTlNEZXN0aW5hdGlvbihpbnB1dC5TTlNEZXN0aW5hdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFNOU0Rlc3RpbmF0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0V2ZW50VHlwZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfRXh0ZW5zaW9uRmllbGQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5WYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJWYWx1ZVwiXSA9IGlucHV0LlZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9FeHRlbnNpb25GaWVsZExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRXh0ZW5zaW9uRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9LiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0dldEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UZW1wbGF0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVOYW1lXCJdID0gaW5wdXQuVGVtcGxhdGVOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRJZGVudGl0eURraW1BdHRyaWJ1dGVzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdGllcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9JZGVudGl0eUxpc3QoaW5wdXQuSWRlbnRpdGllcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5JZGVudGl0aWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuSWRlbnRpdGllcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYElkZW50aXRpZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfR2V0SWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0aWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0lkZW50aXR5TGlzdChpbnB1dC5JZGVudGl0aWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LklkZW50aXRpZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5JZGVudGl0aWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSWRlbnRpdGllcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRJZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0aWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0lkZW50aXR5TGlzdChpbnB1dC5JZGVudGl0aWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LklkZW50aXRpZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5JZGVudGl0aWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSWRlbnRpdGllcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRJZGVudGl0eVBvbGljaWVzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlBvbGljeU5hbWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1BvbGljeU5hbWVMaXN0KGlucHV0LlBvbGljeU5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlBvbGljeU5hbWVzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUG9saWN5TmFtZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBQb2xpY3lOYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRJZGVudGl0eVZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5JZGVudGl0aWVzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0lkZW50aXR5TGlzdChpbnB1dC5JZGVudGl0aWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LklkZW50aXRpZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5JZGVudGl0aWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSWRlbnRpdGllcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9HZXRUZW1wbGF0ZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZU5hbWVcIl0gPSBpbnB1dC5UZW1wbGF0ZU5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0lkZW50aXR5TGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9LaW5lc2lzRmlyZWhvc2VEZXN0aW5hdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSUFNUm9sZUFSTiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJQU1Sb2xlQVJOXCJdID0gaW5wdXQuSUFNUm9sZUFSTjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRlbGl2ZXJ5U3RyZWFtQVJOICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRlbGl2ZXJ5U3RyZWFtQVJOXCJdID0gaW5wdXQuRGVsaXZlcnlTdHJlYW1BUk47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xhbWJkYUFjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVG9waWNBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9waWNBcm5cIl0gPSBpbnB1dC5Ub3BpY0FybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkZ1bmN0aW9uQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkZ1bmN0aW9uQXJuXCJdID0gaW5wdXQuRnVuY3Rpb25Bcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5JbnZvY2F0aW9uVHlwZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJJbnZvY2F0aW9uVHlwZVwiXSA9IGlucHV0Lkludm9jYXRpb25UeXBlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MaXN0Q29uZmlndXJhdGlvblNldHNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4SXRlbXMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4SXRlbXNcIl0gPSBpbnB1dC5NYXhJdGVtcztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTGlzdEN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuTmV4dFRva2VuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5leHRUb2tlblwiXSA9IGlucHV0Lk5leHRUb2tlbjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1heFJlc3VsdHMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4UmVzdWx0c1wiXSA9IGlucHV0Lk1heFJlc3VsdHM7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3RJZGVudGl0aWVzUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHlUeXBlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIklkZW50aXR5VHlwZVwiXSA9IGlucHV0LklkZW50aXR5VHlwZTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5NYXhJdGVtcyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJNYXhJdGVtc1wiXSA9IGlucHV0Lk1heEl0ZW1zO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9MaXN0SWRlbnRpdHlQb2xpY2llc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LklkZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIklkZW50aXR5XCJdID0gaW5wdXQuSWRlbnRpdHk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3RSZWNlaXB0RmlsdGVyc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTGlzdFJlY2VpcHRSdWxlU2V0c1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5leHRUb2tlbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJOZXh0VG9rZW5cIl0gPSBpbnB1dC5OZXh0VG9rZW47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX0xpc3RUZW1wbGF0ZXNSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OZXh0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmV4dFRva2VuXCJdID0gaW5wdXQuTmV4dFRva2VuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTWF4SXRlbXMgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTWF4SXRlbXNcIl0gPSBpbnB1dC5NYXhJdGVtcztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWVzc2FnZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuU3ViamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9Db250ZW50KGlucHV0LlN1YmplY3QsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBTdWJqZWN0LiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Cb2R5ICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0JvZHkoaW5wdXQuQm9keSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEJvZHkuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWVzc2FnZURzbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUmVwb3J0aW5nTXRhICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJlcG9ydGluZ010YVwiXSA9IGlucHV0LlJlcG9ydGluZ010YTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFycml2YWxEYXRlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkFycml2YWxEYXRlXCJdID0gaW5wdXQuQXJyaXZhbERhdGUudG9JU09TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0gKyBcIlpcIjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkV4dGVuc2lvbkZpZWxkcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9FeHRlbnNpb25GaWVsZExpc3QoaW5wdXQuRXh0ZW5zaW9uRmllbGRzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkV4dGVuc2lvbkZpZWxkcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkV4dGVuc2lvbkZpZWxkcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEV4dGVuc2lvbkZpZWxkcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9NZXNzYWdlVGFnID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVcIl0gPSBpbnB1dC5OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVmFsdWVcIl0gPSBpbnB1dC5WYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfTWVzc2FnZVRhZ0xpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWVzc2FnZVRhZyhlbnRyeSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn0uJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUG9saWN5TmFtZUxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgbGV0IGNvdW50ZXIgPSAxO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW5wdXQpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfWBdID0gZW50cnk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUHV0Q29uZmlndXJhdGlvblNldERlbGl2ZXJ5T3B0aW9uc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EZWxpdmVyeU9wdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGVsaXZlcnlPcHRpb25zKGlucHV0LkRlbGl2ZXJ5T3B0aW9ucywgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERlbGl2ZXJ5T3B0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9QdXRJZGVudGl0eVBvbGljeVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LklkZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIklkZW50aXR5XCJdID0gaW5wdXQuSWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Qb2xpY3lOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBvbGljeU5hbWVcIl0gPSBpbnB1dC5Qb2xpY3lOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUG9saWN5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlBvbGljeVwiXSA9IGlucHV0LlBvbGljeTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUmF3TWVzc2FnZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEYXRhXCJdID0gY29udGV4dC5iYXNlNjRFbmNvZGVyKGlucHV0LkRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9SZWNlaXB0QWN0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5TM0FjdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9TM0FjdGlvbihpbnB1dC5TM0FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFMzQWN0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Cb3VuY2VBY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQm91bmNlQWN0aW9uKGlucHV0LkJvdW5jZUFjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEJvdW5jZUFjdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuV29ya21haWxBY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfV29ya21haWxBY3Rpb24oaW5wdXQuV29ya21haWxBY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBXb3JrbWFpbEFjdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTGFtYmRhQWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0xhbWJkYUFjdGlvbihpbnB1dC5MYW1iZGFBY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBMYW1iZGFBY3Rpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0b3BBY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfU3RvcEFjdGlvbihpbnB1dC5TdG9wQWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgU3RvcEFjdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQWRkSGVhZGVyQWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FkZEhlYWRlckFjdGlvbihpbnB1dC5BZGRIZWFkZXJBY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBZGRIZWFkZXJBY3Rpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNOU0FjdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9TTlNBY3Rpb24oaW5wdXQuU05TQWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgU05TQWN0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1JlY2VpcHRBY3Rpb25zTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SZWNlaXB0QWN0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzW2BtZW1iZXIuJHtjb3VudGVyfS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9SZWNlaXB0RmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5OYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk5hbWVcIl0gPSBpbnB1dC5OYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuSXBGaWx0ZXIgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjZWlwdElwRmlsdGVyKGlucHV0LklwRmlsdGVyLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgSXBGaWx0ZXIuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUmVjZWlwdElwRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Qb2xpY3kgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUG9saWN5XCJdID0gaW5wdXQuUG9saWN5O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ2lkciAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDaWRyXCJdID0gaW5wdXQuQ2lkcjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfUmVjZWlwdFJ1bGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTmFtZVwiXSA9IGlucHV0Lk5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuYWJsZWRcIl0gPSBpbnB1dC5FbmFibGVkO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGxzUG9saWN5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRsc1BvbGljeVwiXSA9IGlucHV0LlRsc1BvbGljeTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJlY2lwaWVudHMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjaXBpZW50c0xpc3QoaW5wdXQuUmVjaXBpZW50cywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5SZWNpcGllbnRzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUmVjaXBpZW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJlY2lwaWVudHMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkFjdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjZWlwdEFjdGlvbnNMaXN0KGlucHV0LkFjdGlvbnMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQWN0aW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkFjdGlvbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBBY3Rpb25zLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TY2FuRW5hYmxlZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTY2FuRW5hYmxlZFwiXSA9IGlucHV0LlNjYW5FbmFibGVkO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9SZWNlaXB0UnVsZU5hbWVzTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBsZXQgY291bnRlciA9IDE7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnB1dCkge1xuICAgICAgICBpZiAoZW50cnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXNbYG1lbWJlci4ke2NvdW50ZXJ9YF0gPSBlbnRyeTtcbiAgICAgICAgY291bnRlcisrO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9SZWNpcGllbnREc25GaWVsZHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkZpbmFsUmVjaXBpZW50ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkZpbmFsUmVjaXBpZW50XCJdID0gaW5wdXQuRmluYWxSZWNpcGllbnQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQWN0aW9uXCJdID0gaW5wdXQuQWN0aW9uO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVtb3RlTXRhICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJlbW90ZU10YVwiXSA9IGlucHV0LlJlbW90ZU10YTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN0YXR1cyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdGF0dXNcIl0gPSBpbnB1dC5TdGF0dXM7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EaWFnbm9zdGljQ29kZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEaWFnbm9zdGljQ29kZVwiXSA9IGlucHV0LkRpYWdub3N0aWNDb2RlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuTGFzdEF0dGVtcHREYXRlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkxhc3RBdHRlbXB0RGF0ZVwiXSA9IGlucHV0Lkxhc3RBdHRlbXB0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiLlwiKVswXSArIFwiWlwiO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXh0ZW5zaW9uRmllbGRzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0V4dGVuc2lvbkZpZWxkTGlzdChpbnB1dC5FeHRlbnNpb25GaWVsZHMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuRXh0ZW5zaW9uRmllbGRzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuRXh0ZW5zaW9uRmllbGRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRXh0ZW5zaW9uRmllbGRzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1JlY2lwaWVudHNMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGxldCBjb3VudGVyID0gMTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGlucHV0KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc1tgbWVtYmVyLiR7Y291bnRlcn1gXSA9IGVudHJ5O1xuICAgICAgICBjb3VudGVyKys7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1Jlb3JkZXJSZWNlaXB0UnVsZVNldFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVTZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVTZXROYW1lXCJdID0gaW5wdXQuUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SdWxlTmFtZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfUmVjZWlwdFJ1bGVOYW1lc0xpc3QoaW5wdXQuUnVsZU5hbWVzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlJ1bGVOYW1lcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlJ1bGVOYW1lcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJ1bGVOYW1lcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TM0FjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVG9waWNBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9waWNBcm5cIl0gPSBpbnB1dC5Ub3BpY0FybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkJ1Y2tldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQnVja2V0TmFtZVwiXSA9IGlucHV0LkJ1Y2tldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5PYmplY3RLZXlQcmVmaXggIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiT2JqZWN0S2V5UHJlZml4XCJdID0gaW5wdXQuT2JqZWN0S2V5UHJlZml4O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuS21zS2V5QXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkttc0tleUFyblwiXSA9IGlucHV0Lkttc0tleUFybjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU2VuZEJvdW5jZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0Lk9yaWdpbmFsTWVzc2FnZUlkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk9yaWdpbmFsTWVzc2FnZUlkXCJdID0gaW5wdXQuT3JpZ2luYWxNZXNzYWdlSWQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Cb3VuY2VTZW5kZXIgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQm91bmNlU2VuZGVyXCJdID0gaW5wdXQuQm91bmNlU2VuZGVyO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRXhwbGFuYXRpb24gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRXhwbGFuYXRpb25cIl0gPSBpbnB1dC5FeHBsYW5hdGlvbjtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1lc3NhZ2VEc24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWVzc2FnZURzbihpbnB1dC5NZXNzYWdlRHNuLCBjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgTWVzc2FnZURzbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQm91bmNlZFJlY2lwaWVudEluZm9MaXN0ICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0JvdW5jZWRSZWNpcGllbnRJbmZvTGlzdChpbnB1dC5Cb3VuY2VkUmVjaXBpZW50SW5mb0xpc3QsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuQm91bmNlZFJlY2lwaWVudEluZm9MaXN0Py5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuQm91bmNlZFJlY2lwaWVudEluZm9MaXN0ID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgQm91bmNlZFJlY2lwaWVudEluZm9MaXN0LiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Cb3VuY2VTZW5kZXJBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQm91bmNlU2VuZGVyQXJuXCJdID0gaW5wdXQuQm91bmNlU2VuZGVyQXJuO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZW5kQnVsa1RlbXBsYXRlZEVtYWlsUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNvdXJjZVwiXSA9IGlucHV0LlNvdXJjZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNvdXJjZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTb3VyY2VBcm5cIl0gPSBpbnB1dC5Tb3VyY2VBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXBseVRvQWRkcmVzc2VzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0FkZHJlc3NMaXN0KGlucHV0LlJlcGx5VG9BZGRyZXNzZXMsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuUmVwbHlUb0FkZHJlc3Nlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlJlcGx5VG9BZGRyZXNzZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBSZXBseVRvQWRkcmVzc2VzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXR1cm5QYXRoICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJldHVyblBhdGhcIl0gPSBpbnB1dC5SZXR1cm5QYXRoO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmV0dXJuUGF0aEFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXR1cm5QYXRoQXJuXCJdID0gaW5wdXQuUmV0dXJuUGF0aEFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EZWZhdWx0VGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXNzYWdlVGFnTGlzdChpbnB1dC5EZWZhdWx0VGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5EZWZhdWx0VGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRlZmF1bHRUYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgRGVmYXVsdFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlXCJdID0gaW5wdXQuVGVtcGxhdGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UZW1wbGF0ZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZUFyblwiXSA9IGlucHV0LlRlbXBsYXRlQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGVmYXVsdFRlbXBsYXRlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJEZWZhdWx0VGVtcGxhdGVEYXRhXCJdID0gaW5wdXQuRGVmYXVsdFRlbXBsYXRlRGF0YTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRlc3RpbmF0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9CdWxrRW1haWxEZXN0aW5hdGlvbkxpc3QoaW5wdXQuRGVzdGluYXRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRlc3RpbmF0aW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRlc3RpbmF0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERlc3RpbmF0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZW5kQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5FbWFpbEFkZHJlc3MgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW1haWxBZGRyZXNzXCJdID0gaW5wdXQuRW1haWxBZGRyZXNzO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlTmFtZVwiXSA9IGlucHV0LlRlbXBsYXRlTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NlbmRFbWFpbFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTb3VyY2VcIl0gPSBpbnB1dC5Tb3VyY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EZXN0aW5hdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9EZXN0aW5hdGlvbihpbnB1dC5EZXN0aW5hdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERlc3RpbmF0aW9uLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5NZXNzYWdlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01lc3NhZ2UoaW5wdXQuTWVzc2FnZSwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYE1lc3NhZ2UuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJlcGx5VG9BZGRyZXNzZXMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWRkcmVzc0xpc3QoaW5wdXQuUmVwbHlUb0FkZHJlc3NlcywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5SZXBseVRvQWRkcmVzc2VzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuUmVwbHlUb0FkZHJlc3NlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFJlcGx5VG9BZGRyZXNzZXMuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJldHVyblBhdGggIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmV0dXJuUGF0aFwiXSA9IGlucHV0LlJldHVyblBhdGg7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Tb3VyY2VBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU291cmNlQXJuXCJdID0gaW5wdXQuU291cmNlQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmV0dXJuUGF0aEFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXR1cm5QYXRoQXJuXCJdID0gaW5wdXQuUmV0dXJuUGF0aEFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRhZ3MgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfTWVzc2FnZVRhZ0xpc3QoaW5wdXQuVGFncywgY29udGV4dCk7XG4gICAgICAgIGlmIChpbnB1dC5UYWdzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVudHJpZXMuVGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRhZ3MuJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NlbmRSYXdFbWFpbFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTb3VyY2VcIl0gPSBpbnB1dC5Tb3VyY2U7XG4gICAgfVxuICAgIGlmIChpbnB1dC5EZXN0aW5hdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfQWRkcmVzc0xpc3QoaW5wdXQuRGVzdGluYXRpb25zLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LkRlc3RpbmF0aW9ucz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLkRlc3RpbmF0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYERlc3RpbmF0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmF3TWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9SYXdNZXNzYWdlKGlucHV0LlJhd01lc3NhZ2UsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBSYXdNZXNzYWdlLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Gcm9tQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkZyb21Bcm5cIl0gPSBpbnB1dC5Gcm9tQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU291cmNlQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlNvdXJjZUFyblwiXSA9IGlucHV0LlNvdXJjZUFybjtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJldHVyblBhdGhBcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUmV0dXJuUGF0aEFyblwiXSA9IGlucHV0LlJldHVyblBhdGhBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5UYWdzICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX01lc3NhZ2VUYWdMaXN0KGlucHV0LlRhZ3MsIGNvbnRleHQpO1xuICAgICAgICBpZiAoaW5wdXQuVGFncz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRyaWVzLlRhZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUYWdzLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSA9IGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZW5kVGVtcGxhdGVkRW1haWxSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Tb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU291cmNlXCJdID0gaW5wdXQuU291cmNlO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRGVzdGluYXRpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfRGVzdGluYXRpb24oaW5wdXQuRGVzdGluYXRpb24sIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBEZXN0aW5hdGlvbi4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmVwbHlUb0FkZHJlc3NlcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9BZGRyZXNzTGlzdChpbnB1dC5SZXBseVRvQWRkcmVzc2VzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlJlcGx5VG9BZGRyZXNzZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5SZXBseVRvQWRkcmVzc2VzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgUmVwbHlUb0FkZHJlc3Nlcy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuUmV0dXJuUGF0aCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSZXR1cm5QYXRoXCJdID0gaW5wdXQuUmV0dXJuUGF0aDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlNvdXJjZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTb3VyY2VBcm5cIl0gPSBpbnB1dC5Tb3VyY2VBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5SZXR1cm5QYXRoQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJldHVyblBhdGhBcm5cIl0gPSBpbnB1dC5SZXR1cm5QYXRoQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGFncyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlckVudHJpZXMgPSBzZV9NZXNzYWdlVGFnTGlzdChpbnB1dC5UYWdzLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGlucHV0LlRhZ3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW50cmllcy5UYWdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWVtYmVyRW50cmllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsb2MgPSBgVGFncy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gPSBpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRlbXBsYXRlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlXCJdID0gaW5wdXQuVGVtcGxhdGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UZW1wbGF0ZUFybiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJUZW1wbGF0ZUFyblwiXSA9IGlucHV0LlRlbXBsYXRlQXJuO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlRGF0YVwiXSA9IGlucHV0LlRlbXBsYXRlRGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5SdWxlU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJSdWxlU2V0TmFtZVwiXSA9IGlucHV0LlJ1bGVTZXROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRJZGVudGl0eURraW1FbmFibGVkUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkRraW1FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRraW1FbmFibGVkXCJdID0gaW5wdXQuRGtpbUVuYWJsZWQ7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1NldElkZW50aXR5RmVlZGJhY2tGb3J3YXJkaW5nRW5hYmxlZFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LklkZW50aXR5ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIklkZW50aXR5XCJdID0gaW5wdXQuSWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5Gb3J3YXJkaW5nRW5hYmxlZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJGb3J3YXJkaW5nRW5hYmxlZFwiXSA9IGlucHV0LkZvcndhcmRpbmdFbmFibGVkO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRJZGVudGl0eUhlYWRlcnNJbk5vdGlmaWNhdGlvbnNFbmFibGVkUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5vdGlmaWNhdGlvblR5cGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTm90aWZpY2F0aW9uVHlwZVwiXSA9IGlucHV0Lk5vdGlmaWNhdGlvblR5cGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuYWJsZWRcIl0gPSBpbnB1dC5FbmFibGVkO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRJZGVudGl0eU1haWxGcm9tRG9tYWluUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk1haWxGcm9tRG9tYWluICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIk1haWxGcm9tRG9tYWluXCJdID0gaW5wdXQuTWFpbEZyb21Eb21haW47XG4gICAgfVxuICAgIGlmIChpbnB1dC5CZWhhdmlvck9uTVhGYWlsdXJlICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkJlaGF2aW9yT25NWEZhaWx1cmVcIl0gPSBpbnB1dC5CZWhhdmlvck9uTVhGYWlsdXJlO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRJZGVudGl0eU5vdGlmaWNhdGlvblRvcGljUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuSWRlbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiSWRlbnRpdHlcIl0gPSBpbnB1dC5JZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGlucHV0Lk5vdGlmaWNhdGlvblR5cGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiTm90aWZpY2F0aW9uVHlwZVwiXSA9IGlucHV0Lk5vdGlmaWNhdGlvblR5cGU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5TbnNUb3BpYyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTbnNUb3BpY1wiXSA9IGlucHV0LlNuc1RvcGljO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TZXRSZWNlaXB0UnVsZVBvc2l0aW9uUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuUnVsZVNldE5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiUnVsZVNldE5hbWVcIl0gPSBpbnB1dC5SdWxlU2V0TmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlJ1bGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVOYW1lXCJdID0gaW5wdXQuUnVsZU5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5BZnRlciAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJBZnRlclwiXSA9IGlucHV0LkFmdGVyO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TTlNBY3Rpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRvcGljQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRvcGljQXJuXCJdID0gaW5wdXQuVG9waWNBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmNvZGluZyAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmNvZGluZ1wiXSA9IGlucHV0LkVuY29kaW5nO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9TTlNEZXN0aW5hdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVG9waWNBUk4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVG9waWNBUk5cIl0gPSBpbnB1dC5Ub3BpY0FSTjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfU3RvcEFjdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuU2NvcGUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU2NvcGVcIl0gPSBpbnB1dC5TY29wZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRvcGljQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRvcGljQXJuXCJdID0gaW5wdXQuVG9waWNBcm47XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1RlbXBsYXRlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UZW1wbGF0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVOYW1lXCJdID0gaW5wdXQuVGVtcGxhdGVOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuU3ViamVjdFBhcnQgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiU3ViamVjdFBhcnRcIl0gPSBpbnB1dC5TdWJqZWN0UGFydDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlRleHRQYXJ0ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRleHRQYXJ0XCJdID0gaW5wdXQuVGV4dFBhcnQ7XG4gICAgfVxuICAgIGlmIChpbnB1dC5IdG1sUGFydCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJIdG1sUGFydFwiXSA9IGlucHV0Lkh0bWxQYXJ0O1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9UZXN0UmVuZGVyVGVtcGxhdGVSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5UZW1wbGF0ZU5hbWUgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVOYW1lXCJdID0gaW5wdXQuVGVtcGxhdGVOYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlRGF0YVwiXSA9IGlucHV0LlRlbXBsYXRlRGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVHJhY2tpbmdPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5DdXN0b21SZWRpcmVjdERvbWFpbiAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDdXN0b21SZWRpcmVjdERvbWFpblwiXSA9IGlucHV0LkN1c3RvbVJlZGlyZWN0RG9tYWluO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9VcGRhdGVBY2NvdW50U2VuZGluZ0VuYWJsZWRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuYWJsZWRcIl0gPSBpbnB1dC5FbmFibGVkO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FdmVudERlc3RpbmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX0V2ZW50RGVzdGluYXRpb24oaW5wdXQuRXZlbnREZXN0aW5hdGlvbiwgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYEV2ZW50RGVzdGluYXRpb24uJHtrZXl9YDtcbiAgICAgICAgICAgIGVudHJpZXNbbG9jXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVXBkYXRlQ29uZmlndXJhdGlvblNldFJlcHV0YXRpb25NZXRyaWNzRW5hYmxlZFJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5FbmFibGVkICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVuYWJsZWRcIl0gPSBpbnB1dC5FbmFibGVkO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0U2VuZGluZ0VuYWJsZWRSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Db25maWd1cmF0aW9uU2V0TmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSA9IGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuRW5hYmxlZCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJFbmFibGVkXCJdID0gaW5wdXQuRW5hYmxlZDtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVXBkYXRlQ29uZmlndXJhdGlvblNldFRyYWNraW5nT3B0aW9uc1JlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LkNvbmZpZ3VyYXRpb25TZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdID0gaW5wdXQuQ29uZmlndXJhdGlvblNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UcmFja2luZ09wdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVHJhY2tpbmdPcHRpb25zKGlucHV0LlRyYWNraW5nT3B0aW9ucywgY29udGV4dCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG1lbWJlckVudHJpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gYFRyYWNraW5nT3B0aW9ucy4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9VcGRhdGVDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVOYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlTmFtZVwiXSA9IGlucHV0LlRlbXBsYXRlTmFtZTtcbiAgICB9XG4gICAgaWYgKGlucHV0LkZyb21FbWFpbEFkZHJlc3MgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRnJvbUVtYWlsQWRkcmVzc1wiXSA9IGlucHV0LkZyb21FbWFpbEFkZHJlc3M7XG4gICAgfVxuICAgIGlmIChpbnB1dC5UZW1wbGF0ZVN1YmplY3QgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiVGVtcGxhdGVTdWJqZWN0XCJdID0gaW5wdXQuVGVtcGxhdGVTdWJqZWN0O1xuICAgIH1cbiAgICBpZiAoaW5wdXQuVGVtcGxhdGVDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRlbXBsYXRlQ29udGVudFwiXSA9IGlucHV0LlRlbXBsYXRlQ29udGVudDtcbiAgICB9XG4gICAgaWYgKGlucHV0LlN1Y2Nlc3NSZWRpcmVjdGlvblVSTCAhPSBudWxsKSB7XG4gICAgICAgIGVudHJpZXNbXCJTdWNjZXNzUmVkaXJlY3Rpb25VUkxcIl0gPSBpbnB1dC5TdWNjZXNzUmVkaXJlY3Rpb25VUkw7XG4gICAgfVxuICAgIGlmIChpbnB1dC5GYWlsdXJlUmVkaXJlY3Rpb25VUkwgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRmFpbHVyZVJlZGlyZWN0aW9uVVJMXCJdID0gaW5wdXQuRmFpbHVyZVJlZGlyZWN0aW9uVVJMO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9VcGRhdGVSZWNlaXB0UnVsZVJlcXVlc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlJ1bGVTZXROYW1lICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlJ1bGVTZXROYW1lXCJdID0gaW5wdXQuUnVsZVNldE5hbWU7XG4gICAgfVxuICAgIGlmIChpbnB1dC5SdWxlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgbWVtYmVyRW50cmllcyA9IHNlX1JlY2VpcHRSdWxlKGlucHV0LlJ1bGUsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBSdWxlLiR7a2V5fWA7XG4gICAgICAgICAgICBlbnRyaWVzW2xvY10gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbnRyaWVzO1xufTtcbmNvbnN0IHNlX1VwZGF0ZVRlbXBsYXRlUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuVGVtcGxhdGUgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBtZW1iZXJFbnRyaWVzID0gc2VfVGVtcGxhdGUoaW5wdXQuVGVtcGxhdGUsIGNvbnRleHQpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhtZW1iZXJFbnRyaWVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxvYyA9IGBUZW1wbGF0ZS4ke2tleX1gO1xuICAgICAgICAgICAgZW50cmllc1tsb2NdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9WZXJpZnlEb21haW5Ea2ltUmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRG9tYWluICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkRvbWFpblwiXSA9IGlucHV0LkRvbWFpbjtcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfVmVyaWZ5RG9tYWluSWRlbnRpdHlSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5Eb21haW4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRG9tYWluXCJdID0gaW5wdXQuRG9tYWluO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9WZXJpZnlFbWFpbEFkZHJlc3NSZXF1ZXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IHt9O1xuICAgIGlmIChpbnB1dC5FbWFpbEFkZHJlc3MgIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiRW1haWxBZGRyZXNzXCJdID0gaW5wdXQuRW1haWxBZGRyZXNzO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBzZV9WZXJpZnlFbWFpbElkZW50aXR5UmVxdWVzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGVudHJpZXMgPSB7fTtcbiAgICBpZiAoaW5wdXQuRW1haWxBZGRyZXNzICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIkVtYWlsQWRkcmVzc1wiXSA9IGlucHV0LkVtYWlsQWRkcmVzcztcbiAgICB9XG4gICAgcmV0dXJuIGVudHJpZXM7XG59O1xuY29uc3Qgc2VfV29ya21haWxBY3Rpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBlbnRyaWVzID0ge307XG4gICAgaWYgKGlucHV0LlRvcGljQXJuICE9IG51bGwpIHtcbiAgICAgICAgZW50cmllc1tcIlRvcGljQXJuXCJdID0gaW5wdXQuVG9waWNBcm47XG4gICAgfVxuICAgIGlmIChpbnB1dC5Pcmdhbml6YXRpb25Bcm4gIT0gbnVsbCkge1xuICAgICAgICBlbnRyaWVzW1wiT3JnYW5pemF0aW9uQXJuXCJdID0gaW5wdXQuT3JnYW5pemF0aW9uQXJuO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn07XG5jb25zdCBkZV9BY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQWRkSGVhZGVyQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkhlYWRlck5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5IZWFkZXJOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiSGVhZGVyTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJIZWFkZXJWYWx1ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkhlYWRlclZhbHVlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiSGVhZGVyVmFsdWVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQWRkcmVzc0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0U3RyaW5nKGVudHJ5KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BbHJlYWR5RXhpc3RzRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQm91bmNlQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRvcGljQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVG9waWNBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUb3BpY0FyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTbXRwUmVwbHlDb2RlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU210cFJlcGx5Q29kZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlNtdHBSZXBseUNvZGVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU3RhdHVzQ29kZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXR1c0NvZGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdGF0dXNDb2RlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTZW5kZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TZW5kZXIgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTZW5kZXJcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQnVsa0VtYWlsRGVzdGluYXRpb25TdGF0dXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiU3RhdHVzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3RhdHVzID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiU3RhdHVzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkVycm9yXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXJyb3IgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJFcnJvclwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNZXNzYWdlSWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlSWRcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQnVsa0VtYWlsRGVzdGluYXRpb25TdGF0dXNMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9CdWxrRW1haWxEZXN0aW5hdGlvblN0YXR1cyhlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ2Fubm90RGVsZXRlRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ2xvbmVSZWNlaXB0UnVsZVNldFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Nsb3VkV2F0Y2hEZXN0aW5hdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRGltZW5zaW9uQ29uZmlndXJhdGlvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGltZW5zaW9uQ29uZmlndXJhdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRGltZW5zaW9uQ29uZmlndXJhdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvdXRwdXRbXCJEaW1lbnNpb25Db25maWd1cmF0aW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvbkNvbmZpZ3VyYXRpb25zID0gZGVfQ2xvdWRXYXRjaERpbWVuc2lvbkNvbmZpZ3VyYXRpb25zKF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGltZW5zaW9uQ29uZmlndXJhdGlvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Nsb3VkV2F0Y2hEaW1lbnNpb25Db25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkRpbWVuc2lvbk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EaW1lbnNpb25OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGltZW5zaW9uTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEaW1lbnNpb25WYWx1ZVNvdXJjZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRpbWVuc2lvblZhbHVlU291cmNlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGltZW5zaW9uVmFsdWVTb3VyY2VcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRGVmYXVsdERpbWVuc2lvblZhbHVlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGVmYXVsdERpbWVuc2lvblZhbHVlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRGVmYXVsdERpbWVuc2lvblZhbHVlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Nsb3VkV2F0Y2hEaW1lbnNpb25Db25maWd1cmF0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfQ2xvdWRXYXRjaERpbWVuc2lvbkNvbmZpZ3VyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXRBbHJlYWR5RXhpc3RzRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NvbmZpZ3VyYXRpb25TZXRzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Db25maWd1cmF0aW9uU2V0KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db25maWd1cmF0aW9uU2V0U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRFdmVudERlc3RpbmF0aW9uUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlQ29uZmlndXJhdGlvblNldFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVSZWNlaXB0RmlsdGVyUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlUmVjZWlwdFJ1bGVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVSZWNlaXB0UnVsZVNldFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVRlbXBsYXRlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxJbnZhbGlkQ29udGVudEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUZW1wbGF0ZU5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5UZW1wbGF0ZU5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUZW1wbGF0ZU5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRnJvbUVtYWlsQWRkcmVzc1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZyb21FbWFpbEFkZHJlc3MgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJGcm9tRW1haWxBZGRyZXNzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlU3ViamVjdFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlU3ViamVjdCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlU3ViamVjdFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdWNjZXNzUmVkaXJlY3Rpb25VUkxcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdWNjZXNzUmVkaXJlY3Rpb25VUkwgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdWNjZXNzUmVkaXJlY3Rpb25VUkxcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRmFpbHVyZVJlZGlyZWN0aW9uVVJMXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZVJlZGlyZWN0aW9uVVJMID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRmFpbHVyZVJlZGlyZWN0aW9uVVJMXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVBbHJlYWR5RXhpc3RzRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZU5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZURvZXNOb3RFeGlzdEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZU5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0N1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUNvbmZpZ3VyYXRpb25TZXRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVDb25maWd1cmF0aW9uU2V0VHJhY2tpbmdPcHRpb25zUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlSWRlbnRpdHlQb2xpY3lSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVJZGVudGl0eVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVJlY2VpcHRGaWx0ZXJSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVSZWNlaXB0UnVsZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVJlY2VpcHRSdWxlU2V0UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVGVtcGxhdGVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxpdmVyeU9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGxzUG9saWN5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGxzUG9saWN5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGxzUG9saWN5XCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNZXRhZGF0YVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldGFkYXRhID0gZGVfUmVjZWlwdFJ1bGVTZXRNZXRhZGF0YShvdXRwdXRbXCJNZXRhZGF0YVwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuUnVsZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuUnVsZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiUnVsZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJSdWxlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJ1bGVzID0gZGVfUmVjZWlwdFJ1bGVzTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlJ1bGVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUNvbmZpZ3VyYXRpb25TZXRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldCA9IGRlX0NvbmZpZ3VyYXRpb25TZXQob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldFwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRXZlbnREZXN0aW5hdGlvbnMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRXZlbnREZXN0aW5hdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV2ZW50RGVzdGluYXRpb25zID0gZGVfRXZlbnREZXN0aW5hdGlvbnMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVHJhY2tpbmdPcHRpb25zXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVHJhY2tpbmdPcHRpb25zID0gZGVfVHJhY2tpbmdPcHRpb25zKG91dHB1dFtcIlRyYWNraW5nT3B0aW9uc1wiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJEZWxpdmVyeU9wdGlvbnNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EZWxpdmVyeU9wdGlvbnMgPSBkZV9EZWxpdmVyeU9wdGlvbnMob3V0cHV0W1wiRGVsaXZlcnlPcHRpb25zXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlJlcHV0YXRpb25PcHRpb25zXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUmVwdXRhdGlvbk9wdGlvbnMgPSBkZV9SZXB1dGF0aW9uT3B0aW9ucyhvdXRwdXRbXCJSZXB1dGF0aW9uT3B0aW9uc1wiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVJlY2VpcHRSdWxlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiUnVsZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJ1bGUgPSBkZV9SZWNlaXB0UnVsZShvdXRwdXRbXCJSdWxlXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNZXRhZGF0YVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1ldGFkYXRhID0gZGVfUmVjZWlwdFJ1bGVTZXRNZXRhZGF0YShvdXRwdXRbXCJNZXRhZGF0YVwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuUnVsZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuUnVsZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiUnVsZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJSdWxlc1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJ1bGVzID0gZGVfUmVjZWlwdFJ1bGVzTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlJ1bGVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Ea2ltQXR0cmlidXRlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gb3V0cHV0LnJlZHVjZSgoYWNjLCBwYWlyKSA9PiB7XG4gICAgICAgIGlmIChwYWlyW1widmFsdWVcIl0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgYWNjW3BhaXJbXCJrZXlcIl1dID0gZGVfSWRlbnRpdHlEa2ltQXR0cmlidXRlcyhwYWlyW1widmFsdWVcIl0sIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn07XG5jb25zdCBkZV9FdmVudERlc3RpbmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIkVuYWJsZWRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0Lk1hdGNoaW5nRXZlbnRUeXBlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5NYXRjaGluZ0V2ZW50VHlwZXMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiTWF0Y2hpbmdFdmVudFR5cGVzXCJdICE9PSB1bmRlZmluZWQgJiYgb3V0cHV0W1wiTWF0Y2hpbmdFdmVudFR5cGVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWF0Y2hpbmdFdmVudFR5cGVzID0gZGVfRXZlbnRUeXBlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIk1hdGNoaW5nRXZlbnRUeXBlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiS2luZXNpc0ZpcmVob3NlRGVzdGluYXRpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5LaW5lc2lzRmlyZWhvc2VEZXN0aW5hdGlvbiA9IGRlX0tpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uKG91dHB1dFtcIktpbmVzaXNGaXJlaG9zZURlc3RpbmF0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkNsb3VkV2F0Y2hEZXN0aW5hdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNsb3VkV2F0Y2hEZXN0aW5hdGlvbiA9IGRlX0Nsb3VkV2F0Y2hEZXN0aW5hdGlvbihvdXRwdXRbXCJDbG91ZFdhdGNoRGVzdGluYXRpb25cIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU05TRGVzdGluYXRpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TTlNEZXN0aW5hdGlvbiA9IGRlX1NOU0Rlc3RpbmF0aW9uKG91dHB1dFtcIlNOU0Rlc3RpbmF0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0V2ZW50RGVzdGluYXRpb25BbHJlYWR5RXhpc3RzRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV2ZW50RGVzdGluYXRpb25OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0V2ZW50RGVzdGluYXRpb25Eb2VzTm90RXhpc3RFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkV2ZW50RGVzdGluYXRpb25OYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRXZlbnREZXN0aW5hdGlvbk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRXZlbnREZXN0aW5hdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0V2ZW50RGVzdGluYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX0V2ZW50VHlwZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0U3RyaW5nKGVudHJ5KTtcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Gcm9tRW1haWxBZGRyZXNzTm90VmVyaWZpZWRFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiRnJvbUVtYWlsQWRkcmVzc1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkZyb21FbWFpbEFkZHJlc3MgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJGcm9tRW1haWxBZGRyZXNzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRBY2NvdW50U2VuZGluZ0VuYWJsZWRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIkVuYWJsZWRcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0Q3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJGcm9tRW1haWxBZGRyZXNzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRnJvbUVtYWlsQWRkcmVzcyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZyb21FbWFpbEFkZHJlc3NcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVTdWJqZWN0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVTdWJqZWN0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVTdWJqZWN0XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlQ29udGVudFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlQ29udGVudCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlQ29udGVudFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJTdWNjZXNzUmVkaXJlY3Rpb25VUkxcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdWNjZXNzUmVkaXJlY3Rpb25VUkwgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdWNjZXNzUmVkaXJlY3Rpb25VUkxcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRmFpbHVyZVJlZGlyZWN0aW9uVVJMXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmFpbHVyZVJlZGlyZWN0aW9uVVJMID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRmFpbHVyZVJlZGlyZWN0aW9uVVJMXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldElkZW50aXR5RGtpbUF0dHJpYnV0ZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRGtpbUF0dHJpYnV0ZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuRGtpbUF0dHJpYnV0ZXMgPSB7fTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRGtpbUF0dHJpYnV0ZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJEa2ltQXR0cmlidXRlc1wiXVtcImVudHJ5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGtpbUF0dHJpYnV0ZXMgPSBkZV9Ea2ltQXR0cmlidXRlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkRraW1BdHRyaWJ1dGVzXCJdW1wiZW50cnlcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldElkZW50aXR5TWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0Lk1haWxGcm9tRG9tYWluQXR0cmlidXRlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5NYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXMgPSB7fTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiTWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiTWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzXCJdW1wiZW50cnlcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXMgPSBkZV9NYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXNcIl1bXCJlbnRyeVwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0SWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0Lk5vdGlmaWNhdGlvbkF0dHJpYnV0ZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuTm90aWZpY2F0aW9uQXR0cmlidXRlcyA9IHt9O1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJOb3RpZmljYXRpb25BdHRyaWJ1dGVzXCJdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3V0cHV0W1wiTm90aWZpY2F0aW9uQXR0cmlidXRlc1wiXVtcImVudHJ5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTm90aWZpY2F0aW9uQXR0cmlidXRlcyA9IGRlX05vdGlmaWNhdGlvbkF0dHJpYnV0ZXMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJOb3RpZmljYXRpb25BdHRyaWJ1dGVzXCJdW1wiZW50cnlcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dldElkZW50aXR5UG9saWNpZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuUG9saWNpZXMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuUG9saWNpZXMgPSB7fTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiUG9saWNpZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJQb2xpY2llc1wiXVtcImVudHJ5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUG9saWNpZXMgPSBkZV9Qb2xpY3lNYXAoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJQb2xpY2llc1wiXVtcImVudHJ5XCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZXRJZGVudGl0eVZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuVmVyaWZpY2F0aW9uQXR0cmlidXRlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5WZXJpZmljYXRpb25BdHRyaWJ1dGVzID0ge307XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIlZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvdXRwdXRbXCJWZXJpZmljYXRpb25BdHRyaWJ1dGVzXCJdW1wiZW50cnlcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WZXJpZmljYXRpb25BdHRyaWJ1dGVzID0gZGVfVmVyaWZpY2F0aW9uQXR0cmlidXRlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlZlcmlmaWNhdGlvbkF0dHJpYnV0ZXNcIl1bXCJlbnRyeVwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0U2VuZFF1b3RhUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWF4MjRIb3VyU2VuZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1heDI0SG91clNlbmQgPSBfX3N0cmljdFBhcnNlRmxvYXQob3V0cHV0W1wiTWF4MjRIb3VyU2VuZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJNYXhTZW5kUmF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1heFNlbmRSYXRlID0gX19zdHJpY3RQYXJzZUZsb2F0KG91dHB1dFtcIk1heFNlbmRSYXRlXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNlbnRMYXN0MjRIb3Vyc1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNlbnRMYXN0MjRIb3VycyA9IF9fc3RyaWN0UGFyc2VGbG9hdChvdXRwdXRbXCJTZW50TGFzdDI0SG91cnNcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0U2VuZFN0YXRpc3RpY3NSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuU2VuZERhdGFQb2ludHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuU2VuZERhdGFQb2ludHMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiU2VuZERhdGFQb2ludHNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJTZW5kRGF0YVBvaW50c1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlNlbmREYXRhUG9pbnRzID0gZGVfU2VuZERhdGFQb2ludExpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJTZW5kRGF0YVBvaW50c1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0VGVtcGxhdGVSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUZW1wbGF0ZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlID0gZGVfVGVtcGxhdGUob3V0cHV0W1wiVGVtcGxhdGVcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSWRlbnRpdHlEa2ltQXR0cmlidXRlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJEa2ltRW5hYmxlZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRraW1FbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiRGtpbUVuYWJsZWRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRGtpbVZlcmlmaWNhdGlvblN0YXR1c1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRraW1WZXJpZmljYXRpb25TdGF0dXMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJEa2ltVmVyaWZpY2F0aW9uU3RhdHVzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5Ea2ltVG9rZW5zID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLkRraW1Ub2tlbnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiRGtpbVRva2Vuc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIkRraW1Ub2tlbnNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Ea2ltVG9rZW5zID0gZGVfVmVyaWZpY2F0aW9uVG9rZW5MaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRGtpbVRva2Vuc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSWRlbnRpdHlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfSWRlbnRpdHlNYWlsRnJvbURvbWFpbkF0dHJpYnV0ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWFpbEZyb21Eb21haW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NYWlsRnJvbURvbWFpbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1haWxGcm9tRG9tYWluXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk1haWxGcm9tRG9tYWluU3RhdHVzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWFpbEZyb21Eb21haW5TdGF0dXMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNYWlsRnJvbURvbWFpblN0YXR1c1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJCZWhhdmlvck9uTVhGYWlsdXJlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQmVoYXZpb3JPbk1YRmFpbHVyZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkJlaGF2aW9yT25NWEZhaWx1cmVcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSWRlbnRpdHlOb3RpZmljYXRpb25BdHRyaWJ1dGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkJvdW5jZVRvcGljXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQm91bmNlVG9waWMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJCb3VuY2VUb3BpY1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJDb21wbGFpbnRUb3BpY1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbXBsYWludFRvcGljID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29tcGxhaW50VG9waWNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRGVsaXZlcnlUb3BpY1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkRlbGl2ZXJ5VG9waWMgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJEZWxpdmVyeVRvcGljXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkZvcndhcmRpbmdFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRm9yd2FyZGluZ0VuYWJsZWQgPSBfX3BhcnNlQm9vbGVhbihvdXRwdXRbXCJGb3J3YXJkaW5nRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJIZWFkZXJzSW5Cb3VuY2VOb3RpZmljYXRpb25zRW5hYmxlZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkhlYWRlcnNJbkJvdW5jZU5vdGlmaWNhdGlvbnNFbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiSGVhZGVyc0luQm91bmNlTm90aWZpY2F0aW9uc0VuYWJsZWRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiSGVhZGVyc0luQ29tcGxhaW50Tm90aWZpY2F0aW9uc0VuYWJsZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5IZWFkZXJzSW5Db21wbGFpbnROb3RpZmljYXRpb25zRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIkhlYWRlcnNJbkNvbXBsYWludE5vdGlmaWNhdGlvbnNFbmFibGVkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkhlYWRlcnNJbkRlbGl2ZXJ5Tm90aWZpY2F0aW9uc0VuYWJsZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5IZWFkZXJzSW5EZWxpdmVyeU5vdGlmaWNhdGlvbnNFbmFibGVkID0gX19wYXJzZUJvb2xlYW4ob3V0cHV0W1wiSGVhZGVyc0luRGVsaXZlcnlOb3RpZmljYXRpb25zRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JZGVudGl0eVZlcmlmaWNhdGlvbkF0dHJpYnV0ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVmVyaWZpY2F0aW9uU3RhdHVzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVmVyaWZpY2F0aW9uU3RhdHVzID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVmVyaWZpY2F0aW9uU3RhdHVzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlZlcmlmaWNhdGlvblRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVmVyaWZpY2F0aW9uVG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJWZXJpZmljYXRpb25Ub2tlblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkQ2xvdWRXYXRjaERlc3RpbmF0aW9uRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldE5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFdmVudERlc3RpbmF0aW9uTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkV2ZW50RGVzdGluYXRpb25OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRDb25maWd1cmF0aW9uU2V0RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkRGVsaXZlcnlPcHRpb25zRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkRmlyZWhvc2VEZXN0aW5hdGlvbkV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkV2ZW50RGVzdGluYXRpb25OYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkTGFtYmRhRnVuY3Rpb25FeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiRnVuY3Rpb25Bcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GdW5jdGlvbkFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZ1bmN0aW9uQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkUG9saWN5RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkUmVuZGVyaW5nUGFyYW1ldGVyRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfSW52YWxpZFMzQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJCdWNrZXRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5CdWNrZXQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJCdWNrZXRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0ludmFsaWRTTlNEZXN0aW5hdGlvbkV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0TmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXROYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRXZlbnREZXN0aW5hdGlvbk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FdmVudERlc3RpbmF0aW9uTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkV2ZW50RGVzdGluYXRpb25OYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkU25zVG9waWNFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVG9waWNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Ub3BpYyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRvcGljXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkVGVtcGxhdGVFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9JbnZhbGlkVHJhY2tpbmdPcHRpb25zRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9LaW5lc2lzRmlyZWhvc2VEZXN0aW5hdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJJQU1Sb2xlQVJOXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSUFNUm9sZUFSTiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIklBTVJvbGVBUk5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRGVsaXZlcnlTdHJlYW1BUk5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EZWxpdmVyeVN0cmVhbUFSTiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkRlbGl2ZXJ5U3RyZWFtQVJOXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xhbWJkYUFjdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUb3BpY0FyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRvcGljQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVG9waWNBcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRnVuY3Rpb25Bcm5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5GdW5jdGlvbkFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkZ1bmN0aW9uQXJuXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkludm9jYXRpb25UeXBlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSW52b2NhdGlvblR5cGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJJbnZvY2F0aW9uVHlwZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0Q29uZmlndXJhdGlvblNldHNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuQ29uZmlndXJhdGlvblNldHMgPT09IFwiXCIpIHtcbiAgICAgICAgY29udGVudHMuQ29uZmlndXJhdGlvblNldHMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldHNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0c1wiXVtcIm1lbWJlclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbmZpZ3VyYXRpb25TZXRzID0gZGVfQ29uZmlndXJhdGlvblNldHMoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJDb25maWd1cmF0aW9uU2V0c1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiTmV4dFRva2VuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmV4dFRva2VuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmV4dFRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJDdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlc1wiXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG91dHB1dFtcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3VzdG9tVmVyaWZpY2F0aW9uRW1haWxUZW1wbGF0ZXMgPSBkZV9DdXN0b21WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlcyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkN1c3RvbVZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdElkZW50aXRpZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuSWRlbnRpdGllcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5JZGVudGl0aWVzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIklkZW50aXRpZXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJJZGVudGl0aWVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSWRlbnRpdGllcyA9IGRlX0lkZW50aXR5TGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIklkZW50aXRpZXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIk5leHRUb2tlblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5leHRUb2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5leHRUb2tlblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0SWRlbnRpdHlQb2xpY2llc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5Qb2xpY3lOYW1lcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Qb2xpY3lOYW1lcyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJQb2xpY3lOYW1lc1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlBvbGljeU5hbWVzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUG9saWN5TmFtZXMgPSBkZV9Qb2xpY3lOYW1lTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlBvbGljeU5hbWVzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0UmVjZWlwdEZpbHRlcnNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRmlsdGVycyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5GaWx0ZXJzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkZpbHRlcnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJGaWx0ZXJzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRmlsdGVycyA9IGRlX1JlY2VpcHRGaWx0ZXJMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiRmlsdGVyc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFJlY2VpcHRSdWxlU2V0c1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5SdWxlU2V0cyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5SdWxlU2V0cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJSdWxlU2V0c1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlJ1bGVTZXRzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUnVsZVNldHMgPSBkZV9SZWNlaXB0UnVsZVNldHNMaXN0cyhfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlJ1bGVTZXRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRlbXBsYXRlc1Jlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dC5UZW1wbGF0ZXNNZXRhZGF0YSA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5UZW1wbGF0ZXNNZXRhZGF0YSA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJUZW1wbGF0ZXNNZXRhZGF0YVwiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlRlbXBsYXRlc01ldGFkYXRhXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVzTWV0YWRhdGEgPSBkZV9UZW1wbGF0ZU1ldGFkYXRhTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIlRlbXBsYXRlc01ldGFkYXRhXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJOZXh0VG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OZXh0VG9rZW4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOZXh0VG9rZW5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFZlcmlmaWVkRW1haWxBZGRyZXNzZXNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuVmVyaWZpZWRFbWFpbEFkZHJlc3NlcyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5WZXJpZmllZEVtYWlsQWRkcmVzc2VzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIlZlcmlmaWVkRW1haWxBZGRyZXNzZXNcIl0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvdXRwdXRbXCJWZXJpZmllZEVtYWlsQWRkcmVzc2VzXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVmVyaWZpZWRFbWFpbEFkZHJlc3NlcyA9IGRlX0FkZHJlc3NMaXN0KF9fZ2V0QXJyYXlJZlNpbmdsZUl0ZW0ob3V0cHV0W1wiVmVyaWZpZWRFbWFpbEFkZHJlc3Nlc1wiXVtcIm1lbWJlclwiXSksIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTWFpbEZyb21Eb21haW5BdHRyaWJ1dGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBvdXRwdXQucmVkdWNlKChhY2MsIHBhaXIpID0+IHtcbiAgICAgICAgaWYgKHBhaXJbXCJ2YWx1ZVwiXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBhY2NbcGFpcltcImtleVwiXV0gPSBkZV9JZGVudGl0eU1haWxGcm9tRG9tYWluQXR0cmlidXRlcyhwYWlyW1widmFsdWVcIl0sIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn07XG5jb25zdCBkZV9NYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9NZXNzYWdlUmVqZWN0ZWQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX01pc3NpbmdSZW5kZXJpbmdBdHRyaWJ1dGVFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Ob3RpZmljYXRpb25BdHRyaWJ1dGVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBvdXRwdXQucmVkdWNlKChhY2MsIHBhaXIpID0+IHtcbiAgICAgICAgaWYgKHBhaXJbXCJ2YWx1ZVwiXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBhY2NbcGFpcltcImtleVwiXV0gPSBkZV9JZGVudGl0eU5vdGlmaWNhdGlvbkF0dHJpYnV0ZXMocGFpcltcInZhbHVlXCJdLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59O1xuY29uc3QgZGVfUG9saWN5TWFwID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBvdXRwdXQucmVkdWNlKChhY2MsIHBhaXIpID0+IHtcbiAgICAgICAgaWYgKHBhaXJbXCJ2YWx1ZVwiXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBhY2NbcGFpcltcImtleVwiXV0gPSBfX2V4cGVjdFN0cmluZyhwYWlyW1widmFsdWVcIl0pO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn07XG5jb25zdCBkZV9Qb2xpY3lOYW1lTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Byb2R1Y3Rpb25BY2Nlc3NOb3RHcmFudGVkRXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QdXRDb25maWd1cmF0aW9uU2V0RGVsaXZlcnlPcHRpb25zUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUHV0SWRlbnRpdHlQb2xpY3lSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SZWNlaXB0QWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlMzQWN0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuUzNBY3Rpb24gPSBkZV9TM0FjdGlvbihvdXRwdXRbXCJTM0FjdGlvblwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJCb3VuY2VBY3Rpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Cb3VuY2VBY3Rpb24gPSBkZV9Cb3VuY2VBY3Rpb24ob3V0cHV0W1wiQm91bmNlQWN0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIldvcmttYWlsQWN0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuV29ya21haWxBY3Rpb24gPSBkZV9Xb3JrbWFpbEFjdGlvbihvdXRwdXRbXCJXb3JrbWFpbEFjdGlvblwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJMYW1iZGFBY3Rpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5MYW1iZGFBY3Rpb24gPSBkZV9MYW1iZGFBY3Rpb24ob3V0cHV0W1wiTGFtYmRhQWN0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN0b3BBY3Rpb25cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdG9wQWN0aW9uID0gZGVfU3RvcEFjdGlvbihvdXRwdXRbXCJTdG9wQWN0aW9uXCJdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkFkZEhlYWRlckFjdGlvblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkFkZEhlYWRlckFjdGlvbiA9IGRlX0FkZEhlYWRlckFjdGlvbihvdXRwdXRbXCJBZGRIZWFkZXJBY3Rpb25cIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiU05TQWN0aW9uXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU05TQWN0aW9uID0gZGVfU05TQWN0aW9uKG91dHB1dFtcIlNOU0FjdGlvblwiXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SZWNlaXB0QWN0aW9uc0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1JlY2VpcHRBY3Rpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JlY2VpcHRGaWx0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk5hbWUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIklwRmlsdGVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuSXBGaWx0ZXIgPSBkZV9SZWNlaXB0SXBGaWx0ZXIob3V0cHV0W1wiSXBGaWx0ZXJcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmVjZWlwdEZpbHRlckxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1JlY2VpcHRGaWx0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JlY2VpcHRJcEZpbHRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJQb2xpY3lcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Qb2xpY3kgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJQb2xpY3lcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ2lkclwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNpZHIgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJDaWRyXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1JlY2VpcHRSdWxlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJFbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIkVuYWJsZWRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiVGxzUG9saWN5XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGxzUG9saWN5ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGxzUG9saWN5XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dC5SZWNpcGllbnRzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLlJlY2lwaWVudHMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3V0cHV0W1wiUmVjaXBpZW50c1wiXSAhPT0gdW5kZWZpbmVkICYmIG91dHB1dFtcIlJlY2lwaWVudHNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SZWNpcGllbnRzID0gZGVfUmVjaXBpZW50c0xpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJSZWNpcGllbnRzXCJdW1wibWVtYmVyXCJdKSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChvdXRwdXQuQWN0aW9ucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5BY3Rpb25zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkFjdGlvbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJBY3Rpb25zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQWN0aW9ucyA9IGRlX1JlY2VpcHRBY3Rpb25zTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkFjdGlvbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlNjYW5FbmFibGVkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU2NhbkVuYWJsZWQgPSBfX3BhcnNlQm9vbGVhbihvdXRwdXRbXCJTY2FuRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SZWNlaXB0UnVsZVNldE1ldGFkYXRhID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJDcmVhdGVkVGltZXN0YW1wXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQ3JlYXRlZFRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJDcmVhdGVkVGltZXN0YW1wXCJdKSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SZWNlaXB0UnVsZVNldHNMaXN0cyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUmVjZWlwdFJ1bGVTZXRNZXRhZGF0YShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVjZWlwdFJ1bGVzTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUmVjZWlwdFJ1bGUoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JlY2lwaWVudHNMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBfX2V4cGVjdFN0cmluZyhlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVvcmRlclJlY2VpcHRSdWxlU2V0UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmVwdXRhdGlvbk9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiU2VuZGluZ0VuYWJsZWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TZW5kaW5nRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIlNlbmRpbmdFbmFibGVkXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlJlcHV0YXRpb25NZXRyaWNzRW5hYmxlZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlJlcHV0YXRpb25NZXRyaWNzRW5hYmxlZCA9IF9fcGFyc2VCb29sZWFuKG91dHB1dFtcIlJlcHV0YXRpb25NZXRyaWNzRW5hYmxlZFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJMYXN0RnJlc2hTdGFydFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkxhc3RGcmVzaFN0YXJ0ID0gX19leHBlY3ROb25OdWxsKF9fcGFyc2VSZmMzMzM5RGF0ZVRpbWVXaXRoT2Zmc2V0KG91dHB1dFtcIkxhc3RGcmVzaFN0YXJ0XCJdKSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9SdWxlRG9lc05vdEV4aXN0RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5OYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUnVsZVNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wibWVzc2FnZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLm1lc3NhZ2UgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJtZXNzYWdlXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1MzQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRvcGljQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVG9waWNBcm4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUb3BpY0FyblwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJCdWNrZXROYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQnVja2V0TmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkJ1Y2tldE5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiT2JqZWN0S2V5UHJlZml4XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuT2JqZWN0S2V5UHJlZml4ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiT2JqZWN0S2V5UHJlZml4XCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkttc0tleUFyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkttc0tleUFybiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkttc0tleUFyblwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZW5kQm91bmNlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZUlkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWVzc2FnZUlkID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZUlkXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlbmRCdWxrVGVtcGxhdGVkRW1haWxSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuU3RhdHVzID09PSBcIlwiKSB7XG4gICAgICAgIGNvbnRlbnRzLlN0YXR1cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChvdXRwdXRbXCJTdGF0dXNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJTdGF0dXNcIl1bXCJtZW1iZXJcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5TdGF0dXMgPSBkZV9CdWxrRW1haWxEZXN0aW5hdGlvblN0YXR1c0xpc3QoX19nZXRBcnJheUlmU2luZ2xlSXRlbShvdXRwdXRbXCJTdGF0dXNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlbmRDdXN0b21WZXJpZmljYXRpb25FbWFpbFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2VJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1lc3NhZ2VJZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZW5kRGF0YVBvaW50ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRpbWVzdGFtcCA9IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldChvdXRwdXRbXCJUaW1lc3RhbXBcIl0pKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIkRlbGl2ZXJ5QXR0ZW1wdHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5EZWxpdmVyeUF0dGVtcHRzID0gX19zdHJpY3RQYXJzZUxvbmcob3V0cHV0W1wiRGVsaXZlcnlBdHRlbXB0c1wiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJCb3VuY2VzXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuQm91bmNlcyA9IF9fc3RyaWN0UGFyc2VMb25nKG91dHB1dFtcIkJvdW5jZXNcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ29tcGxhaW50c1wiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNvbXBsYWludHMgPSBfX3N0cmljdFBhcnNlTG9uZyhvdXRwdXRbXCJDb21wbGFpbnRzXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlJlamVjdHNcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SZWplY3RzID0gX19zdHJpY3RQYXJzZUxvbmcob3V0cHV0W1wiUmVqZWN0c1wiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZW5kRGF0YVBvaW50TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfU2VuZERhdGFQb2ludChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2VuZEVtYWlsUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiTWVzc2FnZUlkXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTWVzc2FnZUlkID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiTWVzc2FnZUlkXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlbmRSYXdFbWFpbFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIk1lc3NhZ2VJZFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLk1lc3NhZ2VJZCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk1lc3NhZ2VJZFwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZW5kVGVtcGxhdGVkRW1haWxSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJNZXNzYWdlSWRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5NZXNzYWdlSWQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJNZXNzYWdlSWRcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2V0QWN0aXZlUmVjZWlwdFJ1bGVTZXRSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZXRJZGVudGl0eURraW1FbmFibGVkUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2V0SWRlbnRpdHlGZWVkYmFja0ZvcndhcmRpbmdFbmFibGVkUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2V0SWRlbnRpdHlIZWFkZXJzSW5Ob3RpZmljYXRpb25zRW5hYmxlZFJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NldElkZW50aXR5TWFpbEZyb21Eb21haW5SZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZXRJZGVudGl0eU5vdGlmaWNhdGlvblRvcGljUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2V0UmVjZWlwdFJ1bGVQb3NpdGlvblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NOU0FjdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUb3BpY0FyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRvcGljQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVG9waWNBcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiRW5jb2RpbmdcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5FbmNvZGluZyA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkVuY29kaW5nXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NOU0Rlc3RpbmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRvcGljQVJOXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVG9waWNBUk4gPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJUb3BpY0FSTlwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TdG9wQWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlNjb3BlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU2NvcGUgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTY29wZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJUb3BpY0FyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRvcGljQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVG9waWNBcm5cIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVGVtcGxhdGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuVGVtcGxhdGVOYW1lID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGVtcGxhdGVOYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIlN1YmplY3RQYXJ0XCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuU3ViamVjdFBhcnQgPSBfX2V4cGVjdFN0cmluZyhvdXRwdXRbXCJTdWJqZWN0UGFydFwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJUZXh0UGFydFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRleHRQYXJ0ID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVGV4dFBhcnRcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiSHRtbFBhcnRcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5IdG1sUGFydCA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkh0bWxQYXJ0XCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1RlbXBsYXRlRG9lc05vdEV4aXN0RXhjZXB0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRlbXBsYXRlTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlRlbXBsYXRlTmFtZVwiXSk7XG4gICAgfVxuICAgIGlmIChvdXRwdXRbXCJtZXNzYWdlXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMubWVzc2FnZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIm1lc3NhZ2VcIl0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVNZXRhZGF0YSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJOYW1lXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuTmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIk5hbWVcIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiQ3JlYXRlZFRpbWVzdGFtcFwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLkNyZWF0ZWRUaW1lc3RhbXAgPSBfX2V4cGVjdE5vbk51bGwoX19wYXJzZVJmYzMzMzlEYXRlVGltZVdpdGhPZmZzZXQob3V0cHV0W1wiQ3JlYXRlZFRpbWVzdGFtcFwiXSkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVNZXRhZGF0YUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1RlbXBsYXRlTWV0YWRhdGEoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Rlc3RSZW5kZXJUZW1wbGF0ZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgaWYgKG91dHB1dFtcIlJlbmRlcmVkVGVtcGxhdGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5SZW5kZXJlZFRlbXBsYXRlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiUmVuZGVyZWRUZW1wbGF0ZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9UcmFja2luZ09wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ3VzdG9tUmVkaXJlY3REb21haW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5DdXN0b21SZWRpcmVjdERvbWFpbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkN1c3RvbVJlZGlyZWN0RG9tYWluXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1RyYWNraW5nT3B0aW9uc0FscmVhZHlFeGlzdHNFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9UcmFja2luZ09wdGlvbnNEb2VzTm90RXhpc3RFeGNlcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiQ29uZmlndXJhdGlvblNldE5hbWVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5Db25maWd1cmF0aW9uU2V0TmFtZSA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIkNvbmZpZ3VyYXRpb25TZXROYW1lXCJdKTtcbiAgICB9XG4gICAgaWYgKG91dHB1dFtcIm1lc3NhZ2VcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5tZXNzYWdlID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wibWVzc2FnZVwiXSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVDb25maWd1cmF0aW9uU2V0RXZlbnREZXN0aW5hdGlvblJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUNvbmZpZ3VyYXRpb25TZXRUcmFja2luZ09wdGlvbnNSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVSZWNlaXB0UnVsZVJlc3BvbnNlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0ge307XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVRlbXBsYXRlUmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVmVyaWZpY2F0aW9uQXR0cmlidXRlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gb3V0cHV0LnJlZHVjZSgoYWNjLCBwYWlyKSA9PiB7XG4gICAgICAgIGlmIChwYWlyW1widmFsdWVcIl0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgYWNjW3BhaXJbXCJrZXlcIl1dID0gZGVfSWRlbnRpdHlWZXJpZmljYXRpb25BdHRyaWJ1dGVzKHBhaXJbXCJ2YWx1ZVwiXSwgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufTtcbmNvbnN0IGRlX1ZlcmlmaWNhdGlvblRva2VuTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3RTdHJpbmcoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGRlX1ZlcmlmeURvbWFpbkRraW1SZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXQuRGtpbVRva2VucyA9PT0gXCJcIikge1xuICAgICAgICBjb250ZW50cy5Ea2ltVG9rZW5zID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKG91dHB1dFtcIkRraW1Ub2tlbnNcIl0gIT09IHVuZGVmaW5lZCAmJiBvdXRwdXRbXCJEa2ltVG9rZW5zXCJdW1wibWVtYmVyXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuRGtpbVRva2VucyA9IGRlX1ZlcmlmaWNhdGlvblRva2VuTGlzdChfX2dldEFycmF5SWZTaW5nbGVJdGVtKG91dHB1dFtcIkRraW1Ub2tlbnNcIl1bXCJtZW1iZXJcIl0pLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1ZlcmlmeURvbWFpbklkZW50aXR5UmVzcG9uc2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSB7fTtcbiAgICBpZiAob3V0cHV0W1wiVmVyaWZpY2F0aW9uVG9rZW5cIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5WZXJpZmljYXRpb25Ub2tlbiA9IF9fZXhwZWN0U3RyaW5nKG91dHB1dFtcIlZlcmlmaWNhdGlvblRva2VuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1ZlcmlmeUVtYWlsSWRlbnRpdHlSZXNwb25zZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9Xb3JrbWFpbEFjdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IHt9O1xuICAgIGlmIChvdXRwdXRbXCJUb3BpY0FyblwiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnRzLlRvcGljQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiVG9waWNBcm5cIl0pO1xuICAgIH1cbiAgICBpZiAob3V0cHV0W1wiT3JnYW5pemF0aW9uQXJuXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuT3JnYW5pemF0aW9uQXJuID0gX19leHBlY3RTdHJpbmcob3V0cHV0W1wiT3JnYW5pemF0aW9uQXJuXCJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlc2VyaWFsaXplTWV0YWRhdGEgPSAob3V0cHV0KSA9PiAoe1xuICAgIGh0dHBTdGF0dXNDb2RlOiBvdXRwdXQuc3RhdHVzQ29kZSxcbiAgICByZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXpuLXJlcXVlc3RpZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0LWlkXCJdID8/IG91dHB1dC5oZWFkZXJzW1wieC1hbXotcmVxdWVzdC1pZFwiXSxcbiAgICBleHRlbmRlZFJlcXVlc3RJZDogb3V0cHV0LmhlYWRlcnNbXCJ4LWFtei1pZC0yXCJdLFxuICAgIGNmSWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotY2YtaWRcIl0sXG59KTtcbmNvbnN0IGNvbGxlY3RCb2R5ID0gKHN0cmVhbUJvZHkgPSBuZXcgVWludDhBcnJheSgpLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKHN0cmVhbUJvZHkgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3RyZWFtQm9keSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LnN0cmVhbUNvbGxlY3RvcihzdHJlYW1Cb2R5KSB8fCBQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoKSk7XG59O1xuY29uc3QgY29sbGVjdEJvZHlTdHJpbmcgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHkoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoYm9keSkgPT4gY29udGV4dC51dGY4RW5jb2Rlcihib2R5KSk7XG5jb25zdCB0aHJvd0RlZmF1bHRFcnJvciA9IHdpdGhCYXNlRXhjZXB0aW9uKF9fQmFzZUV4Y2VwdGlvbik7XG5jb25zdCBidWlsZEh0dHBScGNSZXF1ZXN0ID0gYXN5bmMgKGNvbnRleHQsIGhlYWRlcnMsIHBhdGgsIHJlc29sdmVkSG9zdG5hbWUsIGJvZHkpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBjb250ZW50cyA9IHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBwYXRoOiBiYXNlUGF0aC5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgKyBwYXRoIDogYmFzZVBhdGggKyBwYXRoLFxuICAgICAgICBoZWFkZXJzLFxuICAgIH07XG4gICAgaWYgKHJlc29sdmVkSG9zdG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50cy5ob3N0bmFtZSA9IHJlc29sdmVkSG9zdG5hbWU7XG4gICAgfVxuICAgIGlmIChib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGVudHMuYm9keSA9IGJvZHk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdChjb250ZW50cyk7XG59O1xuY29uc3QgU0hBUkVEX0hFQURFUlMgPSB7XG4gICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbn07XG5jb25zdCBwYXJzZUJvZHkgPSAoc3RyZWFtQm9keSwgY29udGV4dCkgPT4gY29sbGVjdEJvZHlTdHJpbmcoc3RyZWFtQm9keSwgY29udGV4dCkudGhlbigoZW5jb2RlZCkgPT4ge1xuICAgIGlmIChlbmNvZGVkLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgWE1MUGFyc2VyKHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWVQcmVmaXg6IFwiXCIsXG4gICAgICAgICAgICBodG1sRW50aXRpZXM6IHRydWUsXG4gICAgICAgICAgICBpZ25vcmVBdHRyaWJ1dGVzOiBmYWxzZSxcbiAgICAgICAgICAgIGlnbm9yZURlY2xhcmF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgcGFyc2VUYWdWYWx1ZTogZmFsc2UsXG4gICAgICAgICAgICB0cmltVmFsdWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHRhZ1ZhbHVlUHJvY2Vzc29yOiAoXywgdmFsKSA9PiAodmFsLnRyaW0oKSA9PT0gXCJcIiAmJiB2YWwuaW5jbHVkZXMoXCJcXG5cIikgPyBcIlwiIDogdW5kZWZpbmVkKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcnNlci5hZGRFbnRpdHkoXCIjeERcIiwgXCJcXHJcIik7XG4gICAgICAgIHBhcnNlci5hZGRFbnRpdHkoXCIjMTBcIiwgXCJcXG5cIik7XG4gICAgICAgIGNvbnN0IHBhcnNlZE9iaiA9IHBhcnNlci5wYXJzZShlbmNvZGVkKTtcbiAgICAgICAgY29uc3QgdGV4dE5vZGVOYW1lID0gXCIjdGV4dFwiO1xuICAgICAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyhwYXJzZWRPYmopWzBdO1xuICAgICAgICBjb25zdCBwYXJzZWRPYmpUb1JldHVybiA9IHBhcnNlZE9ialtrZXldO1xuICAgICAgICBpZiAocGFyc2VkT2JqVG9SZXR1cm5bdGV4dE5vZGVOYW1lXSkge1xuICAgICAgICAgICAgcGFyc2VkT2JqVG9SZXR1cm5ba2V5XSA9IHBhcnNlZE9ialRvUmV0dXJuW3RleHROb2RlTmFtZV07XG4gICAgICAgICAgICBkZWxldGUgcGFyc2VkT2JqVG9SZXR1cm5bdGV4dE5vZGVOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX19nZXRWYWx1ZUZyb21UZXh0Tm9kZShwYXJzZWRPYmpUb1JldHVybik7XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn0pO1xuY29uc3QgcGFyc2VFcnJvckJvZHkgPSBhc3luYyAoZXJyb3JCb2R5LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYXJzZUJvZHkoZXJyb3JCb2R5LCBjb250ZXh0KTtcbiAgICBpZiAodmFsdWUuRXJyb3IpIHtcbiAgICAgICAgdmFsdWUuRXJyb3IubWVzc2FnZSA9IHZhbHVlLkVycm9yLm1lc3NhZ2UgPz8gdmFsdWUuRXJyb3IuTWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmNvbnN0IGJ1aWxkRm9ybVVybGVuY29kZWRTdHJpbmcgPSAoZm9ybUVudHJpZXMpID0+IE9iamVjdC5lbnRyaWVzKGZvcm1FbnRyaWVzKVxuICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gX19leHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgXCI9XCIgKyBfX2V4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAuam9pbihcIiZcIik7XG5jb25zdCBsb2FkUXVlcnlFcnJvckNvZGUgPSAob3V0cHV0LCBkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEuRXJyb3I/LkNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZGF0YS5FcnJvci5Db2RlO1xuICAgIH1cbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgPT0gNDA0KSB7XG4gICAgICAgIHJldHVybiBcIk5vdEZvdW5kXCI7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldEVuZHBvaW50UGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFNlcmRlUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgZGVfU2VuZEVtYWlsQ29tbWFuZCwgc2VfU2VuZEVtYWlsQ29tbWFuZCB9IGZyb20gXCIuLi9wcm90b2NvbHMvQXdzX3F1ZXJ5XCI7XG5leHBvcnQgeyAkQ29tbWFuZCB9O1xuZXhwb3J0IGNsYXNzIFNlbmRFbWFpbENvbW1hbmQgZXh0ZW5kcyAkQ29tbWFuZCB7XG4gICAgc3RhdGljIGdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVXNlRklQUzogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJ1c2VGaXBzRW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgRW5kcG9pbnQ6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwiZW5kcG9pbnRcIiB9LFxuICAgICAgICAgICAgUmVnaW9uOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInJlZ2lvblwiIH0sXG4gICAgICAgICAgICBVc2VEdWFsU3RhY2s6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRHVhbHN0YWNrRW5kcG9pbnRcIiB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihpbnB1dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgfVxuICAgIHJlc29sdmVNaWRkbGV3YXJlKGNsaWVudFN0YWNrLCBjb25maWd1cmF0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRTZXJkZVBsdWdpbihjb25maWd1cmF0aW9uLCB0aGlzLnNlcmlhbGl6ZSwgdGhpcy5kZXNlcmlhbGl6ZSkpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0RW5kcG9pbnRQbHVnaW4oY29uZmlndXJhdGlvbiwgU2VuZEVtYWlsQ29tbWFuZC5nZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpKSk7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gY2xpZW50U3RhY2suY29uY2F0KHRoaXMubWlkZGxld2FyZVN0YWNrKTtcbiAgICAgICAgY29uc3QgeyBsb2dnZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIGNvbnN0IGNsaWVudE5hbWUgPSBcIlNFU0NsaWVudFwiO1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IFwiU2VuZEVtYWlsQ29tbWFuZFwiO1xuICAgICAgICBjb25zdCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCA9IHtcbiAgICAgICAgICAgIGxvZ2dlcixcbiAgICAgICAgICAgIGNsaWVudE5hbWUsXG4gICAgICAgICAgICBjb21tYW5kTmFtZSxcbiAgICAgICAgICAgIGlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgICAgIG91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgcmVxdWVzdEhhbmRsZXIgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgICAgIHJldHVybiBzdGFjay5yZXNvbHZlKChyZXF1ZXN0KSA9PiByZXF1ZXN0SGFuZGxlci5oYW5kbGUocmVxdWVzdC5yZXF1ZXN0LCBvcHRpb25zIHx8IHt9KSwgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQpO1xuICAgIH1cbiAgICBzZXJpYWxpemUoaW5wdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHNlX1NlbmRFbWFpbENvbW1hbmQoaW5wdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBkZXNlcmlhbGl6ZShvdXRwdXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlbmRFbWFpbENvbW1hbmQob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBVc2VyIH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LXF1aWNrc2lnaHQnXHJcblxyXG5leHBvcnQgY2xhc3MgUXVpY2tTaWdodFVzZXIge1xyXG5cdGFybjogc3RyaW5nIC8vIGFybjphd3M6cXVpY2tzaWdodDo8UkVHSU9OPjo8QUNDT1VOVD46dXNlci9kZWZhdWx0LzxJQU0gUk9MRSBOQU1FPi88U1RTIFNFU1NJT04+XHJcblx0ZW1haWw6IHN0cmluZ1xyXG5cdGxhc3RBY2Nlc3M6IERhdGUgLy8gQ29tZXMgZnJvbSBDbG91ZFRyYWlsXHJcblx0cm9sZTogUXVpY2tTaWdodFJvbGVcclxuXHR1c2VybmFtZTogc3RyaW5nIC8vIDxJQU0gUk9MRT4vPFNUUyBTRVNTSU9OPlxyXG5cdGlhbVJvbGU6IHN0cmluZ1xyXG5cdHN0c1Nlc3Npb246IHN0cmluZ1xyXG5cdGludmFsaWQ6IGJvb2xlYW4gLy8gVXNlciBpcyBpbnZhbGlkIGlmIHVzZXJuYW1lIGlzIFwiTi9BXCIuIFNlZSBSRUFETUUubWQgZm9yIG1vcmUgZGV0YWlsc1xyXG5cclxuXHRjb25zdHJ1Y3RvcihxdWlja1NpZ2h0VXNlcjogVXNlcikge1xyXG5cdFx0dGhpcy5hcm4gPSBxdWlja1NpZ2h0VXNlci5Bcm5cclxuXHRcdHRoaXMuZW1haWwgPSBxdWlja1NpZ2h0VXNlci5FbWFpbFxyXG5cdFx0dGhpcy5yb2xlID0gUXVpY2tTaWdodFJvbGVbcXVpY2tTaWdodFVzZXIuUm9sZSBhcyBrZXlvZiB0eXBlb2YgUXVpY2tTaWdodFJvbGVdIC8vIE9ubHkgdmFsdWVzIHRoYXQgd2lsbCBiZSByZXR1cm5lZCAvLyBhbHNvIHRoZSBrZXlvZiB0eXBlb2YgaGFjayBjYW1lIGZyb20gaGVyZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDI2MjM5MDVcclxuXHRcdHRoaXMudXNlcm5hbWUgPSBxdWlja1NpZ2h0VXNlci5Vc2VyTmFtZVxyXG5cdFx0dGhpcy5pbnZhbGlkID0gdGhpcy51c2VybmFtZSA9PT0gJ04vQSdcclxuXHRcdGNvbnN0IFtpYW1Sb2xlLCBzdHNTZXNzaW9uXSA9IHRoaXMudXNlcm5hbWUuc3BsaXQoJy8nKVxyXG5cdFx0dGhpcy5pYW1Sb2xlID0gaWFtUm9sZVxyXG5cdFx0dGhpcy5zdHNTZXNzaW9uID0gc3RzU2Vzc2lvblxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGVudW0gUXVpY2tTaWdodFJvbGUge1xyXG5cdFJFQURFUiA9ICdSRUFERVInLCBBVVRIT1IgPSAnQVVUSE9SJywgQURNSU4gPSAnQURNSU4nXHJcbn1cclxuIiwiaW1wb3J0IHsgU2VuZEVtYWlsQ29tbWFuZCwgU0VTQ2xpZW50IH0gZnJvbSAnQGF3cy1zZGsvY2xpZW50LXNlcydcclxuaW1wb3J0IHsgUXVpY2tTaWdodFVzZXIgfSBmcm9tICcuL1F1aWNrU2lnaHRVc2VyJ1xyXG5cclxuZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvbk1hbmFnZXIge1xyXG5cdHByaXZhdGUgc2VzQ2xpZW50ID0gbmV3IFNFU0NsaWVudCh7fSlcclxuXHRwcml2YXRlIG5vTGFzdEFjY2Vzc0RhdGUgPSBuZXcgRGF0ZSgwKS50b0xvY2FsZVN0cmluZygpXHJcblxyXG5cdHB1YmxpYyBhc3luYyBub3RpZnlVc2VyKHVzZXI6IFF1aWNrU2lnaHRVc2VyKSB7XHJcblx0XHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcclxuXHRcdGNvbnNvbGUuZGVidWcoYE5vdGlmeWluZyAke0pTT04uc3RyaW5naWZ5KHVzZXIsIG51bGwsIDEpfWApXHJcblx0XHRcclxuXHRcdC8vIElmIHRoZSBkYXRlIGlzIDE5NzAsIHdlIGRpZG4ndCBmaW5kIGFueSBhY3Rpdml0eSBmb3IgdGhlIHVzZXJcclxuXHRcdGNvbnN0IGxhc3RBY2Nlc3MgPVxyXG5cdFx0XHR1c2VyLmxhc3RBY2Nlc3MudG9Mb2NhbGVTdHJpbmcoKSA9PT0gdGhpcy5ub0xhc3RBY2Nlc3NEYXRlXHJcblx0XHRcdFx0PyBgbm90IGluIHRoZSBsYXN0ICR7cHJvY2Vzcy5lbnYuZGVsZXRlRGF5c30gZGF5c2BcclxuXHRcdFx0XHQ6IHVzZXIubGFzdEFjY2Vzcy50b0xvY2FsZURhdGVTdHJpbmcoKVxyXG5cclxuXHRcdGNvbnN0IHN1YmplY3QgPSBgSTogUXVpY2tTaWdodCB1c2VyICR7dXNlci51c2VybmFtZX0gaW4gYWNjb3VudCAke3Byb2Nlc3MuZW52LmFjY291bnRBbGlhc30gd2lsbCBiZSBkZWxldGVkYFxyXG5cdFx0Y29uc3QgYm9keSA9IGBJbiBvcmRlciB0byA8YSBocmVmPVwiaHR0cHM6Ly9hd3MuYW1hem9uLmNvbS9xdWlja3NpZ2h0L3ByaWNpbmcvXCI+Y29udHJvbCBjb3N0cyAoJDI0L21vbnRoL3VzZXIpPC9hPixcclxuICAgIHlvdXIgQVdTIFF1aWNrU2lnaHQgdXNlciAnJHt1c2VyLnVzZXJuYW1lfScgXHJcbiAgICB3aWxsIGJlIGRlbGV0ZWQgd2hlbiB5b3UgaGF2ZSBub3QgYWNjZXNzZWQgUXVpY2tTaWdodCBpbiAke3Byb2Nlc3MuZW52LmRlbGV0ZURheXN9IGRheXMuIFxyXG4gICAgQ2xvdWRUcmFpbCByZWNvcmRzIGluZGljYXRlIHRoYXQgeW91ciBsYXN0IGFjY2VzcyB3YXMgJHtsYXN0QWNjZXNzfS48YnIgLz48YnIgLz5cclxuICAgIFxyXG4gICAgWW91IGNhbiBrZWVwIHlvdXIgdXNlciBieSBsb2dnaW5nIGluIGFuZCB0YWtpbmcgYWN0aW9ucyBpbiBRdWlja1NpZ2h0LiBcclxuICAgIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gZG8gbm90aGluZywgYW5kIHlvdXIgdXNlciB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZGVsZXRlZC4gXHJcbiAgICBOZXZlciBmZWFyLCB5b3Ugc2ltcGx5IGxvZyBiYWNrIGludG8gUXVpY2tTaWdodCBhbmQgZW50ZXIgeW91ciBlLW1haWwsIGFuZCB5b3VyIHVzZXIgZ2V0cyByZWNyZWF0ZWQuIFxyXG4gICAgTm8gZGFzaGJvYXJkcyBvciBvdGhlciByZXNvdXJjZXMgd2lsbCBiZSBkZWxldGVkIGF0IHRoaXMgdGltZSAod2UgbWF5IGNsZWFuIHRob3NlIHVwIGluIHRoZSBmdXR1cmUsIHdpdGggbm90aWZpY2F0aW9uLCBvZiBjb3Vyc2UpLjxiciAvPjxiciAvPlxyXG4gICAgXHJcbiAgICBBY2NvdW50IE51bWJlcjogJHtwcm9jZXNzLmVudi5hd3NBY2NvdW50SWR9PGJyIC8+XHJcbiAgICBBY2NvdW50IEFsaWFzOiAke3Byb2Nlc3MuZW52LmFjY291bnRBbGlhc308YnIgLz5cclxuICAgIEFzc3VtZWQgUm9sZTogJHt1c2VyLmlhbVJvbGV9PGJyIC8+XHJcbiAgICBFbWFpbDogJHt1c2VyLmVtYWlsfTxiciAvPjxiciAvPlxyXG4gIFxyXG4gICAgRm9yIGZ1cnRoZXIgYXNzaXN0YW5jZSwgY29udGFjdCA8YSBocmVmPVwibWFpbHRvOiR7cHJvY2Vzcy5lbnYuY29udGFjdH1cIj4ke3Byb2Nlc3MuZW52LmNvbnRhY3R9PC9hPi4gVGhhbmsgeW91IGFuZCBoYXZlIGEgZmFudGFzdGljYWxseSBmdW4tZmlsbGVkIGRheSDwn6WzLlxyXG4gICAgYFxyXG5cclxuXHRcdGNvbnN0IHNlbmRFbWFpbENvbW1hbmQgPSBuZXcgU2VuZEVtYWlsQ29tbWFuZCh7XHJcblx0XHRcdFNvdXJjZTogYCR7cHJvY2Vzcy5lbnYuYWNjb3VudEFsaWFzfSBDbG91ZCBBY2NvdW50IEFkbWluaXN0cmF0b3I8JHtwcm9jZXNzLmVudi5mcm9tfT5gLFxyXG5cdFx0XHREZXN0aW5hdGlvbjoge1xyXG5cdFx0XHRcdFRvQWRkcmVzc2VzOiBbdXNlci5lbWFpbF0sXHJcblx0XHRcdFx0Q2NBZGRyZXNzZXM6IEpTT04ucGFyc2UocHJvY2Vzcy5lbnYuY2MpLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRSZXBseVRvQWRkcmVzc2VzOiBbcHJvY2Vzcy5lbnYucmVwbHlUb10sXHJcblx0XHRcdFNvdXJjZUFybjogcHJvY2Vzcy5lbnYuc2VzQXJuLFxyXG5cdFx0XHRNZXNzYWdlOiB7XHJcblx0XHRcdFx0U3ViamVjdDogeyBEYXRhOiBzdWJqZWN0IH0sXHJcblx0XHRcdFx0Qm9keToge1xyXG5cdFx0XHRcdFx0SHRtbDogeyBEYXRhOiBib2R5IH0sXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0fSxcclxuXHRcdH0pXHJcblxyXG5cdFx0YXdhaXQgdGhpcy5zZXNDbGllbnQuc2VuZChzZW5kRW1haWxDb21tYW5kKVxyXG5cdH1cclxufSIsImV4cG9ydCBjb25zdCByZXNvbHZlQ2xpZW50RW5kcG9pbnRQYXJhbWV0ZXJzID0gKG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogb3B0aW9ucy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgdXNlRmlwc0VuZHBvaW50OiBvcHRpb25zLnVzZUZpcHNFbmRwb2ludCA/PyBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFNpZ25pbmdOYW1lOiBcInF1aWNrc2lnaHRcIixcbiAgICB9O1xufTtcbiIsImNvbnN0IHEgPSBcInJlcXVpcmVkXCIsIHIgPSBcImZuXCIsIHMgPSBcImFyZ3ZcIiwgdCA9IFwicmVmXCI7XG5jb25zdCBhID0gXCJpc1NldFwiLCBiID0gXCJ0cmVlXCIsIGMgPSBcImVycm9yXCIsIGQgPSBcImVuZHBvaW50XCIsIGUgPSBcIlBhcnRpdGlvblJlc3VsdFwiLCBmID0geyBbcV06IGZhbHNlLCBcInR5cGVcIjogXCJTdHJpbmdcIiB9LCBnID0geyBbcV06IHRydWUsIFwiZGVmYXVsdFwiOiBmYWxzZSwgXCJ0eXBlXCI6IFwiQm9vbGVhblwiIH0sIGggPSB7IFt0XTogXCJFbmRwb2ludFwiIH0sIGkgPSB7IFtyXTogXCJib29sZWFuRXF1YWxzXCIsIFtzXTogW3sgW3RdOiBcIlVzZUZJUFNcIiB9LCB0cnVlXSB9LCBqID0geyBbcl06IFwiYm9vbGVhbkVxdWFsc1wiLCBbc106IFt7IFt0XTogXCJVc2VEdWFsU3RhY2tcIiB9LCB0cnVlXSB9LCBrID0ge30sIGwgPSB7IFtyXTogXCJib29sZWFuRXF1YWxzXCIsIFtzXTogW3RydWUsIHsgW3JdOiBcImdldEF0dHJcIiwgW3NdOiBbeyBbdF06IGUgfSwgXCJzdXBwb3J0c0ZJUFNcIl0gfV0gfSwgbSA9IHsgW3JdOiBcImJvb2xlYW5FcXVhbHNcIiwgW3NdOiBbdHJ1ZSwgeyBbcl06IFwiZ2V0QXR0clwiLCBbc106IFt7IFt0XTogZSB9LCBcInN1cHBvcnRzRHVhbFN0YWNrXCJdIH1dIH0sIG4gPSBbaV0sIG8gPSBbal0sIHAgPSBbeyBbdF06IFwiUmVnaW9uXCIgfV07XG5jb25zdCBfZGF0YSA9IHsgdmVyc2lvbjogXCIxLjBcIiwgcGFyYW1ldGVyczogeyBSZWdpb246IGYsIFVzZUR1YWxTdGFjazogZywgVXNlRklQUzogZywgRW5kcG9pbnQ6IGYgfSwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtyXTogYSwgW3NdOiBbaF0gfV0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBuLCBlcnJvcjogXCJJbnZhbGlkIENvbmZpZ3VyYXRpb246IEZJUFMgYW5kIGN1c3RvbSBlbmRwb2ludCBhcmUgbm90IHN1cHBvcnRlZFwiLCB0eXBlOiBjIH0sIHsgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IG8sIGVycm9yOiBcIkludmFsaWQgQ29uZmlndXJhdGlvbjogRHVhbHN0YWNrIGFuZCBjdXN0b20gZW5kcG9pbnQgYXJlIG5vdCBzdXBwb3J0ZWRcIiwgdHlwZTogYyB9LCB7IGVuZHBvaW50OiB7IHVybDogaCwgcHJvcGVydGllczogaywgaGVhZGVyczogayB9LCB0eXBlOiBkIH1dIH1dIH0sIHsgdHlwZTogYiwgcnVsZXM6IFt7IGNvbmRpdGlvbnM6IFt7IFtyXTogYSwgW3NdOiBwIH1dLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW3sgW3JdOiBcImF3cy5wYXJ0aXRpb25cIiwgW3NdOiBwLCBhc3NpZ246IGUgfV0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbaSwgal0sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbbCwgbV0sIHR5cGU6IGIsIHJ1bGVzOiBbeyB0eXBlOiBiLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vcXVpY2tzaWdodC1maXBzLntSZWdpb259LntQYXJ0aXRpb25SZXN1bHQjZHVhbFN0YWNrRG5zU3VmZml4fVwiLCBwcm9wZXJ0aWVzOiBrLCBoZWFkZXJzOiBrIH0sIHR5cGU6IGQgfV0gfV0gfSwgeyBlcnJvcjogXCJGSVBTIGFuZCBEdWFsU3RhY2sgYXJlIGVuYWJsZWQsIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IG9uZSBvciBib3RoXCIsIHR5cGU6IGMgfV0gfSwgeyBjb25kaXRpb25zOiBuLCB0eXBlOiBiLCBydWxlczogW3sgY29uZGl0aW9uczogW2xdLCB0eXBlOiBiLCBydWxlczogW3sgdHlwZTogYiwgcnVsZXM6IFt7IGVuZHBvaW50OiB7IHVybDogXCJodHRwczovL3F1aWNrc2lnaHQtZmlwcy57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaywgaGVhZGVyczogayB9LCB0eXBlOiBkIH1dIH1dIH0sIHsgZXJyb3I6IFwiRklQUyBpcyBlbmFibGVkIGJ1dCB0aGlzIHBhcnRpdGlvbiBkb2VzIG5vdCBzdXBwb3J0IEZJUFNcIiwgdHlwZTogYyB9XSB9LCB7IGNvbmRpdGlvbnM6IG8sIHR5cGU6IGIsIHJ1bGVzOiBbeyBjb25kaXRpb25zOiBbbV0sIHR5cGU6IGIsIHJ1bGVzOiBbeyB0eXBlOiBiLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vcXVpY2tzaWdodC57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2R1YWxTdGFja0Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaywgaGVhZGVyczogayB9LCB0eXBlOiBkIH1dIH1dIH0sIHsgZXJyb3I6IFwiRHVhbFN0YWNrIGlzIGVuYWJsZWQgYnV0IHRoaXMgcGFydGl0aW9uIGRvZXMgbm90IHN1cHBvcnQgRHVhbFN0YWNrXCIsIHR5cGU6IGMgfV0gfSwgeyB0eXBlOiBiLCBydWxlczogW3sgZW5kcG9pbnQ6IHsgdXJsOiBcImh0dHBzOi8vcXVpY2tzaWdodC57UmVnaW9ufS57UGFydGl0aW9uUmVzdWx0I2Ruc1N1ZmZpeH1cIiwgcHJvcGVydGllczogaywgaGVhZGVyczogayB9LCB0eXBlOiBkIH1dIH1dIH1dIH0sIHsgZXJyb3I6IFwiSW52YWxpZCBDb25maWd1cmF0aW9uOiBNaXNzaW5nIFJlZ2lvblwiLCB0eXBlOiBjIH1dIH1dIH07XG5leHBvcnQgY29uc3QgcnVsZVNldCA9IF9kYXRhO1xuIiwiaW1wb3J0IHsgcmVzb2x2ZUVuZHBvaW50IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtZW5kcG9pbnRzXCI7XG5pbXBvcnQgeyBydWxlU2V0IH0gZnJvbSBcIi4vcnVsZXNldFwiO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyID0gKGVuZHBvaW50UGFyYW1zLCBjb250ZXh0ID0ge30pID0+IHtcbiAgICByZXR1cm4gcmVzb2x2ZUVuZHBvaW50KHJ1bGVTZXQsIHtcbiAgICAgICAgZW5kcG9pbnRQYXJhbXM6IGVuZHBvaW50UGFyYW1zLFxuICAgICAgICBsb2dnZXI6IGNvbnRleHQubG9nZ2VyLFxuICAgIH0pO1xufTtcbiIsImltcG9ydCB7IHJlc29sdmVSZWdpb25Db25maWcgfSBmcm9tIFwiQGF3cy1zZGsvY29uZmlnLXJlc29sdmVyXCI7XG5pbXBvcnQgeyBnZXRDb250ZW50TGVuZ3RoUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtY29udGVudC1sZW5ndGhcIjtcbmltcG9ydCB7IHJlc29sdmVFbmRwb2ludENvbmZpZyB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLWVuZHBvaW50XCI7XG5pbXBvcnQgeyBnZXRIb3N0SGVhZGVyUGx1Z2luLCByZXNvbHZlSG9zdEhlYWRlckNvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1ob3N0LWhlYWRlclwiO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtbG9nZ2VyXCI7XG5pbXBvcnQgeyBnZXRSZWN1cnNpb25EZXRlY3Rpb25QbHVnaW4gfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1yZWN1cnNpb24tZGV0ZWN0aW9uXCI7XG5pbXBvcnQgeyBnZXRSZXRyeVBsdWdpbiwgcmVzb2x2ZVJldHJ5Q29uZmlnIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IGdldEF3c0F1dGhQbHVnaW4sIHJlc29sdmVBd3NBdXRoQ29uZmlnLCB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXNpZ25pbmdcIjtcbmltcG9ydCB7IGdldFVzZXJBZ2VudFBsdWdpbiwgcmVzb2x2ZVVzZXJBZ2VudENvbmZpZywgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS11c2VyLWFnZW50XCI7XG5pbXBvcnQgeyBDbGllbnQgYXMgX19DbGllbnQsIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVDbGllbnRFbmRwb2ludFBhcmFtZXRlcnMsIH0gZnJvbSBcIi4vZW5kcG9pbnQvRW5kcG9pbnRQYXJhbWV0ZXJzXCI7XG5pbXBvcnQgeyBnZXRSdW50aW1lQ29uZmlnIGFzIF9fZ2V0UnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWdcIjtcbmV4cG9ydCB7IF9fQ2xpZW50IH07XG5leHBvcnQgY2xhc3MgUXVpY2tTaWdodENsaWVudCBleHRlbmRzIF9fQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMCA9IF9fZ2V0UnVudGltZUNvbmZpZyhjb25maWd1cmF0aW9uKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ18xID0gcmVzb2x2ZUNsaWVudEVuZHBvaW50UGFyYW1ldGVycyhfY29uZmlnXzApO1xuICAgICAgICBjb25zdCBfY29uZmlnXzIgPSByZXNvbHZlUmVnaW9uQ29uZmlnKF9jb25maWdfMSk7XG4gICAgICAgIGNvbnN0IF9jb25maWdfMyA9IHJlc29sdmVFbmRwb2ludENvbmZpZyhfY29uZmlnXzIpO1xuICAgICAgICBjb25zdCBfY29uZmlnXzQgPSByZXNvbHZlUmV0cnlDb25maWcoX2NvbmZpZ18zKTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ181ID0gcmVzb2x2ZUhvc3RIZWFkZXJDb25maWcoX2NvbmZpZ180KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ182ID0gcmVzb2x2ZUF3c0F1dGhDb25maWcoX2NvbmZpZ181KTtcbiAgICAgICAgY29uc3QgX2NvbmZpZ183ID0gcmVzb2x2ZVVzZXJBZ2VudENvbmZpZyhfY29uZmlnXzYpO1xuICAgICAgICBzdXBlcihfY29uZmlnXzcpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IF9jb25maWdfNztcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFJldHJ5UGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRDb250ZW50TGVuZ3RoUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRIb3N0SGVhZGVyUGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgICAgIHRoaXMubWlkZGxld2FyZVN0YWNrLnVzZShnZXRMb2dnZXJQbHVnaW4odGhpcy5jb25maWcpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldFJlY3Vyc2lvbkRldGVjdGlvblBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0QXdzQXV0aFBsdWdpbih0aGlzLmNvbmZpZykpO1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0VXNlckFnZW50UGx1Z2luKHRoaXMuY29uZmlnKSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgcGFja2FnZUluZm8gZnJvbSBcIi4uL3BhY2thZ2UuanNvblwiO1xuaW1wb3J0IHsgZGVjb3JhdGVEZWZhdWx0Q3JlZGVudGlhbFByb3ZpZGVyIH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1zdHNcIjtcbmltcG9ydCB7IE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19PUFRJT05TLCBOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMsIH0gZnJvbSBcIkBhd3Mtc2RrL2NvbmZpZy1yZXNvbHZlclwiO1xuaW1wb3J0IHsgZGVmYXVsdFByb3ZpZGVyIGFzIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvY3JlZGVudGlhbC1wcm92aWRlci1ub2RlXCI7XG5pbXBvcnQgeyBIYXNoIH0gZnJvbSBcIkBhd3Mtc2RrL2hhc2gtbm9kZVwiO1xuaW1wb3J0IHsgTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUywgTk9ERV9SRVRSWV9NT0RFX0NPTkZJR19PUFRJT05TIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtcmV0cnlcIjtcbmltcG9ydCB7IGxvYWRDb25maWcgYXMgbG9hZE5vZGVDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvbm9kZS1jb25maWctcHJvdmlkZXJcIjtcbmltcG9ydCB7IE5vZGVIdHRwSGFuZGxlciBhcyBSZXF1ZXN0SGFuZGxlciwgc3RyZWFtQ29sbGVjdG9yIH0gZnJvbSBcIkBhd3Mtc2RrL25vZGUtaHR0cC1oYW5kbGVyXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb2R5TGVuZ3RoIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtYm9keS1sZW5ndGgtbm9kZVwiO1xuaW1wb3J0IHsgREVGQVVMVF9SRVRSWV9NT0RFIH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtcmV0cnlcIjtcbmltcG9ydCB7IGRlZmF1bHRVc2VyQWdlbnQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11c2VyLWFnZW50LW5vZGVcIjtcbmltcG9ydCB7IGdldFJ1bnRpbWVDb25maWcgYXMgZ2V0U2hhcmVkUnVudGltZUNvbmZpZyB9IGZyb20gXCIuL3J1bnRpbWVDb25maWcuc2hhcmVkXCI7XG5pbXBvcnQgeyBsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC1kZWZhdWx0cy1tb2RlLW5vZGVcIjtcbmltcG9ydCB7IGVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24gfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiB7XG4gICAgZW1pdFdhcm5pbmdJZlVuc3VwcG9ydGVkVmVyc2lvbihwcm9jZXNzLnZlcnNpb24pO1xuICAgIGNvbnN0IGRlZmF1bHRzTW9kZSA9IHJlc29sdmVEZWZhdWx0c01vZGVDb25maWcoY29uZmlnKTtcbiAgICBjb25zdCBkZWZhdWx0Q29uZmlnUHJvdmlkZXIgPSAoKSA9PiBkZWZhdWx0c01vZGUoKS50aGVuKGxvYWRDb25maWdzRm9yRGVmYXVsdE1vZGUpO1xuICAgIGNvbnN0IGNsaWVudFNoYXJlZFZhbHVlcyA9IGdldFNoYXJlZFJ1bnRpbWVDb25maWcoY29uZmlnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5jbGllbnRTaGFyZWRWYWx1ZXMsXG4gICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgcnVudGltZTogXCJub2RlXCIsXG4gICAgICAgIGRlZmF1bHRzTW9kZSxcbiAgICAgICAgYm9keUxlbmd0aENoZWNrZXI6IGNvbmZpZz8uYm9keUxlbmd0aENoZWNrZXIgPz8gY2FsY3VsYXRlQm9keUxlbmd0aCxcbiAgICAgICAgY3JlZGVudGlhbERlZmF1bHRQcm92aWRlcjogY29uZmlnPy5jcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyID8/IGRlY29yYXRlRGVmYXVsdENyZWRlbnRpYWxQcm92aWRlcihjcmVkZW50aWFsRGVmYXVsdFByb3ZpZGVyKSxcbiAgICAgICAgZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyOiBjb25maWc/LmRlZmF1bHRVc2VyQWdlbnRQcm92aWRlciA/P1xuICAgICAgICAgICAgZGVmYXVsdFVzZXJBZ2VudCh7IHNlcnZpY2VJZDogY2xpZW50U2hhcmVkVmFsdWVzLnNlcnZpY2VJZCwgY2xpZW50VmVyc2lvbjogcGFja2FnZUluZm8udmVyc2lvbiB9KSxcbiAgICAgICAgbWF4QXR0ZW1wdHM6IGNvbmZpZz8ubWF4QXR0ZW1wdHMgPz8gbG9hZE5vZGVDb25maWcoTk9ERV9NQVhfQVRURU1QVF9DT05GSUdfT1BUSU9OUyksXG4gICAgICAgIHJlZ2lvbjogY29uZmlnPy5yZWdpb24gPz8gbG9hZE5vZGVDb25maWcoTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlMsIE5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMpLFxuICAgICAgICByZXF1ZXN0SGFuZGxlcjogY29uZmlnPy5yZXF1ZXN0SGFuZGxlciA/PyBuZXcgUmVxdWVzdEhhbmRsZXIoZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKSxcbiAgICAgICAgcmV0cnlNb2RlOiBjb25maWc/LnJldHJ5TW9kZSA/P1xuICAgICAgICAgICAgbG9hZE5vZGVDb25maWcoe1xuICAgICAgICAgICAgICAgIC4uLk5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBhc3luYyAoKSA9PiAoYXdhaXQgZGVmYXVsdENvbmZpZ1Byb3ZpZGVyKCkpLnJldHJ5TW9kZSB8fCBERUZBVUxUX1JFVFJZX01PREUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgc2hhMjU2OiBjb25maWc/LnNoYTI1NiA/PyBIYXNoLmJpbmQobnVsbCwgXCJzaGEyNTZcIiksXG4gICAgICAgIHN0cmVhbUNvbGxlY3RvcjogY29uZmlnPy5zdHJlYW1Db2xsZWN0b3IgPz8gc3RyZWFtQ29sbGVjdG9yLFxuICAgICAgICB1c2VEdWFsc3RhY2tFbmRwb2ludDogY29uZmlnPy51c2VEdWFsc3RhY2tFbmRwb2ludCA/PyBsb2FkTm9kZUNvbmZpZyhOT0RFX1VTRV9EVUFMU1RBQ0tfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgICAgICB1c2VGaXBzRW5kcG9pbnQ6IGNvbmZpZz8udXNlRmlwc0VuZHBvaW50ID8/IGxvYWROb2RlQ29uZmlnKE5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgTm9PcExvZ2dlciB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBwYXJzZVVybCB9IGZyb20gXCJAYXdzLXNkay91cmwtcGFyc2VyXCI7XG5pbXBvcnQgeyBmcm9tQmFzZTY0LCB0b0Jhc2U2NCB9IGZyb20gXCJAYXdzLXNkay91dGlsLWJhc2U2NFwiO1xuaW1wb3J0IHsgZnJvbVV0ZjgsIHRvVXRmOCB9IGZyb20gXCJAYXdzLXNkay91dGlsLXV0ZjhcIjtcbmltcG9ydCB7IGRlZmF1bHRFbmRwb2ludFJlc29sdmVyIH0gZnJvbSBcIi4vZW5kcG9pbnQvZW5kcG9pbnRSZXNvbHZlclwiO1xuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWVDb25maWcgPSAoY29uZmlnKSA9PiAoe1xuICAgIGFwaVZlcnNpb246IFwiMjAxOC0wNC0wMVwiLFxuICAgIGJhc2U2NERlY29kZXI6IGNvbmZpZz8uYmFzZTY0RGVjb2RlciA/PyBmcm9tQmFzZTY0LFxuICAgIGJhc2U2NEVuY29kZXI6IGNvbmZpZz8uYmFzZTY0RW5jb2RlciA/PyB0b0Jhc2U2NCxcbiAgICBkaXNhYmxlSG9zdFByZWZpeDogY29uZmlnPy5kaXNhYmxlSG9zdFByZWZpeCA/PyBmYWxzZSxcbiAgICBlbmRwb2ludFByb3ZpZGVyOiBjb25maWc/LmVuZHBvaW50UHJvdmlkZXIgPz8gZGVmYXVsdEVuZHBvaW50UmVzb2x2ZXIsXG4gICAgbG9nZ2VyOiBjb25maWc/LmxvZ2dlciA/PyBuZXcgTm9PcExvZ2dlcigpLFxuICAgIHNlcnZpY2VJZDogY29uZmlnPy5zZXJ2aWNlSWQgPz8gXCJRdWlja1NpZ2h0XCIsXG4gICAgdXJsUGFyc2VyOiBjb25maWc/LnVybFBhcnNlciA/PyBwYXJzZVVybCxcbiAgICB1dGY4RGVjb2RlcjogY29uZmlnPy51dGY4RGVjb2RlciA/PyBmcm9tVXRmOCxcbiAgICB1dGY4RW5jb2RlcjogY29uZmlnPy51dGY4RW5jb2RlciA/PyB0b1V0ZjgsXG59KTtcbiIsImltcG9ydCB7IFNlcnZpY2VFeGNlcHRpb24gYXMgX19TZXJ2aWNlRXhjZXB0aW9uLCB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5leHBvcnQgeyBfX1NlcnZpY2VFeGNlcHRpb24gfTtcbmV4cG9ydCBjbGFzcyBRdWlja1NpZ2h0U2VydmljZUV4Y2VwdGlvbiBleHRlbmRzIF9fU2VydmljZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFF1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU0VOU0lUSVZFX1NUUklORyB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5pbXBvcnQgeyBRdWlja1NpZ2h0U2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi9RdWlja1NpZ2h0U2VydmljZUV4Y2VwdGlvblwiO1xuZXhwb3J0IGNsYXNzIEFjY2Vzc0RlbmllZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEFjY2Vzc0RlbmllZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEVkaXRpb24gPSB7XG4gICAgRU5URVJQUklTRTogXCJFTlRFUlBSSVNFXCIsXG4gICAgRU5URVJQUklTRV9BTkRfUTogXCJFTlRFUlBSSVNFX0FORF9RXCIsXG4gICAgU1RBTkRBUkQ6IFwiU1RBTkRBUkRcIixcbn07XG5leHBvcnQgY29uc3QgRGFzaGJvYXJkQmVoYXZpb3IgPSB7XG4gICAgRElTQUJMRUQ6IFwiRElTQUJMRURcIixcbiAgICBFTkFCTEVEOiBcIkVOQUJMRURcIixcbn07XG5leHBvcnQgY29uc3QgQ2F0ZWdvcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uID0ge1xuICAgIENPVU5UOiBcIkNPVU5UXCIsXG4gICAgRElTVElOQ1RfQ09VTlQ6IFwiRElTVElOQ1RfQ09VTlRcIixcbn07XG5leHBvcnQgY29uc3QgRGF0ZUFnZ3JlZ2F0aW9uRnVuY3Rpb24gPSB7XG4gICAgQ09VTlQ6IFwiQ09VTlRcIixcbiAgICBESVNUSU5DVF9DT1VOVDogXCJESVNUSU5DVF9DT1VOVFwiLFxuICAgIE1BWDogXCJNQVhcIixcbiAgICBNSU46IFwiTUlOXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNpbXBsZU51bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24gPSB7XG4gICAgQVZFUkFHRTogXCJBVkVSQUdFXCIsXG4gICAgQ09VTlQ6IFwiQ09VTlRcIixcbiAgICBESVNUSU5DVF9DT1VOVDogXCJESVNUSU5DVF9DT1VOVFwiLFxuICAgIE1BWDogXCJNQVhcIixcbiAgICBNRURJQU46IFwiTUVESUFOXCIsXG4gICAgTUlOOiBcIk1JTlwiLFxuICAgIFNUREVWOiBcIlNUREVWXCIsXG4gICAgU1RERVZQOiBcIlNUREVWUFwiLFxuICAgIFNVTTogXCJTVU1cIixcbiAgICBWQVI6IFwiVkFSXCIsXG4gICAgVkFSUDogXCJWQVJQXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNvcnREaXJlY3Rpb24gPSB7XG4gICAgQVNDOiBcIkFTQ1wiLFxuICAgIERFU0M6IFwiREVTQ1wiLFxufTtcbmV4cG9ydCBjb25zdCBBbmFseXNpc0Vycm9yVHlwZSA9IHtcbiAgICBBQ0NFU1NfREVOSUVEOiBcIkFDQ0VTU19ERU5JRURcIixcbiAgICBDT0xVTU5fR0VPR1JBUEhJQ19ST0xFX01JU01BVENIOiBcIkNPTFVNTl9HRU9HUkFQSElDX1JPTEVfTUlTTUFUQ0hcIixcbiAgICBDT0xVTU5fUkVQTEFDRU1FTlRfTUlTU0lORzogXCJDT0xVTU5fUkVQTEFDRU1FTlRfTUlTU0lOR1wiLFxuICAgIENPTFVNTl9UWVBFX01JU01BVENIOiBcIkNPTFVNTl9UWVBFX01JU01BVENIXCIsXG4gICAgREFUQV9TRVRfTk9UX0ZPVU5EOiBcIkRBVEFfU0VUX05PVF9GT1VORFwiLFxuICAgIElOVEVSTkFMX0ZBSUxVUkU6IFwiSU5URVJOQUxfRkFJTFVSRVwiLFxuICAgIFBBUkFNRVRFUl9OT1RfRk9VTkQ6IFwiUEFSQU1FVEVSX05PVF9GT1VORFwiLFxuICAgIFBBUkFNRVRFUl9UWVBFX0lOVkFMSUQ6IFwiUEFSQU1FVEVSX1RZUEVfSU5WQUxJRFwiLFxuICAgIFBBUkFNRVRFUl9WQUxVRV9JTkNPTVBBVElCTEU6IFwiUEFSQU1FVEVSX1ZBTFVFX0lOQ09NUEFUSUJMRVwiLFxuICAgIFNPVVJDRV9OT1RfRk9VTkQ6IFwiU09VUkNFX05PVF9GT1VORFwiLFxufTtcbmV4cG9ydCBjb25zdCBSZXNvdXJjZVN0YXR1cyA9IHtcbiAgICBDUkVBVElPTl9GQUlMRUQ6IFwiQ1JFQVRJT05fRkFJTEVEXCIsXG4gICAgQ1JFQVRJT05fSU5fUFJPR1JFU1M6IFwiQ1JFQVRJT05fSU5fUFJPR1JFU1NcIixcbiAgICBDUkVBVElPTl9TVUNDRVNTRlVMOiBcIkNSRUFUSU9OX1NVQ0NFU1NGVUxcIixcbiAgICBERUxFVEVEOiBcIkRFTEVURURcIixcbiAgICBVUERBVEVfRkFJTEVEOiBcIlVQREFURV9GQUlMRURcIixcbiAgICBVUERBVEVfSU5fUFJPR1JFU1M6IFwiVVBEQVRFX0lOX1BST0dSRVNTXCIsXG4gICAgVVBEQVRFX1NVQ0NFU1NGVUw6IFwiVVBEQVRFX1NVQ0NFU1NGVUxcIixcbn07XG5leHBvcnQgY29uc3QgUmVzaXplT3B0aW9uID0ge1xuICAgIEZJWEVEOiBcIkZJWEVEXCIsXG4gICAgUkVTUE9OU0lWRTogXCJSRVNQT05TSVZFXCIsXG59O1xuZXhwb3J0IGNvbnN0IFBhcGVyT3JpZW50YXRpb24gPSB7XG4gICAgTEFORFNDQVBFOiBcIkxBTkRTQ0FQRVwiLFxuICAgIFBPUlRSQUlUOiBcIlBPUlRSQUlUXCIsXG59O1xuZXhwb3J0IGNvbnN0IFBhcGVyU2l6ZSA9IHtcbiAgICBBMDogXCJBMFwiLFxuICAgIEExOiBcIkExXCIsXG4gICAgQTI6IFwiQTJcIixcbiAgICBBMzogXCJBM1wiLFxuICAgIEE0OiBcIkE0XCIsXG4gICAgQTU6IFwiQTVcIixcbiAgICBKSVNfQjQ6IFwiSklTX0I0XCIsXG4gICAgSklTX0I1OiBcIkpJU19CNVwiLFxuICAgIFVTX0xFR0FMOiBcIlVTX0xFR0FMXCIsXG4gICAgVVNfTEVUVEVSOiBcIlVTX0xFVFRFUlwiLFxuICAgIFVTX1RBQkxPSURfTEVER0VSOiBcIlVTX1RBQkxPSURfTEVER0VSXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNoZWV0Q29udGVudFR5cGUgPSB7XG4gICAgSU5URVJBQ1RJVkU6IFwiSU5URVJBQ1RJVkVcIixcbiAgICBQQUdJTkFURUQ6IFwiUEFHSU5BVEVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IE5lZ2F0aXZlVmFsdWVEaXNwbGF5TW9kZSA9IHtcbiAgICBORUdBVElWRTogXCJORUdBVElWRVwiLFxuICAgIFBPU0lUSVZFOiBcIlBPU0lUSVZFXCIsXG59O1xuZXhwb3J0IGNvbnN0IE51bWJlclNjYWxlID0ge1xuICAgIEFVVE86IFwiQVVUT1wiLFxuICAgIEJJTExJT05TOiBcIkJJTExJT05TXCIsXG4gICAgTUlMTElPTlM6IFwiTUlMTElPTlNcIixcbiAgICBOT05FOiBcIk5PTkVcIixcbiAgICBUSE9VU0FORFM6IFwiVEhPVVNBTkRTXCIsXG4gICAgVFJJTExJT05TOiBcIlRSSUxMSU9OU1wiLFxufTtcbmV4cG9ydCBjb25zdCBOdW1lcmljU2VwYXJhdG9yU3ltYm9sID0ge1xuICAgIENPTU1BOiBcIkNPTU1BXCIsXG4gICAgRE9UOiBcIkRPVFwiLFxuICAgIFNQQUNFOiBcIlNQQUNFXCIsXG59O1xuZXhwb3J0IGNvbnN0IFZpc2liaWxpdHkgPSB7XG4gICAgSElEREVOOiBcIkhJRERFTlwiLFxuICAgIFZJU0lCTEU6IFwiVklTSUJMRVwiLFxufTtcbmV4cG9ydCBjb25zdCBDb2x1bW5Sb2xlID0ge1xuICAgIERJTUVOU0lPTjogXCJESU1FTlNJT05cIixcbiAgICBNRUFTVVJFOiBcIk1FQVNVUkVcIixcbn07XG5leHBvcnQgY29uc3QgQ3Jvc3NEYXRhc2V0VHlwZXMgPSB7XG4gICAgQUxMX0RBVEFTRVRTOiBcIkFMTF9EQVRBU0VUU1wiLFxuICAgIFNJTkdMRV9EQVRBU0VUOiBcIlNJTkdMRV9EQVRBU0VUXCIsXG59O1xuZXhwb3J0IGNvbnN0IENhdGVnb3J5RmlsdGVyTWF0Y2hPcGVyYXRvciA9IHtcbiAgICBDT05UQUlOUzogXCJDT05UQUlOU1wiLFxuICAgIERPRVNfTk9UX0NPTlRBSU46IFwiRE9FU19OT1RfQ09OVEFJTlwiLFxuICAgIERPRVNfTk9UX0VRVUFMOiBcIkRPRVNfTk9UX0VRVUFMXCIsXG4gICAgRU5EU19XSVRIOiBcIkVORFNfV0lUSFwiLFxuICAgIEVRVUFMUzogXCJFUVVBTFNcIixcbiAgICBTVEFSVFNfV0lUSDogXCJTVEFSVFNfV0lUSFwiLFxufTtcbmV4cG9ydCBjb25zdCBGaWx0ZXJOdWxsT3B0aW9uID0ge1xuICAgIEFMTF9WQUxVRVM6IFwiQUxMX1ZBTFVFU1wiLFxuICAgIE5PTl9OVUxMU19PTkxZOiBcIk5PTl9OVUxMU19PTkxZXCIsXG4gICAgTlVMTFNfT05MWTogXCJOVUxMU19PTkxZXCIsXG59O1xuZXhwb3J0IGNvbnN0IENhdGVnb3J5RmlsdGVyU2VsZWN0QWxsT3B0aW9ucyA9IHtcbiAgICBGSUxURVJfQUxMX1ZBTFVFUzogXCJGSUxURVJfQUxMX1ZBTFVFU1wiLFxufTtcbmV4cG9ydCBjb25zdCBOdW1lcmljRXF1YWxpdHlNYXRjaE9wZXJhdG9yID0ge1xuICAgIERPRVNfTk9UX0VRVUFMOiBcIkRPRVNfTk9UX0VRVUFMXCIsXG4gICAgRVFVQUxTOiBcIkVRVUFMU1wiLFxufTtcbmV4cG9ydCBjb25zdCBOdW1lcmljRmlsdGVyU2VsZWN0QWxsT3B0aW9ucyA9IHtcbiAgICBGSUxURVJfQUxMX1ZBTFVFUzogXCJGSUxURVJfQUxMX1ZBTFVFU1wiLFxufTtcbmV4cG9ydCBjb25zdCBBbmNob3JPcHRpb24gPSB7XG4gICAgTk9XOiBcIk5PV1wiLFxufTtcbmV4cG9ydCBjb25zdCBUaW1lR3JhbnVsYXJpdHkgPSB7XG4gICAgREFZOiBcIkRBWVwiLFxuICAgIEhPVVI6IFwiSE9VUlwiLFxuICAgIE1JTExJU0VDT05EOiBcIk1JTExJU0VDT05EXCIsXG4gICAgTUlOVVRFOiBcIk1JTlVURVwiLFxuICAgIE1PTlRIOiBcIk1PTlRIXCIsXG4gICAgUVVBUlRFUjogXCJRVUFSVEVSXCIsXG4gICAgU0VDT05EOiBcIlNFQ09ORFwiLFxuICAgIFdFRUs6IFwiV0VFS1wiLFxuICAgIFlFQVI6IFwiWUVBUlwiLFxufTtcbmV4cG9ydCBjb25zdCBXaWRnZXRTdGF0dXMgPSB7XG4gICAgRElTQUJMRUQ6IFwiRElTQUJMRURcIixcbiAgICBFTkFCTEVEOiBcIkVOQUJMRURcIixcbn07XG5leHBvcnQgY29uc3QgUmVsYXRpdmVEYXRlVHlwZSA9IHtcbiAgICBMQVNUOiBcIkxBU1RcIixcbiAgICBORVhUOiBcIk5FWFRcIixcbiAgICBOT1c6IFwiTk9XXCIsXG4gICAgUFJFVklPVVM6IFwiUFJFVklPVVNcIixcbiAgICBUSElTOiBcIlRISVNcIixcbn07XG5leHBvcnQgY29uc3QgRmlsdGVyVmlzdWFsU2NvcGUgPSB7XG4gICAgQUxMX1ZJU1VBTFM6IFwiQUxMX1ZJU1VBTFNcIixcbiAgICBTRUxFQ1RFRF9WSVNVQUxTOiBcIlNFTEVDVEVEX1ZJU1VBTFNcIixcbn07XG5leHBvcnQgY29uc3QgVmFsdWVXaGVuVW5zZXRPcHRpb24gPSB7XG4gICAgTlVMTDogXCJOVUxMXCIsXG4gICAgUkVDT01NRU5ERURfVkFMVUU6IFwiUkVDT01NRU5ERURfVkFMVUVcIixcbn07XG5leHBvcnQgY29uc3QgUGFyYW1ldGVyVmFsdWVUeXBlID0ge1xuICAgIE1VTFRJX1ZBTFVFRDogXCJNVUxUSV9WQUxVRURcIixcbiAgICBTSU5HTEVfVkFMVUVEOiBcIlNJTkdMRV9WQUxVRURcIixcbn07XG5leHBvcnQgY29uc3QgRm9udERlY29yYXRpb24gPSB7XG4gICAgTk9ORTogXCJOT05FXCIsXG4gICAgVU5ERVJMSU5FOiBcIlVOREVSTElORVwiLFxufTtcbmV4cG9ydCBjb25zdCBSZWxhdGl2ZUZvbnRTaXplID0ge1xuICAgIEVYVFJBX0xBUkdFOiBcIkVYVFJBX0xBUkdFXCIsXG4gICAgRVhUUkFfU01BTEw6IFwiRVhUUkFfU01BTExcIixcbiAgICBMQVJHRTogXCJMQVJHRVwiLFxuICAgIE1FRElVTTogXCJNRURJVU1cIixcbiAgICBTTUFMTDogXCJTTUFMTFwiLFxufTtcbmV4cG9ydCBjb25zdCBGb250U3R5bGUgPSB7XG4gICAgSVRBTElDOiBcIklUQUxJQ1wiLFxuICAgIE5PUk1BTDogXCJOT1JNQUxcIixcbn07XG5leHBvcnQgY29uc3QgRm9udFdlaWdodE5hbWUgPSB7XG4gICAgQk9MRDogXCJCT0xEXCIsXG4gICAgTk9STUFMOiBcIk5PUk1BTFwiLFxufTtcbmV4cG9ydCBjb25zdCBTaGVldENvbnRyb2xEYXRlVGltZVBpY2tlclR5cGUgPSB7XG4gICAgREFURV9SQU5HRTogXCJEQVRFX1JBTkdFXCIsXG4gICAgU0lOR0xFX1ZBTFVFRDogXCJTSU5HTEVfVkFMVUVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNoZWV0Q29udHJvbExpc3RUeXBlID0ge1xuICAgIE1VTFRJX1NFTEVDVDogXCJNVUxUSV9TRUxFQ1RcIixcbiAgICBTSU5HTEVfU0VMRUNUOiBcIlNJTkdMRV9TRUxFQ1RcIixcbn07XG5leHBvcnQgY29uc3QgU2hlZXRDb250cm9sU2xpZGVyVHlwZSA9IHtcbiAgICBSQU5HRTogXCJSQU5HRVwiLFxuICAgIFNJTkdMRV9QT0lOVDogXCJTSU5HTEVfUE9JTlRcIixcbn07XG5leHBvcnQgY29uc3QgTGF5b3V0RWxlbWVudFR5cGUgPSB7XG4gICAgRklMVEVSX0NPTlRST0w6IFwiRklMVEVSX0NPTlRST0xcIixcbiAgICBQQVJBTUVURVJfQ09OVFJPTDogXCJQQVJBTUVURVJfQ09OVFJPTFwiLFxuICAgIFRFWFRfQk9YOiBcIlRFWFRfQk9YXCIsXG4gICAgVklTVUFMOiBcIlZJU1VBTFwiLFxufTtcbmV4cG9ydCBjb25zdCBTZWN0aW9uUGFnZUJyZWFrU3RhdHVzID0ge1xuICAgIERJU0FCTEVEOiBcIkRJU0FCTEVEXCIsXG4gICAgRU5BQkxFRDogXCJFTkFCTEVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNlbGVjdGVkRmllbGRPcHRpb25zID0ge1xuICAgIEFMTF9GSUVMRFM6IFwiQUxMX0ZJRUxEU1wiLFxufTtcbmV4cG9ydCBjb25zdCBUYXJnZXRWaXN1YWxPcHRpb25zID0ge1xuICAgIEFMTF9WSVNVQUxTOiBcIkFMTF9WSVNVQUxTXCIsXG59O1xuZXhwb3J0IGNvbnN0IFNlbGVjdEFsbFZhbHVlT3B0aW9ucyA9IHtcbiAgICBBTExfVkFMVUVTOiBcIkFMTF9WQUxVRVNcIixcbn07XG5leHBvcnQgY29uc3QgVVJMVGFyZ2V0Q29uZmlndXJhdGlvbiA9IHtcbiAgICBORVdfVEFCOiBcIk5FV19UQUJcIixcbiAgICBORVdfV0lORE9XOiBcIk5FV19XSU5ET1dcIixcbiAgICBTQU1FX1RBQjogXCJTQU1FX1RBQlwiLFxufTtcbmV4cG9ydCBjb25zdCBWaXN1YWxDdXN0b21BY3Rpb25UcmlnZ2VyID0ge1xuICAgIERBVEFfUE9JTlRfQ0xJQ0s6IFwiREFUQV9QT0lOVF9DTElDS1wiLFxuICAgIERBVEFfUE9JTlRfTUVOVTogXCJEQVRBX1BPSU5UX01FTlVcIixcbn07XG5leHBvcnQgY29uc3QgQmFyc0FycmFuZ2VtZW50ID0ge1xuICAgIENMVVNURVJFRDogXCJDTFVTVEVSRURcIixcbiAgICBTVEFDS0VEOiBcIlNUQUNLRURcIixcbiAgICBTVEFDS0VEX1BFUkNFTlQ6IFwiU1RBQ0tFRF9QRVJDRU5UXCIsXG59O1xuZXhwb3J0IGNvbnN0IERhdGFMYWJlbENvbnRlbnQgPSB7XG4gICAgUEVSQ0VOVDogXCJQRVJDRU5UXCIsXG4gICAgVkFMVUU6IFwiVkFMVUVcIixcbiAgICBWQUxVRV9BTkRfUEVSQ0VOVDogXCJWQUxVRV9BTkRfUEVSQ0VOVFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhTGFiZWxPdmVybGFwID0ge1xuICAgIERJU0FCTEVfT1ZFUkxBUDogXCJESVNBQkxFX09WRVJMQVBcIixcbiAgICBFTkFCTEVfT1ZFUkxBUDogXCJFTkFCTEVfT1ZFUkxBUFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhTGFiZWxQb3NpdGlvbiA9IHtcbiAgICBCT1RUT006IFwiQk9UVE9NXCIsXG4gICAgSU5TSURFOiBcIklOU0lERVwiLFxuICAgIExFRlQ6IFwiTEVGVFwiLFxuICAgIE9VVFNJREU6IFwiT1VUU0lERVwiLFxuICAgIFJJR0hUOiBcIlJJR0hUXCIsXG4gICAgVE9QOiBcIlRPUFwiLFxufTtcbmV4cG9ydCBjb25zdCBMZWdlbmRQb3NpdGlvbiA9IHtcbiAgICBBVVRPOiBcIkFVVE9cIixcbiAgICBCT1RUT006IFwiQk9UVE9NXCIsXG4gICAgUklHSFQ6IFwiUklHSFRcIixcbiAgICBUT1A6IFwiVE9QXCIsXG59O1xuZXhwb3J0IGNvbnN0IEJhckNoYXJ0T3JpZW50YXRpb24gPSB7XG4gICAgSE9SSVpPTlRBTDogXCJIT1JJWk9OVEFMXCIsXG4gICAgVkVSVElDQUw6IFwiVkVSVElDQUxcIixcbn07XG5leHBvcnQgY29uc3QgQXhpc0JpbmRpbmcgPSB7XG4gICAgUFJJTUFSWV9ZQVhJUzogXCJQUklNQVJZX1lBWElTXCIsXG4gICAgU0VDT05EQVJZX1lBWElTOiBcIlNFQ09OREFSWV9ZQVhJU1wiLFxufTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lTGFiZWxIb3Jpem9udGFsUG9zaXRpb24gPSB7XG4gICAgQ0VOVEVSOiBcIkNFTlRFUlwiLFxuICAgIExFRlQ6IFwiTEVGVFwiLFxuICAgIFJJR0hUOiBcIlJJR0hUXCIsXG59O1xuZXhwb3J0IGNvbnN0IFJlZmVyZW5jZUxpbmVWYWx1ZUxhYmVsUmVsYXRpdmVQb3NpdGlvbiA9IHtcbiAgICBBRlRFUl9DVVNUT01fTEFCRUw6IFwiQUZURVJfQ1VTVE9NX0xBQkVMXCIsXG4gICAgQkVGT1JFX0NVU1RPTV9MQUJFTDogXCJCRUZPUkVfQ1VTVE9NX0xBQkVMXCIsXG59O1xuZXhwb3J0IGNvbnN0IFJlZmVyZW5jZUxpbmVMYWJlbFZlcnRpY2FsUG9zaXRpb24gPSB7XG4gICAgQUJPVkU6IFwiQUJPVkVcIixcbiAgICBCRUxPVzogXCJCRUxPV1wiLFxufTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lUGF0dGVyblR5cGUgPSB7XG4gICAgREFTSEVEOiBcIkRBU0hFRFwiLFxuICAgIERPVFRFRDogXCJET1RURURcIixcbiAgICBTT0xJRDogXCJTT0xJRFwiLFxufTtcbmV4cG9ydCBjb25zdCBQYW5lbEJvcmRlclN0eWxlID0ge1xuICAgIERBU0hFRDogXCJEQVNIRURcIixcbiAgICBET1RURUQ6IFwiRE9UVEVEXCIsXG4gICAgU09MSUQ6IFwiU09MSURcIixcbn07XG5leHBvcnQgY29uc3QgSG9yaXpvbnRhbFRleHRBbGlnbm1lbnQgPSB7XG4gICAgQVVUTzogXCJBVVRPXCIsXG4gICAgQ0VOVEVSOiBcIkNFTlRFUlwiLFxuICAgIExFRlQ6IFwiTEVGVFwiLFxuICAgIFJJR0hUOiBcIlJJR0hUXCIsXG59O1xuZXhwb3J0IGNvbnN0IE90aGVyQ2F0ZWdvcmllcyA9IHtcbiAgICBFWENMVURFOiBcIkVYQ0xVREVcIixcbiAgICBJTkNMVURFOiBcIklOQ0xVREVcIixcbn07XG5leHBvcnQgY29uc3QgVG9vbHRpcFRpdGxlVHlwZSA9IHtcbiAgICBOT05FOiBcIk5PTkVcIixcbiAgICBQUklNQVJZX1ZBTFVFOiBcIlBSSU1BUllfVkFMVUVcIixcbn07XG5leHBvcnQgY29uc3QgU2VsZWN0ZWRUb29sdGlwVHlwZSA9IHtcbiAgICBCQVNJQzogXCJCQVNJQ1wiLFxuICAgIERFVEFJTEVEOiBcIkRFVEFJTEVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IEJveFBsb3RGaWxsU3R5bGUgPSB7XG4gICAgU09MSUQ6IFwiU09MSURcIixcbiAgICBUUkFOU1BBUkVOVDogXCJUUkFOU1BBUkVOVFwiLFxufTtcbmV4cG9ydCBjb25zdCBDYWxjdWxhdGVkRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkV4cHJlc3Npb24gJiYgeyBFeHByZXNzaW9uOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouTnVsbFN0cmluZyAmJiB7IE51bGxTdHJpbmc6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDdXJyZW5jeURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QcmVmaXggJiYgeyBQcmVmaXg6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5TdWZmaXggJiYgeyBTdWZmaXg6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5OdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbjogTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBOdW1iZXJEaXNwbGF5Rm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouUHJlZml4ICYmIHsgUHJlZml4OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouU3VmZml4ICYmIHsgU3VmZml4OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIE51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb246IE51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLk51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgUGVyY2VudGFnZURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QcmVmaXggJiYgeyBQcmVmaXg6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5TdWZmaXggJiYgeyBTdWZmaXg6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5OdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbjogTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBOdW1lcmljRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouTnVtYmVyRGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBOdW1iZXJEaXNwbGF5Rm9ybWF0Q29uZmlndXJhdGlvbjogTnVtYmVyRGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLk51bWJlckRpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkN1cnJlbmN5RGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBDdXJyZW5jeURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uOiBDdXJyZW5jeURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5DdXJyZW5jeURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLlBlcmNlbnRhZ2VEaXNwbGF5Rm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIFBlcmNlbnRhZ2VEaXNwbGF5Rm9ybWF0Q29uZmlndXJhdGlvbjogUGVyY2VudGFnZURpc3BsYXlGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5QZXJjZW50YWdlRGlzcGxheUZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0ZVRpbWVGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5OdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbjogTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVsbFZhbHVlRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG4gICAgLi4uKG9iai5OdW1lcmljRm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIE51bWVyaWNGb3JtYXRDb25maWd1cmF0aW9uOiBOdW1lcmljRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVtZXJpY0Zvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgTnVtYmVyRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRm9ybWF0Q29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIEZvcm1hdENvbmZpZ3VyYXRpb246IE51bWVyaWNGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5Gb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFN0cmluZ0Zvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLk51bGxWYWx1ZUZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBOdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uOiBOdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5OdWxsVmFsdWVGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLk51bWVyaWNGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTnVtZXJpY0Zvcm1hdENvbmZpZ3VyYXRpb246IE51bWVyaWNGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5OdW1lcmljRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TdHJpbmdGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgU3RyaW5nRm9ybWF0Q29uZmlndXJhdGlvbjogU3RyaW5nRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouU3RyaW5nRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG4gICAgLi4uKG9iai5OdW1iZXJGb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgTnVtYmVyRm9ybWF0Q29uZmlndXJhdGlvbjogTnVtYmVyRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTnVtYmVyRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG4gICAgLi4uKG9iai5EYXRlVGltZUZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBEYXRlVGltZUZvcm1hdENvbmZpZ3VyYXRpb246IERhdGVUaW1lRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0ZVRpbWVGb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENvbHVtbkNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5Gb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFJvbGxpbmdEYXRlQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRXhwcmVzc2lvbiAmJiB7IEV4cHJlc3Npb246IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBUaW1lUmFuZ2VGaWx0ZXJWYWx1ZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouUm9sbGluZ0RhdGUgJiYgeyBSb2xsaW5nRGF0ZTogUm9sbGluZ0RhdGVDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5Sb2xsaW5nRGF0ZSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBUaW1lUmFuZ2VGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlJhbmdlTWluaW11bVZhbHVlICYmIHsgUmFuZ2VNaW5pbXVtVmFsdWU6IFRpbWVSYW5nZUZpbHRlclZhbHVlRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5SYW5nZU1pbmltdW1WYWx1ZSkgfSksXG4gICAgLi4uKG9iai5SYW5nZU1heGltdW1WYWx1ZSAmJiB7IFJhbmdlTWF4aW11bVZhbHVlOiBUaW1lUmFuZ2VGaWx0ZXJWYWx1ZUZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUmFuZ2VNYXhpbXVtVmFsdWUpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5UaW1lUmFuZ2VGaWx0ZXIgJiYgeyBUaW1lUmFuZ2VGaWx0ZXI6IFRpbWVSYW5nZUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyhvYmouVGltZVJhbmdlRmlsdGVyKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEZpbHRlckdyb3VwRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5GaWx0ZXJzICYmIHsgRmlsdGVyczogb2JqLkZpbHRlcnMubWFwKChpdGVtKSA9PiBGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0ZVRpbWVEZWZhdWx0VmFsdWVzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TdGF0aWNWYWx1ZXMgJiYgeyBTdGF0aWNWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5Sb2xsaW5nRGF0ZSAmJiB7IFJvbGxpbmdEYXRlOiBSb2xsaW5nRGF0ZUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlJvbGxpbmdEYXRlKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGVUaW1lVmFsdWVXaGVuVW5zZXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DdXN0b21WYWx1ZSAmJiB7IEN1c3RvbVZhbHVlOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0ZVRpbWVQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGVmYXVsdFZhbHVlcyAmJiB7IERlZmF1bHRWYWx1ZXM6IERhdGVUaW1lRGVmYXVsdFZhbHVlc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGVmYXVsdFZhbHVlcykgfSksXG4gICAgLi4uKG9iai5WYWx1ZVdoZW5VbnNldCAmJiB7XG4gICAgICAgIFZhbHVlV2hlblVuc2V0OiBEYXRlVGltZVZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouVmFsdWVXaGVuVW5zZXQpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGVjaW1hbERlZmF1bHRWYWx1ZXNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlN0YXRpY1ZhbHVlcyAmJiB7IFN0YXRpY1ZhbHVlczogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERlY2ltYWxWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkN1c3RvbVZhbHVlICYmIHsgQ3VzdG9tVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEZWNpbWFsUGFyYW1ldGVyRGVjbGFyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkRlZmF1bHRWYWx1ZXMgJiYgeyBEZWZhdWx0VmFsdWVzOiBEZWNpbWFsRGVmYXVsdFZhbHVlc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGVmYXVsdFZhbHVlcykgfSksXG4gICAgLi4uKG9iai5WYWx1ZVdoZW5VbnNldCAmJiB7XG4gICAgICAgIFZhbHVlV2hlblVuc2V0OiBEZWNpbWFsVmFsdWVXaGVuVW5zZXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5WYWx1ZVdoZW5VbnNldCksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBJbnRlZ2VyRGVmYXVsdFZhbHVlc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU3RhdGljVmFsdWVzICYmIHsgU3RhdGljVmFsdWVzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgSW50ZWdlclZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3VzdG9tVmFsdWUgJiYgeyBDdXN0b21WYWx1ZTogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEludGVnZXJQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGVmYXVsdFZhbHVlcyAmJiB7IERlZmF1bHRWYWx1ZXM6IEludGVnZXJEZWZhdWx0VmFsdWVzRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EZWZhdWx0VmFsdWVzKSB9KSxcbiAgICAuLi4ob2JqLlZhbHVlV2hlblVuc2V0ICYmIHtcbiAgICAgICAgVmFsdWVXaGVuVW5zZXQ6IEludGVnZXJWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlZhbHVlV2hlblVuc2V0KSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFN0cmluZ0RlZmF1bHRWYWx1ZXNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlN0YXRpY1ZhbHVlcyAmJiB7IFN0YXRpY1ZhbHVlczogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFN0cmluZ1ZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3VzdG9tVmFsdWUgJiYgeyBDdXN0b21WYWx1ZTogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFN0cmluZ1BhcmFtZXRlckRlY2xhcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EZWZhdWx0VmFsdWVzICYmIHsgRGVmYXVsdFZhbHVlczogU3RyaW5nRGVmYXVsdFZhbHVlc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGVmYXVsdFZhbHVlcykgfSksXG4gICAgLi4uKG9iai5WYWx1ZVdoZW5VbnNldCAmJiB7XG4gICAgICAgIFZhbHVlV2hlblVuc2V0OiBTdHJpbmdWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlZhbHVlV2hlblVuc2V0KSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFBhcmFtZXRlckRlY2xhcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5TdHJpbmdQYXJhbWV0ZXJEZWNsYXJhdGlvbiAmJiB7XG4gICAgICAgIFN0cmluZ1BhcmFtZXRlckRlY2xhcmF0aW9uOiBTdHJpbmdQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouU3RyaW5nUGFyYW1ldGVyRGVjbGFyYXRpb24pLFxuICAgIH0pLFxuICAgIC4uLihvYmouRGVjaW1hbFBhcmFtZXRlckRlY2xhcmF0aW9uICYmIHtcbiAgICAgICAgRGVjaW1hbFBhcmFtZXRlckRlY2xhcmF0aW9uOiBEZWNpbWFsUGFyYW1ldGVyRGVjbGFyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkRlY2ltYWxQYXJhbWV0ZXJEZWNsYXJhdGlvbiksXG4gICAgfSksXG4gICAgLi4uKG9iai5JbnRlZ2VyUGFyYW1ldGVyRGVjbGFyYXRpb24gJiYge1xuICAgICAgICBJbnRlZ2VyUGFyYW1ldGVyRGVjbGFyYXRpb246IEludGVnZXJQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouSW50ZWdlclBhcmFtZXRlckRlY2xhcmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkRhdGVUaW1lUGFyYW1ldGVyRGVjbGFyYXRpb24gJiYge1xuICAgICAgICBEYXRlVGltZVBhcmFtZXRlckRlY2xhcmF0aW9uOiBEYXRlVGltZVBhcmFtZXRlckRlY2xhcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EYXRlVGltZVBhcmFtZXRlckRlY2xhcmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFNoZWV0RWxlbWVudFJlbmRlcmluZ1J1bGVGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkV4cHJlc3Npb24gJiYgeyBFeHByZXNzaW9uOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRnJlZUZvcm1MYXlvdXRFbGVtZW50RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5SZW5kZXJpbmdSdWxlcyAmJiB7XG4gICAgICAgIFJlbmRlcmluZ1J1bGVzOiBvYmouUmVuZGVyaW5nUnVsZXMubWFwKChpdGVtKSA9PiBTaGVldEVsZW1lbnRSZW5kZXJpbmdSdWxlRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEZyZWVGb3JtTGF5b3V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgRnJlZUZvcm1TZWN0aW9uTGF5b3V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgU2VjdGlvbkxheW91dENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IEJvZHlTZWN0aW9uQ29udGVudEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgQm9keVNlY3Rpb25Db25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBIZWFkZXJGb290ZXJTZWN0aW9uQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgU2VjdGlvbkJhc2VkTGF5b3V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgTGF5b3V0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgTGF5b3V0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBDdXN0b21QYXJhbWV0ZXJWYWx1ZXNGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlN0cmluZ1ZhbHVlcyAmJiB7IFN0cmluZ1ZhbHVlczogU0VOU0lUSVZFX1NUUklORyB9KSxcbiAgICAuLi4ob2JqLkludGVnZXJWYWx1ZXMgJiYgeyBJbnRlZ2VyVmFsdWVzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouRGVjaW1hbFZhbHVlcyAmJiB7IERlY2ltYWxWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5EYXRlVGltZVZhbHVlcyAmJiB7IERhdGVUaW1lVmFsdWVzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3VzdG9tVmFsdWVzICYmIHsgQ3VzdG9tVmFsdWVzOiBDdXN0b21QYXJhbWV0ZXJWYWx1ZXNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkN1c3RvbVZhbHVlcykgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEZXN0aW5hdGlvblBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIEN1c3RvbVZhbHVlc0NvbmZpZ3VyYXRpb246IEN1c3RvbVZhbHVlc0NvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkN1c3RvbVZhbHVlc0NvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgU2V0UGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZSAmJiB7IFZhbHVlOiBEZXN0aW5hdGlvblBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouVmFsdWUpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ3VzdG9tQWN0aW9uU2V0UGFyYW1ldGVyc09wZXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouUGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9ucyAmJiB7XG4gICAgICAgIFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbnM6IG9iai5QYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb25zLm1hcCgoaXRlbSkgPT4gU2V0UGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFZpc3VhbEN1c3RvbUFjdGlvbk9wZXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU2V0UGFyYW1ldGVyc09wZXJhdGlvbiAmJiB7XG4gICAgICAgIFNldFBhcmFtZXRlcnNPcGVyYXRpb246IEN1c3RvbUFjdGlvblNldFBhcmFtZXRlcnNPcGVyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlNldFBhcmFtZXRlcnNPcGVyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVmlzdWFsQ3VzdG9tQWN0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBEYXRhUGF0aExhYmVsVHlwZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRmllbGRWYWx1ZSAmJiB7IEZpZWxkVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRhTGFiZWxUeXBlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhUGF0aExhYmVsVHlwZSAmJiB7IERhdGFQYXRoTGFiZWxUeXBlOiBEYXRhUGF0aExhYmVsVHlwZUZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0YVBhdGhMYWJlbFR5cGUpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0YUxhYmVsT3B0aW9uc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGF0YUxhYmVsVHlwZXMgJiYge1xuICAgICAgICBEYXRhTGFiZWxUeXBlczogb2JqLkRhdGFMYWJlbFR5cGVzLm1hcCgoaXRlbSkgPT4gRGF0YUxhYmVsVHlwZUZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDYXRlZ29yaWNhbERpbWVuc2lvbkZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Gb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgRm9ybWF0Q29uZmlndXJhdGlvbjogU3RyaW5nRm9ybWF0Q29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRm9ybWF0Q29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRlRGltZW5zaW9uRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBEYXRlVGltZUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgTnVtZXJpY2FsRGltZW5zaW9uRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IERpbWVuc2lvbkZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DYXRlZ29yaWNhbERpbWVuc2lvbkZpZWxkICYmIHtcbiAgICAgICAgQ2F0ZWdvcmljYWxEaW1lbnNpb25GaWVsZDogQ2F0ZWdvcmljYWxEaW1lbnNpb25GaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ2F0ZWdvcmljYWxEaW1lbnNpb25GaWVsZCksXG4gICAgfSksXG4gICAgLi4uKG9iai5EYXRlRGltZW5zaW9uRmllbGQgJiYgeyBEYXRlRGltZW5zaW9uRmllbGQ6IERhdGVEaW1lbnNpb25GaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0ZURpbWVuc2lvbkZpZWxkKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENhbGN1bGF0ZWRNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkV4cHJlc3Npb24gJiYgeyBFeHByZXNzaW9uOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ2F0ZWdvcmljYWxNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBTdHJpbmdGb3JtYXRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5Gb3JtYXRDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGVNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBGb3JtYXRDb25maWd1cmF0aW9uOiBEYXRlVGltZUZvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgTnVtZXJpY2FsTWVhc3VyZUZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNhdGVnb3JpY2FsTWVhc3VyZUZpZWxkICYmIHtcbiAgICAgICAgQ2F0ZWdvcmljYWxNZWFzdXJlRmllbGQ6IENhdGVnb3JpY2FsTWVhc3VyZUZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5DYXRlZ29yaWNhbE1lYXN1cmVGaWVsZCksXG4gICAgfSksXG4gICAgLi4uKG9iai5EYXRlTWVhc3VyZUZpZWxkICYmIHsgRGF0ZU1lYXN1cmVGaWVsZDogRGF0ZU1lYXN1cmVGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0ZU1lYXN1cmVGaWVsZCkgfSksXG4gICAgLi4uKG9iai5DYWxjdWxhdGVkTWVhc3VyZUZpZWxkICYmIHtcbiAgICAgICAgQ2FsY3VsYXRlZE1lYXN1cmVGaWVsZDogQ2FsY3VsYXRlZE1lYXN1cmVGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhvYmouQ2FsY3VsYXRlZE1lYXN1cmVGaWVsZCksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBCYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZXMgJiYgeyBWYWx1ZXM6IG9iai5WYWx1ZXMubWFwKChpdGVtKSA9PiBNZWFzdXJlRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQmFyQ2hhcnRGaWVsZFdlbGxzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lU3RhdGljRGF0YUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlZhbHVlICYmIHsgVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lRGF0YUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlN0YXRpY0NvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBTdGF0aWNDb25maWd1cmF0aW9uOiBSZWZlcmVuY2VMaW5lU3RhdGljRGF0YUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlN0YXRpY0NvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgUmVmZXJlbmNlTGluZVZhbHVlTGFiZWxDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Gb3JtYXRDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgRm9ybWF0Q29uZmlndXJhdGlvbjogTnVtZXJpY0Zvcm1hdENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkZvcm1hdENvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgUmVmZXJlbmNlTGluZUxhYmVsQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouVmFsdWVMYWJlbENvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBWYWx1ZUxhYmVsQ29uZmlndXJhdGlvbjogUmVmZXJlbmNlTGluZVZhbHVlTGFiZWxDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5WYWx1ZUxhYmVsQ29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBSZWZlcmVuY2VMaW5lRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhQ29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIERhdGFDb25maWd1cmF0aW9uOiBSZWZlcmVuY2VMaW5lRGF0YUNvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkRhdGFDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkxhYmVsQ29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIExhYmVsQ29uZmlndXJhdGlvbjogUmVmZXJlbmNlTGluZUxhYmVsQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouTGFiZWxDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERhdGFQYXRoVmFsdWVGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZpZWxkVmFsdWUgJiYgeyBGaWVsZFZhbHVlOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0YVBhdGhDb2xvckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRWxlbWVudCAmJiB7IEVsZW1lbnQ6IERhdGFQYXRoVmFsdWVGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkVsZW1lbnQpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVmlzdWFsUGFsZXR0ZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ29sb3JNYXAgJiYgeyBDb2xvck1hcDogb2JqLkNvbG9yTWFwLm1hcCgoaXRlbSkgPT4gRGF0YVBhdGhDb2xvckZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBCYXJDaGFydENvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlZpc3VhbFBhbGV0dGUgJiYgeyBWaXN1YWxQYWxldHRlOiBWaXN1YWxQYWxldHRlRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5WaXN1YWxQYWxldHRlKSB9KSxcbiAgICAuLi4ob2JqLkRhdGFMYWJlbHMgJiYgeyBEYXRhTGFiZWxzOiBEYXRhTGFiZWxPcHRpb25zRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5EYXRhTGFiZWxzKSB9KSxcbiAgICAuLi4ob2JqLlJlZmVyZW5jZUxpbmVzICYmIHtcbiAgICAgICAgUmVmZXJlbmNlTGluZXM6IG9iai5SZWZlcmVuY2VMaW5lcy5tYXAoKGl0ZW0pID0+IFJlZmVyZW5jZUxpbmVGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQmFyQ2hhcnRWaXN1YWxGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IEJveFBsb3RBZ2dyZWdhdGVkRmllbGRXZWxsc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouVmFsdWVzICYmIHsgVmFsdWVzOiBvYmouVmFsdWVzLm1hcCgoaXRlbSkgPT4gTWVhc3VyZUZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEJveFBsb3RGaWVsZFdlbGxzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBCb3hQbG90Q2hhcnRDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5SZWZlcmVuY2VMaW5lcyAmJiB7XG4gICAgICAgIFJlZmVyZW5jZUxpbmVzOiBvYmouUmVmZXJlbmNlTGluZXMubWFwKChpdGVtKSA9PiBSZWZlcmVuY2VMaW5lRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLlZpc3VhbFBhbGV0dGUgJiYgeyBWaXN1YWxQYWxldHRlOiBWaXN1YWxQYWxldHRlRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5WaXN1YWxQYWxldHRlKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEJveFBsb3RWaXN1YWxGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IENvbWJvQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQmFyVmFsdWVzICYmIHsgQmFyVmFsdWVzOiBvYmouQmFyVmFsdWVzLm1hcCgoaXRlbSkgPT4gTWVhc3VyZUZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSB9KSxcbiAgICAuLi4ob2JqLkxpbmVWYWx1ZXMgJiYgeyBMaW5lVmFsdWVzOiBvYmouTGluZVZhbHVlcy5tYXAoKGl0ZW0pID0+IE1lYXN1cmVGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDb21ib0NoYXJ0RmllbGRXZWxsc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG4iLCJpbXBvcnQgeyBTRU5TSVRJVkVfU1RSSU5HIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcbmltcG9ydCB7IENhbGN1bGF0ZWRGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZywgQ29sdW1uQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZywgUGFyYW1ldGVyRGVjbGFyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2csIH0gZnJvbSBcIi4vbW9kZWxzXzBcIjtcbmltcG9ydCB7IEFzc2V0QnVuZGxlSW1wb3J0Sm9iRGF0YVNvdXJjZUNyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nLCB9IGZyb20gXCIuL21vZGVsc18xXCI7XG5pbXBvcnQgeyBRdWlja1NpZ2h0U2VydmljZUV4Y2VwdGlvbiBhcyBfX0Jhc2VFeGNlcHRpb24gfSBmcm9tIFwiLi9RdWlja1NpZ2h0U2VydmljZUV4Y2VwdGlvblwiO1xuZXhwb3J0IHZhciBEYXRhU291cmNlUGFyYW1ldGVycztcbihmdW5jdGlvbiAoRGF0YVNvdXJjZVBhcmFtZXRlcnMpIHtcbiAgICBEYXRhU291cmNlUGFyYW1ldGVycy52aXNpdCA9ICh2YWx1ZSwgdmlzaXRvcikgPT4ge1xuICAgICAgICBpZiAodmFsdWUuQW1hem9uRWxhc3RpY3NlYXJjaFBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkFtYXpvbkVsYXN0aWNzZWFyY2hQYXJhbWV0ZXJzKHZhbHVlLkFtYXpvbkVsYXN0aWNzZWFyY2hQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLkF0aGVuYVBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkF0aGVuYVBhcmFtZXRlcnModmFsdWUuQXRoZW5hUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5BdXJvcmFQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5BdXJvcmFQYXJhbWV0ZXJzKHZhbHVlLkF1cm9yYVBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuQXVyb3JhUG9zdGdyZVNxbFBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkF1cm9yYVBvc3RncmVTcWxQYXJhbWV0ZXJzKHZhbHVlLkF1cm9yYVBvc3RncmVTcWxQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLkF3c0lvdEFuYWx5dGljc1BhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLkF3c0lvdEFuYWx5dGljc1BhcmFtZXRlcnModmFsdWUuQXdzSW90QW5hbHl0aWNzUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5KaXJhUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuSmlyYVBhcmFtZXRlcnModmFsdWUuSmlyYVBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuTWFyaWFEYlBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLk1hcmlhRGJQYXJhbWV0ZXJzKHZhbHVlLk1hcmlhRGJQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLk15U3FsUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuTXlTcWxQYXJhbWV0ZXJzKHZhbHVlLk15U3FsUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5PcmFjbGVQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5PcmFjbGVQYXJhbWV0ZXJzKHZhbHVlLk9yYWNsZVBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuUG9zdGdyZVNxbFBhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlBvc3RncmVTcWxQYXJhbWV0ZXJzKHZhbHVlLlBvc3RncmVTcWxQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLlByZXN0b1BhcmFtZXRlcnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlByZXN0b1BhcmFtZXRlcnModmFsdWUuUHJlc3RvUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5SZHNQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5SZHNQYXJhbWV0ZXJzKHZhbHVlLlJkc1BhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuUmVkc2hpZnRQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5SZWRzaGlmdFBhcmFtZXRlcnModmFsdWUuUmVkc2hpZnRQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLlMzUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuUzNQYXJhbWV0ZXJzKHZhbHVlLlMzUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5TZXJ2aWNlTm93UGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuU2VydmljZU5vd1BhcmFtZXRlcnModmFsdWUuU2VydmljZU5vd1BhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuU25vd2ZsYWtlUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuU25vd2ZsYWtlUGFyYW1ldGVycyh2YWx1ZS5Tbm93Zmxha2VQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLlNwYXJrUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuU3BhcmtQYXJhbWV0ZXJzKHZhbHVlLlNwYXJrUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5TcWxTZXJ2ZXJQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5TcWxTZXJ2ZXJQYXJhbWV0ZXJzKHZhbHVlLlNxbFNlcnZlclBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuVGVyYWRhdGFQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5UZXJhZGF0YVBhcmFtZXRlcnModmFsdWUuVGVyYWRhdGFQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLlR3aXR0ZXJQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5Ud2l0dGVyUGFyYW1ldGVycyh2YWx1ZS5Ud2l0dGVyUGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh2YWx1ZS5BbWF6b25PcGVuU2VhcmNoUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuQW1hem9uT3BlblNlYXJjaFBhcmFtZXRlcnModmFsdWUuQW1hem9uT3BlblNlYXJjaFBhcmFtZXRlcnMpO1xuICAgICAgICBpZiAodmFsdWUuRXhhc29sUGFyYW1ldGVycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuRXhhc29sUGFyYW1ldGVycyh2YWx1ZS5FeGFzb2xQYXJhbWV0ZXJzKTtcbiAgICAgICAgaWYgKHZhbHVlLkRhdGFicmlja3NQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5EYXRhYnJpY2tzUGFyYW1ldGVycyh2YWx1ZS5EYXRhYnJpY2tzUGFyYW1ldGVycyk7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl8odmFsdWUuJHVua25vd25bMF0sIHZhbHVlLiR1bmtub3duWzFdKTtcbiAgICB9O1xufSkoRGF0YVNvdXJjZVBhcmFtZXRlcnMgfHwgKERhdGFTb3VyY2VQYXJhbWV0ZXJzID0ge30pKTtcbmV4cG9ydCBjb25zdCBBc3NldEJ1bmRsZUltcG9ydEpvYlN0YXR1cyA9IHtcbiAgICBGQUlMRUQ6IFwiRkFJTEVEXCIsXG4gICAgRkFJTEVEX1JPTExCQUNLX0NPTVBMRVRFRDogXCJGQUlMRURfUk9MTEJBQ0tfQ09NUExFVEVEXCIsXG4gICAgRkFJTEVEX1JPTExCQUNLX0VSUk9SOiBcIkZBSUxFRF9ST0xMQkFDS19FUlJPUlwiLFxuICAgIEZBSUxFRF9ST0xMQkFDS19JTl9QUk9HUkVTUzogXCJGQUlMRURfUk9MTEJBQ0tfSU5fUFJPR1JFU1NcIixcbiAgICBJTl9QUk9HUkVTUzogXCJJTl9QUk9HUkVTU1wiLFxuICAgIFFVRVVFRF9GT1JfSU1NRURJQVRFX0VYRUNVVElPTjogXCJRVUVVRURfRk9SX0lNTUVESUFURV9FWEVDVVRJT05cIixcbiAgICBTVUNDRVNTRlVMOiBcIlNVQ0NFU1NGVUxcIixcbn07XG5leHBvcnQgY29uc3QgQXNzaWdubWVudFN0YXR1cyA9IHtcbiAgICBESVNBQkxFRDogXCJESVNBQkxFRFwiLFxuICAgIERSQUZUOiBcIkRSQUZUXCIsXG4gICAgRU5BQkxFRDogXCJFTkFCTEVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IEF1dGhlbnRpY2F0aW9uTWV0aG9kT3B0aW9uID0ge1xuICAgIEFDVElWRV9ESVJFQ1RPUlk6IFwiQUNUSVZFX0RJUkVDVE9SWVwiLFxuICAgIElBTV9BTkRfUVVJQ0tTSUdIVDogXCJJQU1fQU5EX1FVSUNLU0lHSFRcIixcbiAgICBJQU1fT05MWTogXCJJQU1fT05MWVwiLFxufTtcbmV4cG9ydCBjb25zdCBBdXRob3JTcGVjaWZpZWRBZ2dyZWdhdGlvbiA9IHtcbiAgICBBVkVSQUdFOiBcIkFWRVJBR0VcIixcbiAgICBDT1VOVDogXCJDT1VOVFwiLFxuICAgIERJU1RJTkNUX0NPVU5UOiBcIkRJU1RJTkNUX0NPVU5UXCIsXG4gICAgTUFYOiBcIk1BWFwiLFxuICAgIE1FRElBTjogXCJNRURJQU5cIixcbiAgICBNSU46IFwiTUlOXCIsXG4gICAgUEVSQ0VOVElMRTogXCJQRVJDRU5USUxFXCIsXG4gICAgU1RERVY6IFwiU1RERVZcIixcbiAgICBTVERFVlA6IFwiU1RERVZQXCIsXG4gICAgU1VNOiBcIlNVTVwiLFxuICAgIFZBUjogXCJWQVJcIixcbiAgICBWQVJQOiBcIlZBUlBcIixcbn07XG5leHBvcnQgY2xhc3MgSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwic2VydmVyXCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcInNlcnZlclwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgRXhjZXB0aW9uUmVzb3VyY2VUeXBlID0ge1xuICAgIEFDQ09VTlRfU0VUVElOR1M6IFwiQUNDT1VOVF9TRVRUSU5HU1wiLFxuICAgIERBVEFfU0VUOiBcIkRBVEFfU0VUXCIsXG4gICAgREFUQV9TT1VSQ0U6IFwiREFUQV9TT1VSQ0VcIixcbiAgICBHUk9VUDogXCJHUk9VUFwiLFxuICAgIElBTVBPTElDWV9BU1NJR05NRU5UOiBcIklBTVBPTElDWV9BU1NJR05NRU5UXCIsXG4gICAgSU5HRVNUSU9OOiBcIklOR0VTVElPTlwiLFxuICAgIE5BTUVTUEFDRTogXCJOQU1FU1BBQ0VcIixcbiAgICBVU0VSOiBcIlVTRVJcIixcbiAgICBWUENfQ09OTkVDVElPTjogXCJWUENfQ09OTkVDVElPTlwiLFxufTtcbmV4cG9ydCBjbGFzcyBSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVzb3VyY2VUeXBlID0gb3B0cy5SZXNvdXJjZVR5cGU7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFJlc291cmNlTm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlc291cmNlVHlwZSA9IG9wdHMuUmVzb3VyY2VUeXBlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUaHJvdHRsaW5nRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBUaHJvdHRsaW5nRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgQ29sdW1uRGF0YVR5cGUgPSB7XG4gICAgREFURVRJTUU6IFwiREFURVRJTUVcIixcbiAgICBERUNJTUFMOiBcIkRFQ0lNQUxcIixcbiAgICBJTlRFR0VSOiBcIklOVEVHRVJcIixcbiAgICBTVFJJTkc6IFwiU1RSSU5HXCIsXG59O1xuZXhwb3J0IGNvbnN0IENhdGVnb3J5RmlsdGVyRnVuY3Rpb24gPSB7XG4gICAgQ09OVEFJTlM6IFwiQ09OVEFJTlNcIixcbiAgICBFWEFDVDogXCJFWEFDVFwiLFxufTtcbmV4cG9ydCBjb25zdCBDYXRlZ29yeUZpbHRlclR5cGUgPSB7XG4gICAgQ1VTVE9NX0ZJTFRFUjogXCJDVVNUT01fRklMVEVSXCIsXG4gICAgQ1VTVE9NX0ZJTFRFUl9MSVNUOiBcIkNVU1RPTV9GSUxURVJfTElTVFwiLFxuICAgIEZJTFRFUl9MSVNUOiBcIkZJTFRFUl9MSVNUXCIsXG59O1xuZXhwb3J0IGNvbnN0IENvbHVtbkRhdGFSb2xlID0ge1xuICAgIERJTUVOU0lPTjogXCJESU1FTlNJT05cIixcbiAgICBNRUFTVVJFOiBcIk1FQVNVUkVcIixcbn07XG5leHBvcnQgY29uc3QgR2VvU3BhdGlhbENvdW50cnlDb2RlID0ge1xuICAgIFVTOiBcIlVTXCIsXG59O1xuZXhwb3J0IGNvbnN0IENvbHVtbk9yZGVyaW5nVHlwZSA9IHtcbiAgICBHUkVBVEVSX0lTX0JFVFRFUjogXCJHUkVBVEVSX0lTX0JFVFRFUlwiLFxuICAgIExFU1NFUl9JU19CRVRURVI6IFwiTEVTU0VSX0lTX0JFVFRFUlwiLFxuICAgIFNQRUNJRklFRDogXCJTUEVDSUZJRURcIixcbn07XG5leHBvcnQgY29uc3QgR2VvU3BhdGlhbERhdGFSb2xlID0ge1xuICAgIENJVFk6IFwiQ0lUWVwiLFxuICAgIENPVU5UUlk6IFwiQ09VTlRSWVwiLFxuICAgIENPVU5UWTogXCJDT1VOVFlcIixcbiAgICBMQVRJVFVERTogXCJMQVRJVFVERVwiLFxuICAgIExPTkdJVFVERTogXCJMT05HSVRVREVcIixcbiAgICBQT1NUQ09ERTogXCJQT1NUQ09ERVwiLFxuICAgIFNUQVRFOiBcIlNUQVRFXCIsXG59O1xuZXhwb3J0IGNvbnN0IENvbHVtblRhZ05hbWUgPSB7XG4gICAgQ09MVU1OX0RFU0NSSVBUSU9OOiBcIkNPTFVNTl9ERVNDUklQVElPTlwiLFxuICAgIENPTFVNTl9HRU9HUkFQSElDX1JPTEU6IFwiQ09MVU1OX0dFT0dSQVBISUNfUk9MRVwiLFxufTtcbmV4cG9ydCBjb25zdCBVbmRlZmluZWRTcGVjaWZpZWRWYWx1ZVR5cGUgPSB7XG4gICAgTEVBU1Q6IFwiTEVBU1RcIixcbiAgICBNT1NUOiBcIk1PU1RcIixcbn07XG5leHBvcnQgY2xhc3MgQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwic2VydmVyXCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcInNlcnZlclwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ29uZmxpY3RFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJDb25mbGljdEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ29uZmxpY3RFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ29uZmxpY3RFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBDb25zdGFudFR5cGUgPSB7XG4gICAgQ09MTEVDVElWRTogXCJDT0xMRUNUSVZFXCIsXG4gICAgUkFOR0U6IFwiUkFOR0VcIixcbiAgICBTSU5HVUxBUjogXCJTSU5HVUxBUlwiLFxufTtcbmV4cG9ydCBjbGFzcyBSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcInNlcnZlclwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwic2VydmVyXCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXNvdXJjZVR5cGUgPSBvcHRzLlJlc291cmNlVHlwZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVzb3VyY2VUeXBlID0gb3B0cy5SZXNvdXJjZVR5cGU7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBEYXNoYm9hcmRVSVN0YXRlID0ge1xuICAgIENPTExBUFNFRDogXCJDT0xMQVBTRURcIixcbiAgICBFWFBBTkRFRDogXCJFWFBBTkRFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhc2V0UGFyYW1ldGVyVmFsdWVUeXBlID0ge1xuICAgIE1VTFRJX1ZBTFVFRDogXCJNVUxUSV9WQUxVRURcIixcbiAgICBTSU5HTEVfVkFMVUVEOiBcIlNJTkdMRV9WQUxVRURcIixcbn07XG5leHBvcnQgY29uc3QgRGF0YVNldEltcG9ydE1vZGUgPSB7XG4gICAgRElSRUNUX1FVRVJZOiBcIkRJUkVDVF9RVUVSWVwiLFxuICAgIFNQSUNFOiBcIlNQSUNFXCIsXG59O1xuZXhwb3J0IHZhciBUcmFuc2Zvcm1PcGVyYXRpb247XG4oZnVuY3Rpb24gKFRyYW5zZm9ybU9wZXJhdGlvbikge1xuICAgIFRyYW5zZm9ybU9wZXJhdGlvbi52aXNpdCA9ICh2YWx1ZSwgdmlzaXRvcikgPT4ge1xuICAgICAgICBpZiAodmFsdWUuUHJvamVjdE9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuUHJvamVjdE9wZXJhdGlvbih2YWx1ZS5Qcm9qZWN0T3BlcmF0aW9uKTtcbiAgICAgICAgaWYgKHZhbHVlLkZpbHRlck9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuRmlsdGVyT3BlcmF0aW9uKHZhbHVlLkZpbHRlck9wZXJhdGlvbik7XG4gICAgICAgIGlmICh2YWx1ZS5DcmVhdGVDb2x1bW5zT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5DcmVhdGVDb2x1bW5zT3BlcmF0aW9uKHZhbHVlLkNyZWF0ZUNvbHVtbnNPcGVyYXRpb24pO1xuICAgICAgICBpZiAodmFsdWUuUmVuYW1lQ29sdW1uT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5SZW5hbWVDb2x1bW5PcGVyYXRpb24odmFsdWUuUmVuYW1lQ29sdW1uT3BlcmF0aW9uKTtcbiAgICAgICAgaWYgKHZhbHVlLkNhc3RDb2x1bW5UeXBlT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5DYXN0Q29sdW1uVHlwZU9wZXJhdGlvbih2YWx1ZS5DYXN0Q29sdW1uVHlwZU9wZXJhdGlvbik7XG4gICAgICAgIGlmICh2YWx1ZS5UYWdDb2x1bW5PcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlRhZ0NvbHVtbk9wZXJhdGlvbih2YWx1ZS5UYWdDb2x1bW5PcGVyYXRpb24pO1xuICAgICAgICBpZiAodmFsdWUuVW50YWdDb2x1bW5PcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlVudGFnQ29sdW1uT3BlcmF0aW9uKHZhbHVlLlVudGFnQ29sdW1uT3BlcmF0aW9uKTtcbiAgICAgICAgaWYgKHZhbHVlLk92ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IuT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uKHZhbHVlLk92ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbik7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl8odmFsdWUuJHVua25vd25bMF0sIHZhbHVlLiR1bmtub3duWzFdKTtcbiAgICB9O1xufSkoVHJhbnNmb3JtT3BlcmF0aW9uIHx8IChUcmFuc2Zvcm1PcGVyYXRpb24gPSB7fSkpO1xuZXhwb3J0IGNvbnN0IEpvaW5UeXBlID0ge1xuICAgIElOTkVSOiBcIklOTkVSXCIsXG4gICAgTEVGVDogXCJMRUZUXCIsXG4gICAgT1VURVI6IFwiT1VURVJcIixcbiAgICBSSUdIVDogXCJSSUdIVFwiLFxufTtcbmV4cG9ydCBjb25zdCBJbnB1dENvbHVtbkRhdGFUeXBlID0ge1xuICAgIEJJVDogXCJCSVRcIixcbiAgICBCT09MRUFOOiBcIkJPT0xFQU5cIixcbiAgICBEQVRFVElNRTogXCJEQVRFVElNRVwiLFxuICAgIERFQ0lNQUw6IFwiREVDSU1BTFwiLFxuICAgIElOVEVHRVI6IFwiSU5URUdFUlwiLFxuICAgIEpTT046IFwiSlNPTlwiLFxuICAgIFNUUklORzogXCJTVFJJTkdcIixcbn07XG5leHBvcnQgY29uc3QgRmlsZUZvcm1hdCA9IHtcbiAgICBDTEY6IFwiQ0xGXCIsXG4gICAgQ1NWOiBcIkNTVlwiLFxuICAgIEVMRjogXCJFTEZcIixcbiAgICBKU09OOiBcIkpTT05cIixcbiAgICBUU1Y6IFwiVFNWXCIsXG4gICAgWExTWDogXCJYTFNYXCIsXG59O1xuZXhwb3J0IGNvbnN0IFRleHRRdWFsaWZpZXIgPSB7XG4gICAgRE9VQkxFX1FVT1RFOiBcIkRPVUJMRV9RVU9URVwiLFxuICAgIFNJTkdMRV9RVU9URTogXCJTSU5HTEVfUVVPVEVcIixcbn07XG5leHBvcnQgdmFyIFBoeXNpY2FsVGFibGU7XG4oZnVuY3Rpb24gKFBoeXNpY2FsVGFibGUpIHtcbiAgICBQaHlzaWNhbFRhYmxlLnZpc2l0ID0gKHZhbHVlLCB2aXNpdG9yKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZS5SZWxhdGlvbmFsVGFibGUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLlJlbGF0aW9uYWxUYWJsZSh2YWx1ZS5SZWxhdGlvbmFsVGFibGUpO1xuICAgICAgICBpZiAodmFsdWUuQ3VzdG9tU3FsICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5DdXN0b21TcWwodmFsdWUuQ3VzdG9tU3FsKTtcbiAgICAgICAgaWYgKHZhbHVlLlMzU291cmNlICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci5TM1NvdXJjZSh2YWx1ZS5TM1NvdXJjZSk7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLl8odmFsdWUuJHVua25vd25bMF0sIHZhbHVlLiR1bmtub3duWzFdKTtcbiAgICB9O1xufSkoUGh5c2ljYWxUYWJsZSB8fCAoUGh5c2ljYWxUYWJsZSA9IHt9KSk7XG5leHBvcnQgY29uc3QgUm93TGV2ZWxQZXJtaXNzaW9uRm9ybWF0VmVyc2lvbiA9IHtcbiAgICBWRVJTSU9OXzE6IFwiVkVSU0lPTl8xXCIsXG4gICAgVkVSU0lPTl8yOiBcIlZFUlNJT05fMlwiLFxufTtcbmV4cG9ydCBjb25zdCBSb3dMZXZlbFBlcm1pc3Npb25Qb2xpY3kgPSB7XG4gICAgREVOWV9BQ0NFU1M6IFwiREVOWV9BQ0NFU1NcIixcbiAgICBHUkFOVF9BQ0NFU1M6IFwiR1JBTlRfQUNDRVNTXCIsXG59O1xuZXhwb3J0IGNvbnN0IFN0YXR1cyA9IHtcbiAgICBESVNBQkxFRDogXCJESVNBQkxFRFwiLFxuICAgIEVOQUJMRUQ6IFwiRU5BQkxFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXRhU291cmNlVHlwZSA9IHtcbiAgICBBRE9CRV9BTkFMWVRJQ1M6IFwiQURPQkVfQU5BTFlUSUNTXCIsXG4gICAgQU1BWk9OX0VMQVNUSUNTRUFSQ0g6IFwiQU1BWk9OX0VMQVNUSUNTRUFSQ0hcIixcbiAgICBBTUFaT05fT1BFTlNFQVJDSDogXCJBTUFaT05fT1BFTlNFQVJDSFwiLFxuICAgIEFUSEVOQTogXCJBVEhFTkFcIixcbiAgICBBVVJPUkE6IFwiQVVST1JBXCIsXG4gICAgQVVST1JBX1BPU1RHUkVTUUw6IFwiQVVST1JBX1BPU1RHUkVTUUxcIixcbiAgICBBV1NfSU9UX0FOQUxZVElDUzogXCJBV1NfSU9UX0FOQUxZVElDU1wiLFxuICAgIERBVEFCUklDS1M6IFwiREFUQUJSSUNLU1wiLFxuICAgIEVYQVNPTDogXCJFWEFTT0xcIixcbiAgICBHSVRIVUI6IFwiR0lUSFVCXCIsXG4gICAgSklSQTogXCJKSVJBXCIsXG4gICAgTUFSSUFEQjogXCJNQVJJQURCXCIsXG4gICAgTVlTUUw6IFwiTVlTUUxcIixcbiAgICBPUkFDTEU6IFwiT1JBQ0xFXCIsXG4gICAgUE9TVEdSRVNRTDogXCJQT1NUR1JFU1FMXCIsXG4gICAgUFJFU1RPOiBcIlBSRVNUT1wiLFxuICAgIFJFRFNISUZUOiBcIlJFRFNISUZUXCIsXG4gICAgUzM6IFwiUzNcIixcbiAgICBTQUxFU0ZPUkNFOiBcIlNBTEVTRk9SQ0VcIixcbiAgICBTRVJWSUNFTk9XOiBcIlNFUlZJQ0VOT1dcIixcbiAgICBTTk9XRkxBS0U6IFwiU05PV0ZMQUtFXCIsXG4gICAgU1BBUks6IFwiU1BBUktcIixcbiAgICBTUUxTRVJWRVI6IFwiU1FMU0VSVkVSXCIsXG4gICAgVEVSQURBVEE6IFwiVEVSQURBVEFcIixcbiAgICBUSU1FU1RSRUFNOiBcIlRJTUVTVFJFQU1cIixcbiAgICBUV0lUVEVSOiBcIlRXSVRURVJcIixcbn07XG5leHBvcnQgY29uc3QgRm9sZGVyVHlwZSA9IHtcbiAgICBTSEFSRUQ6IFwiU0hBUkVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IE1lbWJlclR5cGUgPSB7XG4gICAgQU5BTFlTSVM6IFwiQU5BTFlTSVNcIixcbiAgICBEQVNIQk9BUkQ6IFwiREFTSEJPQVJEXCIsXG4gICAgREFUQVNFVDogXCJEQVRBU0VUXCIsXG59O1xuZXhwb3J0IGNvbnN0IEluZ2VzdGlvblR5cGUgPSB7XG4gICAgRlVMTF9SRUZSRVNIOiBcIkZVTExfUkVGUkVTSFwiLFxuICAgIElOQ1JFTUVOVEFMX1JFRlJFU0g6IFwiSU5DUkVNRU5UQUxfUkVGUkVTSFwiLFxufTtcbmV4cG9ydCBjb25zdCBJbmdlc3Rpb25TdGF0dXMgPSB7XG4gICAgQ0FOQ0VMTEVEOiBcIkNBTkNFTExFRFwiLFxuICAgIENPTVBMRVRFRDogXCJDT01QTEVURURcIixcbiAgICBGQUlMRUQ6IFwiRkFJTEVEXCIsXG4gICAgSU5JVElBTElaRUQ6IFwiSU5JVElBTElaRURcIixcbiAgICBRVUVVRUQ6IFwiUVVFVUVEXCIsXG4gICAgUlVOTklORzogXCJSVU5OSU5HXCIsXG59O1xuZXhwb3J0IGNvbnN0IElkZW50aXR5U3RvcmUgPSB7XG4gICAgUVVJQ0tTSUdIVDogXCJRVUlDS1NJR0hUXCIsXG59O1xuZXhwb3J0IGNvbnN0IE5hbWVzcGFjZVN0YXR1cyA9IHtcbiAgICBDUkVBVEVEOiBcIkNSRUFURURcIixcbiAgICBDUkVBVElORzogXCJDUkVBVElOR1wiLFxuICAgIERFTEVUSU5HOiBcIkRFTEVUSU5HXCIsXG4gICAgTk9OX1JFVFJZQUJMRV9GQUlMVVJFOiBcIk5PTl9SRVRSWUFCTEVfRkFJTFVSRVwiLFxuICAgIFJFVFJZQUJMRV9GQUlMVVJFOiBcIlJFVFJZQUJMRV9GQUlMVVJFXCIsXG59O1xuZXhwb3J0IGNvbnN0IFJlZnJlc2hJbnRlcnZhbCA9IHtcbiAgICBEQUlMWTogXCJEQUlMWVwiLFxuICAgIEhPVVJMWTogXCJIT1VSTFlcIixcbiAgICBNSU5VVEUxNTogXCJNSU5VVEUxNVwiLFxuICAgIE1JTlVURTMwOiBcIk1JTlVURTMwXCIsXG4gICAgTU9OVEhMWTogXCJNT05USExZXCIsXG4gICAgV0VFS0xZOiBcIldFRUtMWVwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXlPZldlZWsgPSB7XG4gICAgRlJJREFZOiBcIkZSSURBWVwiLFxuICAgIE1PTkRBWTogXCJNT05EQVlcIixcbiAgICBTQVRVUkRBWTogXCJTQVRVUkRBWVwiLFxuICAgIFNVTkRBWTogXCJTVU5EQVlcIixcbiAgICBUSFVSU0RBWTogXCJUSFVSU0RBWVwiLFxuICAgIFRVRVNEQVk6IFwiVFVFU0RBWVwiLFxuICAgIFdFRE5FU0RBWTogXCJXRURORVNEQVlcIixcbn07XG5leHBvcnQgY29uc3QgRGVmYXVsdEFnZ3JlZ2F0aW9uID0ge1xuICAgIEFWRVJBR0U6IFwiQVZFUkFHRVwiLFxuICAgIENPVU5UOiBcIkNPVU5UXCIsXG4gICAgRElTVElOQ1RfQ09VTlQ6IFwiRElTVElOQ1RfQ09VTlRcIixcbiAgICBNQVg6IFwiTUFYXCIsXG4gICAgTUlOOiBcIk1JTlwiLFxuICAgIFNVTTogXCJTVU1cIixcbn07XG5leHBvcnQgY29uc3QgRGlzcGxheUZvcm1hdCA9IHtcbiAgICBBVVRPOiBcIkFVVE9cIixcbiAgICBDVVJSRU5DWTogXCJDVVJSRU5DWVwiLFxuICAgIERBVEU6IFwiREFURVwiLFxuICAgIE5VTUJFUjogXCJOVU1CRVJcIixcbiAgICBQRVJDRU5UOiBcIlBFUkNFTlRcIixcbiAgICBTVFJJTkc6IFwiU1RSSU5HXCIsXG59O1xuZXhwb3J0IGNvbnN0IFRvcGljTnVtZXJpY1NlcGFyYXRvclN5bWJvbCA9IHtcbiAgICBDT01NQTogXCJDT01NQVwiLFxuICAgIERPVDogXCJET1RcIixcbn07XG5leHBvcnQgY29uc3QgVG9waWNUaW1lR3JhbnVsYXJpdHkgPSB7XG4gICAgREFZOiBcIkRBWVwiLFxuICAgIEhPVVI6IFwiSE9VUlwiLFxuICAgIE1JTlVURTogXCJNSU5VVEVcIixcbiAgICBNT05USDogXCJNT05USFwiLFxuICAgIFFVQVJURVI6IFwiUVVBUlRFUlwiLFxuICAgIFNFQ09ORDogXCJTRUNPTkRcIixcbiAgICBXRUVLOiBcIldFRUtcIixcbiAgICBZRUFSOiBcIllFQVJcIixcbn07XG5leHBvcnQgY29uc3QgRmlsdGVyQ2xhc3MgPSB7XG4gICAgQ09ORElUSU9OQUxfVkFMVUVfRklMVEVSOiBcIkNPTkRJVElPTkFMX1ZBTFVFX0ZJTFRFUlwiLFxuICAgIEVORk9SQ0VEX1ZBTFVFX0ZJTFRFUjogXCJFTkZPUkNFRF9WQUxVRV9GSUxURVJcIixcbiAgICBOQU1FRF9WQUxVRV9GSUxURVI6IFwiTkFNRURfVkFMVUVfRklMVEVSXCIsXG59O1xuZXhwb3J0IGNvbnN0IE5hbWVkRmlsdGVyVHlwZSA9IHtcbiAgICBDQVRFR09SWV9GSUxURVI6IFwiQ0FURUdPUllfRklMVEVSXCIsXG4gICAgREFURV9SQU5HRV9GSUxURVI6IFwiREFURV9SQU5HRV9GSUxURVJcIixcbiAgICBOVU1FUklDX0VRVUFMSVRZX0ZJTFRFUjogXCJOVU1FUklDX0VRVUFMSVRZX0ZJTFRFUlwiLFxuICAgIE5VTUVSSUNfUkFOR0VfRklMVEVSOiBcIk5VTUVSSUNfUkFOR0VfRklMVEVSXCIsXG4gICAgUkVMQVRJVkVfREFURV9GSUxURVI6IFwiUkVMQVRJVkVfREFURV9GSUxURVJcIixcbn07XG5leHBvcnQgY29uc3QgTmFtZWRGaWx0ZXJBZ2dUeXBlID0ge1xuICAgIEFWRVJBR0U6IFwiQVZFUkFHRVwiLFxuICAgIENPVU5UOiBcIkNPVU5UXCIsXG4gICAgRElTVElOQ1RfQ09VTlQ6IFwiRElTVElOQ1RfQ09VTlRcIixcbiAgICBNQVg6IFwiTUFYXCIsXG4gICAgTUVESUFOOiBcIk1FRElBTlwiLFxuICAgIE1JTjogXCJNSU5cIixcbiAgICBOT19BR0dSRUdBVElPTjogXCJOT19BR0dSRUdBVElPTlwiLFxuICAgIFNUREVWOiBcIlNUREVWXCIsXG4gICAgU1RERVZQOiBcIlNUREVWUFwiLFxuICAgIFNVTTogXCJTVU1cIixcbiAgICBWQVI6IFwiVkFSXCIsXG4gICAgVkFSUDogXCJWQVJQXCIsXG59O1xuZXhwb3J0IGNvbnN0IFRvcGljUmVsYXRpdmVEYXRlRmlsdGVyRnVuY3Rpb24gPSB7XG4gICAgTEFTVDogXCJMQVNUXCIsXG4gICAgTkVYVDogXCJORVhUXCIsXG4gICAgTk9XOiBcIk5PV1wiLFxuICAgIFBSRVZJT1VTOiBcIlBSRVZJT1VTXCIsXG4gICAgVEhJUzogXCJUSElTXCIsXG59O1xuZXhwb3J0IGNvbnN0IE5hbWVkRW50aXR5QWdnVHlwZSA9IHtcbiAgICBBVkVSQUdFOiBcIkFWRVJBR0VcIixcbiAgICBDT1VOVDogXCJDT1VOVFwiLFxuICAgIENVU1RPTTogXCJDVVNUT01cIixcbiAgICBESVNUSU5DVF9DT1VOVDogXCJESVNUSU5DVF9DT1VOVFwiLFxuICAgIE1BWDogXCJNQVhcIixcbiAgICBNRURJQU46IFwiTUVESUFOXCIsXG4gICAgTUlOOiBcIk1JTlwiLFxuICAgIFBFUkNFTlRJTEU6IFwiUEVSQ0VOVElMRVwiLFxuICAgIFNUREVWOiBcIlNUREVWXCIsXG4gICAgU1RERVZQOiBcIlNUREVWUFwiLFxuICAgIFNVTTogXCJTVU1cIixcbiAgICBWQVI6IFwiVkFSXCIsXG4gICAgVkFSUDogXCJWQVJQXCIsXG59O1xuZXhwb3J0IGNvbnN0IFByb3BlcnR5Um9sZSA9IHtcbiAgICBJRDogXCJJRFwiLFxuICAgIFBSSU1BUlk6IFwiUFJJTUFSWVwiLFxufTtcbmV4cG9ydCBjb25zdCBQcm9wZXJ0eVVzYWdlID0ge1xuICAgIERJTUVOU0lPTjogXCJESU1FTlNJT05cIixcbiAgICBJTkhFUklUOiBcIklOSEVSSVRcIixcbiAgICBNRUFTVVJFOiBcIk1FQVNVUkVcIixcbn07XG5leHBvcnQgY29uc3QgVG9waWNTY2hlZHVsZVR5cGUgPSB7XG4gICAgREFJTFk6IFwiREFJTFlcIixcbiAgICBIT1VSTFk6IFwiSE9VUkxZXCIsXG4gICAgTU9OVEhMWTogXCJNT05USExZXCIsXG4gICAgV0VFS0xZOiBcIldFRUtMWVwiLFxufTtcbmV4cG9ydCBjb25zdCBWUENDb25uZWN0aW9uQXZhaWxhYmlsaXR5U3RhdHVzID0ge1xuICAgIEFWQUlMQUJMRTogXCJBVkFJTEFCTEVcIixcbiAgICBQQVJUSUFMTFlfQVZBSUxBQkxFOiBcIlBBUlRJQUxMWV9BVkFJTEFCTEVcIixcbiAgICBVTkFWQUlMQUJMRTogXCJVTkFWQUlMQUJMRVwiLFxufTtcbmV4cG9ydCBjb25zdCBWUENDb25uZWN0aW9uUmVzb3VyY2VTdGF0dXMgPSB7XG4gICAgQ1JFQVRJT05fRkFJTEVEOiBcIkNSRUFUSU9OX0ZBSUxFRFwiLFxuICAgIENSRUFUSU9OX0lOX1BST0dSRVNTOiBcIkNSRUFUSU9OX0lOX1BST0dSRVNTXCIsXG4gICAgQ1JFQVRJT05fU1VDQ0VTU0ZVTDogXCJDUkVBVElPTl9TVUNDRVNTRlVMXCIsXG4gICAgREVMRVRFRDogXCJERUxFVEVEXCIsXG4gICAgREVMRVRJT05fRkFJTEVEOiBcIkRFTEVUSU9OX0ZBSUxFRFwiLFxuICAgIERFTEVUSU9OX0lOX1BST0dSRVNTOiBcIkRFTEVUSU9OX0lOX1BST0dSRVNTXCIsXG4gICAgVVBEQVRFX0ZBSUxFRDogXCJVUERBVEVfRkFJTEVEXCIsXG4gICAgVVBEQVRFX0lOX1BST0dSRVNTOiBcIlVQREFURV9JTl9QUk9HUkVTU1wiLFxuICAgIFVQREFURV9TVUNDRVNTRlVMOiBcIlVQREFURV9TVUNDRVNTRlVMXCIsXG59O1xuZXhwb3J0IGNvbnN0IERhc2hib2FyZEVycm9yVHlwZSA9IHtcbiAgICBBQ0NFU1NfREVOSUVEOiBcIkFDQ0VTU19ERU5JRURcIixcbiAgICBDT0xVTU5fR0VPR1JBUEhJQ19ST0xFX01JU01BVENIOiBcIkNPTFVNTl9HRU9HUkFQSElDX1JPTEVfTUlTTUFUQ0hcIixcbiAgICBDT0xVTU5fUkVQTEFDRU1FTlRfTUlTU0lORzogXCJDT0xVTU5fUkVQTEFDRU1FTlRfTUlTU0lOR1wiLFxuICAgIENPTFVNTl9UWVBFX01JU01BVENIOiBcIkNPTFVNTl9UWVBFX01JU01BVENIXCIsXG4gICAgREFUQV9TRVRfTk9UX0ZPVU5EOiBcIkRBVEFfU0VUX05PVF9GT1VORFwiLFxuICAgIElOVEVSTkFMX0ZBSUxVUkU6IFwiSU5URVJOQUxfRkFJTFVSRVwiLFxuICAgIFBBUkFNRVRFUl9OT1RfRk9VTkQ6IFwiUEFSQU1FVEVSX05PVF9GT1VORFwiLFxuICAgIFBBUkFNRVRFUl9UWVBFX0lOVkFMSUQ6IFwiUEFSQU1FVEVSX1RZUEVfSU5WQUxJRFwiLFxuICAgIFBBUkFNRVRFUl9WQUxVRV9JTkNPTVBBVElCTEU6IFwiUEFSQU1FVEVSX1ZBTFVFX0lOQ09NUEFUSUJMRVwiLFxuICAgIFNPVVJDRV9OT1RfRk9VTkQ6IFwiU09VUkNFX05PVF9GT1VORFwiLFxufTtcbmV4cG9ydCBjb25zdCBEYXNoYm9hcmRGaWx0ZXJBdHRyaWJ1dGUgPSB7XG4gICAgREFTSEJPQVJEX05BTUU6IFwiREFTSEJPQVJEX05BTUVcIixcbiAgICBESVJFQ1RfUVVJQ0tTSUdIVF9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9PV05FUlwiLFxuICAgIERJUkVDVF9RVUlDS1NJR0hUX1NPTEVfT1dORVI6IFwiRElSRUNUX1FVSUNLU0lHSFRfU09MRV9PV05FUlwiLFxuICAgIERJUkVDVF9RVUlDS1NJR0hUX1ZJRVdFUl9PUl9PV05FUjogXCJESVJFQ1RfUVVJQ0tTSUdIVF9WSUVXRVJfT1JfT1dORVJcIixcbiAgICBRVUlDS1NJR0hUX09XTkVSOiBcIlFVSUNLU0lHSFRfT1dORVJcIixcbiAgICBRVUlDS1NJR0hUX1VTRVI6IFwiUVVJQ0tTSUdIVF9VU0VSXCIsXG4gICAgUVVJQ0tTSUdIVF9WSUVXRVJfT1JfT1dORVI6IFwiUVVJQ0tTSUdIVF9WSUVXRVJfT1JfT1dORVJcIixcbn07XG5leHBvcnQgY29uc3QgRGF0YVNldEZpbHRlckF0dHJpYnV0ZSA9IHtcbiAgICBEQVRBU0VUX05BTUU6IFwiREFUQVNFVF9OQU1FXCIsXG4gICAgRElSRUNUX1FVSUNLU0lHSFRfT1dORVI6IFwiRElSRUNUX1FVSUNLU0lHSFRfT1dORVJcIixcbiAgICBESVJFQ1RfUVVJQ0tTSUdIVF9TT0xFX09XTkVSOiBcIkRJUkVDVF9RVUlDS1NJR0hUX1NPTEVfT1dORVJcIixcbiAgICBESVJFQ1RfUVVJQ0tTSUdIVF9WSUVXRVJfT1JfT1dORVI6IFwiRElSRUNUX1FVSUNLU0lHSFRfVklFV0VSX09SX09XTkVSXCIsXG4gICAgUVVJQ0tTSUdIVF9PV05FUjogXCJRVUlDS1NJR0hUX09XTkVSXCIsXG4gICAgUVVJQ0tTSUdIVF9WSUVXRVJfT1JfT1dORVI6IFwiUVVJQ0tTSUdIVF9WSUVXRVJfT1JfT1dORVJcIixcbn07XG5leHBvcnQgY29uc3QgTG9va2JhY2tXaW5kb3dTaXplVW5pdCA9IHtcbiAgICBEQVk6IFwiREFZXCIsXG4gICAgSE9VUjogXCJIT1VSXCIsXG4gICAgV0VFSzogXCJXRUVLXCIsXG59O1xuZXhwb3J0IGNvbnN0IERhdGFTb3VyY2VFcnJvckluZm9UeXBlID0ge1xuICAgIEFDQ0VTU19ERU5JRUQ6IFwiQUNDRVNTX0RFTklFRFwiLFxuICAgIENPTkZMSUNUOiBcIkNPTkZMSUNUXCIsXG4gICAgQ09QWV9TT1VSQ0VfTk9UX0ZPVU5EOiBcIkNPUFlfU09VUkNFX05PVF9GT1VORFwiLFxuICAgIEVOR0lORV9WRVJTSU9OX05PVF9TVVBQT1JURUQ6IFwiRU5HSU5FX1ZFUlNJT05fTk9UX1NVUFBPUlRFRFwiLFxuICAgIEdFTkVSSUNfU1FMX0ZBSUxVUkU6IFwiR0VORVJJQ19TUUxfRkFJTFVSRVwiLFxuICAgIFRJTUVPVVQ6IFwiVElNRU9VVFwiLFxuICAgIFVOS05PV046IFwiVU5LTk9XTlwiLFxuICAgIFVOS05PV05fSE9TVDogXCJVTktOT1dOX0hPU1RcIixcbn07XG5leHBvcnQgY29uc3QgRGF0YVNvdXJjZUZpbHRlckF0dHJpYnV0ZSA9IHtcbiAgICBEQVRBU09VUkNFX05BTUU6IFwiREFUQVNPVVJDRV9OQU1FXCIsXG4gICAgRElSRUNUX1FVSUNLU0lHSFRfT1dORVI6IFwiRElSRUNUX1FVSUNLU0lHSFRfT1dORVJcIixcbiAgICBESVJFQ1RfUVVJQ0tTSUdIVF9TT0xFX09XTkVSOiBcIkRJUkVDVF9RVUlDS1NJR0hUX1NPTEVfT1dORVJcIixcbiAgICBESVJFQ1RfUVVJQ0tTSUdIVF9WSUVXRVJfT1JfT1dORVI6IFwiRElSRUNUX1FVSUNLU0lHSFRfVklFV0VSX09SX09XTkVSXCIsXG59O1xuZXhwb3J0IGNvbnN0IEFzc2V0QnVuZGxlSW1wb3J0Sm9iRGF0YVNvdXJjZU92ZXJyaWRlUGFyYW1ldGVyc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGF0YVNvdXJjZVBhcmFtZXRlcnMgJiYgeyBEYXRhU291cmNlUGFyYW1ldGVyczogb2JqLkRhdGFTb3VyY2VQYXJhbWV0ZXJzIH0pLFxuICAgIC4uLihvYmouQ3JlZGVudGlhbHMgJiYgeyBDcmVkZW50aWFsczogQXNzZXRCdW5kbGVJbXBvcnRKb2JEYXRhU291cmNlQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNyZWRlbnRpYWxzKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFzc2V0QnVuZGxlSW1wb3J0Sm9iT3ZlcnJpZGVQYXJhbWV0ZXJzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhU291cmNlcyAmJiB7XG4gICAgICAgIERhdGFTb3VyY2VzOiBvYmouRGF0YVNvdXJjZXMubWFwKChpdGVtKSA9PiBBc3NldEJ1bmRsZUltcG9ydEpvYkRhdGFTb3VyY2VPdmVycmlkZVBhcmFtZXRlcnNGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQXNzZXRCdW5kbGVJbXBvcnRTb3VyY2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkJvZHkgJiYgeyBCb2R5OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgQ2FsY3VsYXRlZENvbHVtbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRXhwcmVzc2lvbiAmJiB7IEV4cHJlc3Npb246IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRlVGltZVBhcmFtZXRlckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouVmFsdWVzICYmIHsgVmFsdWVzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGVjaW1hbFBhcmFtZXRlckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouVmFsdWVzICYmIHsgVmFsdWVzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgSW50ZWdlclBhcmFtZXRlckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouVmFsdWVzICYmIHsgVmFsdWVzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgU3RyaW5nUGFyYW1ldGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5WYWx1ZXMgJiYgeyBWYWx1ZXM6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBfUGFyYW1ldGVyc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouU3RyaW5nUGFyYW1ldGVycyAmJiB7XG4gICAgICAgIFN0cmluZ1BhcmFtZXRlcnM6IG9iai5TdHJpbmdQYXJhbWV0ZXJzLm1hcCgoaXRlbSkgPT4gU3RyaW5nUGFyYW1ldGVyRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkludGVnZXJQYXJhbWV0ZXJzICYmIHtcbiAgICAgICAgSW50ZWdlclBhcmFtZXRlcnM6IG9iai5JbnRlZ2VyUGFyYW1ldGVycy5tYXAoKGl0ZW0pID0+IEludGVnZXJQYXJhbWV0ZXJGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxuICAgIC4uLihvYmouRGVjaW1hbFBhcmFtZXRlcnMgJiYge1xuICAgICAgICBEZWNpbWFsUGFyYW1ldGVyczogb2JqLkRlY2ltYWxQYXJhbWV0ZXJzLm1hcCgoaXRlbSkgPT4gRGVjaW1hbFBhcmFtZXRlckZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG4gICAgLi4uKG9iai5EYXRlVGltZVBhcmFtZXRlcnMgJiYge1xuICAgICAgICBEYXRlVGltZVBhcmFtZXRlcnM6IG9iai5EYXRlVGltZVBhcmFtZXRlcnMubWFwKChpdGVtKSA9PiBEYXRlVGltZVBhcmFtZXRlckZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDcmVhdGVBbmFseXNpc1JlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlBhcmFtZXRlcnMgJiYgeyBQYXJhbWV0ZXJzOiBfUGFyYW1ldGVyc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUGFyYW1ldGVycykgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDcmVhdGVDb2x1bW5zT3BlcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Db2x1bW5zICYmIHsgQ29sdW1uczogb2JqLkNvbHVtbnMubWFwKChpdGVtKSA9PiBDYWxjdWxhdGVkQ29sdW1uRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IERhc2hib2FyZFZlcnNpb25EZWZpbml0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DYWxjdWxhdGVkRmllbGRzICYmIHtcbiAgICAgICAgQ2FsY3VsYXRlZEZpZWxkczogb2JqLkNhbGN1bGF0ZWRGaWVsZHMubWFwKChpdGVtKSA9PiBDYWxjdWxhdGVkRmllbGRGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxuICAgIC4uLihvYmouUGFyYW1ldGVyRGVjbGFyYXRpb25zICYmIHtcbiAgICAgICAgUGFyYW1ldGVyRGVjbGFyYXRpb25zOiBvYmouUGFyYW1ldGVyRGVjbGFyYXRpb25zLm1hcCgoaXRlbSkgPT4gUGFyYW1ldGVyRGVjbGFyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpLFxuICAgIH0pLFxuICAgIC4uLihvYmouQ29sdW1uQ29uZmlndXJhdGlvbnMgJiYge1xuICAgICAgICBDb2x1bW5Db25maWd1cmF0aW9uczogb2JqLkNvbHVtbkNvbmZpZ3VyYXRpb25zLm1hcCgoaXRlbSkgPT4gQ29sdW1uQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDcmVhdGVEYXNoYm9hcmRSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QYXJhbWV0ZXJzICYmIHsgUGFyYW1ldGVyczogX1BhcmFtZXRlcnNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlBhcmFtZXRlcnMpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRmlsdGVyT3BlcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Db25kaXRpb25FeHByZXNzaW9uICYmIHsgQ29uZGl0aW9uRXhwcmVzc2lvbjogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRyYW5zZm9ybU9wZXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+IHtcbiAgICBpZiAob2JqLlByb2plY3RPcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHsgUHJvamVjdE9wZXJhdGlvbjogb2JqLlByb2plY3RPcGVyYXRpb24gfTtcbiAgICBpZiAob2JqLkZpbHRlck9wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4geyBGaWx0ZXJPcGVyYXRpb246IEZpbHRlck9wZXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRmlsdGVyT3BlcmF0aW9uKSB9O1xuICAgIGlmIChvYmouQ3JlYXRlQ29sdW1uc09wZXJhdGlvbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4geyBDcmVhdGVDb2x1bW5zT3BlcmF0aW9uOiBDcmVhdGVDb2x1bW5zT3BlcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5DcmVhdGVDb2x1bW5zT3BlcmF0aW9uKSB9O1xuICAgIGlmIChvYmouUmVuYW1lQ29sdW1uT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB7IFJlbmFtZUNvbHVtbk9wZXJhdGlvbjogb2JqLlJlbmFtZUNvbHVtbk9wZXJhdGlvbiB9O1xuICAgIGlmIChvYmouQ2FzdENvbHVtblR5cGVPcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHsgQ2FzdENvbHVtblR5cGVPcGVyYXRpb246IG9iai5DYXN0Q29sdW1uVHlwZU9wZXJhdGlvbiB9O1xuICAgIGlmIChvYmouVGFnQ29sdW1uT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB7IFRhZ0NvbHVtbk9wZXJhdGlvbjogb2JqLlRhZ0NvbHVtbk9wZXJhdGlvbiB9O1xuICAgIGlmIChvYmouVW50YWdDb2x1bW5PcGVyYXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHsgVW50YWdDb2x1bW5PcGVyYXRpb246IG9iai5VbnRhZ0NvbHVtbk9wZXJhdGlvbiB9O1xuICAgIGlmIChvYmouT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB7IE92ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbjogb2JqLk92ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbiB9O1xuICAgIGlmIChvYmouJHVua25vd24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHsgW29iai4kdW5rbm93blswXV06IFwiVU5LTk9XTlwiIH07XG59O1xuZXhwb3J0IGNvbnN0IExvZ2ljYWxUYWJsZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGF0YVRyYW5zZm9ybXMgJiYge1xuICAgICAgICBEYXRhVHJhbnNmb3Jtczogb2JqLkRhdGFUcmFuc2Zvcm1zLm1hcCgoaXRlbSkgPT4gVHJhbnNmb3JtT3BlcmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFJvd0xldmVsUGVybWlzc2lvblRhZ1J1bGVGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLk1hdGNoQWxsVmFsdWUgJiYgeyBNYXRjaEFsbFZhbHVlOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouVGFnUnVsZXMgJiYgeyBUYWdSdWxlczogb2JqLlRhZ1J1bGVzLm1hcCgoaXRlbSkgPT4gUm93TGV2ZWxQZXJtaXNzaW9uVGFnUnVsZUZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDcmVhdGVEYXRhU2V0UmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouUGh5c2ljYWxUYWJsZU1hcCAmJiB7XG4gICAgICAgIFBoeXNpY2FsVGFibGVNYXA6IE9iamVjdC5lbnRyaWVzKG9iai5QaHlzaWNhbFRhYmxlTWFwKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiAoKGFjY1trZXldID0gdmFsdWUpLCBhY2MpLCB7fSksXG4gICAgfSksXG4gICAgLi4uKG9iai5Mb2dpY2FsVGFibGVNYXAgJiYge1xuICAgICAgICBMb2dpY2FsVGFibGVNYXA6IE9iamVjdC5lbnRyaWVzKG9iai5Mb2dpY2FsVGFibGVNYXApLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICgoYWNjW2tleV0gPSBMb2dpY2FsVGFibGVGaWx0ZXJTZW5zaXRpdmVMb2codmFsdWUpKSwgYWNjKSwge30pLFxuICAgIH0pLFxuICAgIC4uLihvYmouUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbiAmJiB7XG4gICAgICAgIFJvd0xldmVsUGVybWlzc2lvblRhZ0NvbmZpZ3VyYXRpb246IFJvd0xldmVsUGVybWlzc2lvblRhZ0NvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlJvd0xldmVsUGVybWlzc2lvblRhZ0NvbmZpZ3VyYXRpb24pLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgRGF0YVNvdXJjZUNyZWRlbnRpYWxzRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5DcmVkZW50aWFsUGFpciAmJiB7IENyZWRlbnRpYWxQYWlyOiBvYmouQ3JlZGVudGlhbFBhaXIgfSksXG59KTtcbmV4cG9ydCBjb25zdCBDcmVhdGVEYXRhU291cmNlUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRGF0YVNvdXJjZVBhcmFtZXRlcnMgJiYgeyBEYXRhU291cmNlUGFyYW1ldGVyczogb2JqLkRhdGFTb3VyY2VQYXJhbWV0ZXJzIH0pLFxuICAgIC4uLihvYmouQ3JlZGVudGlhbHMgJiYgeyBDcmVkZW50aWFsczogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRlbXBsYXRlVmVyc2lvbkRlZmluaXRpb25GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNhbGN1bGF0ZWRGaWVsZHMgJiYge1xuICAgICAgICBDYWxjdWxhdGVkRmllbGRzOiBvYmouQ2FsY3VsYXRlZEZpZWxkcy5tYXAoKGl0ZW0pID0+IENhbGN1bGF0ZWRGaWVsZEZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG4gICAgLi4uKG9iai5QYXJhbWV0ZXJEZWNsYXJhdGlvbnMgJiYge1xuICAgICAgICBQYXJhbWV0ZXJEZWNsYXJhdGlvbnM6IG9iai5QYXJhbWV0ZXJEZWNsYXJhdGlvbnMubWFwKChpdGVtKSA9PiBQYXJhbWV0ZXJEZWNsYXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhpdGVtKSksXG4gICAgfSksXG4gICAgLi4uKG9iai5Db2x1bW5Db25maWd1cmF0aW9ucyAmJiB7XG4gICAgICAgIENvbHVtbkNvbmZpZ3VyYXRpb25zOiBvYmouQ29sdW1uQ29uZmlndXJhdGlvbnMubWFwKChpdGVtKSA9PiBDb2x1bW5Db25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IENyZWF0ZVRlbXBsYXRlUmVxdWVzdEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgU2VtYW50aWNUeXBlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5UcnV0aHlDZWxsVmFsdWUgJiYgeyBUcnV0aHlDZWxsVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG4gICAgLi4uKG9iai5UcnV0aHlDZWxsVmFsdWVTeW5vbnltcyAmJiB7IFRydXRoeUNlbGxWYWx1ZVN5bm9ueW1zOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouRmFsc2V5Q2VsbFZhbHVlICYmIHsgRmFsc2V5Q2VsbFZhbHVlOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxuICAgIC4uLihvYmouRmFsc2V5Q2VsbFZhbHVlU3lub255bXMgJiYgeyBGYWxzZXlDZWxsVmFsdWVTeW5vbnltczogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRvcGljQ2FsY3VsYXRlZEZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5FeHByZXNzaW9uICYmIHsgRXhwcmVzc2lvbjogU0VOU0lUSVZFX1NUUklORyB9KSxcbiAgICAuLi4ob2JqLlNlbWFudGljVHlwZSAmJiB7IFNlbWFudGljVHlwZTogU2VtYW50aWNUeXBlRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5TZW1hbnRpY1R5cGUpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVG9waWNDb2x1bW5GaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlNlbWFudGljVHlwZSAmJiB7IFNlbWFudGljVHlwZTogU2VtYW50aWNUeXBlRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5TZW1hbnRpY1R5cGUpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVG9waWNDYXRlZ29yeUZpbHRlckNvbnN0YW50RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBUb3BpY0NhdGVnb3J5RmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Db25zdGFudCAmJiB7IENvbnN0YW50OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVG9waWNSYW5nZUZpbHRlckNvbnN0YW50RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBUb3BpY0RhdGVSYW5nZUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ29uc3RhbnQgJiYgeyBDb25zdGFudDogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRvcGljU2luZ3VsYXJGaWx0ZXJDb25zdGFudEZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgVG9waWNOdW1lcmljRXF1YWxpdHlGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNvbnN0YW50ICYmIHsgQ29uc3RhbnQ6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBUb3BpY051bWVyaWNSYW5nZUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouQ29uc3RhbnQgJiYgeyBDb25zdGFudDogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRvcGljUmVsYXRpdmVEYXRlRmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5Db25zdGFudCAmJiB7IENvbnN0YW50OiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVG9waWNGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkNhdGVnb3J5RmlsdGVyICYmIHsgQ2F0ZWdvcnlGaWx0ZXI6IFRvcGljQ2F0ZWdvcnlGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLkNhdGVnb3J5RmlsdGVyKSB9KSxcbiAgICAuLi4ob2JqLk51bWVyaWNFcXVhbGl0eUZpbHRlciAmJiB7XG4gICAgICAgIE51bWVyaWNFcXVhbGl0eUZpbHRlcjogVG9waWNOdW1lcmljRXF1YWxpdHlGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLk51bWVyaWNFcXVhbGl0eUZpbHRlciksXG4gICAgfSksXG4gICAgLi4uKG9iai5OdW1lcmljUmFuZ2VGaWx0ZXIgJiYge1xuICAgICAgICBOdW1lcmljUmFuZ2VGaWx0ZXI6IFRvcGljTnVtZXJpY1JhbmdlRmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5OdW1lcmljUmFuZ2VGaWx0ZXIpLFxuICAgIH0pLFxuICAgIC4uLihvYmouRGF0ZVJhbmdlRmlsdGVyICYmIHsgRGF0ZVJhbmdlRmlsdGVyOiBUb3BpY0RhdGVSYW5nZUZpbHRlckZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0ZVJhbmdlRmlsdGVyKSB9KSxcbiAgICAuLi4ob2JqLlJlbGF0aXZlRGF0ZUZpbHRlciAmJiB7XG4gICAgICAgIFJlbGF0aXZlRGF0ZUZpbHRlcjogVG9waWNSZWxhdGl2ZURhdGVGaWx0ZXJGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlJlbGF0aXZlRGF0ZUZpbHRlciksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEYXRhc2V0TWV0YWRhdGFGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkZpbHRlcnMgJiYgeyBGaWx0ZXJzOiBvYmouRmlsdGVycy5tYXAoKGl0ZW0pID0+IFRvcGljRmlsdGVyRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSB9KSxcbiAgICAuLi4ob2JqLkNvbHVtbnMgJiYgeyBDb2x1bW5zOiBvYmouQ29sdW1ucy5tYXAoKGl0ZW0pID0+IFRvcGljQ29sdW1uRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSB9KSxcbiAgICAuLi4ob2JqLkNhbGN1bGF0ZWRGaWVsZHMgJiYge1xuICAgICAgICBDYWxjdWxhdGVkRmllbGRzOiBvYmouQ2FsY3VsYXRlZEZpZWxkcy5tYXAoKGl0ZW0pID0+IFRvcGljQ2FsY3VsYXRlZEZpZWxkRmlsdGVyU2Vuc2l0aXZlTG9nKGl0ZW0pKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFRvcGljRGV0YWlsc0ZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgQ3JlYXRlVG9waWNSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBEYXRhU2V0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QaHlzaWNhbFRhYmxlTWFwICYmIHtcbiAgICAgICAgUGh5c2ljYWxUYWJsZU1hcDogT2JqZWN0LmVudHJpZXMob2JqLlBoeXNpY2FsVGFibGVNYXApLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+ICgoYWNjW2tleV0gPSB2YWx1ZSksIGFjYyksIHt9KSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLkxvZ2ljYWxUYWJsZU1hcCAmJiB7XG4gICAgICAgIExvZ2ljYWxUYWJsZU1hcDogT2JqZWN0LmVudHJpZXMob2JqLkxvZ2ljYWxUYWJsZU1hcCkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKChhY2Nba2V5XSA9IExvZ2ljYWxUYWJsZUZpbHRlclNlbnNpdGl2ZUxvZyh2YWx1ZSkpLCBhY2MpLCB7fSksXG4gICAgfSksXG4gICAgLi4uKG9iai5Sb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uICYmIHtcbiAgICAgICAgUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbjogUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbkZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUm93TGV2ZWxQZXJtaXNzaW9uVGFnQ29uZmlndXJhdGlvbiksXG4gICAgfSksXG59KTtcbiIsImltcG9ydCB7IFNFTlNJVElWRV9TVFJJTkcgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgX1BhcmFtZXRlcnNGaWx0ZXJTZW5zaXRpdmVMb2csIEFzc2V0QnVuZGxlSW1wb3J0U291cmNlRmlsdGVyU2Vuc2l0aXZlTG9nLCBEYXRhU2V0RmlsdGVyU2Vuc2l0aXZlTG9nLCBMb2dpY2FsVGFibGVGaWx0ZXJTZW5zaXRpdmVMb2csIFJvd0xldmVsUGVybWlzc2lvblRhZ0NvbmZpZ3VyYXRpb25GaWx0ZXJTZW5zaXRpdmVMb2csIH0gZnJvbSBcIi4vbW9kZWxzXzJcIjtcbmltcG9ydCB7IFF1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuL1F1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uXCI7XG5leHBvcnQgY2xhc3MgSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEluZ2VzdGlvbkVycm9yVHlwZSA9IHtcbiAgICBBQ0NPVU5UX0NBUEFDSVRZX0xJTUlUX0VYQ0VFREVEOiBcIkFDQ09VTlRfQ0FQQUNJVFlfTElNSVRfRVhDRUVERURcIixcbiAgICBDT05ORUNUSU9OX0ZBSUxVUkU6IFwiQ09OTkVDVElPTl9GQUlMVVJFXCIsXG4gICAgQ1VSU09SX05PVF9FTkFCTEVEOiBcIkNVUlNPUl9OT1RfRU5BQkxFRFwiLFxuICAgIENVU1RPTUVSX0VSUk9SOiBcIkNVU1RPTUVSX0VSUk9SXCIsXG4gICAgREFUQV9TRVRfREVMRVRFRDogXCJEQVRBX1NFVF9ERUxFVEVEXCIsXG4gICAgREFUQV9TRVRfTk9UX1NQSUNFOiBcIkRBVEFfU0VUX05PVF9TUElDRVwiLFxuICAgIERBVEFfU0VUX1NJWkVfTElNSVRfRVhDRUVERUQ6IFwiREFUQV9TRVRfU0laRV9MSU1JVF9FWENFRURFRFwiLFxuICAgIERBVEFfU09VUkNFX0FVVEhfRkFJTEVEOiBcIkRBVEFfU09VUkNFX0FVVEhfRkFJTEVEXCIsXG4gICAgREFUQV9TT1VSQ0VfQ09OTkVDVElPTl9GQUlMRUQ6IFwiREFUQV9TT1VSQ0VfQ09OTkVDVElPTl9GQUlMRURcIixcbiAgICBEQVRBX1NPVVJDRV9OT1RfRk9VTkQ6IFwiREFUQV9TT1VSQ0VfTk9UX0ZPVU5EXCIsXG4gICAgREFUQV9UT0xFUkFOQ0VfRVhDRVBUSU9OOiBcIkRBVEFfVE9MRVJBTkNFX0VYQ0VQVElPTlwiLFxuICAgIERVUExJQ0FURV9DT0xVTU5fTkFNRVNfRk9VTkQ6IFwiRFVQTElDQVRFX0NPTFVNTl9OQU1FU19GT1VORFwiLFxuICAgIEVMQVNUSUNTRUFSQ0hfQ1VSU09SX05PVF9FTkFCTEVEOiBcIkVMQVNUSUNTRUFSQ0hfQ1VSU09SX05PVF9FTkFCTEVEXCIsXG4gICAgRkFJTFVSRV9UT19BU1NVTUVfUk9MRTogXCJGQUlMVVJFX1RPX0FTU1VNRV9ST0xFXCIsXG4gICAgRkFJTFVSRV9UT19QUk9DRVNTX0pTT05fRklMRTogXCJGQUlMVVJFX1RPX1BST0NFU1NfSlNPTl9GSUxFXCIsXG4gICAgSUFNX1JPTEVfTk9UX0FWQUlMQUJMRTogXCJJQU1fUk9MRV9OT1RfQVZBSUxBQkxFXCIsXG4gICAgSU5HRVNUSU9OX0NBTkNFTEVEOiBcIklOR0VTVElPTl9DQU5DRUxFRFwiLFxuICAgIElOR0VTVElPTl9TVVBFUlNFREVEOiBcIklOR0VTVElPTl9TVVBFUlNFREVEXCIsXG4gICAgSU5URVJOQUxfU0VSVklDRV9FUlJPUjogXCJJTlRFUk5BTF9TRVJWSUNFX0VSUk9SXCIsXG4gICAgSU5WQUxJRF9EQVRBUFJFUF9TWU5UQVg6IFwiSU5WQUxJRF9EQVRBUFJFUF9TWU5UQVhcIixcbiAgICBJTlZBTElEX0RBVEFfU09VUkNFX0NPTkZJRzogXCJJTlZBTElEX0RBVEFfU09VUkNFX0NPTkZJR1wiLFxuICAgIElOVkFMSURfREFURV9GT1JNQVQ6IFwiSU5WQUxJRF9EQVRFX0ZPUk1BVFwiLFxuICAgIElPVF9EQVRBX1NFVF9GSUxFX0VNUFRZOiBcIklPVF9EQVRBX1NFVF9GSUxFX0VNUFRZXCIsXG4gICAgSU9UX0ZJTEVfTk9UX0ZPVU5EOiBcIklPVF9GSUxFX05PVF9GT1VORFwiLFxuICAgIE9BVVRIX1RPS0VOX0ZBSUxVUkU6IFwiT0FVVEhfVE9LRU5fRkFJTFVSRVwiLFxuICAgIFBBU1NXT1JEX0FVVEhFTlRJQ0FUSU9OX0ZBSUxVUkU6IFwiUEFTU1dPUkRfQVVUSEVOVElDQVRJT05fRkFJTFVSRVwiLFxuICAgIFBFUk1JU1NJT05fREVOSUVEOiBcIlBFUk1JU1NJT05fREVOSUVEXCIsXG4gICAgUEVSTUlTU0lPTl9OT1RfRk9VTkQ6IFwiUEVSTUlTU0lPTl9OT1RfRk9VTkRcIixcbiAgICBRVUVSWV9USU1FT1VUOiBcIlFVRVJZX1RJTUVPVVRcIixcbiAgICBSRUZSRVNIX1NVUFBSRVNTRURfQllfRURJVDogXCJSRUZSRVNIX1NVUFBSRVNTRURfQllfRURJVFwiLFxuICAgIFJPV19TSVpFX0xJTUlUX0VYQ0VFREVEOiBcIlJPV19TSVpFX0xJTUlUX0VYQ0VFREVEXCIsXG4gICAgUzNfRklMRV9JTkFDQ0VTU0lCTEU6IFwiUzNfRklMRV9JTkFDQ0VTU0lCTEVcIixcbiAgICBTM19NQU5JRkVTVF9FUlJPUjogXCJTM19NQU5JRkVTVF9FUlJPUlwiLFxuICAgIFMzX1VQTE9BREVEX0ZJTEVfREVMRVRFRDogXCJTM19VUExPQURFRF9GSUxFX0RFTEVURURcIixcbiAgICBTT1VSQ0VfQVBJX0xJTUlUX0VYQ0VFREVEX0ZBSUxVUkU6IFwiU09VUkNFX0FQSV9MSU1JVF9FWENFRURFRF9GQUlMVVJFXCIsXG4gICAgU09VUkNFX1JFU09VUkNFX0xJTUlUX0VYQ0VFREVEOiBcIlNPVVJDRV9SRVNPVVJDRV9MSU1JVF9FWENFRURFRFwiLFxuICAgIFNQSUNFX1RBQkxFX05PVF9GT1VORDogXCJTUElDRV9UQUJMRV9OT1RfRk9VTkRcIixcbiAgICBTUUxfRVhDRVBUSU9OOiBcIlNRTF9FWENFUFRJT05cIixcbiAgICBTUUxfSU5WQUxJRF9QQVJBTUVURVJfVkFMVUU6IFwiU1FMX0lOVkFMSURfUEFSQU1FVEVSX1ZBTFVFXCIsXG4gICAgU1FMX05VTUVSSUNfT1ZFUkZMT1c6IFwiU1FMX05VTUVSSUNfT1ZFUkZMT1dcIixcbiAgICBTUUxfU0NIRU1BX01JU01BVENIX0VSUk9SOiBcIlNRTF9TQ0hFTUFfTUlTTUFUQ0hfRVJST1JcIixcbiAgICBTUUxfVEFCTEVfTk9UX0ZPVU5EOiBcIlNRTF9UQUJMRV9OT1RfRk9VTkRcIixcbiAgICBTU0xfQ0VSVElGSUNBVEVfVkFMSURBVElPTl9GQUlMVVJFOiBcIlNTTF9DRVJUSUZJQ0FURV9WQUxJREFUSU9OX0ZBSUxVUkVcIixcbiAgICBVTlJFU09MVkFCTEVfSE9TVDogXCJVTlJFU09MVkFCTEVfSE9TVFwiLFxuICAgIFVOUk9VVEFCTEVfSE9TVDogXCJVTlJPVVRBQkxFX0hPU1RcIixcbn07XG5leHBvcnQgY29uc3QgSW5nZXN0aW9uUmVxdWVzdFNvdXJjZSA9IHtcbiAgICBNQU5VQUw6IFwiTUFOVUFMXCIsXG4gICAgU0NIRURVTEVEOiBcIlNDSEVEVUxFRFwiLFxufTtcbmV4cG9ydCBjb25zdCBJbmdlc3Rpb25SZXF1ZXN0VHlwZSA9IHtcbiAgICBFRElUOiBcIkVESVRcIixcbiAgICBGVUxMX1JFRlJFU0g6IFwiRlVMTF9SRUZSRVNIXCIsXG4gICAgSU5DUkVNRU5UQUxfUkVGUkVTSDogXCJJTkNSRU1FTlRBTF9SRUZSRVNIXCIsXG4gICAgSU5JVElBTF9JTkdFU1RJT046IFwiSU5JVElBTF9JTkdFU1RJT05cIixcbn07XG5leHBvcnQgY29uc3QgTmFtZXNwYWNlRXJyb3JUeXBlID0ge1xuICAgIElOVEVSTkFMX1NFUlZJQ0VfRVJST1I6IFwiSU5URVJOQUxfU0VSVklDRV9FUlJPUlwiLFxuICAgIFBFUk1JU1NJT05fREVOSUVEOiBcIlBFUk1JU1NJT05fREVOSUVEXCIsXG59O1xuZXhwb3J0IGNvbnN0IFRlbXBsYXRlRXJyb3JUeXBlID0ge1xuICAgIEFDQ0VTU19ERU5JRUQ6IFwiQUNDRVNTX0RFTklFRFwiLFxuICAgIERBVEFfU0VUX05PVF9GT1VORDogXCJEQVRBX1NFVF9OT1RfRk9VTkRcIixcbiAgICBJTlRFUk5BTF9GQUlMVVJFOiBcIklOVEVSTkFMX0ZBSUxVUkVcIixcbiAgICBTT1VSQ0VfTk9UX0ZPVU5EOiBcIlNPVVJDRV9OT1RfRk9VTkRcIixcbn07XG5leHBvcnQgY29uc3QgVGhlbWVUeXBlID0ge1xuICAgIEFMTDogXCJBTExcIixcbiAgICBDVVNUT006IFwiQ1VTVE9NXCIsXG4gICAgUVVJQ0tTSUdIVDogXCJRVUlDS1NJR0hUXCIsXG59O1xuZXhwb3J0IGNvbnN0IFRoZW1lRXJyb3JUeXBlID0ge1xuICAgIElOVEVSTkFMX0ZBSUxVUkU6IFwiSU5URVJOQUxfRkFJTFVSRVwiLFxufTtcbmV4cG9ydCBjb25zdCBUb3BpY1JlZnJlc2hTdGF0dXMgPSB7XG4gICAgQ0FOQ0VMTEVEOiBcIkNBTkNFTExFRFwiLFxuICAgIENPTVBMRVRFRDogXCJDT01QTEVURURcIixcbiAgICBGQUlMRUQ6IFwiRkFJTEVEXCIsXG4gICAgSU5JVElBTElaRUQ6IFwiSU5JVElBTElaRURcIixcbiAgICBSVU5OSU5HOiBcIlJVTk5JTkdcIixcbn07XG5leHBvcnQgY29uc3QgSWRlbnRpdHlUeXBlID0ge1xuICAgIElBTTogXCJJQU1cIixcbiAgICBRVUlDS1NJR0hUOiBcIlFVSUNLU0lHSFRcIixcbn07XG5leHBvcnQgY29uc3QgVXNlclJvbGUgPSB7XG4gICAgQURNSU46IFwiQURNSU5cIixcbiAgICBBVVRIT1I6IFwiQVVUSE9SXCIsXG4gICAgUkVBREVSOiBcIlJFQURFUlwiLFxuICAgIFJFU1RSSUNURURfQVVUSE9SOiBcIlJFU1RSSUNURURfQVVUSE9SXCIsXG4gICAgUkVTVFJJQ1RFRF9SRUFERVI6IFwiUkVTVFJJQ1RFRF9SRUFERVJcIixcbn07XG5leHBvcnQgY29uc3QgTmV0d29ya0ludGVyZmFjZVN0YXR1cyA9IHtcbiAgICBBVFRBQ0hNRU5UX0ZBSUxFRF9ST0xMQkFDS19GQUlMRUQ6IFwiQVRUQUNITUVOVF9GQUlMRURfUk9MTEJBQ0tfRkFJTEVEXCIsXG4gICAgQVZBSUxBQkxFOiBcIkFWQUlMQUJMRVwiLFxuICAgIENSRUFUSU5HOiBcIkNSRUFUSU5HXCIsXG4gICAgQ1JFQVRJT05fRkFJTEVEOiBcIkNSRUFUSU9OX0ZBSUxFRFwiLFxuICAgIERFTEVURUQ6IFwiREVMRVRFRFwiLFxuICAgIERFTEVUSU5HOiBcIkRFTEVUSU5HXCIsXG4gICAgREVMRVRJT05fRkFJTEVEOiBcIkRFTEVUSU9OX0ZBSUxFRFwiLFxuICAgIERFTEVUSU9OX1NDSEVEVUxFRDogXCJERUxFVElPTl9TQ0hFRFVMRURcIixcbiAgICBVUERBVEVfRkFJTEVEOiBcIlVQREFURV9GQUlMRURcIixcbiAgICBVUERBVElORzogXCJVUERBVElOR1wiLFxufTtcbmV4cG9ydCBjbGFzcyBEb21haW5Ob3RXaGl0ZWxpc3RlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkRvbWFpbk5vdFdoaXRlbGlzdGVkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJEb21haW5Ob3RXaGl0ZWxpc3RlZEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBEb21haW5Ob3RXaGl0ZWxpc3RlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEVtYmVkZGluZ0lkZW50aXR5VHlwZSA9IHtcbiAgICBBTk9OWU1PVVM6IFwiQU5PTllNT1VTXCIsXG4gICAgSUFNOiBcIklBTVwiLFxuICAgIFFVSUNLU0lHSFQ6IFwiUVVJQ0tTSUdIVFwiLFxufTtcbmV4cG9ydCBjb25zdCBGb2xkZXJGaWx0ZXJBdHRyaWJ1dGUgPSB7XG4gICAgRElSRUNUX1FVSUNLU0lHSFRfT1dORVI6IFwiRElSRUNUX1FVSUNLU0lHSFRfT1dORVJcIixcbiAgICBESVJFQ1RfUVVJQ0tTSUdIVF9TT0xFX09XTkVSOiBcIkRJUkVDVF9RVUlDS1NJR0hUX1NPTEVfT1dORVJcIixcbiAgICBESVJFQ1RfUVVJQ0tTSUdIVF9WSUVXRVJfT1JfT1dORVI6IFwiRElSRUNUX1FVSUNLU0lHSFRfVklFV0VSX09SX09XTkVSXCIsXG4gICAgRk9MREVSX05BTUU6IFwiRk9MREVSX05BTUVcIixcbiAgICBQQVJFTlRfRk9MREVSX0FSTjogXCJQQVJFTlRfRk9MREVSX0FSTlwiLFxuICAgIFFVSUNLU0lHSFRfT1dORVI6IFwiUVVJQ0tTSUdIVF9PV05FUlwiLFxuICAgIFFVSUNLU0lHSFRfVklFV0VSX09SX09XTkVSOiBcIlFVSUNLU0lHSFRfVklFV0VSX09SX09XTkVSXCIsXG59O1xuZXhwb3J0IGNsYXNzIFNlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb24gZXh0ZW5kcyBfX0Jhc2VFeGNlcHRpb24ge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbmFtZTogXCJTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFNlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gb3B0cy5NZXNzYWdlO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG9wdHMuUmVxdWVzdElkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uIGV4dGVuZHMgX19CYXNlRXhjZXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG9wdHMuTWVzc2FnZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBvcHRzLlJlcXVlc3RJZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIlF1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25cIixcbiAgICAgICAgICAgICRmYXVsdDogXCJjbGllbnRcIixcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlF1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICAgICAgdGhpcy4kZmF1bHQgPSBcImNsaWVudFwiO1xuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIElkZW50aXR5VHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIklkZW50aXR5VHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblwiLFxuICAgICAgICAgICAgJGZhdWx0OiBcImNsaWVudFwiLFxuICAgICAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSWRlbnRpdHlUeXBlTm90U3VwcG9ydGVkRXhjZXB0aW9uXCI7XG4gICAgICAgIHRoaXMuJGZhdWx0ID0gXCJjbGllbnRcIjtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIElkZW50aXR5VHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEdyb3VwRmlsdGVyQXR0cmlidXRlID0ge1xuICAgIEdST1VQX05BTUU6IFwiR1JPVVBfTkFNRVwiLFxufTtcbmV4cG9ydCBjb25zdCBHcm91cEZpbHRlck9wZXJhdG9yID0ge1xuICAgIFN0YXJ0c1dpdGg6IFwiU3RhcnRzV2l0aFwiLFxufTtcbmV4cG9ydCBjbGFzcyBJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvbiBleHRlbmRzIF9fQmFzZUV4Y2VwdGlvbiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBuYW1lOiBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCIsXG4gICAgICAgICAgICAkZmF1bHQ6IFwiY2xpZW50XCIsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvblwiO1xuICAgICAgICB0aGlzLiRmYXVsdCA9IFwiY2xpZW50XCI7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnZhbGlkUmVxdWVzdEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBvcHRzLk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gb3B0cy5SZXF1ZXN0SWQ7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IERlc2NyaWJlQW5hbHlzaXNEZWZpbml0aW9uUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IERlc2NyaWJlQXNzZXRCdW5kbGVJbXBvcnRKb2JSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxufSk7XG5leHBvcnQgY29uc3QgRGVzY3JpYmVEYXNoYm9hcmREZWZpbml0aW9uUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IERlc2NyaWJlRGF0YVNldFJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhU2V0ICYmIHsgRGF0YVNldDogRGF0YVNldEZpbHRlclNlbnNpdGl2ZUxvZyhvYmouRGF0YVNldCkgfSksXG59KTtcbmV4cG9ydCBjb25zdCBEZXNjcmliZVRlbXBsYXRlRGVmaW5pdGlvblJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbmV4cG9ydCBjb25zdCBEZXNjcmliZVRvcGljUmVzcG9uc2VGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbn0pO1xuZXhwb3J0IGNvbnN0IFNlc3Npb25UYWdGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlZhbHVlICYmIHsgVmFsdWU6IFNFTlNJVElWRV9TVFJJTkcgfSksXG59KTtcbmV4cG9ydCBjb25zdCBHZW5lcmF0ZUVtYmVkVXJsRm9yQW5vbnltb3VzVXNlclJlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlNlc3Npb25UYWdzICYmIHsgU2Vzc2lvblRhZ3M6IG9iai5TZXNzaW9uVGFncy5tYXAoKGl0ZW0pID0+IFNlc3Npb25UYWdGaWx0ZXJTZW5zaXRpdmVMb2coaXRlbSkpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgR2VuZXJhdGVFbWJlZFVybEZvckFub255bW91c1VzZXJSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRW1iZWRVcmwgJiYgeyBFbWJlZFVybDogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEdlbmVyYXRlRW1iZWRVcmxGb3JSZWdpc3RlcmVkVXNlclJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5FbWJlZFVybCAmJiB7IEVtYmVkVXJsOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgR2V0RGFzaGJvYXJkRW1iZWRVcmxSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyA9IChvYmopID0+ICh7XG4gICAgLi4ub2JqLFxuICAgIC4uLihvYmouRW1iZWRVcmwgJiYgeyBFbWJlZFVybDogU0VOU0lUSVZFX1NUUklORyB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IEdldFNlc3Npb25FbWJlZFVybFJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5FbWJlZFVybCAmJiB7IEVtYmVkVXJsOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgU3RhcnRBc3NldEJ1bmRsZUltcG9ydEpvYlJlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLkFzc2V0QnVuZGxlSW1wb3J0U291cmNlICYmIHtcbiAgICAgICAgQXNzZXRCdW5kbGVJbXBvcnRTb3VyY2U6IEFzc2V0QnVuZGxlSW1wb3J0U291cmNlRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5Bc3NldEJ1bmRsZUltcG9ydFNvdXJjZSksXG4gICAgfSksXG59KTtcbmV4cG9ydCBjb25zdCBVcGRhdGVBbmFseXNpc1JlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlBhcmFtZXRlcnMgJiYgeyBQYXJhbWV0ZXJzOiBfUGFyYW1ldGVyc0ZpbHRlclNlbnNpdGl2ZUxvZyhvYmouUGFyYW1ldGVycykgfSksXG59KTtcbmV4cG9ydCBjb25zdCBVcGRhdGVEYXNoYm9hcmRSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5QYXJhbWV0ZXJzICYmIHsgUGFyYW1ldGVyczogX1BhcmFtZXRlcnNGaWx0ZXJTZW5zaXRpdmVMb2cob2JqLlBhcmFtZXRlcnMpIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVXBkYXRlRGF0YVNldFJlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2cgPSAob2JqKSA9PiAoe1xuICAgIC4uLm9iaixcbiAgICAuLi4ob2JqLlBoeXNpY2FsVGFibGVNYXAgJiYge1xuICAgICAgICBQaHlzaWNhbFRhYmxlTWFwOiBPYmplY3QuZW50cmllcyhvYmouUGh5c2ljYWxUYWJsZU1hcCkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4gKChhY2Nba2V5XSA9IHZhbHVlKSwgYWNjKSwge30pLFxuICAgIH0pLFxuICAgIC4uLihvYmouTG9naWNhbFRhYmxlTWFwICYmIHtcbiAgICAgICAgTG9naWNhbFRhYmxlTWFwOiBPYmplY3QuZW50cmllcyhvYmouTG9naWNhbFRhYmxlTWFwKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiAoKGFjY1trZXldID0gTG9naWNhbFRhYmxlRmlsdGVyU2Vuc2l0aXZlTG9nKHZhbHVlKSksIGFjYyksIHt9KSxcbiAgICB9KSxcbiAgICAuLi4ob2JqLlJvd0xldmVsUGVybWlzc2lvblRhZ0NvbmZpZ3VyYXRpb24gJiYge1xuICAgICAgICBSb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uOiBSb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uRmlsdGVyU2Vuc2l0aXZlTG9nKG9iai5Sb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFVwZGF0ZURhdGFTb3VyY2VSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG4gICAgLi4uKG9iai5EYXRhU291cmNlUGFyYW1ldGVycyAmJiB7IERhdGFTb3VyY2VQYXJhbWV0ZXJzOiBvYmouRGF0YVNvdXJjZVBhcmFtZXRlcnMgfSksXG4gICAgLi4uKG9iai5DcmVkZW50aWFscyAmJiB7IENyZWRlbnRpYWxzOiBTRU5TSVRJVkVfU1RSSU5HIH0pLFxufSk7XG5leHBvcnQgY29uc3QgVXBkYXRlVGVtcGxhdGVSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nID0gKG9iaikgPT4gKHtcbiAgICAuLi5vYmosXG59KTtcbiIsImltcG9ydCB7IF9qc29uLCBkZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24gYXMgX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24sIGV4cGVjdEJvb2xlYW4gYXMgX19leHBlY3RCb29sZWFuLCBleHBlY3RJbnQzMiBhcyBfX2V4cGVjdEludDMyLCBleHBlY3RMb25nIGFzIF9fZXhwZWN0TG9uZywgZXhwZWN0Tm9uTnVsbCBhcyBfX2V4cGVjdE5vbk51bGwsIGV4cGVjdE51bWJlciBhcyBfX2V4cGVjdE51bWJlciwgZXhwZWN0T2JqZWN0IGFzIF9fZXhwZWN0T2JqZWN0LCBleHBlY3RTdHJpbmcgYXMgX19leHBlY3RTdHJpbmcsIGV4cGVjdFVuaW9uIGFzIF9fZXhwZWN0VW5pb24sIGxpbWl0ZWRQYXJzZURvdWJsZSBhcyBfX2xpbWl0ZWRQYXJzZURvdWJsZSwgbWFwLCBwYXJzZUVwb2NoVGltZXN0YW1wIGFzIF9fcGFyc2VFcG9jaFRpbWVzdGFtcCwgcmVzb2x2ZWRQYXRoIGFzIF9fcmVzb2x2ZWRQYXRoLCBzZXJpYWxpemVGbG9hdCBhcyBfX3NlcmlhbGl6ZUZsb2F0LCB0YWtlLCB3aXRoQmFzZUV4Y2VwdGlvbiwgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgSHR0cFJlcXVlc3QgYXMgX19IdHRwUmVxdWVzdCB9IGZyb20gXCJAc21pdGh5L3Byb3RvY29sLWh0dHBcIjtcbmltcG9ydCB7IEFjY2Vzc0RlbmllZEV4Y2VwdGlvbiwgfSBmcm9tIFwiLi4vbW9kZWxzL21vZGVsc18wXCI7XG5pbXBvcnQgeyBDb25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb24sIENvbmZsaWN0RXhjZXB0aW9uLCBJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb24sIEludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbiwgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbiwgUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uLCBSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvbiwgUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvbiwgUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvbiwgVGhyb3R0bGluZ0V4Y2VwdGlvbiwgVHJhbnNmb3JtT3BlcmF0aW9uLCBVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzJcIjtcbmltcG9ydCB7IERvbWFpbk5vdFdoaXRlbGlzdGVkRXhjZXB0aW9uLCBJZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24sIEludmFsaWROZXh0VG9rZW5FeGNlcHRpb24sIEludmFsaWRSZXF1ZXN0RXhjZXB0aW9uLCBRdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uLCBTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uLCBVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uLCB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXzNcIjtcbmltcG9ydCB7IFF1aWNrU2lnaHRTZXJ2aWNlRXhjZXB0aW9uIGFzIF9fQmFzZUV4Y2VwdGlvbiB9IGZyb20gXCIuLi9tb2RlbHMvUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb25cIjtcbmV4cG9ydCBjb25zdCBzZV9DYW5jZWxJbmdlc3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L2luZ2VzdGlvbnMve0luZ2VzdGlvbklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkluZ2VzdGlvbklkXCIsICgpID0+IGlucHV0LkluZ2VzdGlvbklkLCBcIntJbmdlc3Rpb25JZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9jdXN0b21pemF0aW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBuYW1lc3BhY2U6IFssIGlucHV0Lk5hbWVzcGFjZV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWNjb3VudEN1c3RvbWl6YXRpb246IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUFjY291bnRTdWJzY3JpcHRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnQve0F3c0FjY291bnRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjY291bnROYW1lOiBbXSxcbiAgICAgICAgQWN0aXZlRGlyZWN0b3J5TmFtZTogW10sXG4gICAgICAgIEFkbWluR3JvdXA6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgQXV0aGVudGljYXRpb25NZXRob2Q6IFtdLFxuICAgICAgICBBdXRob3JHcm91cDogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBDb250YWN0TnVtYmVyOiBbXSxcbiAgICAgICAgRGlyZWN0b3J5SWQ6IFtdLFxuICAgICAgICBFZGl0aW9uOiBbXSxcbiAgICAgICAgRW1haWxBZGRyZXNzOiBbXSxcbiAgICAgICAgRmlyc3ROYW1lOiBbXSxcbiAgICAgICAgTGFzdE5hbWU6IFtdLFxuICAgICAgICBOb3RpZmljYXRpb25FbWFpbDogW10sXG4gICAgICAgIFJlYWRlckdyb3VwOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJlYWxtOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZUFuYWx5c2lzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hbmFseXNlcy97QW5hbHlzaXNJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQW5hbHlzaXNJZFwiLCAoKSA9PiBpbnB1dC5BbmFseXNpc0lkLCBcIntBbmFseXNpc0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGVmaW5pdGlvbjogKF8pID0+IHNlX0FuYWx5c2lzRGVmaW5pdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBhcmFtZXRlcnM6IChfKSA9PiBzZV9fUGFyYW1ldGVycyhfLCBjb250ZXh0KSxcbiAgICAgICAgUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgU291cmNlRW50aXR5OiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGhlbWVBcm46IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlRGFzaGJvYXJkQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXNoYm9hcmRzL3tEYXNoYm9hcmRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGFzaGJvYXJkSWRcIiwgKCkgPT4gaW5wdXQuRGFzaGJvYXJkSWQsIFwie0Rhc2hib2FyZElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGFzaGJvYXJkUHVibGlzaE9wdGlvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgRGVmaW5pdGlvbjogKF8pID0+IHNlX0Rhc2hib2FyZFZlcnNpb25EZWZpbml0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGFyYW1ldGVyczogKF8pID0+IHNlX19QYXJhbWV0ZXJzKF8sIGNvbnRleHQpLFxuICAgICAgICBQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBTb3VyY2VFbnRpdHk6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUaGVtZUFybjogW10sXG4gICAgICAgIFZlcnNpb25EZXNjcmlwdGlvbjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVEYXRhU2V0Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtbkdyb3VwczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBDb2x1bW5MZXZlbFBlcm1pc3Npb25SdWxlczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBEYXRhU2V0SWQ6IFtdLFxuICAgICAgICBEYXRhU2V0VXNhZ2VDb25maWd1cmF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIERhdGFzZXRQYXJhbWV0ZXJzOiAoXykgPT4gc2VfRGF0YXNldFBhcmFtZXRlckxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEZpZWxkRm9sZGVyczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBJbXBvcnRNb2RlOiBbXSxcbiAgICAgICAgTG9naWNhbFRhYmxlTWFwOiAoXykgPT4gc2VfTG9naWNhbFRhYmxlTWFwKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUGh5c2ljYWxUYWJsZU1hcDogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSb3dMZXZlbFBlcm1pc3Npb25EYXRhU2V0OiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJvd0xldmVsUGVybWlzc2lvblRhZ0NvbmZpZ3VyYXRpb246IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlRGF0YVNvdXJjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zb3VyY2VzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBDcmVkZW50aWFsczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBEYXRhU291cmNlSWQ6IFtdLFxuICAgICAgICBEYXRhU291cmNlUGFyYW1ldGVyczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgU3NsUHJvcGVydGllczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUYWdzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFR5cGU6IFtdLFxuICAgICAgICBWcGNDb25uZWN0aW9uUHJvcGVydGllczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlRm9sZGVyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9mb2xkZXJzL3tGb2xkZXJJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRm9sZGVySWRcIiwgKCkgPT4gaW5wdXQuRm9sZGVySWQsIFwie0ZvbGRlcklkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRm9sZGVyVHlwZTogW10sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQYXJlbnRGb2xkZXJBcm46IFtdLFxuICAgICAgICBQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUYWdzOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVGb2xkZXJNZW1iZXJzaGlwQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2ZvbGRlcnMve0ZvbGRlcklkfS9tZW1iZXJzL3tNZW1iZXJUeXBlfS97TWVtYmVySWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkZvbGRlcklkXCIsICgpID0+IGlucHV0LkZvbGRlcklkLCBcIntGb2xkZXJJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTWVtYmVySWRcIiwgKCkgPT4gaW5wdXQuTWVtYmVySWQsIFwie01lbWJlcklkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJNZW1iZXJUeXBlXCIsICgpID0+IGlucHV0Lk1lbWJlclR5cGUsIFwie01lbWJlclR5cGV9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVHcm91cENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9ncm91cHNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGVzY3JpcHRpb246IFtdLFxuICAgICAgICBHcm91cE5hbWU6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlR3JvdXBNZW1iZXJzaGlwQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vZ3JvdXBzL3tHcm91cE5hbWV9L21lbWJlcnMve01lbWJlck5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJNZW1iZXJOYW1lXCIsICgpID0+IGlucHV0Lk1lbWJlck5hbWUsIFwie01lbWJlck5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkdyb3VwTmFtZVwiLCAoKSA9PiBpbnB1dC5Hcm91cE5hbWUsIFwie0dyb3VwTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2lhbS1wb2xpY3ktYXNzaWdubWVudHNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXNzaWdubWVudE5hbWU6IFtdLFxuICAgICAgICBBc3NpZ25tZW50U3RhdHVzOiBbXSxcbiAgICAgICAgSWRlbnRpdGllczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBQb2xpY3lBcm46IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlSW5nZXN0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH0vaW5nZXN0aW9ucy97SW5nZXN0aW9uSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkluZ2VzdGlvbklkXCIsICgpID0+IGlucHV0LkluZ2VzdGlvbklkLCBcIntJbmdlc3Rpb25JZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgSW5nZXN0aW9uVHlwZTogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZU5hbWVzcGFjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIElkZW50aXR5U3RvcmU6IFtdLFxuICAgICAgICBOYW1lc3BhY2U6IFtdLFxuICAgICAgICBUYWdzOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9yZWZyZXNoLXNjaGVkdWxlc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBTY2hlZHVsZTogKF8pID0+IHNlX1JlZnJlc2hTY2hlZHVsZShfLCBjb250ZXh0KSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmluaXRpb246IChfKSA9PiBzZV9UZW1wbGF0ZVZlcnNpb25EZWZpbml0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgU291cmNlRW50aXR5OiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVmVyc2lvbkRlc2NyaXB0aW9uOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVRlbXBsYXRlQWxpYXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RlbXBsYXRlcy97VGVtcGxhdGVJZH0vYWxpYXNlcy97QWxpYXNOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFsaWFzTmFtZVwiLCAoKSA9PiBpbnB1dC5BbGlhc05hbWUsIFwie0FsaWFzTmFtZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIFRlbXBsYXRlVmVyc2lvbk51bWJlcjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVUaGVtZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUaGVtZUlkXCIsICgpID0+IGlucHV0LlRoZW1lSWQsIFwie1RoZW1lSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBCYXNlVGhlbWVJZDogW10sXG4gICAgICAgIENvbmZpZ3VyYXRpb246IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgVmVyc2lvbkRlc2NyaXB0aW9uOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0NyZWF0ZVRoZW1lQWxpYXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lcy97VGhlbWVJZH0vYWxpYXNlcy97QWxpYXNOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUaGVtZUlkXCIsICgpID0+IGlucHV0LlRoZW1lSWQsIFwie1RoZW1lSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFsaWFzTmFtZVwiLCAoKSA9PiBpbnB1dC5BbGlhc05hbWUsIFwie0FsaWFzTmFtZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIFRoZW1lVmVyc2lvbk51bWJlcjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9DcmVhdGVUb3BpY0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBUYWdzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFRvcGljOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFRvcGljSWQ6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RvcGljcy97VG9waWNJZH0vc2NoZWR1bGVzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRvcGljSWRcIiwgKCkgPT4gaW5wdXQuVG9waWNJZCwgXCJ7VG9waWNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERhdGFzZXRBcm46IFtdLFxuICAgICAgICBEYXRhc2V0TmFtZTogW10sXG4gICAgICAgIFJlZnJlc2hTY2hlZHVsZTogKF8pID0+IHNlX1RvcGljUmVmcmVzaFNjaGVkdWxlKF8sIGNvbnRleHQpLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfQ3JlYXRlVlBDQ29ubmVjdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdnBjLWNvbm5lY3Rpb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEbnNSZXNvbHZlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFJvbGVBcm46IFtdLFxuICAgICAgICBTZWN1cml0eUdyb3VwSWRzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFN1Ym5ldElkczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUYWdzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFZQQ0Nvbm5lY3Rpb25JZDogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVBY2NvdW50Q3VzdG9taXphdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9jdXN0b21pemF0aW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBuYW1lc3BhY2U6IFssIGlucHV0Lk5hbWVzcGFjZV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUFjY291bnRTdWJzY3JpcHRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudC97QXdzQWNjb3VudElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlQW5hbHlzaXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYW5hbHlzZXMve0FuYWx5c2lzSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFuYWx5c2lzSWRcIiwgKCkgPT4gaW5wdXQuQW5hbHlzaXNJZCwgXCJ7QW5hbHlzaXNJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJyZWNvdmVyeS13aW5kb3ctaW4tZGF5c1wiOiBbXG4gICAgICAgICAgICAoKSA9PiBpbnB1dC5SZWNvdmVyeVdpbmRvd0luRGF5cyAhPT0gdm9pZCAwLFxuICAgICAgICAgICAgKCkgPT4gaW5wdXQuUmVjb3ZlcnlXaW5kb3dJbkRheXMudG9TdHJpbmcoKSxcbiAgICAgICAgXSxcbiAgICAgICAgXCJmb3JjZS1kZWxldGUtd2l0aG91dC1yZWNvdmVyeVwiOiBbXG4gICAgICAgICAgICAoKSA9PiBpbnB1dC5Gb3JjZURlbGV0ZVdpdGhvdXRSZWNvdmVyeSAhPT0gdm9pZCAwLFxuICAgICAgICAgICAgKCkgPT4gaW5wdXQuRm9yY2VEZWxldGVXaXRob3V0UmVjb3ZlcnkudG9TdHJpbmcoKSxcbiAgICAgICAgXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlRGFzaGJvYXJkQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHMve0Rhc2hib2FyZElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXNoYm9hcmRJZFwiLCAoKSA9PiBpbnB1dC5EYXNoYm9hcmRJZCwgXCJ7RGFzaGJvYXJkSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwidmVyc2lvbi1udW1iZXJcIjogWygpID0+IGlucHV0LlZlcnNpb25OdW1iZXIgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlci50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlRGF0YVNldENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlRGF0YVNldFJlZnJlc2hQcm9wZXJ0aWVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9yZWZyZXNoLXByb3BlcnRpZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlRGF0YVNvdXJjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNvdXJjZXMve0RhdGFTb3VyY2VJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNvdXJjZUlkXCIsICgpID0+IGlucHV0LkRhdGFTb3VyY2VJZCwgXCJ7RGF0YVNvdXJjZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlRm9sZGVyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2ZvbGRlcnMve0ZvbGRlcklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJGb2xkZXJJZFwiLCAoKSA9PiBpbnB1dC5Gb2xkZXJJZCwgXCJ7Rm9sZGVySWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVGb2xkZXJNZW1iZXJzaGlwQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2ZvbGRlcnMve0ZvbGRlcklkfS9tZW1iZXJzL3tNZW1iZXJUeXBlfS97TWVtYmVySWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkZvbGRlcklkXCIsICgpID0+IGlucHV0LkZvbGRlcklkLCBcIntGb2xkZXJJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTWVtYmVySWRcIiwgKCkgPT4gaW5wdXQuTWVtYmVySWQsIFwie01lbWJlcklkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJNZW1iZXJUeXBlXCIsICgpID0+IGlucHV0Lk1lbWJlclR5cGUsIFwie01lbWJlclR5cGV9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVHcm91cENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2dyb3Vwcy97R3JvdXBOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiR3JvdXBOYW1lXCIsICgpID0+IGlucHV0Lkdyb3VwTmFtZSwgXCJ7R3JvdXBOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZUdyb3VwTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2dyb3Vwcy97R3JvdXBOYW1lfS9tZW1iZXJzL3tNZW1iZXJOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTWVtYmVyTmFtZVwiLCAoKSA9PiBpbnB1dC5NZW1iZXJOYW1lLCBcIntNZW1iZXJOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJHcm91cE5hbWVcIiwgKCkgPT4gaW5wdXQuR3JvdXBOYW1lLCBcIntHcm91cE5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2Uve05hbWVzcGFjZX0vaWFtLXBvbGljeS1hc3NpZ25tZW50cy97QXNzaWdubWVudE5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFzc2lnbm1lbnROYW1lXCIsICgpID0+IGlucHV0LkFzc2lnbm1lbnROYW1lLCBcIntBc3NpZ25tZW50TmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlTmFtZXNwYWNlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9yZWZyZXNoLXNjaGVkdWxlcy97U2NoZWR1bGVJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJTY2hlZHVsZUlkXCIsICgpID0+IGlucHV0LlNjaGVkdWxlSWQsIFwie1NjaGVkdWxlSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJ2ZXJzaW9uLW51bWJlclwiOiBbKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlciAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVUZW1wbGF0ZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RlbXBsYXRlcy97VGVtcGxhdGVJZH0vYWxpYXNlcy97QWxpYXNOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFsaWFzTmFtZVwiLCAoKSA9PiBpbnB1dC5BbGlhc05hbWUsIFwie0FsaWFzTmFtZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVRoZW1lQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lcy97VGhlbWVJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGhlbWVJZFwiLCAoKSA9PiBpbnB1dC5UaGVtZUlkLCBcIntUaGVtZUlkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcInZlcnNpb24tbnVtYmVyXCI6IFsoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlZlcnNpb25OdW1iZXIudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVRoZW1lQWxpYXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfS9hbGlhc2VzL3tBbGlhc05hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQWxpYXNOYW1lXCIsICgpID0+IGlucHV0LkFsaWFzTmFtZSwgXCJ7QWxpYXNOYW1lfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlVG9waWNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZWxldGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3Mve1RvcGljSWR9L3NjaGVkdWxlcy97RGF0YXNldElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFzZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhc2V0SWQsIFwie0RhdGFzZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVVzZXJDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS91c2Vycy97VXNlck5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJVc2VyTmFtZVwiLCAoKSA9PiBpbnB1dC5Vc2VyTmFtZSwgXCJ7VXNlck5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVsZXRlVXNlckJ5UHJpbmNpcGFsSWRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS91c2VyLXByaW5jaXBhbHMve1ByaW5jaXBhbElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiUHJpbmNpcGFsSWRcIiwgKCkgPT4gaW5wdXQuUHJpbmNpcGFsSWQsIFwie1ByaW5jaXBhbElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0RlbGV0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdnBjLWNvbm5lY3Rpb25zL3tWUENDb25uZWN0aW9uSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlZQQ0Nvbm5lY3Rpb25JZFwiLCAoKSA9PiBpbnB1dC5WUENDb25uZWN0aW9uSWQsIFwie1ZQQ0Nvbm5lY3Rpb25JZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vY3VzdG9taXphdGlvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgbmFtZXNwYWNlOiBbLCBpbnB1dC5OYW1lc3BhY2VdLFxuICAgICAgICByZXNvbHZlZDogWygpID0+IGlucHV0LlJlc29sdmVkICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlJlc29sdmVkLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUFjY291bnRTZXR0aW5nc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9zZXR0aW5nc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnQve0F3c0FjY291bnRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQW5hbHlzaXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYW5hbHlzZXMve0FuYWx5c2lzSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFuYWx5c2lzSWRcIiwgKCkgPT4gaW5wdXQuQW5hbHlzaXNJZCwgXCJ7QW5hbHlzaXNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQW5hbHlzaXNEZWZpbml0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2FuYWx5c2VzL3tBbmFseXNpc0lkfS9kZWZpbml0aW9uXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFuYWx5c2lzSWRcIiwgKCkgPT4gaW5wdXQuQW5hbHlzaXNJZCwgXCJ7QW5hbHlzaXNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQW5hbHlzaXNQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hbmFseXNlcy97QW5hbHlzaXNJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQW5hbHlzaXNJZFwiLCAoKSA9PiBpbnB1dC5BbmFseXNpc0lkLCBcIntBbmFseXNpc0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVBc3NldEJ1bmRsZUV4cG9ydEpvYkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9hc3NldC1idW5kbGUtZXhwb3J0LWpvYnMve0Fzc2V0QnVuZGxlRXhwb3J0Sm9iSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFzc2V0QnVuZGxlRXhwb3J0Sm9iSWRcIiwgKCkgPT4gaW5wdXQuQXNzZXRCdW5kbGVFeHBvcnRKb2JJZCwgXCJ7QXNzZXRCdW5kbGVFeHBvcnRKb2JJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlQXNzZXRCdW5kbGVJbXBvcnRKb2JDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYXNzZXQtYnVuZGxlLWltcG9ydC1qb2JzL3tBc3NldEJ1bmRsZUltcG9ydEpvYklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBc3NldEJ1bmRsZUltcG9ydEpvYklkXCIsICgpID0+IGlucHV0LkFzc2V0QnVuZGxlSW1wb3J0Sm9iSWQsIFwie0Fzc2V0QnVuZGxlSW1wb3J0Sm9iSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZURhc2hib2FyZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXNoYm9hcmRzL3tEYXNoYm9hcmRJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGFzaGJvYXJkSWRcIiwgKCkgPT4gaW5wdXQuRGFzaGJvYXJkSWQsIFwie0Rhc2hib2FyZElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcInZlcnNpb24tbnVtYmVyXCI6IFsoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlZlcnNpb25OdW1iZXIudG9TdHJpbmcoKV0sXG4gICAgICAgIFwiYWxpYXMtbmFtZVwiOiBbLCBpbnB1dC5BbGlhc05hbWVdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZURhc2hib2FyZERlZmluaXRpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGFzaGJvYXJkcy97RGFzaGJvYXJkSWR9L2RlZmluaXRpb25cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGFzaGJvYXJkSWRcIiwgKCkgPT4gaW5wdXQuRGFzaGJvYXJkSWQsIFwie0Rhc2hib2FyZElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcInZlcnNpb24tbnVtYmVyXCI6IFsoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlZlcnNpb25OdW1iZXIudG9TdHJpbmcoKV0sXG4gICAgICAgIFwiYWxpYXMtbmFtZVwiOiBbLCBpbnB1dC5BbGlhc05hbWVdLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZURhc2hib2FyZFBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHMve0Rhc2hib2FyZElkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXNoYm9hcmRJZFwiLCAoKSA9PiBpbnB1dC5EYXNoYm9hcmRJZCwgXCJ7RGFzaGJvYXJkSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZURhdGFTZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlRGF0YVNldFBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZURhdGFTZXRSZWZyZXNoUHJvcGVydGllc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH0vcmVmcmVzaC1wcm9wZXJ0aWVzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlRGF0YVNvdXJjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNvdXJjZXMve0RhdGFTb3VyY2VJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNvdXJjZUlkXCIsICgpID0+IGlucHV0LkRhdGFTb3VyY2VJZCwgXCJ7RGF0YVNvdXJjZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVEYXRhU291cmNlUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zb3VyY2VzL3tEYXRhU291cmNlSWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTb3VyY2VJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU291cmNlSWQsIFwie0RhdGFTb3VyY2VJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlRm9sZGVyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2ZvbGRlcnMve0ZvbGRlcklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJGb2xkZXJJZFwiLCAoKSA9PiBpbnB1dC5Gb2xkZXJJZCwgXCJ7Rm9sZGVySWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUZvbGRlclBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2ZvbGRlcnMve0ZvbGRlcklkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJGb2xkZXJJZFwiLCAoKSA9PiBpbnB1dC5Gb2xkZXJJZCwgXCJ7Rm9sZGVySWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUZvbGRlclJlc29sdmVkUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZm9sZGVycy97Rm9sZGVySWR9L3Jlc29sdmVkLXBlcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkZvbGRlcklkXCIsICgpID0+IGlucHV0LkZvbGRlcklkLCBcIntGb2xkZXJJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlR3JvdXBDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9ncm91cHMve0dyb3VwTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkdyb3VwTmFtZVwiLCAoKSA9PiBpbnB1dC5Hcm91cE5hbWUsIFwie0dyb3VwTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZUdyb3VwTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2dyb3Vwcy97R3JvdXBOYW1lfS9tZW1iZXJzL3tNZW1iZXJOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTWVtYmVyTmFtZVwiLCAoKSA9PiBpbnB1dC5NZW1iZXJOYW1lLCBcIntNZW1iZXJOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJHcm91cE5hbWVcIiwgKCkgPT4gaW5wdXQuR3JvdXBOYW1lLCBcIntHcm91cE5hbWV9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vaWFtLXBvbGljeS1hc3NpZ25tZW50cy97QXNzaWdubWVudE5hbWV9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFzc2lnbm1lbnROYW1lXCIsICgpID0+IGlucHV0LkFzc2lnbm1lbnROYW1lLCBcIntBc3NpZ25tZW50TmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVJbmdlc3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L2luZ2VzdGlvbnMve0luZ2VzdGlvbklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkluZ2VzdGlvbklkXCIsICgpID0+IGlucHV0LkluZ2VzdGlvbklkLCBcIntJbmdlc3Rpb25JZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlSXBSZXN0cmljdGlvbkNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9pcC1yZXN0cmljdGlvblwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVOYW1lc3BhY2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH0vcmVmcmVzaC1zY2hlZHVsZXMve1NjaGVkdWxlSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiU2NoZWR1bGVJZFwiLCAoKSA9PiBpbnB1dC5TY2hlZHVsZUlkLCBcIntTY2hlZHVsZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJ2ZXJzaW9uLW51bWJlclwiOiBbKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlciAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5WZXJzaW9uTnVtYmVyLnRvU3RyaW5nKCldLFxuICAgICAgICBcImFsaWFzLW5hbWVcIjogWywgaW5wdXQuQWxpYXNOYW1lXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVUZW1wbGF0ZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RlbXBsYXRlcy97VGVtcGxhdGVJZH0vYWxpYXNlcy97QWxpYXNOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFsaWFzTmFtZVwiLCAoKSA9PiBpbnB1dC5BbGlhc05hbWUsIFwie0FsaWFzTmFtZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVGVtcGxhdGVEZWZpbml0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RlbXBsYXRlcy97VGVtcGxhdGVJZH0vZGVmaW5pdGlvblwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwidmVyc2lvbi1udW1iZXJcIjogWygpID0+IGlucHV0LlZlcnNpb25OdW1iZXIgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlci50b1N0cmluZygpXSxcbiAgICAgICAgXCJhbGlhcy1uYW1lXCI6IFssIGlucHV0LkFsaWFzTmFtZV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVGVtcGxhdGVQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVGhlbWVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUaGVtZUlkXCIsICgpID0+IGlucHV0LlRoZW1lSWQsIFwie1RoZW1lSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwidmVyc2lvbi1udW1iZXJcIjogWygpID0+IGlucHV0LlZlcnNpb25OdW1iZXIgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuVmVyc2lvbk51bWJlci50b1N0cmluZygpXSxcbiAgICAgICAgXCJhbGlhcy1uYW1lXCI6IFssIGlucHV0LkFsaWFzTmFtZV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVGhlbWVBbGlhc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90aGVtZXMve1RoZW1lSWR9L2FsaWFzZXMve0FsaWFzTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGhlbWVJZFwiLCAoKSA9PiBpbnB1dC5UaGVtZUlkLCBcIntUaGVtZUlkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbGlhc05hbWVcIiwgKCkgPT4gaW5wdXQuQWxpYXNOYW1lLCBcIntBbGlhc05hbWV9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRoZW1lUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUaGVtZUlkXCIsICgpID0+IGlucHV0LlRoZW1lSWQsIFwie1RoZW1lSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVRvcGljQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RvcGljcy97VG9waWNJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVUb3BpY1Blcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RvcGljcy97VG9waWNJZH0vcGVybWlzc2lvbnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVUb3BpY1JlZnJlc2hDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfS9yZWZyZXNoL3tSZWZyZXNoSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRvcGljSWRcIiwgKCkgPT4gaW5wdXQuVG9waWNJZCwgXCJ7VG9waWNJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiUmVmcmVzaElkXCIsICgpID0+IGlucHV0LlJlZnJlc2hJZCwgXCJ7UmVmcmVzaElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfRGVzY3JpYmVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3Mve1RvcGljSWR9L3NjaGVkdWxlcy97RGF0YXNldElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFzZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhc2V0SWQsIFwie0RhdGFzZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0Rlc2NyaWJlVXNlckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L3VzZXJzL3tVc2VyTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlVzZXJOYW1lXCIsICgpID0+IGlucHV0LlVzZXJOYW1lLCBcIntVc2VyTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9EZXNjcmliZVZQQ0Nvbm5lY3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdnBjLWNvbm5lY3Rpb25zL3tWUENDb25uZWN0aW9uSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlZQQ0Nvbm5lY3Rpb25JZFwiLCAoKSA9PiBpbnB1dC5WUENDb25uZWN0aW9uSWQsIFwie1ZQQ0Nvbm5lY3Rpb25JZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dlbmVyYXRlRW1iZWRVcmxGb3JBbm9ueW1vdXNVc2VyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9lbWJlZC11cmwvYW5vbnltb3VzLXVzZXJcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEFsbG93ZWREb21haW5zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIEF1dGhvcml6ZWRSZXNvdXJjZUFybnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgRXhwZXJpZW5jZUNvbmZpZ3VyYXRpb246IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgTmFtZXNwYWNlOiBbXSxcbiAgICAgICAgU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzOiBbXSxcbiAgICAgICAgU2Vzc2lvblRhZ3M6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dlbmVyYXRlRW1iZWRVcmxGb3JSZWdpc3RlcmVkVXNlckNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZW1iZWQtdXJsL3JlZ2lzdGVyZWQtdXNlclwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWxsb3dlZERvbWFpbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgRXhwZXJpZW5jZUNvbmZpZ3VyYXRpb246IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzOiBbXSxcbiAgICAgICAgVXNlckFybjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9HZXREYXNoYm9hcmRFbWJlZFVybENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXNoYm9hcmRzL3tEYXNoYm9hcmRJZH0vZW1iZWQtdXJsXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhc2hib2FyZElkXCIsICgpID0+IGlucHV0LkRhc2hib2FyZElkLCBcIntEYXNoYm9hcmRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJjcmVkcy10eXBlXCI6IFssIF9fZXhwZWN0Tm9uTnVsbChpbnB1dC5JZGVudGl0eVR5cGUsIGBJZGVudGl0eVR5cGVgKV0sXG4gICAgICAgIFwic2Vzc2lvbi1saWZldGltZVwiOiBbXG4gICAgICAgICAgICAoKSA9PiBpbnB1dC5TZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXMgIT09IHZvaWQgMCxcbiAgICAgICAgICAgICgpID0+IGlucHV0LlNlc3Npb25MaWZldGltZUluTWludXRlcy50b1N0cmluZygpLFxuICAgICAgICBdLFxuICAgICAgICBcInVuZG8tcmVkby1kaXNhYmxlZFwiOiBbKCkgPT4gaW5wdXQuVW5kb1JlZG9EaXNhYmxlZCAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5VbmRvUmVkb0Rpc2FibGVkLnRvU3RyaW5nKCldLFxuICAgICAgICBcInJlc2V0LWRpc2FibGVkXCI6IFsoKSA9PiBpbnB1dC5SZXNldERpc2FibGVkICE9PSB2b2lkIDAsICgpID0+IGlucHV0LlJlc2V0RGlzYWJsZWQudG9TdHJpbmcoKV0sXG4gICAgICAgIFwic3RhdGUtcGVyc2lzdGVuY2UtZW5hYmxlZFwiOiBbXG4gICAgICAgICAgICAoKSA9PiBpbnB1dC5TdGF0ZVBlcnNpc3RlbmNlRW5hYmxlZCAhPT0gdm9pZCAwLFxuICAgICAgICAgICAgKCkgPT4gaW5wdXQuU3RhdGVQZXJzaXN0ZW5jZUVuYWJsZWQudG9TdHJpbmcoKSxcbiAgICAgICAgXSxcbiAgICAgICAgXCJ1c2VyLWFyblwiOiBbLCBpbnB1dC5Vc2VyQXJuXSxcbiAgICAgICAgbmFtZXNwYWNlOiBbLCBpbnB1dC5OYW1lc3BhY2VdLFxuICAgICAgICBcImFkZGl0aW9uYWwtZGFzaGJvYXJkLWlkc1wiOiBbXG4gICAgICAgICAgICAoKSA9PiBpbnB1dC5BZGRpdGlvbmFsRGFzaGJvYXJkSWRzICE9PSB2b2lkIDAsXG4gICAgICAgICAgICAoKSA9PiAoaW5wdXQuQWRkaXRpb25hbERhc2hib2FyZElkcyB8fCBbXSkubWFwKChfZW50cnkpID0+IF9lbnRyeSksXG4gICAgICAgIF0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0dldFNlc3Npb25FbWJlZFVybENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9zZXNzaW9uLWVtYmVkLXVybFwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcImVudHJ5LXBvaW50XCI6IFssIGlucHV0LkVudHJ5UG9pbnRdLFxuICAgICAgICBcInNlc3Npb24tbGlmZXRpbWVcIjogW1xuICAgICAgICAgICAgKCkgPT4gaW5wdXQuU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzICE9PSB2b2lkIDAsXG4gICAgICAgICAgICAoKSA9PiBpbnB1dC5TZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXMudG9TdHJpbmcoKSxcbiAgICAgICAgXSxcbiAgICAgICAgXCJ1c2VyLWFyblwiOiBbLCBpbnB1dC5Vc2VyQXJuXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEFuYWx5c2VzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2FuYWx5c2VzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RBc3NldEJ1bmRsZUV4cG9ydEpvYnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYXNzZXQtYnVuZGxlLWV4cG9ydC1qb2JzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RBc3NldEJ1bmRsZUltcG9ydEpvYnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYXNzZXQtYnVuZGxlLWltcG9ydC1qb2JzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3REYXNoYm9hcmRzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdERhc2hib2FyZFZlcnNpb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHMve0Rhc2hib2FyZElkfS92ZXJzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXNoYm9hcmRJZFwiLCAoKSA9PiBpbnB1dC5EYXNoYm9hcmRJZCwgXCJ7RGFzaGJvYXJkSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3REYXRhU2V0c0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdERhdGFTb3VyY2VzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc291cmNlc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0Rm9sZGVyTWVtYmVyc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9mb2xkZXJzL3tGb2xkZXJJZH0vbWVtYmVyc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJGb2xkZXJJZFwiLCAoKSA9PiBpbnB1dC5Gb2xkZXJJZCwgXCJ7Rm9sZGVySWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RGb2xkZXJzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2ZvbGRlcnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEdyb3VwTWVtYmVyc2hpcHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9ncm91cHMve0dyb3VwTmFtZX0vbWVtYmVyc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiR3JvdXBOYW1lXCIsICgpID0+IGlucHV0Lkdyb3VwTmFtZSwgXCJ7R3JvdXBOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdEdyb3Vwc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2dyb3Vwc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RJQU1Qb2xpY3lBc3NpZ25tZW50c0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L3YyL2lhbS1wb2xpY3ktYXNzaWdubWVudHNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcImFzc2lnbm1lbnQtc3RhdHVzXCI6IFssIGlucHV0LkFzc2lnbm1lbnRTdGF0dXNdLFxuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0SUFNUG9saWN5QXNzaWdubWVudHNGb3JVc2VyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vdXNlcnMve1VzZXJOYW1lfS9pYW0tcG9saWN5LWFzc2lnbm1lbnRzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlVzZXJOYW1lXCIsICgpID0+IGlucHV0LlVzZXJOYW1lLCBcIntVc2VyTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0SW5nZXN0aW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9kYXRhLXNldHMve0RhdGFTZXRJZH0vaW5nZXN0aW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGF0YVNldElkXCIsICgpID0+IGlucHV0LkRhdGFTZXRJZCwgXCJ7RGF0YVNldElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3ROYW1lc3BhY2VzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFJlZnJlc2hTY2hlZHVsZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L3JlZnJlc2gtc2NoZWR1bGVzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUYWdzRm9yUmVzb3VyY2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvcmVzb3VyY2VzL3tSZXNvdXJjZUFybn0vdGFnc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiUmVzb3VyY2VBcm5cIiwgKCkgPT4gaW5wdXQuUmVzb3VyY2VBcm4sIFwie1Jlc291cmNlQXJufVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFRlbXBsYXRlQWxpYXNlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9L2FsaWFzZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGVtcGxhdGVJZFwiLCAoKSA9PiBpbnB1dC5UZW1wbGF0ZUlkLCBcIntUZW1wbGF0ZUlkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0XCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUZW1wbGF0ZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFRlbXBsYXRlVmVyc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfS92ZXJzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUaGVtZUFsaWFzZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfS9hbGlhc2VzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdFwiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VGhlbWVzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgICAgICB0eXBlOiBbLCBpbnB1dC5UeXBlXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFRoZW1lVmVyc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGhlbWVzL3tUaGVtZUlkfS92ZXJzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUaGVtZUlkXCIsICgpID0+IGlucHV0LlRoZW1lSWQsIFwie1RoZW1lSWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX0xpc3RUb3BpY1JlZnJlc2hTY2hlZHVsZXNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfS9zY2hlZHVsZXNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFRvcGljc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3NcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFVzZXJHcm91cHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS91c2Vycy97VXNlck5hbWV9L2dyb3Vwc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVXNlck5hbWVcIiwgKCkgPT4gaW5wdXQuVXNlck5hbWUsIFwie1VzZXJOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGNvbnN0IHF1ZXJ5ID0gbWFwKHtcbiAgICAgICAgXCJuZXh0LXRva2VuXCI6IFssIGlucHV0Lk5leHRUb2tlbl0sXG4gICAgICAgIFwibWF4LXJlc3VsdHNcIjogWygpID0+IGlucHV0Lk1heFJlc3VsdHMgIT09IHZvaWQgMCwgKCkgPT4gaW5wdXQuTWF4UmVzdWx0cy50b1N0cmluZygpXSxcbiAgICB9KTtcbiAgICBsZXQgYm9keTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfTGlzdFVzZXJzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vdXNlcnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiTmFtZXNwYWNlXCIsICgpID0+IGlucHV0Lk5hbWVzcGFjZSwgXCJ7TmFtZXNwYWNlfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBcIm5leHQtdG9rZW5cIjogWywgaW5wdXQuTmV4dFRva2VuXSxcbiAgICAgICAgXCJtYXgtcmVzdWx0c1wiOiBbKCkgPT4gaW5wdXQuTWF4UmVzdWx0cyAhPT0gdm9pZCAwLCAoKSA9PiBpbnB1dC5NYXhSZXN1bHRzLnRvU3RyaW5nKCldLFxuICAgIH0pO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9MaXN0VlBDQ29ubmVjdGlvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdnBjLWNvbm5lY3Rpb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1B1dERhdGFTZXRSZWZyZXNoUHJvcGVydGllc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L3JlZnJlc2gtcHJvcGVydGllc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEYXRhU2V0UmVmcmVzaFByb3BlcnRpZXM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfUmVnaXN0ZXJVc2VyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L3VzZXJzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEN1c3RvbUZlZGVyYXRpb25Qcm92aWRlclVybDogW10sXG4gICAgICAgIEN1c3RvbVBlcm1pc3Npb25zTmFtZTogW10sXG4gICAgICAgIEVtYWlsOiBbXSxcbiAgICAgICAgRXh0ZXJuYWxMb2dpbkZlZGVyYXRpb25Qcm92aWRlclR5cGU6IFtdLFxuICAgICAgICBFeHRlcm5hbExvZ2luSWQ6IFtdLFxuICAgICAgICBJYW1Bcm46IFtdLFxuICAgICAgICBJZGVudGl0eVR5cGU6IFtdLFxuICAgICAgICBTZXNzaW9uTmFtZTogW10sXG4gICAgICAgIFVzZXJOYW1lOiBbXSxcbiAgICAgICAgVXNlclJvbGU6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfUmVzdG9yZUFuYWx5c2lzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3Jlc3RvcmUvYW5hbHlzZXMve0FuYWx5c2lzSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFuYWx5c2lzSWRcIiwgKCkgPT4gaW5wdXQuQW5hbHlzaXNJZCwgXCJ7QW5hbHlzaXNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZWFyY2hBbmFseXNlc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vc2VhcmNoL2FuYWx5c2VzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBGaWx0ZXJzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE1heFJlc3VsdHM6IFtdLFxuICAgICAgICBOZXh0VG9rZW46IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2VhcmNoRGFzaGJvYXJkc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vc2VhcmNoL2Rhc2hib2FyZHNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpbHRlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgTWF4UmVzdWx0czogW10sXG4gICAgICAgIE5leHRUb2tlbjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZWFyY2hEYXRhU2V0c0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vc2VhcmNoL2RhdGEtc2V0c1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmlsdGVyczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBNYXhSZXN1bHRzOiBbXSxcbiAgICAgICAgTmV4dFRva2VuOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1NlYXJjaERhdGFTb3VyY2VzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9zZWFyY2gvZGF0YS1zb3VyY2VzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBGaWx0ZXJzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE1heFJlc3VsdHM6IFtdLFxuICAgICAgICBOZXh0VG9rZW46IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfU2VhcmNoRm9sZGVyc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vc2VhcmNoL2ZvbGRlcnNcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpbHRlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgTWF4UmVzdWx0czogW10sXG4gICAgICAgIE5leHRUb2tlbjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9TZWFyY2hHcm91cHNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L25hbWVzcGFjZXMve05hbWVzcGFjZX0vZ3JvdXBzLXNlYXJjaFwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIFwibmV4dC10b2tlblwiOiBbLCBpbnB1dC5OZXh0VG9rZW5dLFxuICAgICAgICBcIm1heC1yZXN1bHRzXCI6IFsoKSA9PiBpbnB1dC5NYXhSZXN1bHRzICE9PSB2b2lkIDAsICgpID0+IGlucHV0Lk1heFJlc3VsdHMudG9TdHJpbmcoKV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmlsdGVyczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1N0YXJ0QXNzZXRCdW5kbGVFeHBvcnRKb2JDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Fzc2V0LWJ1bmRsZS1leHBvcnQtam9icy9leHBvcnRcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEFzc2V0QnVuZGxlRXhwb3J0Sm9iSWQ6IFtdLFxuICAgICAgICBDbG91ZEZvcm1hdGlvbk92ZXJyaWRlUHJvcGVydHlDb25maWd1cmF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIEV4cG9ydEZvcm1hdDogW10sXG4gICAgICAgIEluY2x1ZGVBbGxEZXBlbmRlbmNpZXM6IFtdLFxuICAgICAgICBSZXNvdXJjZUFybnM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1N0YXJ0QXNzZXRCdW5kbGVJbXBvcnRKb2JDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Fzc2V0LWJ1bmRsZS1pbXBvcnQtam9icy9pbXBvcnRcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEFzc2V0QnVuZGxlSW1wb3J0Sm9iSWQ6IFtdLFxuICAgICAgICBBc3NldEJ1bmRsZUltcG9ydFNvdXJjZTogKF8pID0+IHNlX0Fzc2V0QnVuZGxlSW1wb3J0U291cmNlKF8sIGNvbnRleHQpLFxuICAgICAgICBGYWlsdXJlQWN0aW9uOiBbXSxcbiAgICAgICAgT3ZlcnJpZGVQYXJhbWV0ZXJzOiAoXykgPT4gc2VfQXNzZXRCdW5kbGVJbXBvcnRKb2JPdmVycmlkZVBhcmFtZXRlcnMoXywgY29udGV4dCksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9UYWdSZXNvdXJjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvcmVzb3VyY2VzL3tSZXNvdXJjZUFybn0vdGFnc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiUmVzb3VyY2VBcm5cIiwgKCkgPT4gaW5wdXQuUmVzb3VyY2VBcm4sIFwie1Jlc291cmNlQXJufVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgVGFnczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVW50YWdSZXNvdXJjZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9yZXNvdXJjZXMve1Jlc291cmNlQXJufS90YWdzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJSZXNvdXJjZUFyblwiLCAoKSA9PiBpbnB1dC5SZXNvdXJjZUFybiwgXCJ7UmVzb3VyY2VBcm59XCIsIGZhbHNlKTtcbiAgICBjb25zdCBxdWVyeSA9IG1hcCh7XG4gICAgICAgIGtleXM6IFtcbiAgICAgICAgICAgIF9fZXhwZWN0Tm9uTnVsbChpbnB1dC5UYWdLZXlzLCBgVGFnS2V5c2ApICE9IG51bGwsXG4gICAgICAgICAgICAoKSA9PiAoaW5wdXQuVGFnS2V5cyB8fCBbXSkubWFwKChfZW50cnkpID0+IF9lbnRyeSksXG4gICAgICAgIF0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9jdXN0b21pemF0aW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgY29uc3QgcXVlcnkgPSBtYXAoe1xuICAgICAgICBuYW1lc3BhY2U6IFssIGlucHV0Lk5hbWVzcGFjZV0sXG4gICAgfSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWNjb3VudEN1c3RvbWl6YXRpb246IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUFjY291bnRTZXR0aW5nc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICsgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vc2V0dGluZ3NcIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmF1bHROYW1lc3BhY2U6IFtdLFxuICAgICAgICBOb3RpZmljYXRpb25FbWFpbDogW10sXG4gICAgICAgIFRlcm1pbmF0aW9uUHJvdGVjdGlvbkVuYWJsZWQ6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVBbmFseXNpc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vYW5hbHlzZXMve0FuYWx5c2lzSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkFuYWx5c2lzSWRcIiwgKCkgPT4gaW5wdXQuQW5hbHlzaXNJZCwgXCJ7QW5hbHlzaXNJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmluaXRpb246IChfKSA9PiBzZV9BbmFseXNpc0RlZmluaXRpb24oXywgY29udGV4dCksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQYXJhbWV0ZXJzOiAoXykgPT4gc2VfX1BhcmFtZXRlcnMoXywgY29udGV4dCksXG4gICAgICAgIFNvdXJjZUVudGl0eTogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBUaGVtZUFybjogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUFuYWx5c2lzUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2FuYWx5c2VzL3tBbmFseXNpc0lkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbmFseXNpc0lkXCIsICgpID0+IGlucHV0LkFuYWx5c2lzSWQsIFwie0FuYWx5c2lzSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBHcmFudFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJldm9rZVBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZURhc2hib2FyZENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGFzaGJvYXJkcy97RGFzaGJvYXJkSWR9XCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhc2hib2FyZElkXCIsICgpID0+IGlucHV0LkRhc2hib2FyZElkLCBcIntEYXNoYm9hcmRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERhc2hib2FyZFB1Ymxpc2hPcHRpb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIERlZmluaXRpb246IChfKSA9PiBzZV9EYXNoYm9hcmRWZXJzaW9uRGVmaW5pdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBhcmFtZXRlcnM6IChfKSA9PiBzZV9fUGFyYW1ldGVycyhfLCBjb250ZXh0KSxcbiAgICAgICAgU291cmNlRW50aXR5OiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFRoZW1lQXJuOiBbXSxcbiAgICAgICAgVmVyc2lvbkRlc2NyaXB0aW9uOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlRGFzaGJvYXJkUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHMve0Rhc2hib2FyZElkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXNoYm9hcmRJZFwiLCAoKSA9PiBpbnB1dC5EYXNoYm9hcmRJZCwgXCJ7RGFzaGJvYXJkSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBHcmFudExpbmtQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBHcmFudFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJldm9rZUxpbmtQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSZXZva2VQZXJtaXNzaW9uczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVEYXNoYm9hcmRQdWJsaXNoZWRWZXJzaW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2Rhc2hib2FyZHMve0Rhc2hib2FyZElkfS92ZXJzaW9ucy97VmVyc2lvbk51bWJlcn1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiRGFzaGJvYXJkSWRcIiwgKCkgPT4gaW5wdXQuRGFzaGJvYXJkSWQsIFwie0Rhc2hib2FyZElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJWZXJzaW9uTnVtYmVyXCIsICgpID0+IGlucHV0LlZlcnNpb25OdW1iZXIudG9TdHJpbmcoKSwgXCJ7VmVyc2lvbk51bWJlcn1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZURhdGFTZXRDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc2V0cy97RGF0YVNldElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBDb2x1bW5Hcm91cHM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgQ29sdW1uTGV2ZWxQZXJtaXNzaW9uUnVsZXM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgRGF0YVNldFVzYWdlQ29uZmlndXJhdGlvbjogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBEYXRhc2V0UGFyYW1ldGVyczogKF8pID0+IHNlX0RhdGFzZXRQYXJhbWV0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBGaWVsZEZvbGRlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgSW1wb3J0TW9kZTogW10sXG4gICAgICAgIExvZ2ljYWxUYWJsZU1hcDogKF8pID0+IHNlX0xvZ2ljYWxUYWJsZU1hcChfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBoeXNpY2FsVGFibGVNYXA6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUm93TGV2ZWxQZXJtaXNzaW9uRGF0YVNldDogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBSb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZURhdGFTZXRQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFTZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhU2V0SWQsIFwie0RhdGFTZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyYW50UGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUmV2b2tlUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZURhdGFTb3VyY2VDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc291cmNlcy97RGF0YVNvdXJjZUlkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU291cmNlSWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNvdXJjZUlkLCBcIntEYXRhU291cmNlSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBDcmVkZW50aWFsczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBEYXRhU291cmNlUGFyYW1ldGVyczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgU3NsUHJvcGVydGllczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBWcGNDb25uZWN0aW9uUHJvcGVydGllczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVEYXRhU291cmNlUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2RhdGEtc291cmNlcy97RGF0YVNvdXJjZUlkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU291cmNlSWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNvdXJjZUlkLCBcIntEYXRhU291cmNlSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBHcmFudFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJldm9rZVBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVGb2xkZXJDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2ZvbGRlcnMve0ZvbGRlcklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJGb2xkZXJJZFwiLCAoKSA9PiBpbnB1dC5Gb2xkZXJJZCwgXCJ7Rm9sZGVySWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBOYW1lOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlRm9sZGVyUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L2ZvbGRlcnMve0ZvbGRlcklkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJGb2xkZXJJZFwiLCAoKSA9PiBpbnB1dC5Gb2xkZXJJZCwgXCJ7Rm9sZGVySWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBHcmFudFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJldm9rZVBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZUdyb3VwQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L2dyb3Vwcy97R3JvdXBOYW1lfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiR3JvdXBOYW1lXCIsICgpID0+IGlucHV0Lkdyb3VwTmFtZSwgXCJ7R3JvdXBOYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIk5hbWVzcGFjZVwiLCAoKSA9PiBpbnB1dC5OYW1lc3BhY2UsIFwie05hbWVzcGFjZX1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIERlc2NyaXB0aW9uOiBbXSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vbmFtZXNwYWNlcy97TmFtZXNwYWNlfS9pYW0tcG9saWN5LWFzc2lnbm1lbnRzL3tBc3NpZ25tZW50TmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXNzaWdubWVudE5hbWVcIiwgKCkgPT4gaW5wdXQuQXNzaWdubWVudE5hbWUsIFwie0Fzc2lnbm1lbnROYW1lfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBBc3NpZ25tZW50U3RhdHVzOiBbXSxcbiAgICAgICAgSWRlbnRpdGllczogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBQb2xpY3lBcm46IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVJcFJlc3RyaWN0aW9uQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgKyBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9pcC1yZXN0cmljdGlvblwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgRW5hYmxlZDogW10sXG4gICAgICAgIElwUmVzdHJpY3Rpb25SdWxlTWFwOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVQdWJsaWNTaGFyaW5nU2V0dGluZ3NDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3B1YmxpYy1zaGFyaW5nLXNldHRpbmdzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBQdWJsaWNTaGFyaW5nRW5hYmxlZDogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vZGF0YS1zZXRzL3tEYXRhU2V0SWR9L3JlZnJlc2gtc2NoZWR1bGVzXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJEYXRhU2V0SWRcIiwgKCkgPT4gaW5wdXQuRGF0YVNldElkLCBcIntEYXRhU2V0SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIFNjaGVkdWxlOiAoXykgPT4gc2VfUmVmcmVzaFNjaGVkdWxlKF8sIGNvbnRleHQpLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdGVtcGxhdGVzL3tUZW1wbGF0ZUlkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUZW1wbGF0ZUlkXCIsICgpID0+IGlucHV0LlRlbXBsYXRlSWQsIFwie1RlbXBsYXRlSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEZWZpbml0aW9uOiAoXykgPT4gc2VfVGVtcGxhdGVWZXJzaW9uRGVmaW5pdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFNvdXJjZUVudGl0eTogKF8pID0+IF9qc29uKF8pLFxuICAgICAgICBWZXJzaW9uRGVzY3JpcHRpb246IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVUZW1wbGF0ZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9L2FsaWFzZXMve0FsaWFzTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGVtcGxhdGVJZFwiLCAoKSA9PiBpbnB1dC5UZW1wbGF0ZUlkLCBcIntUZW1wbGF0ZUlkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbGlhc05hbWVcIiwgKCkgPT4gaW5wdXQuQWxpYXNOYW1lLCBcIntBbGlhc05hbWV9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBUZW1wbGF0ZVZlcnNpb25OdW1iZXI6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVUZW1wbGF0ZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90ZW1wbGF0ZXMve1RlbXBsYXRlSWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRlbXBsYXRlSWRcIiwgKCkgPT4gaW5wdXQuVGVtcGxhdGVJZCwgXCJ7VGVtcGxhdGVJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyYW50UGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUmV2b2tlUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVGhlbWVDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RoZW1lcy97VGhlbWVJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGhlbWVJZFwiLCAoKSA9PiBpbnB1dC5UaGVtZUlkLCBcIntUaGVtZUlkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFzZVRoZW1lSWQ6IFtdLFxuICAgICAgICBDb25maWd1cmF0aW9uOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBWZXJzaW9uRGVzY3JpcHRpb246IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVUaGVtZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90aGVtZXMve1RoZW1lSWR9L2FsaWFzZXMve0FsaWFzTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVGhlbWVJZFwiLCAoKSA9PiBpbnB1dC5UaGVtZUlkLCBcIntUaGVtZUlkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBbGlhc05hbWVcIiwgKCkgPT4gaW5wdXQuQWxpYXNOYW1lLCBcIntBbGlhc05hbWV9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBUaGVtZVZlcnNpb25OdW1iZXI6IFtdLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVUaGVtZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90aGVtZXMve1RoZW1lSWR9L3Blcm1pc3Npb25zXCI7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJBd3NBY2NvdW50SWRcIiwgKCkgPT4gaW5wdXQuQXdzQWNjb3VudElkLCBcIntBd3NBY2NvdW50SWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlRoZW1lSWRcIiwgKCkgPT4gaW5wdXQuVGhlbWVJZCwgXCJ7VGhlbWVJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyYW50UGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgUmV2b2tlUGVybWlzc2lvbnM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVG9waWNDb21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3RvcGljcy97VG9waWNJZH1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkF3c0FjY291bnRJZFwiLCAoKSA9PiBpbnB1dC5Bd3NBY2NvdW50SWQsIFwie0F3c0FjY291bnRJZH1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiVG9waWNJZFwiLCAoKSA9PiBpbnB1dC5Ub3BpY0lkLCBcIntUb3BpY0lkfVwiLCBmYWxzZSk7XG4gICAgbGV0IGJvZHk7XG4gICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KHRha2UoaW5wdXQsIHtcbiAgICAgICAgVG9waWM6IChfKSA9PiBfanNvbihfKSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBfX0h0dHBSZXF1ZXN0KHtcbiAgICAgICAgcHJvdG9jb2wsXG4gICAgICAgIGhvc3RuYW1lLFxuICAgICAgICBwb3J0LFxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHBhdGg6IHJlc29sdmVkUGF0aCxcbiAgICAgICAgYm9keSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2VfVXBkYXRlVG9waWNQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lLCBwcm90b2NvbCA9IFwiaHR0cHNcIiwgcG9ydCwgcGF0aDogYmFzZVBhdGggfSA9IGF3YWl0IGNvbnRleHQuZW5kcG9pbnQoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICAgIGxldCByZXNvbHZlZFBhdGggPSBgJHtiYXNlUGF0aD8uZW5kc1dpdGgoXCIvXCIpID8gYmFzZVBhdGguc2xpY2UoMCwgLTEpIDogYmFzZVBhdGggfHwgXCJcIn1gICtcbiAgICAgICAgXCIvYWNjb3VudHMve0F3c0FjY291bnRJZH0vdG9waWNzL3tUb3BpY0lkfS9wZXJtaXNzaW9uc1wiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBHcmFudFBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFJldm9rZVBlcm1pc3Npb25zOiAoXykgPT4gX2pzb24oXyksXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS90b3BpY3Mve1RvcGljSWR9L3NjaGVkdWxlcy97RGF0YXNldElkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJUb3BpY0lkXCIsICgpID0+IGlucHV0LlRvcGljSWQsIFwie1RvcGljSWR9XCIsIGZhbHNlKTtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIkRhdGFzZXRJZFwiLCAoKSA9PiBpbnB1dC5EYXRhc2V0SWQsIFwie0RhdGFzZXRJZH1cIiwgZmFsc2UpO1xuICAgIGxldCBib2R5O1xuICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeSh0YWtlKGlucHV0LCB7XG4gICAgICAgIFJlZnJlc2hTY2hlZHVsZTogKF8pID0+IHNlX1RvcGljUmVmcmVzaFNjaGVkdWxlKF8sIGNvbnRleHQpLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZV9VcGRhdGVVc2VyQ29tbWFuZCA9IGFzeW5jIChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgaG9zdG5hbWUsIHByb3RvY29sID0gXCJodHRwc1wiLCBwb3J0LCBwYXRoOiBiYXNlUGF0aCB9ID0gYXdhaXQgY29udGV4dC5lbmRwb2ludCgpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgbGV0IHJlc29sdmVkUGF0aCA9IGAke2Jhc2VQYXRoPy5lbmRzV2l0aChcIi9cIikgPyBiYXNlUGF0aC5zbGljZSgwLCAtMSkgOiBiYXNlUGF0aCB8fCBcIlwifWAgK1xuICAgICAgICBcIi9hY2NvdW50cy97QXdzQWNjb3VudElkfS9uYW1lc3BhY2VzL3tOYW1lc3BhY2V9L3VzZXJzL3tVc2VyTmFtZX1cIjtcbiAgICByZXNvbHZlZFBhdGggPSBfX3Jlc29sdmVkUGF0aChyZXNvbHZlZFBhdGgsIGlucHV0LCBcIlVzZXJOYW1lXCIsICgpID0+IGlucHV0LlVzZXJOYW1lLCBcIntVc2VyTmFtZX1cIiwgZmFsc2UpO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJOYW1lc3BhY2VcIiwgKCkgPT4gaW5wdXQuTmFtZXNwYWNlLCBcIntOYW1lc3BhY2V9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBDdXN0b21GZWRlcmF0aW9uUHJvdmlkZXJVcmw6IFtdLFxuICAgICAgICBDdXN0b21QZXJtaXNzaW9uc05hbWU6IFtdLFxuICAgICAgICBFbWFpbDogW10sXG4gICAgICAgIEV4dGVybmFsTG9naW5GZWRlcmF0aW9uUHJvdmlkZXJUeXBlOiBbXSxcbiAgICAgICAgRXh0ZXJuYWxMb2dpbklkOiBbXSxcbiAgICAgICAgUm9sZTogW10sXG4gICAgICAgIFVuYXBwbHlDdXN0b21QZXJtaXNzaW9uczogW10sXG4gICAgfSkpO1xuICAgIHJldHVybiBuZXcgX19IdHRwUmVxdWVzdCh7XG4gICAgICAgIHByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSxcbiAgICAgICAgcG9ydCxcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBwYXRoOiByZXNvbHZlZFBhdGgsXG4gICAgICAgIGJvZHksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlX1VwZGF0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kID0gYXN5bmMgKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgeyBob3N0bmFtZSwgcHJvdG9jb2wgPSBcImh0dHBzXCIsIHBvcnQsIHBhdGg6IGJhc2VQYXRoIH0gPSBhd2FpdCBjb250ZXh0LmVuZHBvaW50KCk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gYCR7YmFzZVBhdGg/LmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VQYXRoLnNsaWNlKDAsIC0xKSA6IGJhc2VQYXRoIHx8IFwiXCJ9YCArXG4gICAgICAgIFwiL2FjY291bnRzL3tBd3NBY2NvdW50SWR9L3ZwYy1jb25uZWN0aW9ucy97VlBDQ29ubmVjdGlvbklkfVwiO1xuICAgIHJlc29sdmVkUGF0aCA9IF9fcmVzb2x2ZWRQYXRoKHJlc29sdmVkUGF0aCwgaW5wdXQsIFwiQXdzQWNjb3VudElkXCIsICgpID0+IGlucHV0LkF3c0FjY291bnRJZCwgXCJ7QXdzQWNjb3VudElkfVwiLCBmYWxzZSk7XG4gICAgcmVzb2x2ZWRQYXRoID0gX19yZXNvbHZlZFBhdGgocmVzb2x2ZWRQYXRoLCBpbnB1dCwgXCJWUENDb25uZWN0aW9uSWRcIiwgKCkgPT4gaW5wdXQuVlBDQ29ubmVjdGlvbklkLCBcIntWUENDb25uZWN0aW9uSWR9XCIsIGZhbHNlKTtcbiAgICBsZXQgYm9keTtcbiAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkodGFrZShpbnB1dCwge1xuICAgICAgICBEbnNSZXNvbHZlcnM6IChfKSA9PiBfanNvbihfKSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFJvbGVBcm46IFtdLFxuICAgICAgICBTZWN1cml0eUdyb3VwSWRzOiAoXykgPT4gX2pzb24oXyksXG4gICAgICAgIFN1Ym5ldElkczogKF8pID0+IF9qc29uKF8pLFxuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IF9fSHR0cFJlcXVlc3Qoe1xuICAgICAgICBwcm90b2NvbCxcbiAgICAgICAgaG9zdG5hbWUsXG4gICAgICAgIHBvcnQsXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgcGF0aDogcmVzb2x2ZWRQYXRoLFxuICAgICAgICBib2R5LFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZV9DYW5jZWxJbmdlc3Rpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ2FuY2VsSW5nZXN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbmdlc3Rpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NhbmNlbEluZ2VzdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFjY291bnRDdXN0b21pemF0aW9uOiBfanNvbixcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXdzQWNjb3VudElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZXNwYWNlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlQWNjb3VudFN1YnNjcmlwdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTaWdudXBSZXNwb25zZTogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUFjY291bnRTdWJzY3JpcHRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUFuYWx5c2lzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZUFuYWx5c2lzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbmFseXNpc0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRpb25TdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVBbmFseXNpc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVEYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlRGFzaGJvYXJkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhc2hib2FyZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmVyc2lvbkFybjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZURhc2hib2FyZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVEYXRhU2V0Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZURhdGFTZXRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTZXRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluZ2VzdGlvbkFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluZ2VzdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlRGF0YVNldENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlRGF0YVNvdXJjZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVEYXRhU291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTb3VyY2VJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZURhdGFTb3VyY2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlRm9sZGVyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZUZvbGRlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRm9sZGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVGb2xkZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUZvbGRlck1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlRm9sZGVyTWVtYmVyc2hpcENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRm9sZGVyTWVtYmVyOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdEludDMyLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZUZvbGRlck1lbWJlcnNoaXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlR3JvdXBDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlR3JvdXBDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEdyb3VwOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlR3JvdXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUdyb3VwTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVHcm91cE1lbWJlcnNoaXBDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEdyb3VwTWVtYmVyOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlR3JvdXBNZW1iZXJzaGlwQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBc3NpZ25tZW50SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBc3NpZ25tZW50TmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2lnbm1lbnRTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJZGVudGl0aWVzOiBfanNvbixcbiAgICAgICAgUG9saWN5QXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZUluZ2VzdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVJbmdlc3Rpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluZ2VzdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5nZXN0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlSW5nZXN0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlTmFtZXNwYWNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZU5hbWVzcGFjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ2FwYWNpdHlSZWdpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIElkZW50aXR5U3RvcmU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlTmFtZXNwYWNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2NoZWR1bGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUZW1wbGF0ZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRpb25TdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmVyc2lvbkFybjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVRlbXBsYXRlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUZW1wbGF0ZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRlbXBsYXRlQWxpYXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlQWxpYXM6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVUZW1wbGF0ZUFsaWFzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlVGhlbWVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfQ3JlYXRlVGhlbWVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25Bcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVUaGVtZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9DcmVhdGVUaGVtZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRoZW1lQWxpYXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQWxpYXM6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9DcmVhdGVUaGVtZUFsaWFzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVRvcGljQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRvcGljQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZWZyZXNoQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVRvcGljQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0NyZWF0ZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0NyZWF0ZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhc2V0QXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfQ3JlYXRlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfQ3JlYXRlVlBDQ29ubmVjdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9DcmVhdGVWUENDb25uZWN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBdmFpbGFiaWxpdHlTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGlvblN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZQQ0Nvbm5lY3Rpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0NyZWF0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlQWNjb3VudFN1YnNjcmlwdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlQW5hbHlzaXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlQW5hbHlzaXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFuYWx5c2lzSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEZWxldGlvblRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUFuYWx5c2lzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVEYXNoYm9hcmRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlRGFzaGJvYXJkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXNoYm9hcmRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZURhc2hib2FyZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVsZXRlRGF0YVNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVEYXRhU2V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhU2V0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVEYXRhU2V0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZURhdGFTZXRSZWZyZXNoUHJvcGVydGllc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVEYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZURhdGFTZXRSZWZyZXNoUHJvcGVydGllc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZURhdGFTb3VyY2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlRGF0YVNvdXJjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVNvdXJjZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlRGF0YVNvdXJjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVGb2xkZXJDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlRm9sZGVyQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGb2xkZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZUZvbGRlckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVGb2xkZXJNZW1iZXJzaGlwQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUZvbGRlck1lbWJlcnNoaXBDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RJbnQzMixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVGb2xkZXJNZW1iZXJzaGlwQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVHcm91cENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVHcm91cENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlR3JvdXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVHcm91cE1lbWJlcnNoaXBDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlR3JvdXBNZW1iZXJzaGlwQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVHcm91cE1lbWJlcnNoaXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFzc2lnbm1lbnROYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZU5hbWVzcGFjZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVOYW1lc3BhY2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZU5hbWVzcGFjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVJlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNjaGVkdWxlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVRlbXBsYXRlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVRlbXBsYXRlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVGVtcGxhdGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVUZW1wbGF0ZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVRlbXBsYXRlQWxpYXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFsaWFzTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVUZW1wbGF0ZUFsaWFzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVRoZW1lQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVRoZW1lQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVGhlbWVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVUaGVtZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVRoZW1lQWxpYXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFsaWFzTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVUaGVtZUFsaWFzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVUb3BpY0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVUb3BpY0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVRvcGljQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZWxldGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZWxldGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YXNldEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0RlbGV0ZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVVzZXJDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlVXNlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVsZXRlVXNlckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVVzZXJCeVByaW5jaXBhbElkQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0RlbGV0ZVVzZXJCeVByaW5jaXBhbElkQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVVc2VyQnlQcmluY2lwYWxJZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0RlbGV0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlVlBDQ29ubmVjdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXZhaWxhYmlsaXR5U3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGVsZXRpb25TdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWUENDb25uZWN0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZWxldGVWUENDb25uZWN0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVBY2NvdW50Q3VzdG9taXphdGlvbkNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUFjY291bnRDdXN0b21pemF0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBY2NvdW50Q3VzdG9taXphdGlvbjogX2pzb24sXG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEF3c0FjY291bnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5hbWVzcGFjZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQWNjb3VudFNldHRpbmdzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQWNjb3VudFNldHRpbmdzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBY2NvdW50U2V0dGluZ3M6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFjY291bnRTZXR0aW5nc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVBY2NvdW50U3Vic2NyaXB0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlQWNjb3VudFN1YnNjcmlwdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQWNjb3VudEluZm86IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFjY291bnRTdWJzY3JpcHRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQW5hbHlzaXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBbmFseXNpc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQW5hbHlzaXM6IChfKSA9PiBkZV9BbmFseXNpcyhfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBbmFseXNpc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVBbmFseXNpc0RlZmluaXRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBbmFseXNpc0RlZmluaXRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFuYWx5c2lzSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEZWZpbml0aW9uOiAoXykgPT4gZGVfQW5hbHlzaXNEZWZpbml0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBFcnJvcnM6IF9qc29uLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVzb3VyY2VTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQW5hbHlzaXNEZWZpbml0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQW5hbHlzaXNQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUFuYWx5c2lzUGVybWlzc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFuYWx5c2lzQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQW5hbHlzaXNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVBbmFseXNpc1Blcm1pc3Npb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQXNzZXRCdW5kbGVFeHBvcnRKb2JDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBc3NldEJ1bmRsZUV4cG9ydEpvYkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXNzZXRCdW5kbGVFeHBvcnRKb2JJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEF3c0FjY291bnRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENsb3VkRm9ybWF0aW9uT3ZlcnJpZGVQcm9wZXJ0eUNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRG93bmxvYWRVcmw6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFcnJvcnM6IF9qc29uLFxuICAgICAgICBFeHBvcnRGb3JtYXQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbmNsdWRlQWxsRGVwZW5kZW5jaWVzOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIEpvYlN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlQXJuczogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlQXNzZXRCdW5kbGVFeHBvcnRKb2JDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlQXNzZXRCdW5kbGVJbXBvcnRKb2JDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVBc3NldEJ1bmRsZUltcG9ydEpvYkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXNzZXRCdW5kbGVJbXBvcnRKb2JJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2V0QnVuZGxlSW1wb3J0U291cmNlOiBfanNvbixcbiAgICAgICAgQXdzQWNjb3VudElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEVycm9yczogX2pzb24sXG4gICAgICAgIEZhaWx1cmVBY3Rpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBKb2JTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBPdmVycmlkZVBhcmFtZXRlcnM6IChfKSA9PiBkZV9Bc3NldEJ1bmRsZUltcG9ydEpvYk92ZXJyaWRlUGFyYW1ldGVycyhfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUm9sbGJhY2tFcnJvcnM6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUFzc2V0QnVuZGxlSW1wb3J0Sm9iQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZURhc2hib2FyZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZURhc2hib2FyZENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGFzaGJvYXJkOiAoXykgPT4gZGVfRGFzaGJvYXJkKF8sIGNvbnRleHQpLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZURhc2hib2FyZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVEYXNoYm9hcmREZWZpbml0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlRGFzaGJvYXJkRGVmaW5pdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGFzaGJvYXJkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXNoYm9hcmRQdWJsaXNoT3B0aW9uczogX2pzb24sXG4gICAgICAgIERlZmluaXRpb246IChfKSA9PiBkZV9EYXNoYm9hcmRWZXJzaW9uRGVmaW5pdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgRXJyb3JzOiBfanNvbixcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZURhc2hib2FyZERlZmluaXRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVEYXNoYm9hcmRQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZURhc2hib2FyZFBlcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXNoYm9hcmRBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXNoYm9hcmRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExpbmtTaGFyaW5nQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVEYXNoYm9hcmRQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZURhdGFTZXRDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVEYXRhU2V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhU2V0OiAoXykgPT4gZGVfRGF0YVNldChfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVEYXRhU2V0Q29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlRGF0YVNldFBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlRGF0YVNldFBlcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhU2V0QXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVNldElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZURhdGFTZXRQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZURhdGFTZXRSZWZyZXNoUHJvcGVydGllc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZURhdGFTZXRSZWZyZXNoUHJvcGVydGllc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNldFJlZnJlc2hQcm9wZXJ0aWVzOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVEYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZURhdGFTb3VyY2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVEYXRhU291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhU291cmNlOiAoXykgPT4gZGVfRGF0YVNvdXJjZShfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVEYXRhU291cmNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlRGF0YVNvdXJjZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlRGF0YVNvdXJjZVBlcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhU291cmNlQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVNvdXJjZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZURhdGFTb3VyY2VQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUZvbGRlckNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUZvbGRlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRm9sZGVyOiAoXykgPT4gZGVfRm9sZGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUZvbGRlckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVGb2xkZXJQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUZvbGRlclBlcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGb2xkZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVGb2xkZXJQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVGb2xkZXJSZXNvbHZlZFBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlRm9sZGVyUmVzb2x2ZWRQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRm9sZGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlRm9sZGVyUmVzb2x2ZWRQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVHcm91cENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUdyb3VwQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBHcm91cDogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlR3JvdXBDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUdyb3VwTWVtYmVyc2hpcENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUdyb3VwTWVtYmVyc2hpcENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgR3JvdXBNZW1iZXI6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUdyb3VwTWVtYmVyc2hpcENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIElBTVBvbGljeUFzc2lnbm1lbnQ6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZUlBTVBvbGljeUFzc2lnbm1lbnRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlSW5nZXN0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlSW5nZXN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBJbmdlc3Rpb246IChfKSA9PiBkZV9Jbmdlc3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlSW5nZXN0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZUlwUmVzdHJpY3Rpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVJcFJlc3RyaWN0aW9uQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBd3NBY2NvdW50SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBFbmFibGVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIElwUmVzdHJpY3Rpb25SdWxlTWFwOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVJcFJlc3RyaWN0aW9uQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlTmFtZXNwYWNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlTmFtZXNwYWNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBOYW1lc3BhY2U6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZU5hbWVzcGFjZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlZnJlc2hTY2hlZHVsZTogKF8pID0+IGRlX1JlZnJlc2hTY2hlZHVsZShfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVUZW1wbGF0ZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGU6IChfKSA9PiBkZV9UZW1wbGF0ZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUZW1wbGF0ZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZVRlbXBsYXRlQWxpYXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVUZW1wbGF0ZUFsaWFzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUFsaWFzOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUZW1wbGF0ZUFsaWFzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUZW1wbGF0ZURlZmluaXRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVUZW1wbGF0ZURlZmluaXRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERlZmluaXRpb246IChfKSA9PiBkZV9UZW1wbGF0ZVZlcnNpb25EZWZpbml0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBFcnJvcnM6IF9qc29uLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVzb3VyY2VTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVRlbXBsYXRlRGVmaW5pdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZVRlbXBsYXRlUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVUZW1wbGF0ZVBlcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVGVtcGxhdGVQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUaGVtZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZVRoZW1lQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZTogKF8pID0+IGRlX1RoZW1lKF8sIGNvbnRleHQpLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVRoZW1lQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUaGVtZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVGhlbWVBbGlhc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVBbGlhczogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVGhlbWVBbGlhc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVUaGVtZVBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVGhlbWVQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVRoZW1lUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0Rlc2NyaWJlVG9waWNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVUb3BpY0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWM6IF9qc29uLFxuICAgICAgICBUb3BpY0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUb3BpY0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZVRvcGljUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVUb3BpY1Blcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0Rlc2NyaWJlVG9waWNQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZVRvcGljUmVmcmVzaENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9EZXNjcmliZVRvcGljUmVmcmVzaENvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVmcmVzaERldGFpbHM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVRvcGljUmVmcmVzaENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVG9waWNSZWZyZXNoU2NoZWR1bGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFzZXRBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZWZyZXNoU2NoZWR1bGU6IChfKSA9PiBkZV9Ub3BpY1JlZnJlc2hTY2hlZHVsZShfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9EZXNjcmliZVVzZXJDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfRGVzY3JpYmVVc2VyQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBVc2VyOiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfRGVzY3JpYmVVc2VyQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfRGVzY3JpYmVWUENDb25uZWN0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0Rlc2NyaWJlVlBDQ29ubmVjdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBWUENDb25uZWN0aW9uOiAoXykgPT4gZGVfVlBDQ29ubmVjdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9EZXNjcmliZVZQQ0Nvbm5lY3Rpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dlbmVyYXRlRW1iZWRVcmxGb3JBbm9ueW1vdXNVc2VyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0dlbmVyYXRlRW1iZWRVcmxGb3JBbm9ueW1vdXNVc2VyQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbm9ueW1vdXNVc2VyQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRW1iZWRVcmw6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9HZW5lcmF0ZUVtYmVkVXJsRm9yQW5vbnltb3VzVXNlckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Nlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Nlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9HZW5lcmF0ZUVtYmVkVXJsRm9yUmVnaXN0ZXJlZFVzZXJDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2VuZXJhdGVFbWJlZFVybEZvclJlZ2lzdGVyZWRVc2VyQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBFbWJlZFVybDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0dlbmVyYXRlRW1iZWRVcmxGb3JSZWdpc3RlcmVkVXNlckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJRdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlNlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9TZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfR2V0RGFzaGJvYXJkRW1iZWRVcmxDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfR2V0RGFzaGJvYXJkRW1iZWRVcmxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEVtYmVkVXJsOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0RGFzaGJvYXJkRW1iZWRVcmxDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkRvbWFpbk5vdFdoaXRlbGlzdGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjRG9tYWluTm90V2hpdGVsaXN0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0RvbWFpbk5vdFdoaXRlbGlzdGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0lkZW50aXR5VHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJRdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0dldFNlc3Npb25FbWJlZFVybENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9HZXRTZXNzaW9uRW1iZWRVcmxDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEVtYmVkVXJsOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfR2V0U2Vzc2lvbkVtYmVkVXJsQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlF1aWNrU2lnaHRVc2VyTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNRdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9RdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlNlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNTZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9TZXNzaW9uTGlmZXRpbWVJbk1pbnV0ZXNJbnZhbGlkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0QW5hbHlzZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdEFuYWx5c2VzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbmFseXNpc1N1bW1hcnlMaXN0OiAoXykgPT4gZGVfQW5hbHlzaXNTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEFuYWx5c2VzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEFzc2V0QnVuZGxlRXhwb3J0Sm9ic0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0QXNzZXRCdW5kbGVFeHBvcnRKb2JzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBc3NldEJ1bmRsZUV4cG9ydEpvYlN1bW1hcnlMaXN0OiAoXykgPT4gZGVfQXNzZXRCdW5kbGVFeHBvcnRKb2JTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEFzc2V0QnVuZGxlRXhwb3J0Sm9ic0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0QXNzZXRCdW5kbGVJbXBvcnRKb2JzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RBc3NldEJ1bmRsZUltcG9ydEpvYnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFzc2V0QnVuZGxlSW1wb3J0Sm9iU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlN1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0QXNzZXRCdW5kbGVJbXBvcnRKb2JzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3REYXNoYm9hcmRzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3REYXNoYm9hcmRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXNoYm9hcmRTdW1tYXJ5TGlzdDogKF8pID0+IGRlX0Rhc2hib2FyZFN1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0RGFzaGJvYXJkc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3REYXNoYm9hcmRWZXJzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0RGFzaGJvYXJkVmVyc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhc2hib2FyZFZlcnNpb25TdW1tYXJ5TGlzdDogKF8pID0+IGRlX0Rhc2hib2FyZFZlcnNpb25TdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdERhc2hib2FyZFZlcnNpb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0RGF0YVNldHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdERhdGFTZXRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhU2V0U3VtbWFyaWVzOiAoXykgPT4gZGVfRGF0YVNldFN1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0RGF0YVNldHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdERhdGFTb3VyY2VzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3REYXRhU291cmNlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNvdXJjZXM6IChfKSA9PiBkZV9EYXRhU291cmNlTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdERhdGFTb3VyY2VzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RGb2xkZXJNZW1iZXJzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RGb2xkZXJNZW1iZXJzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBGb2xkZXJNZW1iZXJMaXN0OiBfanNvbixcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEZvbGRlck1lbWJlcnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0Rm9sZGVyc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0Rm9sZGVyc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRm9sZGVyU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9Gb2xkZXJTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEZvbGRlcnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0R3JvdXBNZW1iZXJzaGlwc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0R3JvdXBNZW1iZXJzaGlwc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgR3JvdXBNZW1iZXJMaXN0OiBfanNvbixcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEdyb3VwTWVtYmVyc2hpcHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdEdyb3Vwc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0R3JvdXBzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBHcm91cExpc3Q6IF9qc29uLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0R3JvdXBzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RJQU1Qb2xpY3lBc3NpZ25tZW50c0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0SUFNUG9saWN5QXNzaWdubWVudHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIElBTVBvbGljeUFzc2lnbm1lbnRzOiBfanNvbixcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdElBTVBvbGljeUFzc2lnbm1lbnRzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0SUFNUG9saWN5QXNzaWdubWVudHNGb3JVc2VyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RJQU1Qb2xpY3lBc3NpZ25tZW50c0ZvclVzZXJDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFjdGl2ZUFzc2lnbm1lbnRzOiBfanNvbixcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdElBTVBvbGljeUFzc2lnbm1lbnRzRm9yVXNlckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RJbmdlc3Rpb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RJbmdlc3Rpb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBJbmdlc3Rpb25zOiAoXykgPT4gZGVfSW5nZXN0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdEluZ2VzdGlvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0TmFtZXNwYWNlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0TmFtZXNwYWNlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTmFtZXNwYWNlczogX2pzb24sXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3ROYW1lc3BhY2VzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RSZWZyZXNoU2NoZWR1bGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RSZWZyZXNoU2NoZWR1bGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZWZyZXNoU2NoZWR1bGVzOiAoXykgPT4gZGVfUmVmcmVzaFNjaGVkdWxlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFJlZnJlc2hTY2hlZHVsZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RUYWdzRm9yUmVzb3VyY2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRhZ3NGb3JSZXNvdXJjZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGFnczogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RUYWdzRm9yUmVzb3VyY2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRlbXBsYXRlQWxpYXNlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VGVtcGxhdGVBbGlhc2VzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUFsaWFzTGlzdDogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RUZW1wbGF0ZUFsaWFzZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRlbXBsYXRlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VGVtcGxhdGVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZVN1bW1hcnlMaXN0OiAoXykgPT4gZGVfVGVtcGxhdGVTdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRlbXBsYXRlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFRlbXBsYXRlVmVyc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRlbXBsYXRlVmVyc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlVmVyc2lvblN1bW1hcnlMaXN0OiAoXykgPT4gZGVfVGVtcGxhdGVWZXJzaW9uU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RUZW1wbGF0ZVZlcnNpb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VGhlbWVBbGlhc2VzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RUaGVtZUFsaWFzZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQWxpYXNMaXN0OiBfanNvbixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRoZW1lQWxpYXNlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX0xpc3RUaGVtZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFRoZW1lc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVTdW1tYXJ5TGlzdDogKF8pID0+IGRlX1RoZW1lU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RUaGVtZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VGhlbWVWZXJzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9MaXN0VGhlbWVWZXJzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVWZXJzaW9uU3VtbWFyeUxpc3Q6IChfKSA9PiBkZV9UaGVtZVZlcnNpb25TdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRoZW1lVmVyc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VG9waWNSZWZyZXNoU2NoZWR1bGVzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RUb3BpY1JlZnJlc2hTY2hlZHVsZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlZnJlc2hTY2hlZHVsZXM6IChfKSA9PiBkZV9Ub3BpY1JlZnJlc2hTY2hlZHVsZVN1bW1hcmllcyhfLCBjb250ZXh0KSxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFRvcGljUmVmcmVzaFNjaGVkdWxlc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9MaXN0VG9waWNzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RUb3BpY3NDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljc1N1bW1hcmllczogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RUb3BpY3NDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFVzZXJHcm91cHNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFVzZXJHcm91cHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEdyb3VwTGlzdDogX2pzb24sXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX0xpc3RVc2VyR3JvdXBzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFVzZXJzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RVc2Vyc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVXNlckxpc3Q6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9MaXN0VXNlcnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfTGlzdFZQQ0Nvbm5lY3Rpb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX0xpc3RWUENDb25uZWN0aW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVlBDQ29ubmVjdGlvblN1bW1hcmllczogKF8pID0+IGRlX1ZQQ0Nvbm5lY3Rpb25TdW1tYXJ5TGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfTGlzdFZQQ0Nvbm5lY3Rpb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9QdXREYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUHV0RGF0YVNldFJlZnJlc2hQcm9wZXJ0aWVzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9QdXREYXRhU2V0UmVmcmVzaFByb3BlcnRpZXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfUmVnaXN0ZXJVc2VyQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1JlZ2lzdGVyVXNlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVXNlcjogX2pzb24sXG4gICAgICAgIFVzZXJJbnZpdGF0aW9uVXJsOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmVnaXN0ZXJVc2VyQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9SZXN0b3JlQW5hbHlzaXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfUmVzdG9yZUFuYWx5c2lzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbmFseXNpc0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfUmVzdG9yZUFuYWx5c2lzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZWFyY2hBbmFseXNlc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9TZWFyY2hBbmFseXNlc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQW5hbHlzaXNTdW1tYXJ5TGlzdDogKF8pID0+IGRlX0FuYWx5c2lzU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlYXJjaEFuYWx5c2VzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZWFyY2hEYXNoYm9hcmRzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlYXJjaERhc2hib2FyZHNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhc2hib2FyZFN1bW1hcnlMaXN0OiAoXykgPT4gZGVfRGFzaGJvYXJkU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlYXJjaERhc2hib2FyZHNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1NlYXJjaERhdGFTZXRzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlYXJjaERhdGFTZXRzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhU2V0U3VtbWFyaWVzOiAoXykgPT4gZGVfRGF0YVNldFN1bW1hcnlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOZXh0VG9rZW46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TZWFyY2hEYXRhU2V0c0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU2VhcmNoRGF0YVNvdXJjZXNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU2VhcmNoRGF0YVNvdXJjZXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhdGFTb3VyY2VTdW1tYXJpZXM6IChfKSA9PiBkZV9EYXRhU291cmNlU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlYXJjaERhdGFTb3VyY2VzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TZWFyY2hGb2xkZXJzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlYXJjaEZvbGRlcnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEZvbGRlclN1bW1hcnlMaXN0OiAoXykgPT4gZGVfRm9sZGVyU3VtbWFyeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIE5leHRUb2tlbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1NlYXJjaEZvbGRlcnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkTmV4dFRva2VuRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRSZXF1ZXN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFJlcXVlc3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfU2VhcmNoR3JvdXBzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1NlYXJjaEdyb3Vwc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgR3JvdXBMaXN0OiBfanNvbixcbiAgICAgICAgTmV4dFRva2VuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfU2VhcmNoR3JvdXBzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1N0YXJ0QXNzZXRCdW5kbGVFeHBvcnRKb2JDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfU3RhcnRBc3NldEJ1bmRsZUV4cG9ydEpvYkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXNzZXRCdW5kbGVFeHBvcnRKb2JJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1N0YXJ0QXNzZXRCdW5kbGVFeHBvcnRKb2JDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9TdGFydEFzc2V0QnVuZGxlSW1wb3J0Sm9iQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1N0YXJ0QXNzZXRCdW5kbGVJbXBvcnRKb2JDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2V0QnVuZGxlSW1wb3J0Sm9iSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9TdGFydEFzc2V0QnVuZGxlSW1wb3J0Sm9iQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVGFnUmVzb3VyY2VDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVGFnUmVzb3VyY2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1RhZ1Jlc291cmNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VbnRhZ1Jlc291cmNlQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VudGFnUmVzb3VyY2VDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VudGFnUmVzb3VyY2VDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFjY291bnRDdXN0b21pemF0aW9uOiBfanNvbixcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXdzQWNjb3VudElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZXNwYWNlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlQWNjb3VudEN1c3RvbWl6YXRpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVBY2NvdW50U2V0dGluZ3NDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlQWNjb3VudFNldHRpbmdzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVBY2NvdW50U2V0dGluZ3NDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUFuYWx5c2lzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUFuYWx5c2lzQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBbmFseXNpc0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVXBkYXRlU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlQW5hbHlzaXNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVBbmFseXNpc1Blcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUFuYWx5c2lzUGVybWlzc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFuYWx5c2lzQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQW5hbHlzaXNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlQW5hbHlzaXNQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZURhc2hib2FyZENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVEYXNoYm9hcmRDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGFzaGJvYXJkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFZlcnNpb25Bcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZURhc2hib2FyZENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZURhc2hib2FyZFBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZURhc2hib2FyZFBlcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXNoYm9hcmRBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXNoYm9hcmRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExpbmtTaGFyaW5nQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlRGFzaGJvYXJkUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVEYXNoYm9hcmRQdWJsaXNoZWRWZXJzaW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZURhc2hib2FyZFB1Ymxpc2hlZFZlcnNpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIERhc2hib2FyZEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhc2hib2FyZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlRGFzaGJvYXJkUHVibGlzaGVkVmVyc2lvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlRGF0YVNldENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVEYXRhU2V0Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhU2V0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbmdlc3Rpb25Bcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbmdlc3Rpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZURhdGFTZXRDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlRGF0YVNldFBlcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZURhdGFTZXRQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YVNldEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTZXRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZURhdGFTZXRQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlRGF0YVNvdXJjZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVEYXRhU291cmNlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhU291cmNlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBVcGRhdGVTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVEYXRhU291cmNlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVEYXRhU291cmNlUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlRGF0YVNvdXJjZVBlcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBEYXRhU291cmNlQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVNvdXJjZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlRGF0YVNvdXJjZVBlcm1pc3Npb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVGb2xkZXJDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlRm9sZGVyQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGb2xkZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUZvbGRlckNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVGb2xkZXJQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVGb2xkZXJQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRm9sZGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RJbnQzMixcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVGb2xkZXJQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUdyb3VwQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZUdyb3VwQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBHcm91cDogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZUdyb3VwQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVJQU1Qb2xpY3lBc3NpZ25tZW50Q29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBc3NpZ25tZW50SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBc3NpZ25tZW50TmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2lnbm1lbnRTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJZGVudGl0aWVzOiBfanNvbixcbiAgICAgICAgUG9saWN5QXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlSUFNUG9saWN5QXNzaWdubWVudENvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZUlwUmVzdHJpY3Rpb25Db21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlSXBSZXN0cmljdGlvbkNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXdzQWNjb3VudElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlSXBSZXN0cmljdGlvbkNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlUHVibGljU2hhcmluZ1NldHRpbmdzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVB1YmxpY1NoYXJpbmdTZXR0aW5nc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlUHVibGljU2hhcmluZ1NldHRpbmdzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRQcmljaW5nUGxhbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVSZWZyZXNoU2NoZWR1bGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTY2hlZHVsZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNQcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1ByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVGVtcGxhdGVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlVGVtcGxhdGVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25Bcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVUZW1wbGF0ZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVUZW1wbGF0ZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVRlbXBsYXRlQWxpYXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlQWxpYXM6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVUZW1wbGF0ZUFsaWFzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlTm90Rm91bmRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlRocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9UaHJvdHRsaW5nRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZVRlbXBsYXRlUGVybWlzc2lvbnNDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlVGVtcGxhdGVQZXJtaXNzaW9uc0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUGVybWlzc2lvbnM6IF9qc29uLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRlbXBsYXRlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVUZW1wbGF0ZVBlcm1pc3Npb25zQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVGhlbWVDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlVGhlbWVDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25Bcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVUaGVtZUNvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVUaGVtZUFsaWFzQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVRoZW1lQWxpYXNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQWxpYXM6IF9qc29uLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVUaGVtZUFsaWFzQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZGVfVXBkYXRlVGhlbWVQZXJtaXNzaW9uc0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVUaGVtZVBlcm1pc3Npb25zQ29tbWFuZEVycm9yKG91dHB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKG91dHB1dCksXG4gICAgfSk7XG4gICAgY29uc3QgZGF0YSA9IF9fZXhwZWN0Tm9uTnVsbChfX2V4cGVjdE9iamVjdChhd2FpdCBwYXJzZUJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpKSwgXCJib2R5XCIpO1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBQZXJtaXNzaW9uczogX2pzb24sXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVRoZW1lUGVybWlzc2lvbnNDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVUb3BpY0NvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVUb3BpY0NvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVmcmVzaEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgbWFwKGNvbnRlbnRzLCB7XG4gICAgICAgIFN0YXR1czogWywgb3V0cHV0LnN0YXR1c0NvZGVdLFxuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50cztcbn07XG5jb25zdCBkZV9VcGRhdGVUb3BpY0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlRXhpc3RzRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Jlc291cmNlRXhpc3RzRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVUb3BpY1Blcm1pc3Npb25zQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVRvcGljUGVybWlzc2lvbnNDb21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIFBlcm1pc3Npb25zOiBfanNvbixcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUb3BpY0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIG1hcChjb250ZW50cywge1xuICAgICAgICBTdGF0dXM6IFssIG91dHB1dC5zdGF0dXNDb2RlXSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudHM7XG59O1xuY29uc3QgZGVfVXBkYXRlVG9waWNQZXJtaXNzaW9uc0NvbW1hbmRFcnJvciA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIC4uLm91dHB1dCxcbiAgICAgICAgYm9keTogYXdhaXQgcGFyc2VFcnJvckJvZHkob3V0cHV0LmJvZHksIGNvbnRleHQpLFxuICAgIH07XG4gICAgY29uc3QgZXJyb3JDb2RlID0gbG9hZFJlc3RKc29uRXJyb3JDb2RlKG91dHB1dCwgcGFyc2VkT3V0cHV0LmJvZHkpO1xuICAgIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgXCJBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNBY2Nlc3NEZW5pZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0FjY2Vzc0RlbmllZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQ29uZmxpY3RFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0xpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmQgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKG91dHB1dC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgb3V0cHV0LnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIHJldHVybiBkZV9VcGRhdGVUb3BpY1JlZnJlc2hTY2hlZHVsZUNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgRGF0YXNldEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVG9waWNJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVRvcGljUmVmcmVzaFNjaGVkdWxlQ29tbWFuZEVycm9yID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgLi4ub3V0cHV0LFxuICAgICAgICBib2R5OiBhd2FpdCBwYXJzZUVycm9yQm9keShvdXRwdXQuYm9keSwgY29udGV4dCksXG4gICAgfTtcbiAgICBjb25zdCBlcnJvckNvZGUgPSBsb2FkUmVzdEpzb25FcnJvckNvZGUob3V0cHV0LCBwYXJzZWRPdXRwdXQuYm9keSk7XG4gICAgc3dpdGNoIChlcnJvckNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0FjY2Vzc0RlbmllZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJDb25mbGljdEV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0NvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjTGltaXRFeGNlZWRlZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfTGltaXRFeGNlZWRlZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VFeGlzdHNFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJUaHJvdHRsaW5nRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RGVmYXVsdEVycm9yKHtcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlX1VwZGF0ZVVzZXJDb21tYW5kID0gYXN5bmMgKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuc3RhdHVzQ29kZSAhPT0gMjAwICYmIG91dHB1dC5zdGF0dXNDb2RlID49IDMwMCkge1xuICAgICAgICByZXR1cm4gZGVfVXBkYXRlVXNlckNvbW1hbmRFcnJvcihvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShvdXRwdXQpLFxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGEgPSBfX2V4cGVjdE5vbk51bGwoX19leHBlY3RPYmplY3QoYXdhaXQgcGFyc2VCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSksIFwiYm9keVwiKTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVXNlcjogX2pzb24sXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVVzZXJDb21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfSW50ZXJuYWxGYWlsdXJlRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlJlc291cmNlTm90Rm91bmRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9SZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VVbmF2YWlsYWJsZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0RlZmF1bHRFcnJvcih7XG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZEJvZHksXG4gICAgICAgICAgICAgICAgZXJyb3JDb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZV9VcGRhdGVWUENDb25uZWN0aW9uQ29tbWFuZCA9IGFzeW5jIChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBpZiAob3V0cHV0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiBvdXRwdXQuc3RhdHVzQ29kZSA+PSAzMDApIHtcbiAgICAgICAgcmV0dXJuIGRlX1VwZGF0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kRXJyb3Iob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEob3V0cHV0KSxcbiAgICB9KTtcbiAgICBjb25zdCBkYXRhID0gX19leHBlY3ROb25OdWxsKF9fZXhwZWN0T2JqZWN0KGF3YWl0IHBhcnNlQm9keShvdXRwdXQuYm9keSwgY29udGV4dCkpLCBcImJvZHlcIik7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEF2YWlsYWJpbGl0eVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFVwZGF0ZVN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZQQ0Nvbm5lY3Rpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBtYXAoY29udGVudHMsIHtcbiAgICAgICAgU3RhdHVzOiBbLCBvdXRwdXQuc3RhdHVzQ29kZV0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnRzO1xufTtcbmNvbnN0IGRlX1VwZGF0ZVZQQ0Nvbm5lY3Rpb25Db21tYW5kRXJyb3IgPSBhc3luYyAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICAuLi5vdXRwdXQsXG4gICAgICAgIGJvZHk6IGF3YWl0IHBhcnNlRXJyb3JCb2R5KG91dHB1dC5ib2R5LCBjb250ZXh0KSxcbiAgICB9O1xuICAgIGNvbnN0IGVycm9yQ29kZSA9IGxvYWRSZXN0SnNvbkVycm9yQ29kZShvdXRwdXQsIHBhcnNlZE91dHB1dC5ib2R5KTtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIFwiQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQWNjZXNzRGVuaWVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkNvbmZsaWN0RXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjQ29uZmxpY3RFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0NvbmZsaWN0RXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNMaW1pdEV4Y2VlZGVkRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9MaW1pdEV4Y2VlZGVkRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgXCJSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb20uYW1hem9uYXdzLnF1aWNrc2lnaHQjUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblwiOlxuICAgICAgICAgICAgdGhyb3cgYXdhaXQgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyhwYXJzZWRPdXRwdXQsIGNvbnRleHQpO1xuICAgICAgICBjYXNlIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29tLmFtYXpvbmF3cy5xdWlja3NpZ2h0I1Rocm90dGxpbmdFeGNlcHRpb25cIjpcbiAgICAgICAgICAgIHRocm93IGF3YWl0IGRlX1Rocm90dGxpbmdFeGNlcHRpb25SZXMocGFyc2VkT3V0cHV0LCBjb250ZXh0KTtcbiAgICAgICAgY2FzZSBcIlVuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbS5hbWF6b25hd3MucXVpY2tzaWdodCNVbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uXCI6XG4gICAgICAgICAgICB0aHJvdyBhd2FpdCBkZV9VbnN1cHBvcnRlZFVzZXJFZGl0aW9uRXhjZXB0aW9uUmVzKHBhcnNlZE91dHB1dCwgY29udGV4dCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRCb2R5ID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dEZWZhdWx0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgICAgICBwYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5jb25zdCB0aHJvd0RlZmF1bHRFcnJvciA9IHdpdGhCYXNlRXhjZXB0aW9uKF9fQmFzZUV4Y2VwdGlvbik7XG5jb25zdCBkZV9BY2Nlc3NEZW5pZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQWNjZXNzRGVuaWVkRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9Db25jdXJyZW50VXBkYXRpbmdFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgQ29uY3VycmVudFVwZGF0aW5nRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9Db25mbGljdEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBDb25mbGljdEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfRG9tYWluTm90V2hpdGVsaXN0ZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgRG9tYWluTm90V2hpdGVsaXN0ZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX0lkZW50aXR5VHlwZU5vdFN1cHBvcnRlZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJZGVudGl0eVR5cGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX0ludGVybmFsRmFpbHVyZUV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBJbnRlcm5hbEZhaWx1cmVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX0ludmFsaWROZXh0VG9rZW5FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFBhcmFtZXRlclZhbHVlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IEludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfSW52YWxpZFJlcXVlc3RFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgSW52YWxpZFJlcXVlc3RFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX0xpbWl0RXhjZWVkZWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlc291cmNlVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgTGltaXRFeGNlZWRlZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFByZWNvbmRpdGlvbk5vdE1ldEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfUXVpY2tTaWdodFVzZXJOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBRdWlja1NpZ2h0VXNlck5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9SZXNvdXJjZUV4aXN0c0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVzb3VyY2VUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZXNvdXJjZUV4aXN0c0V4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVzb3VyY2VUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBSZXNvdXJjZU5vdEZvdW5kRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXNvdXJjZVR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFJlc291cmNlVW5hdmFpbGFibGVFeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1Nlc3Npb25MaWZldGltZUluTWludXRlc0ludmFsaWRFeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgU2Vzc2lvbkxpZmV0aW1lSW5NaW51dGVzSW52YWxpZEV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3QgZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyA9IGFzeW5jIChwYXJzZWRPdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCBjb250ZW50cyA9IG1hcCh7fSk7XG4gICAgY29uc3QgZGF0YSA9IHBhcnNlZE91dHB1dC5ib2R5O1xuICAgIGNvbnN0IGRvYyA9IHRha2UoZGF0YSwge1xuICAgICAgICBNZXNzYWdlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRzLCBkb2MpO1xuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IG5ldyBUaHJvdHRsaW5nRXhjZXB0aW9uKHtcbiAgICAgICAgJG1ldGFkYXRhOiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHBhcnNlZE91dHB1dCksXG4gICAgICAgIC4uLmNvbnRlbnRzLFxuICAgIH0pO1xuICAgIHJldHVybiBfX2RlY29yYXRlU2VydmljZUV4Y2VwdGlvbihleGNlcHRpb24sIHBhcnNlZE91dHB1dC5ib2R5KTtcbn07XG5jb25zdCBkZV9VbnN1cHBvcnRlZFByaWNpbmdQbGFuRXhjZXB0aW9uUmVzID0gYXN5bmMgKHBhcnNlZE91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWFwKHt9KTtcbiAgICBjb25zdCBkYXRhID0gcGFyc2VkT3V0cHV0LmJvZHk7XG4gICAgY29uc3QgZG9jID0gdGFrZShkYXRhLCB7XG4gICAgICAgIE1lc3NhZ2U6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZXF1ZXN0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xuICAgIE9iamVjdC5hc3NpZ24oY29udGVudHMsIGRvYyk7XG4gICAgY29uc3QgZXhjZXB0aW9uID0gbmV3IFVuc3VwcG9ydGVkUHJpY2luZ1BsYW5FeGNlcHRpb24oe1xuICAgICAgICAkbWV0YWRhdGE6IGRlc2VyaWFsaXplTWV0YWRhdGEocGFyc2VkT3V0cHV0KSxcbiAgICAgICAgLi4uY29udGVudHMsXG4gICAgfSk7XG4gICAgcmV0dXJuIF9fZGVjb3JhdGVTZXJ2aWNlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgcGFyc2VkT3V0cHV0LmJvZHkpO1xufTtcbmNvbnN0IGRlX1Vuc3VwcG9ydGVkVXNlckVkaXRpb25FeGNlcHRpb25SZXMgPSBhc3luYyAocGFyc2VkT3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgY29udGVudHMgPSBtYXAoe30pO1xuICAgIGNvbnN0IGRhdGEgPSBwYXJzZWRPdXRwdXQuYm9keTtcbiAgICBjb25zdCBkb2MgPSB0YWtlKGRhdGEsIHtcbiAgICAgICAgTWVzc2FnZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJlcXVlc3RJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG4gICAgT2JqZWN0LmFzc2lnbihjb250ZW50cywgZG9jKTtcbiAgICBjb25zdCBleGNlcHRpb24gPSBuZXcgVW5zdXBwb3J0ZWRVc2VyRWRpdGlvbkV4Y2VwdGlvbih7XG4gICAgICAgICRtZXRhZGF0YTogZGVzZXJpYWxpemVNZXRhZGF0YShwYXJzZWRPdXRwdXQpLFxuICAgICAgICAuLi5jb250ZW50cyxcbiAgICB9KTtcbiAgICByZXR1cm4gX19kZWNvcmF0ZVNlcnZpY2VFeGNlcHRpb24oZXhjZXB0aW9uLCBwYXJzZWRPdXRwdXQuYm9keSk7XG59O1xuY29uc3Qgc2VfQWdncmVnYXRpb25GdW5jdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3JpY2FsQWdncmVnYXRpb25GdW5jdGlvbjogW10sXG4gICAgICAgIERhdGVBZ2dyZWdhdGlvbkZ1bmN0aW9uOiBbXSxcbiAgICAgICAgTnVtZXJpY2FsQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IHNlX051bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQWdncmVnYXRpb25Tb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uRnVuY3Rpb246IChfKSA9PiBzZV9BZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBTb3J0RGlyZWN0aW9uOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BZ2dyZWdhdGlvblNvcnRDb25maWd1cmF0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9BZ2dyZWdhdGlvblNvcnRDb25maWd1cmF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BbmFseXNpc0RlZmluaXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgQ2FsY3VsYXRlZEZpZWxkczogX2pzb24sXG4gICAgICAgIENvbHVtbkNvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICAgICAgRGF0YVNldElkZW50aWZpZXJEZWNsYXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWx0ZXJHcm91cHM6IChfKSA9PiBzZV9GaWx0ZXJHcm91cExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFBhcmFtZXRlckRlY2xhcmF0aW9uczogKF8pID0+IHNlX1BhcmFtZXRlckRlY2xhcmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2hlZXRzOiAoXykgPT4gc2VfU2hlZXREZWZpbml0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BcmNBeGlzQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFJhbmdlOiAoXykgPT4gc2VfQXJjQXhpc0Rpc3BsYXlSYW5nZShfLCBjb250ZXh0KSxcbiAgICAgICAgUmVzZXJ2ZVJhbmdlOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BcmNBeGlzRGlzcGxheVJhbmdlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgTWF4OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBNaW46IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXJjQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFyY0FuZ2xlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBBcmNUaGlja25lc3M6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iT3ZlcnJpZGVQYXJhbWV0ZXJzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQW5hbHlzZXM6IF9qc29uLFxuICAgICAgICBEYXNoYm9hcmRzOiBfanNvbixcbiAgICAgICAgRGF0YVNldHM6IF9qc29uLFxuICAgICAgICBEYXRhU291cmNlczogX2pzb24sXG4gICAgICAgIFJlZnJlc2hTY2hlZHVsZXM6IChfKSA9PiBzZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlJlZnJlc2hTY2hlZHVsZU92ZXJyaWRlUGFyYW1ldGVyc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIFJlc291cmNlSWRPdmVycmlkZUNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBUaGVtZXM6IF9qc29uLFxuICAgICAgICBWUENDb25uZWN0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXNzZXRCdW5kbGVJbXBvcnRKb2JSZWZyZXNoU2NoZWR1bGVPdmVycmlkZVBhcmFtZXRlcnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRhU2V0SWQ6IFtdLFxuICAgICAgICBTY2hlZHVsZUlkOiBbXSxcbiAgICAgICAgU3RhcnRBZnRlckRhdGVUaW1lOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iUmVmcmVzaFNjaGVkdWxlT3ZlcnJpZGVQYXJhbWV0ZXJzTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlJlZnJlc2hTY2hlZHVsZU92ZXJyaWRlUGFyYW1ldGVycyhlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXNzZXRCdW5kbGVJbXBvcnRTb3VyY2UgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCb2R5OiBjb250ZXh0LmJhc2U2NEVuY29kZXIsXG4gICAgICAgIFMzVXJpOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BeGlzRGF0YU9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRlQXhpc09wdGlvbnM6IF9qc29uLFxuICAgICAgICBOdW1lcmljQXhpc09wdGlvbnM6IChfKSA9PiBzZV9OdW1lcmljQXhpc09wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXhpc0Rpc3BsYXlNaW5NYXhSYW5nZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIE1heGltdW06IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIE1pbmltdW06IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXhpc0Rpc3BsYXlPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXhpc0xpbmVWaXNpYmlsaXR5OiBbXSxcbiAgICAgICAgQXhpc09mZnNldDogW10sXG4gICAgICAgIERhdGFPcHRpb25zOiAoXykgPT4gc2VfQXhpc0RhdGFPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBHcmlkTGluZVZpc2liaWxpdHk6IFtdLFxuICAgICAgICBTY3JvbGxiYXJPcHRpb25zOiAoXykgPT4gc2VfU2Nyb2xsQmFyT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVGlja0xhYmVsT3B0aW9uczogKF8pID0+IHNlX0F4aXNUaWNrTGFiZWxPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0F4aXNEaXNwbGF5UmFuZ2UgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRhRHJpdmVuOiBfanNvbixcbiAgICAgICAgTWluTWF4OiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlNaW5NYXhSYW5nZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BeGlzTGluZWFyU2NhbGUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBTdGVwQ291bnQ6IFtdLFxuICAgICAgICBTdGVwU2l6ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9BeGlzTG9nYXJpdGhtaWNTY2FsZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJhc2U6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQXhpc1NjYWxlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgTGluZWFyOiAoXykgPT4gc2VfQXhpc0xpbmVhclNjYWxlKF8sIGNvbnRleHQpLFxuICAgICAgICBMb2dhcml0aG1pYzogKF8pID0+IHNlX0F4aXNMb2dhcml0aG1pY1NjYWxlKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0F4aXNUaWNrTGFiZWxPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgUm90YXRpb25BbmdsZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9CYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb2xvcnM6IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlczogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQmFyQ2hhcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFyc0FycmFuZ2VtZW50OiBbXSxcbiAgICAgICAgQ2F0ZWdvcnlBeGlzOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBDYXRlZ29yeUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIENvbG9yTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29udHJpYnV0aW9uQW5hbHlzaXNEZWZhdWx0czogX2pzb24sXG4gICAgICAgIERhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfQmFyQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBPcmllbnRhdGlvbjogW10sXG4gICAgICAgIFJlZmVyZW5jZUxpbmVzOiAoXykgPT4gc2VfUmVmZXJlbmNlTGluZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfQmFyQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWYWx1ZUF4aXM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZhbHVlTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQmFyQ2hhcnRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFyQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX0JhckNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQmFyQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb2xvckl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDb2xvclNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU21hbGxNdWx0aXBsZXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc1NvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9CYXJDaGFydFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9CYXJDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gc2VfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9CaW5XaWR0aE9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCaW5Db3VudExpbWl0OiBbXSxcbiAgICAgICAgVmFsdWU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQm94UGxvdEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgR3JvdXBCeTogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX0JveFBsb3RNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0JveFBsb3RDaGFydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCb3hQbG90T3B0aW9uczogX2pzb24sXG4gICAgICAgIENhdGVnb3J5QXhpczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfQm94UGxvdEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFByaW1hcnlZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBQcmltYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBSZWZlcmVuY2VMaW5lczogKF8pID0+IHNlX1JlZmVyZW5jZUxpbmVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0JveFBsb3RTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Cb3hQbG90RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJveFBsb3RBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX0JveFBsb3RBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Cb3hQbG90TWVhc3VyZUZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0JveFBsb3RTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBQYWdpbmF0aW9uQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQm94UGxvdFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9Cb3hQbG90Q2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29sb3JTY2FsZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbG9yRmlsbFR5cGU6IFtdLFxuICAgICAgICBDb2xvcnM6IChfKSA9PiBzZV9Db2xvclNjYWxlQ29sb3JMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOdWxsVmFsdWVDb2xvcjogKF8pID0+IHNlX0RhdGFDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db2xvclNjYWxlQ29sb3JMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0RhdGFDb2xvcihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29sdW1uSGllcmFyY2h5ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVIaWVyYXJjaHk6IChfKSA9PiBzZV9EYXRlVGltZUhpZXJhcmNoeShfLCBjb250ZXh0KSxcbiAgICAgICAgRXhwbGljaXRIaWVyYXJjaHk6IChfKSA9PiBzZV9FeHBsaWNpdEhpZXJhcmNoeShfLCBjb250ZXh0KSxcbiAgICAgICAgUHJlZGVmaW5lZEhpZXJhcmNoeTogKF8pID0+IHNlX1ByZWRlZmluZWRIaWVyYXJjaHkoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29sdW1uSGllcmFyY2h5TGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9Db2x1bW5IaWVyYXJjaHkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbHVtblNvcnQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gc2VfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgRGlyZWN0aW9uOiBbXSxcbiAgICAgICAgU29ydEJ5OiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db2x1bW5Ub29sdGlwSXRlbSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uOiAoXykgPT4gc2VfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgTGFiZWw6IFtdLFxuICAgICAgICBWaXNpYmlsaXR5OiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db21ib0NoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCYXJWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbG9yczogX2pzb24sXG4gICAgICAgIExpbmVWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbWJvQ2hhcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFyRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEJhcnNBcnJhbmdlbWVudDogW10sXG4gICAgICAgIENhdGVnb3J5QXhpczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb2xvckxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9Db21ib0NoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgTGluZURhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBQcmltYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgUHJpbWFyeVlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgUmVmZXJlbmNlTGluZXM6IChfKSA9PiBzZV9SZWZlcmVuY2VMaW5lTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2Vjb25kYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgU2Vjb25kYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0NvbWJvQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db21ib0NoYXJ0RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbWJvQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX0NvbWJvQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db21ib0NoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sb3JJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ29sb3JTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29tYm9DaGFydFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9Db21ib0NoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbXB1dGF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRm9yZWNhc3Q6IChfKSA9PiBzZV9Gb3JlY2FzdENvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBHcm93dGhSYXRlOiAoXykgPT4gc2VfR3Jvd3RoUmF0ZUNvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBNYXhpbXVtTWluaW11bTogKF8pID0+IHNlX01heGltdW1NaW5pbXVtQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIE1ldHJpY0NvbXBhcmlzb246IChfKSA9PiBzZV9NZXRyaWNDb21wYXJpc29uQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFBlcmlvZE92ZXJQZXJpb2Q6IChfKSA9PiBzZV9QZXJpb2RPdmVyUGVyaW9kQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFBlcmlvZFRvRGF0ZTogKF8pID0+IHNlX1BlcmlvZFRvRGF0ZUNvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb3BCb3R0b21Nb3ZlcnM6IChfKSA9PiBzZV9Ub3BCb3R0b21Nb3ZlcnNDb21wdXRhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9wQm90dG9tUmFua2VkOiAoXykgPT4gc2VfVG9wQm90dG9tUmFua2VkQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvdGFsQWdncmVnYXRpb246IChfKSA9PiBzZV9Ub3RhbEFnZ3JlZ2F0aW9uQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFVuaXF1ZVZhbHVlczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfQ29tcHV0YXRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0NvbXB1dGF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEdyYWRpZW50OiAoXykgPT4gc2VfQ29uZGl0aW9uYWxGb3JtYXR0aW5nR3JhZGllbnRDb2xvcihfLCBjb250ZXh0KSxcbiAgICAgICAgU29saWQ6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0dyYWRpZW50Q29sb3IgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2xvcjogKF8pID0+IHNlX0dyYWRpZW50Q29sb3IoXywgY29udGV4dCksXG4gICAgICAgIEV4cHJlc3Npb246IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0N1c3RvbUFjdGlvblNldFBhcmFtZXRlcnNPcGVyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb25zOiAoXykgPT4gc2VfU2V0UGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9DdXN0b21Db250ZW50VmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIERhdGFTZXRJZGVudGlmaWVyOiBbXSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9DdXN0b21QYXJhbWV0ZXJWYWx1ZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRlVGltZVZhbHVlczogKF8pID0+IHNlX0RhdGVUaW1lRGVmYXVsdFZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgRGVjaW1hbFZhbHVlczogKF8pID0+IHNlX0RlY2ltYWxEZWZhdWx0VmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyVmFsdWVzOiBfanNvbixcbiAgICAgICAgU3RyaW5nVmFsdWVzOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9DdXN0b21WYWx1ZXNDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ3VzdG9tVmFsdWVzOiAoXykgPT4gc2VfQ3VzdG9tUGFyYW1ldGVyVmFsdWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBJbmNsdWRlTnVsbFZhbHVlOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXNoYm9hcmRWZXJzaW9uRGVmaW5pdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFuYWx5c2lzRGVmYXVsdHM6IF9qc29uLFxuICAgICAgICBDYWxjdWxhdGVkRmllbGRzOiBfanNvbixcbiAgICAgICAgQ29sdW1uQ29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllckRlY2xhcmF0aW9uczogX2pzb24sXG4gICAgICAgIEZpbHRlckdyb3VwczogKF8pID0+IHNlX0ZpbHRlckdyb3VwTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgUGFyYW1ldGVyRGVjbGFyYXRpb25zOiAoXykgPT4gc2VfUGFyYW1ldGVyRGVjbGFyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTaGVldHM6IChfKSA9PiBzZV9TaGVldERlZmluaXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RhdGFDb2xvciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbG9yOiBbXSxcbiAgICAgICAgRGF0YVZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RhdGFzZXRQYXJhbWV0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRlVGltZURhdGFzZXRQYXJhbWV0ZXI6IChfKSA9PiBzZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXIoXywgY29udGV4dCksXG4gICAgICAgIERlY2ltYWxEYXRhc2V0UGFyYW1ldGVyOiAoXykgPT4gc2VfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXIoXywgY29udGV4dCksXG4gICAgICAgIEludGVnZXJEYXRhc2V0UGFyYW1ldGVyOiBfanNvbixcbiAgICAgICAgU3RyaW5nRGF0YXNldFBhcmFtZXRlcjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0YXNldFBhcmFtZXRlckxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfRGF0YXNldFBhcmFtZXRlcihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGVmYXVsdFZhbHVlczogKF8pID0+IHNlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIElkOiBbXSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogW10sXG4gICAgICAgIFZhbHVlVHlwZTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyRGVmYXVsdFZhbHVlcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFN0YXRpY1ZhbHVlczogKF8pID0+IHNlX0RhdGVUaW1lRGF0YXNldFBhcmFtZXRlclZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXJWYWx1ZUxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChlbnRyeS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXRlVGltZURlZmF1bHRWYWx1ZUxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChlbnRyeS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXRlVGltZURlZmF1bHRWYWx1ZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEeW5hbWljVmFsdWU6IF9qc29uLFxuICAgICAgICBSb2xsaW5nRGF0ZTogX2pzb24sXG4gICAgICAgIFN0YXRpY1ZhbHVlczogKF8pID0+IHNlX0RhdGVUaW1lRGVmYXVsdFZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXRlVGltZUhpZXJhcmNoeSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERyaWxsRG93bkZpbHRlcnM6IChfKSA9PiBzZV9EcmlsbERvd25GaWx0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBIaWVyYXJjaHlJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGF0ZVRpbWVQYXJhbWV0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gc2VfU2Vuc2l0aXZlVGltZXN0YW1wTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXRlVGltZVBhcmFtZXRlckRlY2xhcmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGVmYXVsdFZhbHVlczogKF8pID0+IHNlX0RhdGVUaW1lRGVmYXVsdFZhbHVlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgTWFwcGVkRGF0YVNldFBhcmFtZXRlcnM6IF9qc29uLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgVGltZUdyYW51bGFyaXR5OiBbXSxcbiAgICAgICAgVmFsdWVXaGVuVW5zZXQ6IChfKSA9PiBzZV9EYXRlVGltZVZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EYXRlVGltZVBhcmFtZXRlckxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfRGF0ZVRpbWVQYXJhbWV0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RhdGVUaW1lVmFsdWVXaGVuVW5zZXRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ3VzdG9tVmFsdWU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICAgIFZhbHVlV2hlblVuc2V0T3B0aW9uOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EZWNpbWFsRGF0YXNldFBhcmFtZXRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERlZmF1bHRWYWx1ZXM6IChfKSA9PiBzZV9EZWNpbWFsRGF0YXNldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIElkOiBbXSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFZhbHVlVHlwZTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgU3RhdGljVmFsdWVzOiAoXykgPT4gc2VfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXJWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXJWYWx1ZUxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19zZXJpYWxpemVGbG9hdChlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGVjaW1hbERlZmF1bHRWYWx1ZUxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19zZXJpYWxpemVGbG9hdChlbnRyeSk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGVjaW1hbERlZmF1bHRWYWx1ZXMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEeW5hbWljVmFsdWU6IF9qc29uLFxuICAgICAgICBTdGF0aWNWYWx1ZXM6IChfKSA9PiBzZV9EZWNpbWFsRGVmYXVsdFZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EZWNpbWFsUGFyYW1ldGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX1NlbnNpdGl2ZURvdWJsZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGVjaW1hbFBhcmFtZXRlckRlY2xhcmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGVmYXVsdFZhbHVlczogKF8pID0+IHNlX0RlY2ltYWxEZWZhdWx0VmFsdWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBNYXBwZWREYXRhU2V0UGFyYW1ldGVyczogX2pzb24sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQYXJhbWV0ZXJWYWx1ZVR5cGU6IFtdLFxuICAgICAgICBWYWx1ZVdoZW5VbnNldDogKF8pID0+IHNlX0RlY2ltYWxWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGVjaW1hbFBhcmFtZXRlckxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfRGVjaW1hbFBhcmFtZXRlcihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGVjaW1hbFZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEN1c3RvbVZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBWYWx1ZVdoZW5VbnNldE9wdGlvbjogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRGVzdGluYXRpb25QYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDdXN0b21WYWx1ZXNDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU2VsZWN0QWxsVmFsdWVPcHRpb25zOiBbXSxcbiAgICAgICAgU291cmNlQ29sdW1uOiBfanNvbixcbiAgICAgICAgU291cmNlRmllbGQ6IFtdLFxuICAgICAgICBTb3VyY2VQYXJhbWV0ZXJOYW1lOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9EcmlsbERvd25GaWx0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUZpbHRlcjogX2pzb24sXG4gICAgICAgIE51bWVyaWNFcXVhbGl0eUZpbHRlcjogKF8pID0+IHNlX051bWVyaWNFcXVhbGl0eURyaWxsRG93bkZpbHRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgVGltZVJhbmdlRmlsdGVyOiAoXykgPT4gc2VfVGltZVJhbmdlRHJpbGxEb3duRmlsdGVyKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0RyaWxsRG93bkZpbHRlckxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfRHJpbGxEb3duRmlsdGVyKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9FbXB0eVZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllcjogW10sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9FeHBsaWNpdEhpZXJhcmNoeSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtbnM6IF9qc29uLFxuICAgICAgICBEcmlsbERvd25GaWx0ZXJzOiAoXykgPT4gc2VfRHJpbGxEb3duRmlsdGVyTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgSGllcmFyY2h5SWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpZWxkQmFzZWRUb29sdGlwID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25WaXNpYmlsaXR5OiBbXSxcbiAgICAgICAgVG9vbHRpcEZpZWxkczogKF8pID0+IHNlX1Rvb2x0aXBJdGVtTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcFRpdGxlVHlwZTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmllbGRTb3J0T3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbHVtblNvcnQ6IChfKSA9PiBzZV9Db2x1bW5Tb3J0KF8sIGNvbnRleHQpLFxuICAgICAgICBGaWVsZFNvcnQ6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0ZpZWxkU29ydE9wdGlvbnMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbGxlZE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgR2Vvc3BhdGlhbDogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX0ZpbGxlZE1hcE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsbGVkTWFwQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IHNlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsbGVkTWFwQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgU2hhcGU6IChfKSA9PiBzZV9GaWxsZWRNYXBTaGFwZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWxsZWRNYXBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsbGVkTWFwQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9GaWxsZWRNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBNYXBTdHlsZU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0ZpbGxlZE1hcFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gc2VfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFdpbmRvd09wdGlvbnM6IChfKSA9PiBzZV9HZW9zcGF0aWFsV2luZG93T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWxsZWRNYXBGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmlsbGVkTWFwQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9GaWxsZWRNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWxsZWRNYXBNZWFzdXJlRmllbGRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsbGVkTWFwU2hhcGVDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGaWVsZElkOiBbXSxcbiAgICAgICAgRm9ybWF0OiAoXykgPT4gc2VfU2hhcGVDb25kaXRpb25hbEZvcm1hdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWxsZWRNYXBTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbGxlZE1hcFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9GaWxsZWRNYXBDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZzogKF8pID0+IHNlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWx0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUZpbHRlcjogX2pzb24sXG4gICAgICAgIE51bWVyaWNFcXVhbGl0eUZpbHRlcjogKF8pID0+IHNlX051bWVyaWNFcXVhbGl0eUZpbHRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgTnVtZXJpY1JhbmdlRmlsdGVyOiAoXykgPT4gc2VfTnVtZXJpY1JhbmdlRmlsdGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBSZWxhdGl2ZURhdGVzRmlsdGVyOiBfanNvbixcbiAgICAgICAgVGltZUVxdWFsaXR5RmlsdGVyOiAoXykgPT4gc2VfVGltZUVxdWFsaXR5RmlsdGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBUaW1lUmFuZ2VGaWx0ZXI6IChfKSA9PiBzZV9UaW1lUmFuZ2VGaWx0ZXIoXywgY29udGV4dCksXG4gICAgICAgIFRvcEJvdHRvbUZpbHRlcjogKF8pID0+IHNlX1RvcEJvdHRvbUZpbHRlcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GaWx0ZXJDb250cm9sID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVQaWNrZXI6IF9qc29uLFxuICAgICAgICBEcm9wZG93bjogX2pzb24sXG4gICAgICAgIExpc3Q6IF9qc29uLFxuICAgICAgICBSZWxhdGl2ZURhdGVUaW1lOiBfanNvbixcbiAgICAgICAgU2xpZGVyOiAoXykgPT4gc2VfRmlsdGVyU2xpZGVyQ29udHJvbChfLCBjb250ZXh0KSxcbiAgICAgICAgVGV4dEFyZWE6IF9qc29uLFxuICAgICAgICBUZXh0RmllbGQ6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbHRlckNvbnRyb2xMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0ZpbHRlckNvbnRyb2woZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbHRlckdyb3VwID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ3Jvc3NEYXRhc2V0OiBbXSxcbiAgICAgICAgRmlsdGVyR3JvdXBJZDogW10sXG4gICAgICAgIEZpbHRlcnM6IChfKSA9PiBzZV9GaWx0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTY29wZUNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBTdGF0dXM6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbHRlckdyb3VwTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9GaWx0ZXJHcm91cChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRmlsdGVyTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9GaWx0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZpbHRlclNsaWRlckNvbnRyb2wgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEaXNwbGF5T3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpbHRlckNvbnRyb2xJZDogW10sXG4gICAgICAgIE1heGltdW1WYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgTWluaW11bVZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBTb3VyY2VGaWx0ZXJJZDogW10sXG4gICAgICAgIFN0ZXBTaXplOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBUaXRsZTogW10sXG4gICAgICAgIFR5cGU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZvcmVjYXN0Q29tcHV0YXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBbXSxcbiAgICAgICAgQ3VzdG9tU2Vhc29uYWxpdHlWYWx1ZTogW10sXG4gICAgICAgIExvd2VyQm91bmRhcnk6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBQZXJpb2RzQmFja3dhcmQ6IFtdLFxuICAgICAgICBQZXJpb2RzRm9yd2FyZDogW10sXG4gICAgICAgIFByZWRpY3Rpb25JbnRlcnZhbDogW10sXG4gICAgICAgIFNlYXNvbmFsaXR5OiBbXSxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFVwcGVyQm91bmRhcnk6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIFZhbHVlOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZvcmVjYXN0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZvcmVjYXN0UHJvcGVydGllczogKF8pID0+IHNlX1RpbWVCYXNlZEZvcmVjYXN0UHJvcGVydGllcyhfLCBjb250ZXh0KSxcbiAgICAgICAgU2NlbmFyaW86IChfKSA9PiBzZV9Gb3JlY2FzdFNjZW5hcmlvKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0ZvcmVjYXN0Q29uZmlndXJhdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfRm9yZWNhc3RDb25maWd1cmF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Gb3JlY2FzdFNjZW5hcmlvID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgV2hhdElmUG9pbnRTY2VuYXJpbzogKF8pID0+IHNlX1doYXRJZlBvaW50U2NlbmFyaW8oXywgY29udGV4dCksXG4gICAgICAgIFdoYXRJZlJhbmdlU2NlbmFyaW86IChfKSA9PiBzZV9XaGF0SWZSYW5nZVNjZW5hcmlvKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0Z1bm5lbENoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX0Z1bm5lbENoYXJ0TWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GdW5uZWxDaGFydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIERhdGFMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfRnVubmVsQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0Z1bm5lbENoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmFsdWVMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GdW5uZWxDaGFydEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGdW5uZWxDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfRnVubmVsQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GdW5uZWxDaGFydE1lYXN1cmVGaWVsZExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9GdW5uZWxDaGFydFNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfRnVubmVsQ2hhcnRWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfRnVubmVsQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2F1Z2VDaGFydEFyY0NvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZvcmVncm91bmRDb2xvcjogKF8pID0+IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25zOiAoXykgPT4gc2VfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFyYzogKF8pID0+IHNlX0dhdWdlQ2hhcnRBcmNDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFByaW1hcnlWYWx1ZTogKF8pID0+IHNlX0dhdWdlQ2hhcnRQcmltYXJ5VmFsdWVDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2F1Z2VDaGFydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0dhdWdlQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBHYXVnZUNoYXJ0T3B0aW9uczogKF8pID0+IHNlX0dhdWdlQ2hhcnRPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwT3B0aW9uczogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9HYXVnZUNoYXJ0RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFRhcmdldFZhbHVlczogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2F1Z2VDaGFydE9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBcmM6IChfKSA9PiBzZV9BcmNDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBBcmNBeGlzOiAoXykgPT4gc2VfQXJjQXhpc0NvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbXBhcmlzb246IF9qc29uLFxuICAgICAgICBQcmltYXJ5VmFsdWVEaXNwbGF5VHlwZTogW10sXG4gICAgICAgIFByaW1hcnlWYWx1ZUZvbnRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9HYXVnZUNoYXJ0UHJpbWFyeVZhbHVlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgSWNvbjogX2pzb24sXG4gICAgICAgIFRleHRDb2xvcjogKF8pID0+IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dhdWdlQ2hhcnRWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfR2F1Z2VDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZzogKF8pID0+IHNlX0dhdWdlQ2hhcnRDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2Vvc3BhdGlhbENvb3JkaW5hdGVCb3VuZHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBFYXN0OiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBOb3J0aDogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgU291dGg6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIFdlc3Q6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2Vvc3BhdGlhbE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sb3JzOiBfanNvbixcbiAgICAgICAgR2Vvc3BhdGlhbDogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR2Vvc3BhdGlhbE1hcENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfR2Vvc3BhdGlhbE1hcEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIE1hcFN0eWxlT3B0aW9uczogX2pzb24sXG4gICAgICAgIFBvaW50U3R5bGVPcHRpb25zOiBfanNvbixcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICAgICAgV2luZG93T3B0aW9uczogKF8pID0+IHNlX0dlb3NwYXRpYWxXaW5kb3dPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dlb3NwYXRpYWxNYXBGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgR2Vvc3BhdGlhbE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfR2Vvc3BhdGlhbE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dlb3NwYXRpYWxNYXBWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfR2Vvc3BhdGlhbE1hcENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gc2VfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9HZW9zcGF0aWFsV2luZG93T3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJvdW5kczogKF8pID0+IHNlX0dlb3NwYXRpYWxDb29yZGluYXRlQm91bmRzKF8sIGNvbnRleHQpLFxuICAgICAgICBNYXBab29tTW9kZTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR3JhZGllbnRDb2xvciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFN0b3BzOiAoXykgPT4gc2VfR3JhZGllbnRTdG9wTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9HcmFkaWVudFN0b3AgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2xvcjogW10sXG4gICAgICAgIERhdGFWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgR3JhZGllbnRPZmZzZXQ6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfR3JhZGllbnRTdG9wTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9HcmFkaWVudFN0b3AoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX0dyb3d0aFJhdGVDb21wdXRhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IFtdLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGVyaW9kU2l6ZTogW10sXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgICAgICBWYWx1ZTogKF8pID0+IHNlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9IZWF0TWFwQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2x1bW5zOiBfanNvbixcbiAgICAgICAgUm93czogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX0hlYXRNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0hlYXRNYXBDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sb3JTY2FsZTogKF8pID0+IHNlX0NvbG9yU2NhbGUoXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIERhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfSGVhdE1hcEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFJvd0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfSGVhdE1hcFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gc2VfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGVhdE1hcEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBIZWF0TWFwQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9IZWF0TWFwQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGVhdE1hcE1lYXN1cmVGaWVsZExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9IZWF0TWFwU29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBIZWF0TWFwQ29sdW1uSXRlbXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBIZWF0TWFwQ29sdW1uU29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBIZWF0TWFwUm93SXRlbXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBIZWF0TWFwUm93U29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0hlYXRNYXBWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfSGVhdE1hcENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gc2VfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9IaXN0b2dyYW1BZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX0hpc3RvZ3JhbU1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGlzdG9ncmFtQmluT3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJpbkNvdW50OiBfanNvbixcbiAgICAgICAgQmluV2lkdGg6IChfKSA9PiBzZV9CaW5XaWR0aE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFNlbGVjdGVkQmluVHlwZTogW10sXG4gICAgICAgIFN0YXJ0VmFsdWU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGlzdG9ncmFtQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJpbk9wdGlvbnM6IChfKSA9PiBzZV9IaXN0b2dyYW1CaW5PcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0hpc3RvZ3JhbUZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgICAgIFhBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFhBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgWUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9IaXN0b2dyYW1GaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgSGlzdG9ncmFtQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9IaXN0b2dyYW1BZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9IaXN0b2dyYW1NZWFzdXJlRmllbGRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSGlzdG9ncmFtVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0hpc3RvZ3JhbUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSW5zaWdodENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbnM6IChfKSA9PiBzZV9Db21wdXRhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEN1c3RvbU5hcnJhdGl2ZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfSW5zaWdodFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllcjogW10sXG4gICAgICAgIEluc2lnaHRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfSW5zaWdodENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfS1BJQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IHNlX0tQSUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfS1BJQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgUHJpbWFyeVZhbHVlOiAoXykgPT4gc2VfS1BJUHJpbWFyeVZhbHVlQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgICAgICBQcm9ncmVzc0JhcjogKF8pID0+IHNlX0tQSVByb2dyZXNzQmFyQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0tQSUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfS1BJQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9LUElDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX0tQSUZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIEtQSU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0tQSVNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0tQSUZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBUYXJnZXRWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBUcmVuZEdyb3VwczogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfS1BJUHJpbWFyeVZhbHVlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgSWNvbjogX2pzb24sXG4gICAgICAgIFRleHRDb2xvcjogKF8pID0+IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0tQSVByb2dyZXNzQmFyQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRm9yZWdyb3VuZENvbG9yOiAoXykgPT4gc2VfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfS1BJU29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBUcmVuZEdyb3VwU29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0tQSVZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9LUElDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZzogKF8pID0+IHNlX0tQSUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9MYXlvdXQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfTGF5b3V0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9MYXlvdXRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRnJlZUZvcm1MYXlvdXQ6IF9qc29uLFxuICAgICAgICBHcmlkTGF5b3V0OiBfanNvbixcbiAgICAgICAgU2VjdGlvbkJhc2VkTGF5b3V0OiAoXykgPT4gc2VfU2VjdGlvbkJhc2VkTGF5b3V0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9MYXlvdXRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX0xheW91dChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGluZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbG9yczogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9MaW5lQ2hhcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29udHJpYnV0aW9uQW5hbHlzaXNEZWZhdWx0czogX2pzb24sXG4gICAgICAgIERhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBEZWZhdWx0U2VyaWVzU2V0dGluZ3M6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfTGluZUNoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgRm9yZWNhc3RDb25maWd1cmF0aW9uczogKF8pID0+IHNlX0ZvcmVjYXN0Q29uZmlndXJhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFByaW1hcnlZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gc2VfTGluZVNlcmllc0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgUHJpbWFyeVlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgUmVmZXJlbmNlTGluZXM6IChfKSA9PiBzZV9SZWZlcmVuY2VMaW5lTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2Vjb25kYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0xpbmVTZXJpZXNBeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFNlY29uZGFyeVlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgU2VyaWVzOiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXNPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9MaW5lQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBUeXBlOiBbXSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgICAgIFhBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFhBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9MaW5lQ2hhcnRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgTGluZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9MaW5lQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9MaW5lQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sb3JJdGVtc0xpbWl0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXNTb3J0OiAoXykgPT4gc2VfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTGluZUNoYXJ0VmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX0xpbmVDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gc2VfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9MaW5lU2VyaWVzQXhpc0Rpc3BsYXlPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXhpc09wdGlvbnM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIE1pc3NpbmdEYXRhQ29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0xvZ2ljYWxUYWJsZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFsaWFzOiBbXSxcbiAgICAgICAgRGF0YVRyYW5zZm9ybXM6IChfKSA9PiBzZV9UcmFuc2Zvcm1PcGVyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTb3VyY2U6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX0xvZ2ljYWxUYWJsZU1hcCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhpbnB1dCkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgYWNjW2tleV0gPSBzZV9Mb2dpY2FsVGFibGUodmFsdWUsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn07XG5jb25zdCBzZV9NYXhpbXVtTWluaW11bUNvbXB1dGF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25JZDogW10sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBUaW1lOiBfanNvbixcbiAgICAgICAgVHlwZTogW10sXG4gICAgICAgIFZhbHVlOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX01lYXN1cmVGaWVsZCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhbGN1bGF0ZWRNZWFzdXJlRmllbGQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yaWNhbE1lYXN1cmVGaWVsZDogX2pzb24sXG4gICAgICAgIERhdGVNZWFzdXJlRmllbGQ6IF9qc29uLFxuICAgICAgICBOdW1lcmljYWxNZWFzdXJlRmllbGQ6IChfKSA9PiBzZV9OdW1lcmljYWxNZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTWVhc3VyZUZpZWxkTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX01ldHJpY0NvbXBhcmlzb25Db21wdXRhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IFtdLFxuICAgICAgICBGcm9tVmFsdWU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBUYXJnZXRWYWx1ZTogKF8pID0+IHNlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTmV3RGVmYXVsdFZhbHVlcyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERhdGVUaW1lU3RhdGljVmFsdWVzOiAoXykgPT4gc2VfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEZWNpbWFsU3RhdGljVmFsdWVzOiAoXykgPT4gc2VfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXJWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEludGVnZXJTdGF0aWNWYWx1ZXM6IF9qc29uLFxuICAgICAgICBTdHJpbmdTdGF0aWNWYWx1ZXM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX051bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBQZXJjZW50aWxlQWdncmVnYXRpb246IChfKSA9PiBzZV9QZXJjZW50aWxlQWdncmVnYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFNpbXBsZU51bWVyaWNhbEFnZ3JlZ2F0aW9uOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9OdW1lcmljYWxNZWFzdXJlRmllbGQgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gc2VfTnVtZXJpY2FsQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRmllbGRJZDogW10sXG4gICAgICAgIEZvcm1hdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX051bWVyaWNBeGlzT3B0aW9ucyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFJhbmdlOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlSYW5nZShfLCBjb250ZXh0KSxcbiAgICAgICAgU2NhbGU6IChfKSA9PiBzZV9BeGlzU2NhbGUoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTnVtZXJpY0VxdWFsaXR5RHJpbGxEb3duRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgVmFsdWU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfTnVtZXJpY0VxdWFsaXR5RmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IHNlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIEZpbHRlcklkOiBbXSxcbiAgICAgICAgTWF0Y2hPcGVyYXRvcjogW10sXG4gICAgICAgIE51bGxPcHRpb246IFtdLFxuICAgICAgICBQYXJhbWV0ZXJOYW1lOiBbXSxcbiAgICAgICAgU2VsZWN0QWxsT3B0aW9uczogW10sXG4gICAgICAgIFZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX051bWVyaWNSYW5nZUZpbHRlciA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uRnVuY3Rpb246IChfKSA9PiBzZV9BZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBGaWx0ZXJJZDogW10sXG4gICAgICAgIEluY2x1ZGVNYXhpbXVtOiBbXSxcbiAgICAgICAgSW5jbHVkZU1pbmltdW06IFtdLFxuICAgICAgICBOdWxsT3B0aW9uOiBbXSxcbiAgICAgICAgUmFuZ2VNYXhpbXVtOiAoXykgPT4gc2VfTnVtZXJpY1JhbmdlRmlsdGVyVmFsdWUoXywgY29udGV4dCksXG4gICAgICAgIFJhbmdlTWluaW11bTogKF8pID0+IHNlX051bWVyaWNSYW5nZUZpbHRlclZhbHVlKF8sIGNvbnRleHQpLFxuICAgICAgICBTZWxlY3RBbGxPcHRpb25zOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9OdW1lcmljUmFuZ2VGaWx0ZXJWYWx1ZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFBhcmFtZXRlcjogW10sXG4gICAgICAgIFN0YXRpY1ZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX092ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIE5ld0RlZmF1bHRWYWx1ZXM6IChfKSA9PiBzZV9OZXdEZWZhdWx0VmFsdWVzKF8sIGNvbnRleHQpLFxuICAgICAgICBOZXdQYXJhbWV0ZXJOYW1lOiBbXSxcbiAgICAgICAgUGFyYW1ldGVyTmFtZTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGFyYW1ldGVyQ29udHJvbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERhdGVUaW1lUGlja2VyOiBfanNvbixcbiAgICAgICAgRHJvcGRvd246IF9qc29uLFxuICAgICAgICBMaXN0OiBfanNvbixcbiAgICAgICAgU2xpZGVyOiAoXykgPT4gc2VfUGFyYW1ldGVyU2xpZGVyQ29udHJvbChfLCBjb250ZXh0KSxcbiAgICAgICAgVGV4dEFyZWE6IF9qc29uLFxuICAgICAgICBUZXh0RmllbGQ6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BhcmFtZXRlckNvbnRyb2xMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1BhcmFtZXRlckNvbnRyb2woZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BhcmFtZXRlckRlY2xhcmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVQYXJhbWV0ZXJEZWNsYXJhdGlvbjogKF8pID0+IHNlX0RhdGVUaW1lUGFyYW1ldGVyRGVjbGFyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIERlY2ltYWxQYXJhbWV0ZXJEZWNsYXJhdGlvbjogKF8pID0+IHNlX0RlY2ltYWxQYXJhbWV0ZXJEZWNsYXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgSW50ZWdlclBhcmFtZXRlckRlY2xhcmF0aW9uOiBfanNvbixcbiAgICAgICAgU3RyaW5nUGFyYW1ldGVyRGVjbGFyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BhcmFtZXRlckRlY2xhcmF0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfX1BhcmFtZXRlcnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRlVGltZVBhcmFtZXRlcnM6IChfKSA9PiBzZV9EYXRlVGltZVBhcmFtZXRlckxpc3QoXywgY29udGV4dCksXG4gICAgICAgIERlY2ltYWxQYXJhbWV0ZXJzOiAoXykgPT4gc2VfRGVjaW1hbFBhcmFtZXRlckxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEludGVnZXJQYXJhbWV0ZXJzOiBfanNvbixcbiAgICAgICAgU3RyaW5nUGFyYW1ldGVyczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGFyYW1ldGVyU2xpZGVyQ29udHJvbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERpc3BsYXlPcHRpb25zOiBfanNvbixcbiAgICAgICAgTWF4aW11bVZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgICAgICBNaW5pbXVtVmFsdWU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIFBhcmFtZXRlckNvbnRyb2xJZDogW10sXG4gICAgICAgIFNvdXJjZVBhcmFtZXRlck5hbWU6IFtdLFxuICAgICAgICBTdGVwU2l6ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgVGl0bGU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BlcmNlbnRpbGVBZ2dyZWdhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFBlcmNlbnRpbGVWYWx1ZTogX19zZXJpYWxpemVGbG9hdCxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QZXJjZW50VmlzaWJsZVJhbmdlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRnJvbTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgVG86IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGVyaW9kT3ZlclBlcmlvZENvbXB1dGF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25JZDogW10sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBUaW1lOiBfanNvbixcbiAgICAgICAgVmFsdWU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGVyaW9kVG9EYXRlQ29tcHV0YXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBbXSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFBlcmlvZFRpbWVHcmFudWxhcml0eTogW10sXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgICAgICBWYWx1ZTogKF8pID0+IHNlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaWVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlczogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGllQ2hhcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb250cmlidXRpb25BbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIERvbnV0T3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9QaWVDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfUGllQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWYWx1ZUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BpZUNoYXJ0RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFBpZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBzZV9QaWVDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1BpZUNoYXJ0U29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU21hbGxNdWx0aXBsZXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc1NvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaWVDaGFydFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9QaWVDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gc2VfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaXZvdEZpZWxkU29ydE9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGaWVsZElkOiBbXSxcbiAgICAgICAgU29ydEJ5OiAoXykgPT4gc2VfUGl2b3RUYWJsZVNvcnRCeShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaXZvdEZpZWxkU29ydE9wdGlvbnNMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1Bpdm90RmllbGRTb3J0T3B0aW9ucyhlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RNZWFzdXJlRmllbGRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RUYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uczogX2pzb24sXG4gICAgICAgIFJvd3M6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9QaXZvdE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RUYWJsZUNlbGxDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGaWVsZElkOiBbXSxcbiAgICAgICAgU2NvcGU6IF9qc29uLFxuICAgICAgICBTY29wZXM6IF9qc29uLFxuICAgICAgICBUZXh0Rm9ybWF0OiAoXykgPT4gc2VfVGV4dENvbmRpdGlvbmFsRm9ybWF0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25zOiAoXykgPT4gc2VfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENlbGw6IChfKSA9PiBzZV9QaXZvdFRhYmxlQ2VsbENvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaXZvdFRhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9QaXZvdFRhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaXZvdFRhYmxlQ29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEZpZWxkT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9QaXZvdFRhYmxlRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgUGFnaW5hdGVkUmVwb3J0T3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfUGl2b3RUYWJsZVNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUYWJsZU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBUb3RhbE9wdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Bpdm90VGFibGVGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgUGl2b3RUYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfUGl2b3RUYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Bpdm90VGFibGVTb3J0QnkgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2x1bW46IChfKSA9PiBzZV9Db2x1bW5Tb3J0KF8sIGNvbnRleHQpLFxuICAgICAgICBEYXRhUGF0aDogX2pzb24sXG4gICAgICAgIEZpZWxkOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaXZvdFRhYmxlU29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGaWVsZFNvcnRPcHRpb25zOiAoXykgPT4gc2VfUGl2b3RGaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9QaXZvdFRhYmxlVmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1Bpdm90VGFibGVDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBzZV9QaXZvdFRhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1ByZWRlZmluZWRIaWVyYXJjaHkgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2x1bW5zOiBfanNvbixcbiAgICAgICAgRHJpbGxEb3duRmlsdGVyczogKF8pID0+IHNlX0RyaWxsRG93bkZpbHRlckxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEhpZXJhcmNoeUlkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SYWRhckNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbG9yOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gc2VfUmFkYXJDaGFydFZhbHVlc0ZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SYWRhckNoYXJ0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFsdGVybmF0ZUJhbmRDb2xvcnNWaXNpYmlsaXR5OiBbXSxcbiAgICAgICAgQWx0ZXJuYXRlQmFuZEV2ZW5Db2xvcjogW10sXG4gICAgICAgIEFsdGVybmF0ZUJhbmRPZGRDb2xvcjogW10sXG4gICAgICAgIEF4ZXNSYW5nZVNjYWxlOiBbXSxcbiAgICAgICAgQmFzZVNlcmllc1NldHRpbmdzOiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlBeGlzOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBDYXRlZ29yeUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIENvbG9yQXhpczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sb3JMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfUmFkYXJDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFNoYXBlOiBbXSxcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9SYWRhckNoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFN0YXJ0QW5nbGU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1JhZGFyQ2hhcnRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgUmFkYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfUmFkYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1JhZGFyQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb2xvckl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDb2xvclNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SYWRhckNoYXJ0VmFsdWVzRmllbGRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmFkYXJDaGFydFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9SYWRhckNoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1JlZmVyZW5jZUxpbmUgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRhQ29uZmlndXJhdGlvbjogKF8pID0+IHNlX1JlZmVyZW5jZUxpbmVEYXRhQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgTGFiZWxDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU3RhdHVzOiBbXSxcbiAgICAgICAgU3R5bGVDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SZWZlcmVuY2VMaW5lRGF0YUNvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBeGlzQmluZGluZzogW10sXG4gICAgICAgIER5bmFtaWNDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfUmVmZXJlbmNlTGluZUR5bmFtaWNEYXRhQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU3RhdGljQ29uZmlndXJhdGlvbjogKF8pID0+IHNlX1JlZmVyZW5jZUxpbmVTdGF0aWNEYXRhQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9SZWZlcmVuY2VMaW5lRHluYW1pY0RhdGFDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2FsY3VsYXRpb246IChfKSA9PiBzZV9OdW1lcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBNZWFzdXJlQWdncmVnYXRpb25GdW5jdGlvbjogKF8pID0+IHNlX0FnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmVmZXJlbmNlTGluZUxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfUmVmZXJlbmNlTGluZShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmVmZXJlbmNlTGluZVN0YXRpY0RhdGFDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgVmFsdWU6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUmVmcmVzaFNjaGVkdWxlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQXJuOiBbXSxcbiAgICAgICAgUmVmcmVzaFR5cGU6IFtdLFxuICAgICAgICBTY2hlZHVsZUZyZXF1ZW5jeTogX2pzb24sXG4gICAgICAgIFNjaGVkdWxlSWQ6IFtdLFxuICAgICAgICBTdGFydEFmdGVyRGF0ZVRpbWU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfUm93U29ydExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfRmllbGRTb3J0T3B0aW9ucyhlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2Fua2V5RGlhZ3JhbUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGVzdGluYXRpb246IF9qc29uLFxuICAgICAgICBTb3VyY2U6IF9qc29uLFxuICAgICAgICBXZWlnaHQ6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NhbmtleURpYWdyYW1DaGFydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX1NhbmtleURpYWdyYW1GaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1NhbmtleURpYWdyYW1Tb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TYW5rZXlEaWFncmFtRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFNhbmtleURpYWdyYW1BZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1NhbmtleURpYWdyYW1BZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TYW5rZXlEaWFncmFtU29ydENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEZXN0aW5hdGlvbkl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBTb3VyY2VJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgV2VpZ2h0U29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NhbmtleURpYWdyYW1WaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfU2Fua2V5RGlhZ3JhbUNoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TY2F0dGVyUGxvdENhdGVnb3JpY2FsbHlBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgTGFiZWw6IF9qc29uLFxuICAgICAgICBTaXplOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgWEF4aXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBZQXhpczogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2NhdHRlclBsb3RDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBzZV9TY2F0dGVyUGxvdEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBzZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgICAgIFhBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFhBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgWUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IHNlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgWUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NjYXR0ZXJQbG90RmllbGRXZWxscyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFNjYXR0ZXJQbG90Q2F0ZWdvcmljYWxseUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfU2NhdHRlclBsb3RDYXRlZ29yaWNhbGx5QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIFNjYXR0ZXJQbG90VW5hZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1NjYXR0ZXJQbG90VW5hZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TY2F0dGVyUGxvdFVuYWdncmVnYXRlZEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIExhYmVsOiBfanNvbixcbiAgICAgICAgU2l6ZTogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFhBeGlzOiBfanNvbixcbiAgICAgICAgWUF4aXM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NjYXR0ZXJQbG90VmlzdWFsID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1NjYXR0ZXJQbG90Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBzZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Njcm9sbEJhck9wdGlvbnMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBWaXNpYmlsaXR5OiBbXSxcbiAgICAgICAgVmlzaWJsZVJhbmdlOiAoXykgPT4gc2VfVmlzaWJsZVJhbmdlT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TZWN0aW9uQmFzZWRMYXlvdXRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQm9keVNlY3Rpb25zOiBfanNvbixcbiAgICAgICAgQ2FudmFzU2l6ZU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGb290ZXJTZWN0aW9uczogX2pzb24sXG4gICAgICAgIEhlYWRlclNlY3Rpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TZW5zaXRpdmVEb3VibGVMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fc2VyaWFsaXplRmxvYXQoZW50cnkpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NlbnNpdGl2ZVRpbWVzdGFtcExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChlbnRyeS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TZXRQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBEZXN0aW5hdGlvblBhcmFtZXRlck5hbWU6IFtdLFxuICAgICAgICBWYWx1ZTogKF8pID0+IHNlX0Rlc3RpbmF0aW9uUGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NldFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfU2V0UGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9TaGFwZUNvbmRpdGlvbmFsRm9ybWF0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFja2dyb3VuZENvbG9yOiAoXykgPT4gc2VfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfU2hlZXREZWZpbml0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29udGVudFR5cGU6IFtdLFxuICAgICAgICBEZXNjcmlwdGlvbjogW10sXG4gICAgICAgIEZpbHRlckNvbnRyb2xzOiAoXykgPT4gc2VfRmlsdGVyQ29udHJvbExpc3QoXywgY29udGV4dCksXG4gICAgICAgIExheW91dHM6IChfKSA9PiBzZV9MYXlvdXRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgUGFyYW1ldGVyQ29udHJvbHM6IChfKSA9PiBzZV9QYXJhbWV0ZXJDb250cm9sTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2hlZXRDb250cm9sTGF5b3V0czogX2pzb24sXG4gICAgICAgIFNoZWV0SWQ6IFtdLFxuICAgICAgICBUZXh0Qm94ZXM6IF9qc29uLFxuICAgICAgICBUaXRsZTogW10sXG4gICAgICAgIFZpc3VhbHM6IChfKSA9PiBzZV9WaXN1YWxMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1NoZWV0RGVmaW5pdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfU2hlZXREZWZpbml0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgR3JvdXBCeTogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IHNlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVDZWxsQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRJZDogW10sXG4gICAgICAgIFRleHRGb3JtYXQ6IChfKSA9PiBzZV9UZXh0Q29uZGl0aW9uYWxGb3JtYXQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25zOiAoXykgPT4gc2VfVGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ2VsbDogKF8pID0+IHNlX1RhYmxlQ2VsbENvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgUm93OiAoXykgPT4gc2VfVGFibGVSb3dDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UYWJsZUNvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGaWVsZE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gc2VfVGFibGVGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBQYWdpbmF0ZWRSZXBvcnRPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9UYWJsZVNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUYWJsZUlubGluZVZpc3VhbGl6YXRpb25zOiBfanNvbixcbiAgICAgICAgVGFibGVPcHRpb25zOiBfanNvbixcbiAgICAgICAgVG90YWxPcHRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UYWJsZUZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBUYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfVGFibGVBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgVGFibGVVbmFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UYWJsZVJvd0NvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJhY2tncm91bmRDb2xvcjogKF8pID0+IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgICAgICBUZXh0Q29sb3I6IChfKSA9PiBzZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UYWJsZVNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgUGFnaW5hdGlvbkNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBSb3dTb3J0OiAoXykgPT4gc2VfUm93U29ydExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGFibGVWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfVGFibGVDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBzZV9UYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UZW1wbGF0ZVZlcnNpb25EZWZpbml0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQW5hbHlzaXNEZWZhdWx0czogX2pzb24sXG4gICAgICAgIENhbGN1bGF0ZWRGaWVsZHM6IF9qc29uLFxuICAgICAgICBDb2x1bW5Db25maWd1cmF0aW9uczogX2pzb24sXG4gICAgICAgIERhdGFTZXRDb25maWd1cmF0aW9uczogX2pzb24sXG4gICAgICAgIEZpbHRlckdyb3VwczogKF8pID0+IHNlX0ZpbHRlckdyb3VwTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgUGFyYW1ldGVyRGVjbGFyYXRpb25zOiAoXykgPT4gc2VfUGFyYW1ldGVyRGVjbGFyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTaGVldHM6IChfKSA9PiBzZV9TaGVldERlZmluaXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RleHRDb25kaXRpb25hbEZvcm1hdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJhY2tncm91bmRDb2xvcjogKF8pID0+IHNlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgICAgICBJY29uOiBfanNvbixcbiAgICAgICAgVGV4dENvbG9yOiAoXykgPT4gc2VfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGltZUJhc2VkRm9yZWNhc3RQcm9wZXJ0aWVzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgTG93ZXJCb3VuZGFyeTogX19zZXJpYWxpemVGbG9hdCxcbiAgICAgICAgUGVyaW9kc0JhY2t3YXJkOiBbXSxcbiAgICAgICAgUGVyaW9kc0ZvcndhcmQ6IFtdLFxuICAgICAgICBQcmVkaWN0aW9uSW50ZXJ2YWw6IFtdLFxuICAgICAgICBTZWFzb25hbGl0eTogW10sXG4gICAgICAgIFVwcGVyQm91bmRhcnk6IF9fc2VyaWFsaXplRmxvYXQsXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGltZUVxdWFsaXR5RmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRmlsdGVySWQ6IFtdLFxuICAgICAgICBQYXJhbWV0ZXJOYW1lOiBbXSxcbiAgICAgICAgVGltZUdyYW51bGFyaXR5OiBbXSxcbiAgICAgICAgVmFsdWU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGltZVJhbmdlRHJpbGxEb3duRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgUmFuZ2VNYXhpbXVtOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBSYW5nZU1pbmltdW06IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVGltZVJhbmdlRmlsdGVyID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRXhjbHVkZVBlcmlvZENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBGaWx0ZXJJZDogW10sXG4gICAgICAgIEluY2x1ZGVNYXhpbXVtOiBbXSxcbiAgICAgICAgSW5jbHVkZU1pbmltdW06IFtdLFxuICAgICAgICBOdWxsT3B0aW9uOiBbXSxcbiAgICAgICAgUmFuZ2VNYXhpbXVtVmFsdWU6IChfKSA9PiBzZV9UaW1lUmFuZ2VGaWx0ZXJWYWx1ZShfLCBjb250ZXh0KSxcbiAgICAgICAgUmFuZ2VNaW5pbXVtVmFsdWU6IChfKSA9PiBzZV9UaW1lUmFuZ2VGaWx0ZXJWYWx1ZShfLCBjb250ZXh0KSxcbiAgICAgICAgVGltZUdyYW51bGFyaXR5OiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UaW1lUmFuZ2VGaWx0ZXJWYWx1ZSA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIFBhcmFtZXRlcjogW10sXG4gICAgICAgIFJvbGxpbmdEYXRlOiBfanNvbixcbiAgICAgICAgU3RhdGljVmFsdWU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVG9vbHRpcEl0ZW0gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2x1bW5Ub29sdGlwSXRlbTogKF8pID0+IHNlX0NvbHVtblRvb2x0aXBJdGVtKF8sIGNvbnRleHQpLFxuICAgICAgICBGaWVsZFRvb2x0aXBJdGVtOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Ub29sdGlwSXRlbUxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfVG9vbHRpcEl0ZW0oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Rvb2x0aXBPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgRmllbGRCYXNlZFRvb2x0aXA6IChfKSA9PiBzZV9GaWVsZEJhc2VkVG9vbHRpcChfLCBjb250ZXh0KSxcbiAgICAgICAgU2VsZWN0ZWRUb29sdGlwVHlwZTogW10sXG4gICAgICAgIFRvb2x0aXBWaXNpYmlsaXR5OiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Ub3BCb3R0b21GaWx0ZXIgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvblNvcnRDb25maWd1cmF0aW9uczogKF8pID0+IHNlX0FnZ3JlZ2F0aW9uU29ydENvbmZpZ3VyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBGaWx0ZXJJZDogW10sXG4gICAgICAgIExpbWl0OiBbXSxcbiAgICAgICAgUGFyYW1ldGVyTmFtZTogW10sXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVG9wQm90dG9tTW92ZXJzQ29tcHV0YXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IFtdLFxuICAgICAgICBNb3ZlclNpemU6IFtdLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgU29ydE9yZGVyOiBbXSxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFR5cGU6IFtdLFxuICAgICAgICBWYWx1ZTogKF8pID0+IHNlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Ub3BCb3R0b21SYW5rZWRDb21wdXRhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgQ29tcHV0YXRpb25JZDogW10sXG4gICAgICAgIE5hbWU6IFtdLFxuICAgICAgICBSZXN1bHRTaXplOiBbXSxcbiAgICAgICAgVHlwZTogW10sXG4gICAgICAgIFZhbHVlOiAoXykgPT4gc2VfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RvcGljUmVmcmVzaFNjaGVkdWxlID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQmFzZWRPblNwaWNlU2NoZWR1bGU6IFtdLFxuICAgICAgICBJc0VuYWJsZWQ6IFtdLFxuICAgICAgICBSZXBlYXRBdDogW10sXG4gICAgICAgIFN0YXJ0aW5nQXQ6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICAgIFRpbWV6b25lOiBbXSxcbiAgICAgICAgVG9waWNTY2hlZHVsZVR5cGU6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RvdGFsQWdncmVnYXRpb25Db21wdXRhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IFtdLFxuICAgICAgICBOYW1lOiBbXSxcbiAgICAgICAgVmFsdWU6IChfKSA9PiBzZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVHJhbnNmb3JtT3BlcmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIFRyYW5zZm9ybU9wZXJhdGlvbi52aXNpdChpbnB1dCwge1xuICAgICAgICBDYXN0Q29sdW1uVHlwZU9wZXJhdGlvbjogKHZhbHVlKSA9PiAoeyBDYXN0Q29sdW1uVHlwZU9wZXJhdGlvbjogX2pzb24odmFsdWUpIH0pLFxuICAgICAgICBDcmVhdGVDb2x1bW5zT3BlcmF0aW9uOiAodmFsdWUpID0+ICh7IENyZWF0ZUNvbHVtbnNPcGVyYXRpb246IF9qc29uKHZhbHVlKSB9KSxcbiAgICAgICAgRmlsdGVyT3BlcmF0aW9uOiAodmFsdWUpID0+ICh7IEZpbHRlck9wZXJhdGlvbjogX2pzb24odmFsdWUpIH0pLFxuICAgICAgICBPdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb246ICh2YWx1ZSkgPT4gKHtcbiAgICAgICAgICAgIE92ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbjogc2VfT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uKHZhbHVlLCBjb250ZXh0KSxcbiAgICAgICAgfSksXG4gICAgICAgIFByb2plY3RPcGVyYXRpb246ICh2YWx1ZSkgPT4gKHsgUHJvamVjdE9wZXJhdGlvbjogX2pzb24odmFsdWUpIH0pLFxuICAgICAgICBSZW5hbWVDb2x1bW5PcGVyYXRpb246ICh2YWx1ZSkgPT4gKHsgUmVuYW1lQ29sdW1uT3BlcmF0aW9uOiBfanNvbih2YWx1ZSkgfSksXG4gICAgICAgIFRhZ0NvbHVtbk9wZXJhdGlvbjogKHZhbHVlKSA9PiAoeyBUYWdDb2x1bW5PcGVyYXRpb246IF9qc29uKHZhbHVlKSB9KSxcbiAgICAgICAgVW50YWdDb2x1bW5PcGVyYXRpb246ICh2YWx1ZSkgPT4gKHsgVW50YWdDb2x1bW5PcGVyYXRpb246IF9qc29uKHZhbHVlKSB9KSxcbiAgICAgICAgXzogKG5hbWUsIHZhbHVlKSA9PiAoeyBuYW1lOiB2YWx1ZSB9KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9UcmFuc2Zvcm1PcGVyYXRpb25MaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX1RyYW5zZm9ybU9wZXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVHJlZU1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQ29sb3JzOiAoXykgPT4gc2VfVHJlZU1hcE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIEdyb3VwczogX2pzb24sXG4gICAgICAgIFNpemVzOiAoXykgPT4gc2VfVHJlZU1hcE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVHJlZU1hcENvbmZpZ3VyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBDb2xvckxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIENvbG9yU2NhbGU6IChfKSA9PiBzZV9Db2xvclNjYWxlKF8sIGNvbnRleHQpLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX1RyZWVNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBHcm91cExhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFNpemVMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IHNlX1RyZWVNYXBTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IHNlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RyZWVNYXBGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgVHJlZU1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gc2VfVHJlZU1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RyZWVNYXBNZWFzdXJlRmllbGRMaXN0ID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHNlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVHJlZU1hcFNvcnRDb25maWd1cmF0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgVHJlZU1hcEdyb3VwSXRlbXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBUcmVlTWFwU29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1RyZWVNYXBWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfVHJlZU1hcENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gc2VfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9WaXNpYmxlUmFuZ2VPcHRpb25zID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgUGVyY2VudFJhbmdlOiAoXykgPT4gc2VfUGVyY2VudFZpc2libGVSYW5nZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9WaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBCYXJDaGFydFZpc3VhbDogKF8pID0+IHNlX0JhckNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBCb3hQbG90VmlzdWFsOiAoXykgPT4gc2VfQm94UGxvdFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29tYm9DaGFydFZpc3VhbDogKF8pID0+IHNlX0NvbWJvQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEN1c3RvbUNvbnRlbnRWaXN1YWw6IChfKSA9PiBzZV9DdXN0b21Db250ZW50VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBFbXB0eVZpc3VhbDogKF8pID0+IHNlX0VtcHR5VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBGaWxsZWRNYXBWaXN1YWw6IChfKSA9PiBzZV9GaWxsZWRNYXBWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEZ1bm5lbENoYXJ0VmlzdWFsOiAoXykgPT4gc2VfRnVubmVsQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEdhdWdlQ2hhcnRWaXN1YWw6IChfKSA9PiBzZV9HYXVnZUNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBHZW9zcGF0aWFsTWFwVmlzdWFsOiAoXykgPT4gc2VfR2Vvc3BhdGlhbE1hcFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgSGVhdE1hcFZpc3VhbDogKF8pID0+IHNlX0hlYXRNYXBWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEhpc3RvZ3JhbVZpc3VhbDogKF8pID0+IHNlX0hpc3RvZ3JhbVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgSW5zaWdodFZpc3VhbDogKF8pID0+IHNlX0luc2lnaHRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEtQSVZpc3VhbDogKF8pID0+IHNlX0tQSVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgTGluZUNoYXJ0VmlzdWFsOiAoXykgPT4gc2VfTGluZUNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBQaWVDaGFydFZpc3VhbDogKF8pID0+IHNlX1BpZUNoYXJ0VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBQaXZvdFRhYmxlVmlzdWFsOiAoXykgPT4gc2VfUGl2b3RUYWJsZVZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgUmFkYXJDaGFydFZpc3VhbDogKF8pID0+IHNlX1JhZGFyQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFNhbmtleURpYWdyYW1WaXN1YWw6IChfKSA9PiBzZV9TYW5rZXlEaWFncmFtVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBTY2F0dGVyUGxvdFZpc3VhbDogKF8pID0+IHNlX1NjYXR0ZXJQbG90VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBUYWJsZVZpc3VhbDogKF8pID0+IHNlX1RhYmxlVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBUcmVlTWFwVmlzdWFsOiAoXykgPT4gc2VfVHJlZU1hcFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgV2F0ZXJmYWxsVmlzdWFsOiAoXykgPT4gc2VfV2F0ZXJmYWxsVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBXb3JkQ2xvdWRWaXN1YWw6IChfKSA9PiBzZV9Xb3JkQ2xvdWRWaXN1YWwoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVmlzdWFsQ3VzdG9tQWN0aW9uID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQWN0aW9uT3BlcmF0aW9uczogKF8pID0+IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbk9wZXJhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEN1c3RvbUFjdGlvbklkOiBbXSxcbiAgICAgICAgTmFtZTogW10sXG4gICAgICAgIFN0YXR1czogW10sXG4gICAgICAgIFRyaWdnZXI6IFtdLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9WaXN1YWxDdXN0b21BY3Rpb25PcGVyYXRpb24gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBGaWx0ZXJPcGVyYXRpb246IF9qc29uLFxuICAgICAgICBOYXZpZ2F0aW9uT3BlcmF0aW9uOiBfanNvbixcbiAgICAgICAgU2V0UGFyYW1ldGVyc09wZXJhdGlvbjogKF8pID0+IHNlX0N1c3RvbUFjdGlvblNldFBhcmFtZXRlcnNPcGVyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFVSTE9wZXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfVmlzdWFsQ3VzdG9tQWN0aW9uT3BlcmF0aW9uTGlzdCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBzZV9WaXN1YWxDdXN0b21BY3Rpb25PcGVyYXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xufTtcbmNvbnN0IHNlX1Zpc3VhbExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfVmlzdWFsKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9XYXRlcmZhbGxDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgQnJlYWtkb3duczogX2pzb24sXG4gICAgICAgIENhdGVnb3JpZXM6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBzZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1dhdGVyZmFsbENoYXJ0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5QXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gc2VfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBDYXRlZ29yeUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX1dhdGVyZmFsbENoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgUHJpbWFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBzZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFByaW1hcnlZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfV2F0ZXJmYWxsQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgICAgIFdhdGVyZmFsbENoYXJ0T3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfV2F0ZXJmYWxsQ2hhcnRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgV2F0ZXJmYWxsQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1dhdGVyZmFsbENoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfV2F0ZXJmYWxsQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEJyZWFrZG93bkl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBzZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBzZV9XYXRlcmZhbGxWaXN1YWwgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gc2VfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfV2F0ZXJmYWxsQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IHNlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogW10sXG4gICAgfSk7XG59O1xuY29uc3Qgc2VfV2hhdElmUG9pbnRTY2VuYXJpbyA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIERhdGU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICAgIFZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1doYXRJZlJhbmdlU2NlbmFyaW8gPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBFbmREYXRlOiAoXykgPT4gTWF0aC5yb3VuZChfLmdldFRpbWUoKSAvIDEwMDApLFxuICAgICAgICBTdGFydERhdGU6IChfKSA9PiBNYXRoLnJvdW5kKF8uZ2V0VGltZSgpIC8gMTAwMCksXG4gICAgICAgIFZhbHVlOiBfX3NlcmlhbGl6ZUZsb2F0LFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1dvcmRDbG91ZEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKGlucHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2UoaW5wdXQsIHtcbiAgICAgICAgR3JvdXBCeTogX2pzb24sXG4gICAgICAgIFNpemU6IChfKSA9PiBzZV9Xb3JkQ2xvdWRNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1dvcmRDbG91ZENoYXJ0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IHNlX1dvcmRDbG91ZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gc2VfV29yZENsb3VkU29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFdvcmRDbG91ZE9wdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1dvcmRDbG91ZEZpZWxkV2VsbHMgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShpbnB1dCwge1xuICAgICAgICBXb3JkQ2xvdWRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IHNlX1dvcmRDbG91ZEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1dvcmRDbG91ZE1lYXN1cmVGaWVsZExpc3QgPSAoaW5wdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gc2VfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbn07XG5jb25zdCBzZV9Xb3JkQ2xvdWRTb3J0Q29uZmlndXJhdGlvbiA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIENhdGVnb3J5SXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IHNlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IHNlX1dvcmRDbG91ZFZpc3VhbCA9IChpbnB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKGlucHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBzZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBzZV9Xb3JkQ2xvdWRDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gc2VfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBbXSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BZ2dyZWdhdGlvbkZ1bmN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRlQWdncmVnYXRpb25GdW5jdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE51bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb246IChfKSA9PiBkZV9OdW1lcmljYWxBZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0FnZ3JlZ2F0aW9uU29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uRnVuY3Rpb246IChfKSA9PiBkZV9BZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBTb3J0RGlyZWN0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9BZ2dyZWdhdGlvblNvcnRDb25maWd1cmF0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9BZ2dyZWdhdGlvblNvcnRDb25maWd1cmF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0FuYWx5c2lzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBbmFseXNpc0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERhdGFTZXRBcm5zOiBfanNvbixcbiAgICAgICAgRXJyb3JzOiBfanNvbixcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2hlZXRzOiBfanNvbixcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGhlbWVBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0FuYWx5c2lzRGVmaW5pdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQW5hbHlzaXNEZWZhdWx0czogX2pzb24sXG4gICAgICAgIENhbGN1bGF0ZWRGaWVsZHM6IF9qc29uLFxuICAgICAgICBDb2x1bW5Db25maWd1cmF0aW9uczogX2pzb24sXG4gICAgICAgIERhdGFTZXRJZGVudGlmaWVyRGVjbGFyYXRpb25zOiBfanNvbixcbiAgICAgICAgRmlsdGVyR3JvdXBzOiAoXykgPT4gZGVfRmlsdGVyR3JvdXBMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBQYXJhbWV0ZXJEZWNsYXJhdGlvbnM6IChfKSA9PiBkZV9QYXJhbWV0ZXJEZWNsYXJhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNoZWV0czogKF8pID0+IGRlX1NoZWV0RGVmaW5pdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQW5hbHlzaXNTdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBbmFseXNpc0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQW5hbHlzaXNTdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9BbmFseXNpc1N1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQXJjQXhpc0NvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFJhbmdlOiAoXykgPT4gZGVfQXJjQXhpc0Rpc3BsYXlSYW5nZShfLCBjb250ZXh0KSxcbiAgICAgICAgUmVzZXJ2ZVJhbmdlOiBfX2V4cGVjdEludDMyLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0FyY0F4aXNEaXNwbGF5UmFuZ2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIE1heDogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIE1pbjogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQXJjQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJjQW5nbGU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBBcmNUaGlja25lc3M6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Fzc2V0QnVuZGxlRXhwb3J0Sm9iU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXNzZXRCdW5kbGVFeHBvcnRKb2JJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBFeHBvcnRGb3JtYXQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbmNsdWRlQWxsRGVwZW5kZW5jaWVzOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIEpvYlN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQXNzZXRCdW5kbGVFeHBvcnRKb2JTdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Bc3NldEJ1bmRsZUV4cG9ydEpvYlN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JPdmVycmlkZVBhcmFtZXRlcnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFuYWx5c2VzOiBfanNvbixcbiAgICAgICAgRGFzaGJvYXJkczogX2pzb24sXG4gICAgICAgIERhdGFTZXRzOiBfanNvbixcbiAgICAgICAgRGF0YVNvdXJjZXM6IF9qc29uLFxuICAgICAgICBSZWZyZXNoU2NoZWR1bGVzOiAoXykgPT4gZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JSZWZyZXNoU2NoZWR1bGVPdmVycmlkZVBhcmFtZXRlcnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBSZXNvdXJjZUlkT3ZlcnJpZGVDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgVGhlbWVzOiBfanNvbixcbiAgICAgICAgVlBDQ29ubmVjdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iUmVmcmVzaFNjaGVkdWxlT3ZlcnJpZGVQYXJhbWV0ZXJzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRhU2V0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTY2hlZHVsZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhcnRBZnRlckRhdGVUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Fzc2V0QnVuZGxlSW1wb3J0Sm9iUmVmcmVzaFNjaGVkdWxlT3ZlcnJpZGVQYXJhbWV0ZXJzTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlJlZnJlc2hTY2hlZHVsZU92ZXJyaWRlUGFyYW1ldGVycyhlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEFzc2V0QnVuZGxlSW1wb3J0Sm9iSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRmFpbHVyZUFjdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEpvYlN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQXNzZXRCdW5kbGVJbXBvcnRKb2JTdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Bc3NldEJ1bmRsZUltcG9ydEpvYlN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQXhpc0RhdGFPcHRpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRlQXhpc09wdGlvbnM6IF9qc29uLFxuICAgICAgICBOdW1lcmljQXhpc09wdGlvbnM6IChfKSA9PiBkZV9OdW1lcmljQXhpc09wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQXhpc0Rpc3BsYXlNaW5NYXhSYW5nZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgTWF4aW11bTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIE1pbmltdW06IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXhpc0xpbmVWaXNpYmlsaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXhpc09mZnNldDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFPcHRpb25zOiAoXykgPT4gZGVfQXhpc0RhdGFPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBHcmlkTGluZVZpc2liaWxpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTY3JvbGxiYXJPcHRpb25zOiAoXykgPT4gZGVfU2Nyb2xsQmFyT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVGlja0xhYmVsT3B0aW9uczogKF8pID0+IGRlX0F4aXNUaWNrTGFiZWxPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0F4aXNEaXNwbGF5UmFuZ2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERhdGFEcml2ZW46IF9qc29uLFxuICAgICAgICBNaW5NYXg6IChfKSA9PiBkZV9BeGlzRGlzcGxheU1pbk1heFJhbmdlKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0F4aXNMaW5lYXJTY2FsZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgU3RlcENvdW50OiBfX2V4cGVjdEludDMyLFxuICAgICAgICBTdGVwU2l6ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQXhpc0xvZ2FyaXRobWljU2NhbGUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJhc2U6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0F4aXNTY2FsZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgTGluZWFyOiAoXykgPT4gZGVfQXhpc0xpbmVhclNjYWxlKF8sIGNvbnRleHQpLFxuICAgICAgICBMb2dhcml0aG1pYzogKF8pID0+IGRlX0F4aXNMb2dhcml0aG1pY1NjYWxlKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0F4aXNUaWNrTGFiZWxPcHRpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBSb3RhdGlvbkFuZ2xlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9CYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbG9yczogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9CYXJDaGFydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJhcnNBcnJhbmdlbWVudDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENhdGVnb3J5QXhpczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb2xvckxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIENvbnRyaWJ1dGlvbkFuYWx5c2lzRGVmYXVsdHM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX0JhckNoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgT3JpZW50YXRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZWZlcmVuY2VMaW5lczogKF8pID0+IGRlX1JlZmVyZW5jZUxpbmVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTbWFsbE11bHRpcGxlc09wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0JhckNoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBkZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmFsdWVBeGlzOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWYWx1ZUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0JhckNoYXJ0RmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmFyQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX0JhckNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQmFyQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIENvbG9ySXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENvbG9yU29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTbWFsbE11bHRpcGxlc0xpbWl0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzU29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0JhckNoYXJ0VmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfQmFyQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQmluV2lkdGhPcHRpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCaW5Db3VudExpbWl0OiBfX2V4cGVjdExvbmcsXG4gICAgICAgIFZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Cb3hQbG90QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEdyb3VwQnk6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBkZV9Cb3hQbG90TWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Cb3hQbG90Q2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCb3hQbG90T3B0aW9uczogX2pzb24sXG4gICAgICAgIENhdGVnb3J5QXhpczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfQm94UGxvdEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFByaW1hcnlZQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBQcmltYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBSZWZlcmVuY2VMaW5lczogKF8pID0+IGRlX1JlZmVyZW5jZUxpbmVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0JveFBsb3RTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Cb3hQbG90RmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQm94UGxvdEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfQm94UGxvdEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0JveFBsb3RNZWFzdXJlRmllbGRMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9Cb3hQbG90U29ydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBQYWdpbmF0aW9uQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQm94UGxvdFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0JveFBsb3RDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gZGVfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db2xvclNjYWxlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2xvckZpbGxUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ29sb3JzOiAoXykgPT4gZGVfQ29sb3JTY2FsZUNvbG9yTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTnVsbFZhbHVlQ29sb3I6IChfKSA9PiBkZV9EYXRhQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ29sb3JTY2FsZUNvbG9yTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9EYXRhQ29sb3IoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQ29sdW1uSGllcmFyY2h5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRlVGltZUhpZXJhcmNoeTogKF8pID0+IGRlX0RhdGVUaW1lSGllcmFyY2h5KF8sIGNvbnRleHQpLFxuICAgICAgICBFeHBsaWNpdEhpZXJhcmNoeTogKF8pID0+IGRlX0V4cGxpY2l0SGllcmFyY2h5KF8sIGNvbnRleHQpLFxuICAgICAgICBQcmVkZWZpbmVkSGllcmFyY2h5OiAoXykgPT4gZGVfUHJlZGVmaW5lZEhpZXJhcmNoeShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0NvbHVtbkhpZXJhcmNoeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9Db2x1bW5Tb3J0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gZGVfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgRGlyZWN0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU29ydEJ5OiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db2x1bW5Ub29sdGlwSXRlbSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWdncmVnYXRpb246IChfKSA9PiBkZV9BZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBMYWJlbDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZpc2liaWxpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NvbWJvQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmFyVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBDb2xvcnM6IF9qc29uLFxuICAgICAgICBMaW5lVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21ib0NoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQmFyRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEJhcnNBcnJhbmdlbWVudDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENhdGVnb3J5QXhpczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb2xvckxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9Db21ib0NoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgTGluZURhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBQcmltYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgUHJpbWFyeVlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgUmVmZXJlbmNlTGluZXM6IChfKSA9PiBkZV9SZWZlcmVuY2VMaW5lTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2Vjb25kYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IGRlX0F4aXNEaXNwbGF5T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgU2Vjb25kYXJ5WUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0NvbWJvQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21ib0NoYXJ0RmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29tYm9DaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfQ29tYm9DaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NvbWJvQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIENvbG9ySXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIENvbG9yU29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NvbWJvQ2hhcnRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9Db21ib0NoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NvbXB1dGF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGb3JlY2FzdDogKF8pID0+IGRlX0ZvcmVjYXN0Q29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIEdyb3d0aFJhdGU6IChfKSA9PiBkZV9Hcm93dGhSYXRlQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIE1heGltdW1NaW5pbXVtOiAoXykgPT4gZGVfTWF4aW11bU1pbmltdW1Db21wdXRhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgTWV0cmljQ29tcGFyaXNvbjogKF8pID0+IGRlX01ldHJpY0NvbXBhcmlzb25Db21wdXRhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgUGVyaW9kT3ZlclBlcmlvZDogKF8pID0+IGRlX1BlcmlvZE92ZXJQZXJpb2RDb21wdXRhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgUGVyaW9kVG9EYXRlOiAoXykgPT4gZGVfUGVyaW9kVG9EYXRlQ29tcHV0YXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvcEJvdHRvbU1vdmVyczogKF8pID0+IGRlX1RvcEJvdHRvbU1vdmVyc0NvbXB1dGF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb3BCb3R0b21SYW5rZWQ6IChfKSA9PiBkZV9Ub3BCb3R0b21SYW5rZWRDb21wdXRhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG90YWxBZ2dyZWdhdGlvbjogKF8pID0+IGRlX1RvdGFsQWdncmVnYXRpb25Db21wdXRhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVW5pcXVlVmFsdWVzOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Db21wdXRhdGlvbkxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfQ29tcHV0YXRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEdyYWRpZW50OiAoXykgPT4gZGVfQ29uZGl0aW9uYWxGb3JtYXR0aW5nR3JhZGllbnRDb2xvcihfLCBjb250ZXh0KSxcbiAgICAgICAgU29saWQ6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0dyYWRpZW50Q29sb3IgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbG9yOiAoXykgPT4gZGVfR3JhZGllbnRDb2xvcihfLCBjb250ZXh0KSxcbiAgICAgICAgRXhwcmVzc2lvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ3VzdG9tQWN0aW9uU2V0UGFyYW1ldGVyc09wZXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgUGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uczogKF8pID0+IGRlX1NldFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfQ3VzdG9tQ29udGVudFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIERhdGFTZXRJZGVudGlmaWVyOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9DdXN0b21QYXJhbWV0ZXJWYWx1ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERhdGVUaW1lVmFsdWVzOiAoXykgPT4gZGVfRGF0ZVRpbWVEZWZhdWx0VmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEZWNpbWFsVmFsdWVzOiAoXykgPT4gZGVfRGVjaW1hbERlZmF1bHRWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIEludGVnZXJWYWx1ZXM6IF9qc29uLFxuICAgICAgICBTdHJpbmdWYWx1ZXM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0N1c3RvbVZhbHVlc0NvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEN1c3RvbVZhbHVlczogKF8pID0+IGRlX0N1c3RvbVBhcmFtZXRlclZhbHVlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgSW5jbHVkZU51bGxWYWx1ZTogX19leHBlY3RCb29sZWFuLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Rhc2hib2FyZCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERhc2hib2FyZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGFzdFB1Ymxpc2hlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb246IChfKSA9PiBkZV9EYXNoYm9hcmRWZXJzaW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Rhc2hib2FyZFN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEYXNoYm9hcmRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIExhc3RQdWJsaXNoZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQdWJsaXNoZWRWZXJzaW9uTnVtYmVyOiBfX2V4cGVjdExvbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGFzaGJvYXJkU3VtbWFyeUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRGFzaGJvYXJkU3VtbWFyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRWZXJzaW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGF0YVNldEFybnM6IF9qc29uLFxuICAgICAgICBEZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEVycm9yczogX2pzb24sXG4gICAgICAgIFNoZWV0czogX2pzb24sXG4gICAgICAgIFNvdXJjZUVudGl0eUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmVyc2lvbk51bWJlcjogX19leHBlY3RMb25nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Rhc2hib2FyZFZlcnNpb25EZWZpbml0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgQ2FsY3VsYXRlZEZpZWxkczogX2pzb24sXG4gICAgICAgIENvbHVtbkNvbmZpZ3VyYXRpb25zOiBfanNvbixcbiAgICAgICAgRGF0YVNldElkZW50aWZpZXJEZWNsYXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWx0ZXJHcm91cHM6IChfKSA9PiBkZV9GaWx0ZXJHcm91cExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFBhcmFtZXRlckRlY2xhcmF0aW9uczogKF8pID0+IGRlX1BhcmFtZXRlckRlY2xhcmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2hlZXRzOiAoXykgPT4gZGVfU2hlZXREZWZpbml0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXNoYm9hcmRWZXJzaW9uU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERlc2NyaXB0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU291cmNlRW50aXR5QXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmVyc2lvbk51bWJlcjogX19leHBlY3RMb25nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Rhc2hib2FyZFZlcnNpb25TdW1tYXJ5TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9EYXNoYm9hcmRWZXJzaW9uU3VtbWFyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9EYXRhQ29sb3IgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbG9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YVZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRhU2V0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDb2x1bW5Hcm91cHM6IF9qc29uLFxuICAgICAgICBDb2x1bW5MZXZlbFBlcm1pc3Npb25SdWxlczogX2pzb24sXG4gICAgICAgIENvbnN1bWVkU3BpY2VDYXBhY2l0eUluQnl0ZXM6IF9fZXhwZWN0TG9uZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERhdGFTZXRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTZXRVc2FnZUNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBEYXRhc2V0UGFyYW1ldGVyczogKF8pID0+IGRlX0RhdGFzZXRQYXJhbWV0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBGaWVsZEZvbGRlcnM6IF9qc29uLFxuICAgICAgICBJbXBvcnRNb2RlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMb2dpY2FsVGFibGVNYXA6IChfKSA9PiBkZV9Mb2dpY2FsVGFibGVNYXAoXywgY29udGV4dCksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBPdXRwdXRDb2x1bW5zOiBfanNvbixcbiAgICAgICAgUGh5c2ljYWxUYWJsZU1hcDogX2pzb24sXG4gICAgICAgIFJvd0xldmVsUGVybWlzc2lvbkRhdGFTZXQ6IF9qc29uLFxuICAgICAgICBSb3dMZXZlbFBlcm1pc3Npb25UYWdDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRhc2V0UGFyYW1ldGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRlVGltZURhdGFzZXRQYXJhbWV0ZXI6IChfKSA9PiBkZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXIoXywgY29udGV4dCksXG4gICAgICAgIERlY2ltYWxEYXRhc2V0UGFyYW1ldGVyOiAoXykgPT4gZGVfRGVjaW1hbERhdGFzZXRQYXJhbWV0ZXIoXywgY29udGV4dCksXG4gICAgICAgIEludGVnZXJEYXRhc2V0UGFyYW1ldGVyOiBfanNvbixcbiAgICAgICAgU3RyaW5nRGF0YXNldFBhcmFtZXRlcjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0YXNldFBhcmFtZXRlckxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRGF0YXNldFBhcmFtZXRlcihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9EYXRhU2V0U3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ29sdW1uTGV2ZWxQZXJtaXNzaW9uUnVsZXNBcHBsaWVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEYXRhU2V0SWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbXBvcnRNb2RlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUm93TGV2ZWxQZXJtaXNzaW9uRGF0YVNldDogX2pzb24sXG4gICAgICAgIFJvd0xldmVsUGVybWlzc2lvblRhZ0NvbmZpZ3VyYXRpb25BcHBsaWVkOiBfX2V4cGVjdEJvb2xlYW4sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0YVNldFN1bW1hcnlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0RhdGFTZXRTdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0RhdGFTb3VyY2UgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFsdGVybmF0ZURhdGFTb3VyY2VQYXJhbWV0ZXJzOiBfanNvbixcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERhdGFTb3VyY2VJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIERhdGFTb3VyY2VQYXJhbWV0ZXJzOiAoXykgPT4gX2pzb24oX19leHBlY3RVbmlvbihfKSksXG4gICAgICAgIEVycm9ySW5mbzogX2pzb24sXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNlY3JldEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNzbFByb3BlcnRpZXM6IF9qc29uLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVnBjQ29ubmVjdGlvblByb3BlcnRpZXM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RhdGFTb3VyY2VMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0RhdGFTb3VyY2UoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRGF0YVNvdXJjZVN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEYXRhU291cmNlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRhU291cmNlU3VtbWFyeUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRGF0YVNvdXJjZVN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEZWZhdWx0VmFsdWVzOiAoXykgPT4gZGVfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyRGVmYXVsdFZhbHVlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZUdyYW51bGFyaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmFsdWVUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBTdGF0aWNWYWx1ZXM6IChfKSA9PiBkZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXJWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0ZVRpbWVEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoZW50cnkpKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9EYXRlVGltZURlZmF1bHRWYWx1ZUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihlbnRyeSkpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0RhdGVUaW1lRGVmYXVsdFZhbHVlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRHluYW1pY1ZhbHVlOiBfanNvbixcbiAgICAgICAgUm9sbGluZ0RhdGU6IF9qc29uLFxuICAgICAgICBTdGF0aWNWYWx1ZXM6IChfKSA9PiBkZV9EYXRlVGltZURlZmF1bHRWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0ZVRpbWVIaWVyYXJjaHkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERyaWxsRG93bkZpbHRlcnM6IChfKSA9PiBkZV9EcmlsbERvd25GaWx0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBIaWVyYXJjaHlJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRGF0ZVRpbWVQYXJhbWV0ZXJEZWNsYXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGVmYXVsdFZhbHVlczogKF8pID0+IGRlX0RhdGVUaW1lRGVmYXVsdFZhbHVlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgTWFwcGVkRGF0YVNldFBhcmFtZXRlcnM6IF9qc29uLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZUdyYW51bGFyaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmFsdWVXaGVuVW5zZXQ6IChfKSA9PiBkZV9EYXRlVGltZVZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EYXRlVGltZVZhbHVlV2hlblVuc2V0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ3VzdG9tVmFsdWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFZhbHVlV2hlblVuc2V0T3B0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EZWNpbWFsRGF0YXNldFBhcmFtZXRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGVmYXVsdFZhbHVlczogKF8pID0+IGRlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyRGVmYXVsdFZhbHVlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmFsdWVUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EZWNpbWFsRGF0YXNldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFN0YXRpY1ZhbHVlczogKF8pID0+IGRlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RlY2ltYWxEYXRhc2V0UGFyYW1ldGVyVmFsdWVMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fbGltaXRlZFBhcnNlRG91YmxlKGVudHJ5KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0RlY2ltYWxEZWZhdWx0VmFsdWVMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fbGltaXRlZFBhcnNlRG91YmxlKGVudHJ5KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0RlY2ltYWxEZWZhdWx0VmFsdWVzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEeW5hbWljVmFsdWU6IF9qc29uLFxuICAgICAgICBTdGF0aWNWYWx1ZXM6IChfKSA9PiBkZV9EZWNpbWFsRGVmYXVsdFZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EZWNpbWFsUGFyYW1ldGVyRGVjbGFyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERlZmF1bHRWYWx1ZXM6IChfKSA9PiBkZV9EZWNpbWFsRGVmYXVsdFZhbHVlcyhfLCBjb250ZXh0KSxcbiAgICAgICAgTWFwcGVkRGF0YVNldFBhcmFtZXRlcnM6IF9qc29uLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGFyYW1ldGVyVmFsdWVUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmFsdWVXaGVuVW5zZXQ6IChfKSA9PiBkZV9EZWNpbWFsVmFsdWVXaGVuVW5zZXRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0RlY2ltYWxWYWx1ZVdoZW5VbnNldENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEN1c3RvbVZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgVmFsdWVXaGVuVW5zZXRPcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Rlc3RpbmF0aW9uUGFyYW1ldGVyVmFsdWVDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDdXN0b21WYWx1ZXNDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfQ3VzdG9tVmFsdWVzQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU2VsZWN0QWxsVmFsdWVPcHRpb25zOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU291cmNlQ29sdW1uOiBfanNvbixcbiAgICAgICAgU291cmNlRmllbGQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTb3VyY2VQYXJhbWV0ZXJOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9EcmlsbERvd25GaWx0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5RmlsdGVyOiBfanNvbixcbiAgICAgICAgTnVtZXJpY0VxdWFsaXR5RmlsdGVyOiAoXykgPT4gZGVfTnVtZXJpY0VxdWFsaXR5RHJpbGxEb3duRmlsdGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBUaW1lUmFuZ2VGaWx0ZXI6IChfKSA9PiBkZV9UaW1lUmFuZ2VEcmlsbERvd25GaWx0ZXIoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRHJpbGxEb3duRmlsdGVyTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9EcmlsbERvd25GaWx0ZXIoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRW1wdHlWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9FeHBsaWNpdEhpZXJhcmNoeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sdW1uczogX2pzb24sXG4gICAgICAgIERyaWxsRG93bkZpbHRlcnM6IChfKSA9PiBkZV9EcmlsbERvd25GaWx0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBIaWVyYXJjaHlJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmllbGRCYXNlZFRvb2x0aXAgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uVmlzaWJpbGl0eTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvb2x0aXBGaWVsZHM6IChfKSA9PiBkZV9Ub29sdGlwSXRlbUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXBUaXRsZVR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpZWxkU29ydE9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbHVtblNvcnQ6IChfKSA9PiBkZV9Db2x1bW5Tb3J0KF8sIGNvbnRleHQpLFxuICAgICAgICBGaWVsZFNvcnQ6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0ZpZWxkU29ydE9wdGlvbnMoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRmlsbGVkTWFwQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEdlb3NwYXRpYWw6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBkZV9GaWxsZWRNYXBNZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uczogKF8pID0+IGRlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmlsbGVkTWFwQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBTaGFwZTogKF8pID0+IGRlX0ZpbGxlZE1hcFNoYXBlQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRmlsbGVkTWFwQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9GaWxsZWRNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBNYXBTdHlsZU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0ZpbGxlZE1hcFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gZGVfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFdpbmRvd09wdGlvbnM6IChfKSA9PiBkZV9HZW9zcGF0aWFsV2luZG93T3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GaWxsZWRNYXBGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWxsZWRNYXBBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX0ZpbGxlZE1hcEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcE1lYXN1cmVGaWVsZExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0ZpbGxlZE1hcFNoYXBlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRm9ybWF0OiAoXykgPT4gZGVfU2hhcGVDb25kaXRpb25hbEZvcm1hdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GaWxsZWRNYXBTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmlsbGVkTWFwVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfRmlsbGVkTWFwQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uSGllcmFyY2hpZXM6IChfKSA9PiBkZV9Db2x1bW5IaWVyYXJjaHlMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmc6IChfKSA9PiBkZV9GaWxsZWRNYXBDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeUZpbHRlcjogX2pzb24sXG4gICAgICAgIE51bWVyaWNFcXVhbGl0eUZpbHRlcjogKF8pID0+IGRlX051bWVyaWNFcXVhbGl0eUZpbHRlcihfLCBjb250ZXh0KSxcbiAgICAgICAgTnVtZXJpY1JhbmdlRmlsdGVyOiAoXykgPT4gZGVfTnVtZXJpY1JhbmdlRmlsdGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBSZWxhdGl2ZURhdGVzRmlsdGVyOiBfanNvbixcbiAgICAgICAgVGltZUVxdWFsaXR5RmlsdGVyOiAoXykgPT4gZGVfVGltZUVxdWFsaXR5RmlsdGVyKF8sIGNvbnRleHQpLFxuICAgICAgICBUaW1lUmFuZ2VGaWx0ZXI6IChfKSA9PiBkZV9UaW1lUmFuZ2VGaWx0ZXIoXywgY29udGV4dCksXG4gICAgICAgIFRvcEJvdHRvbUZpbHRlcjogKF8pID0+IGRlX1RvcEJvdHRvbUZpbHRlcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GaWx0ZXJDb250cm9sID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRlVGltZVBpY2tlcjogX2pzb24sXG4gICAgICAgIERyb3Bkb3duOiBfanNvbixcbiAgICAgICAgTGlzdDogX2pzb24sXG4gICAgICAgIFJlbGF0aXZlRGF0ZVRpbWU6IF9qc29uLFxuICAgICAgICBTbGlkZXI6IChfKSA9PiBkZV9GaWx0ZXJTbGlkZXJDb250cm9sKF8sIGNvbnRleHQpLFxuICAgICAgICBUZXh0QXJlYTogX2pzb24sXG4gICAgICAgIFRleHRGaWVsZDogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRmlsdGVyQ29udHJvbExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRmlsdGVyQ29udHJvbChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9GaWx0ZXJHcm91cCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ3Jvc3NEYXRhc2V0OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRmlsdGVyR3JvdXBJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZpbHRlcnM6IChfKSA9PiBkZV9GaWx0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBTY29wZUNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZpbHRlckdyb3VwTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9GaWx0ZXJHcm91cChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9GaWx0ZXJMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0ZpbHRlcihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9GaWx0ZXJTbGlkZXJDb250cm9sID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEaXNwbGF5T3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpbHRlckNvbnRyb2xJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE1heGltdW1WYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIE1pbmltdW1WYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIFNvdXJjZUZpbHRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RlcFNpemU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBUaXRsZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZvbGRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEZvbGRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRm9sZGVyUGF0aDogX2pzb24sXG4gICAgICAgIEZvbGRlclR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZvbGRlclN1bW1hcnkgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBGb2xkZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZvbGRlclR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0ZvbGRlclN1bW1hcnlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0ZvbGRlclN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRm9yZWNhc3RDb21wdXRhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEN1c3RvbVNlYXNvbmFsaXR5VmFsdWU6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIExvd2VyQm91bmRhcnk6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGVyaW9kc0JhY2t3YXJkOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBQZXJpb2RzRm9yd2FyZDogX19leHBlY3RJbnQzMixcbiAgICAgICAgUHJlZGljdGlvbkludGVydmFsOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBTZWFzb25hbGl0eTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgICAgICBVcHBlckJvdW5kYXJ5OiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgVmFsdWU6IChfKSA9PiBkZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRm9yZWNhc3RDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGb3JlY2FzdFByb3BlcnRpZXM6IChfKSA9PiBkZV9UaW1lQmFzZWRGb3JlY2FzdFByb3BlcnRpZXMoXywgY29udGV4dCksXG4gICAgICAgIFNjZW5hcmlvOiAoXykgPT4gZGVfRm9yZWNhc3RTY2VuYXJpbyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Gb3JlY2FzdENvbmZpZ3VyYXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0ZvcmVjYXN0Q29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9Gb3JlY2FzdFNjZW5hcmlvID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBXaGF0SWZQb2ludFNjZW5hcmlvOiAoXykgPT4gZGVfV2hhdElmUG9pbnRTY2VuYXJpbyhfLCBjb250ZXh0KSxcbiAgICAgICAgV2hhdElmUmFuZ2VTY2VuYXJpbzogKF8pID0+IGRlX1doYXRJZlJhbmdlU2NlbmFyaW8oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRnVubmVsQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBkZV9GdW5uZWxDaGFydE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRnVubmVsQ2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIERhdGFMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfRnVubmVsQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0Z1bm5lbENoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBkZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVmFsdWVMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9GdW5uZWxDaGFydEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZ1bm5lbENoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9GdW5uZWxDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0Z1bm5lbENoYXJ0TWVhc3VyZUZpZWxkTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfRnVubmVsQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfRnVubmVsQ2hhcnRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9GdW5uZWxDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gZGVfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HYXVnZUNoYXJ0QXJjQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGb3JlZ3JvdW5kQ29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HYXVnZUNoYXJ0Q29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25zOiAoXykgPT4gZGVfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJjOiAoXykgPT4gZGVfR2F1Z2VDaGFydEFyY0NvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgUHJpbWFyeVZhbHVlOiAoXykgPT4gZGVfR2F1Z2VDaGFydFByaW1hcnlWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HYXVnZUNoYXJ0Q29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9HYXVnZUNoYXJ0Q29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0dhdWdlQ2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX0dhdWdlQ2hhcnRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBHYXVnZUNoYXJ0T3B0aW9uczogKF8pID0+IGRlX0dhdWdlQ2hhcnRPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwT3B0aW9uczogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HYXVnZUNoYXJ0RmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgVGFyZ2V0VmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HYXVnZUNoYXJ0T3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJjOiAoXykgPT4gZGVfQXJjQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQXJjQXhpczogKF8pID0+IGRlX0FyY0F4aXNDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb21wYXJpc29uOiBfanNvbixcbiAgICAgICAgUHJpbWFyeVZhbHVlRGlzcGxheVR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQcmltYXJ5VmFsdWVGb250Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2F1Z2VDaGFydFByaW1hcnlWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgSWNvbjogX2pzb24sXG4gICAgICAgIFRleHRDb2xvcjogKF8pID0+IGRlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dhdWdlQ2hhcnRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9HYXVnZUNoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29uZGl0aW9uYWxGb3JtYXR0aW5nOiAoXykgPT4gZGVfR2F1Z2VDaGFydENvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HZW9zcGF0aWFsQ29vcmRpbmF0ZUJvdW5kcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRWFzdDogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIE5vcnRoOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgU291dGg6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBXZXN0OiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9HZW9zcGF0aWFsTWFwQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbG9yczogX2pzb24sXG4gICAgICAgIEdlb3NwYXRpYWw6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBkZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dlb3NwYXRpYWxNYXBDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfR2Vvc3BhdGlhbE1hcEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIE1hcFN0eWxlT3B0aW9uczogX2pzb24sXG4gICAgICAgIFBvaW50U3R5bGVPcHRpb25zOiBfanNvbixcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWaXN1YWxQYWxldHRlOiBfanNvbixcbiAgICAgICAgV2luZG93T3B0aW9uczogKF8pID0+IGRlX0dlb3NwYXRpYWxXaW5kb3dPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dlb3NwYXRpYWxNYXBGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBHZW9zcGF0aWFsTWFwQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9HZW9zcGF0aWFsTWFwQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2Vvc3BhdGlhbE1hcFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0dlb3NwYXRpYWxNYXBDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR2Vvc3BhdGlhbFdpbmRvd09wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJvdW5kczogKF8pID0+IGRlX0dlb3NwYXRpYWxDb29yZGluYXRlQm91bmRzKF8sIGNvbnRleHQpLFxuICAgICAgICBNYXBab29tTW9kZTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR3JhZGllbnRDb2xvciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgU3RvcHM6IChfKSA9PiBkZV9HcmFkaWVudFN0b3BMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0dyYWRpZW50U3RvcCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sb3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhVmFsdWU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBHcmFkaWVudE9mZnNldDogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfR3JhZGllbnRTdG9wTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9HcmFkaWVudFN0b3AoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfR3Jvd3RoUmF0ZUNvbXB1dGF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb21wdXRhdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBlcmlvZFNpemU6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFRpbWU6IF9qc29uLFxuICAgICAgICBWYWx1ZTogKF8pID0+IGRlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IZWF0TWFwQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbHVtbnM6IF9qc29uLFxuICAgICAgICBSb3dzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfSGVhdE1hcE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSGVhdE1hcENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbG9yU2NhbGU6IChfKSA9PiBkZV9Db2xvclNjYWxlKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5MYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX0hlYXRNYXBGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBSb3dMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX0hlYXRNYXBTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0hlYXRNYXBGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBIZWF0TWFwQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9IZWF0TWFwQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSGVhdE1hcE1lYXN1cmVGaWVsZExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX0hlYXRNYXBTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgSGVhdE1hcENvbHVtbkl0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgSGVhdE1hcENvbHVtblNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgSGVhdE1hcFJvd0l0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgSGVhdE1hcFJvd1NvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IZWF0TWFwVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfSGVhdE1hcENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gZGVfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IaXN0b2dyYW1BZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfSGlzdG9ncmFtTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IaXN0b2dyYW1CaW5PcHRpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCaW5Db3VudDogX2pzb24sXG4gICAgICAgIEJpbldpZHRoOiAoXykgPT4gZGVfQmluV2lkdGhPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBTZWxlY3RlZEJpblR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGFydFZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IaXN0b2dyYW1Db25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCaW5PcHRpb25zOiAoXykgPT4gZGVfSGlzdG9ncmFtQmluT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9IaXN0b2dyYW1GaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gZGVfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBYQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBYQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfSGlzdG9ncmFtRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgSGlzdG9ncmFtQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9IaXN0b2dyYW1BZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9IaXN0b2dyYW1NZWFzdXJlRmllbGRMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9IaXN0b2dyYW1WaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9IaXN0b2dyYW1Db25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0luZ2VzdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIEVycm9ySW5mbzogX2pzb24sXG4gICAgICAgIEluZ2VzdGlvbklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5nZXN0aW9uU2l6ZUluQnl0ZXM6IF9fZXhwZWN0TG9uZyxcbiAgICAgICAgSW5nZXN0aW9uU3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5nZXN0aW9uVGltZUluU2Vjb25kczogX19leHBlY3RMb25nLFxuICAgICAgICBRdWV1ZUluZm86IF9qc29uLFxuICAgICAgICBSZXF1ZXN0U291cmNlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVxdWVzdFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSb3dJbmZvOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Jbmdlc3Rpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0luZ2VzdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9JbnNpZ2h0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25zOiAoXykgPT4gZGVfQ29tcHV0YXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDdXN0b21OYXJyYXRpdmU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0luc2lnaHRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBEYXRhU2V0SWRlbnRpZmllcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEluc2lnaHRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfSW5zaWdodENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfS1BJQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25zOiAoXykgPT4gZGVfS1BJQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFByaW1hcnlWYWx1ZTogKF8pID0+IGRlX0tQSVByaW1hcnlWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgUHJvZ3Jlc3NCYXI6IChfKSA9PiBkZV9LUElQcm9ncmVzc0JhckNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9LUElDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX0tQSUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9LUElDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfS1BJRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgS1BJT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfS1BJU29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfS1BJRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgVGFyZ2V0VmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgVHJlbmRHcm91cHM6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBkZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0tQSVByaW1hcnlWYWx1ZUNvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgSWNvbjogX2pzb24sXG4gICAgICAgIFRleHRDb2xvcjogKF8pID0+IGRlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0tQSVByb2dyZXNzQmFyQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGb3JlZ3JvdW5kQ29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9LUElTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgVHJlbmRHcm91cFNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9LUElWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9LUElDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZzogKF8pID0+IGRlX0tQSUNvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MYXlvdXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9MYXlvdXRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xheW91dENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZyZWVGb3JtTGF5b3V0OiBfanNvbixcbiAgICAgICAgR3JpZExheW91dDogX2pzb24sXG4gICAgICAgIFNlY3Rpb25CYXNlZExheW91dDogKF8pID0+IGRlX1NlY3Rpb25CYXNlZExheW91dENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTGF5b3V0TGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9MYXlvdXQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfTGluZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgQ29sb3JzOiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXM6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBkZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xpbmVDaGFydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbnRyaWJ1dGlvbkFuYWx5c2lzRGVmYXVsdHM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRGVmYXVsdFNlcmllc1NldHRpbmdzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX0xpbmVDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIEZvcmVjYXN0Q29uZmlndXJhdGlvbnM6IChfKSA9PiBkZV9Gb3JlY2FzdENvbmZpZ3VyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBQcmltYXJ5WUF4aXNEaXNwbGF5T3B0aW9uczogKF8pID0+IGRlX0xpbmVTZXJpZXNBeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFByaW1hcnlZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFJlZmVyZW5jZUxpbmVzOiAoXykgPT4gZGVfUmVmZXJlbmNlTGluZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNlY29uZGFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBkZV9MaW5lU2VyaWVzQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBTZWNvbmRhcnlZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNlcmllczogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfTGluZUNoYXJ0U29ydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIFRvb2x0aXA6IChfKSA9PiBkZV9Ub29sdGlwT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICAgICAgVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBYQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBYQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTGluZUNoYXJ0RmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgTGluZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9MaW5lQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MaW5lQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIENhdGVnb3J5U29ydDogKF8pID0+IGRlX0ZpZWxkU29ydE9wdGlvbnNMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDb2xvckl0ZW1zTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXNMaW1pdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBTbWFsbE11bHRpcGxlc1NvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9MaW5lQ2hhcnRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9MaW5lQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTGluZVNlcmllc0F4aXNEaXNwbGF5T3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXhpc09wdGlvbnM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIE1pc3NpbmdEYXRhQ29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX0xvZ2ljYWxUYWJsZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWxpYXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBEYXRhVHJhbnNmb3JtczogKF8pID0+IGRlX1RyYW5zZm9ybU9wZXJhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNvdXJjZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTG9naWNhbFRhYmxlTWFwID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhvdXRwdXQpLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9XG4gICAgICAgIGFjY1trZXldID0gZGVfTG9naWNhbFRhYmxlKHZhbHVlLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59O1xuY29uc3QgZGVfTWF4aW11bU1pbmltdW1Db21wdXRhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaW1lOiBfanNvbixcbiAgICAgICAgVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX01lYXN1cmVGaWVsZCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2FsY3VsYXRlZE1lYXN1cmVGaWVsZDogX2pzb24sXG4gICAgICAgIENhdGVnb3JpY2FsTWVhc3VyZUZpZWxkOiBfanNvbixcbiAgICAgICAgRGF0ZU1lYXN1cmVGaWVsZDogX2pzb24sXG4gICAgICAgIE51bWVyaWNhbE1lYXN1cmVGaWVsZDogKF8pID0+IGRlX051bWVyaWNhbE1lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9NZWFzdXJlRmllbGRMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX01lYXN1cmVGaWVsZChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9NZXRyaWNDb21wYXJpc29uQ29tcHV0YXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGcm9tVmFsdWU6IChfKSA9PiBkZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUYXJnZXRWYWx1ZTogKF8pID0+IGRlX01lYXN1cmVGaWVsZChfLCBjb250ZXh0KSxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTmV3RGVmYXVsdFZhbHVlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZVRpbWVTdGF0aWNWYWx1ZXM6IChfKSA9PiBkZV9EYXRlVGltZURhdGFzZXRQYXJhbWV0ZXJWYWx1ZUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIERlY2ltYWxTdGF0aWNWYWx1ZXM6IChfKSA9PiBkZV9EZWNpbWFsRGF0YXNldFBhcmFtZXRlclZhbHVlTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgSW50ZWdlclN0YXRpY1ZhbHVlczogX2pzb24sXG4gICAgICAgIFN0cmluZ1N0YXRpY1ZhbHVlczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTnVtZXJpY2FsQWdncmVnYXRpb25GdW5jdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgUGVyY2VudGlsZUFnZ3JlZ2F0aW9uOiAoXykgPT4gZGVfUGVyY2VudGlsZUFnZ3JlZ2F0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBTaW1wbGVOdW1lcmljYWxBZ2dyZWdhdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTnVtZXJpY2FsTWVhc3VyZUZpZWxkID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gZGVfTnVtZXJpY2FsQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRmllbGRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEZvcm1hdENvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX051bWVyaWNBeGlzT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgUmFuZ2U6IChfKSA9PiBkZV9BeGlzRGlzcGxheVJhbmdlKF8sIGNvbnRleHQpLFxuICAgICAgICBTY2FsZTogKF8pID0+IGRlX0F4aXNTY2FsZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9OdW1lcmljRXF1YWxpdHlEcmlsbERvd25GaWx0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIFZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9OdW1lcmljRXF1YWxpdHlGaWx0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uRnVuY3Rpb246IChfKSA9PiBkZV9BZ2dyZWdhdGlvbkZ1bmN0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBGaWx0ZXJJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE1hdGNoT3BlcmF0b3I6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOdWxsT3B0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGFyYW1ldGVyTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNlbGVjdEFsbE9wdGlvbnM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWYWx1ZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfTnVtZXJpY1JhbmdlRmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gZGVfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgRmlsdGVySWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBJbmNsdWRlTWF4aW11bTogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBJbmNsdWRlTWluaW11bTogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBOdWxsT3B0aW9uOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmFuZ2VNYXhpbXVtOiAoXykgPT4gZGVfTnVtZXJpY1JhbmdlRmlsdGVyVmFsdWUoXywgY29udGV4dCksXG4gICAgICAgIFJhbmdlTWluaW11bTogKF8pID0+IGRlX051bWVyaWNSYW5nZUZpbHRlclZhbHVlKF8sIGNvbnRleHQpLFxuICAgICAgICBTZWxlY3RBbGxPcHRpb25zOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9OdW1lcmljUmFuZ2VGaWx0ZXJWYWx1ZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgUGFyYW1ldGVyOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU3RhdGljVmFsdWU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX092ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgTmV3RGVmYXVsdFZhbHVlczogKF8pID0+IGRlX05ld0RlZmF1bHRWYWx1ZXMoXywgY29udGV4dCksXG4gICAgICAgIE5ld1BhcmFtZXRlck5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBQYXJhbWV0ZXJOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QYXJhbWV0ZXJDb250cm9sID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRlVGltZVBpY2tlcjogX2pzb24sXG4gICAgICAgIERyb3Bkb3duOiBfanNvbixcbiAgICAgICAgTGlzdDogX2pzb24sXG4gICAgICAgIFNsaWRlcjogKF8pID0+IGRlX1BhcmFtZXRlclNsaWRlckNvbnRyb2woXywgY29udGV4dCksXG4gICAgICAgIFRleHRBcmVhOiBfanNvbixcbiAgICAgICAgVGV4dEZpZWxkOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QYXJhbWV0ZXJDb250cm9sTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9QYXJhbWV0ZXJDb250cm9sKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1BhcmFtZXRlckRlY2xhcmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRlVGltZVBhcmFtZXRlckRlY2xhcmF0aW9uOiAoXykgPT4gZGVfRGF0ZVRpbWVQYXJhbWV0ZXJEZWNsYXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgRGVjaW1hbFBhcmFtZXRlckRlY2xhcmF0aW9uOiAoXykgPT4gZGVfRGVjaW1hbFBhcmFtZXRlckRlY2xhcmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBJbnRlZ2VyUGFyYW1ldGVyRGVjbGFyYXRpb246IF9qc29uLFxuICAgICAgICBTdHJpbmdQYXJhbWV0ZXJEZWNsYXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGFyYW1ldGVyRGVjbGFyYXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1BhcmFtZXRlckRlY2xhcmF0aW9uKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1BhcmFtZXRlclNsaWRlckNvbnRyb2wgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERpc3BsYXlPcHRpb25zOiBfanNvbixcbiAgICAgICAgTWF4aW11bVZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgTWluaW11bVZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgUGFyYW1ldGVyQ29udHJvbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU291cmNlUGFyYW1ldGVyTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0ZXBTaXplOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgVGl0bGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BlcmNlbnRpbGVBZ2dyZWdhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgUGVyY2VudGlsZVZhbHVlOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QZXJjZW50VmlzaWJsZVJhbmdlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGcm9tOiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICAgICAgVG86IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BlcmlvZE92ZXJQZXJpb2RDb21wdXRhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29tcHV0YXRpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaW1lOiBfanNvbixcbiAgICAgICAgVmFsdWU6IChfKSA9PiBkZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGVyaW9kVG9EYXRlQ29tcHV0YXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGVyaW9kVGltZUdyYW51bGFyaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGltZTogX2pzb24sXG4gICAgICAgIFZhbHVlOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BpZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXM6IF9qc29uLFxuICAgICAgICBWYWx1ZXM6IChfKSA9PiBkZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BpZUNoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBDb250cmlidXRpb25BbmFseXNpc0RlZmF1bHRzOiBfanNvbixcbiAgICAgICAgRGF0YUxhYmVsczogX2pzb24sXG4gICAgICAgIERvbnV0T3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9QaWVDaGFydEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIExlZ2VuZDogX2pzb24sXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfUGllQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVG9vbHRpcDogKF8pID0+IGRlX1Rvb2x0aXBPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBWYWx1ZUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1BpZUNoYXJ0RmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgUGllQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX1BpZUNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGllQ2hhcnRTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnlJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNtYWxsTXVsdGlwbGVzTGltaXRDb25maWd1cmF0aW9uOiBfanNvbixcbiAgICAgICAgU21hbGxNdWx0aXBsZXNTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGllQ2hhcnRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9QaWVDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gZGVfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaXZvdEZpZWxkU29ydE9wdGlvbnMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpZWxkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTb3J0Qnk6IChfKSA9PiBkZV9QaXZvdFRhYmxlU29ydEJ5KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Bpdm90RmllbGRTb3J0T3B0aW9uc0xpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfUGl2b3RGaWVsZFNvcnRPcHRpb25zKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1Bpdm90TWVhc3VyZUZpZWxkTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2x1bW5zOiBfanNvbixcbiAgICAgICAgUm93czogX2pzb24sXG4gICAgICAgIFZhbHVlczogKF8pID0+IGRlX1Bpdm90TWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaXZvdFRhYmxlQ2VsbENvbmRpdGlvbmFsRm9ybWF0dGluZyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRmllbGRJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNjb3BlOiBfanNvbixcbiAgICAgICAgU2NvcGVzOiBfanNvbixcbiAgICAgICAgVGV4dEZvcm1hdDogKF8pID0+IGRlX1RleHRDb25kaXRpb25hbEZvcm1hdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaXZvdFRhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25zOiAoXykgPT4gZGVfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2VsbDogKF8pID0+IGRlX1Bpdm90VGFibGVDZWxsQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZUNvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpZWxkT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9QaXZvdFRhYmxlRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgUGFnaW5hdGVkUmVwb3J0T3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfUGl2b3RUYWJsZVNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUYWJsZU9wdGlvbnM6IF9qc29uLFxuICAgICAgICBUb3RhbE9wdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Bpdm90VGFibGVGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBQaXZvdFRhYmxlQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9QaXZvdFRhYmxlQWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZVNvcnRCeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sdW1uOiAoXykgPT4gZGVfQ29sdW1uU29ydChfLCBjb250ZXh0KSxcbiAgICAgICAgRGF0YVBhdGg6IF9qc29uLFxuICAgICAgICBGaWVsZDogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUGl2b3RUYWJsZVNvcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZFNvcnRPcHRpb25zOiAoXykgPT4gZGVfUGl2b3RGaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9QaXZvdFRhYmxlVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfUGl2b3RUYWJsZUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZzogKF8pID0+IGRlX1Bpdm90VGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmcoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUHJlZGVmaW5lZEhpZXJhcmNoeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sdW1uczogX2pzb24sXG4gICAgICAgIERyaWxsRG93bkZpbHRlcnM6IChfKSA9PiBkZV9EcmlsbERvd25GaWx0ZXJMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBIaWVyYXJjaHlJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmFkYXJDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbG9yOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfUmFkYXJDaGFydFZhbHVlc0ZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9SYWRhckNoYXJ0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWx0ZXJuYXRlQmFuZENvbG9yc1Zpc2liaWxpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBbHRlcm5hdGVCYW5kRXZlbkNvbG9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQWx0ZXJuYXRlQmFuZE9kZENvbG9yOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXhlc1JhbmdlU2NhbGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBCYXNlU2VyaWVzU2V0dGluZ3M6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeUF4aXM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIENhdGVnb3J5TGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29sb3JBeGlzOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2xvckxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9SYWRhckNoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgU2hhcGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1JhZGFyQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU3RhcnRBbmdsZTogX19saW1pdGVkUGFyc2VEb3VibGUsXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JhZGFyQ2hhcnRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBSYWRhckNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9SYWRhckNoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmFkYXJDaGFydFNvcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ29sb3JJdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ29sb3JTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmFkYXJDaGFydFZhbHVlc0ZpZWxkTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfUmFkYXJDaGFydFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1JhZGFyQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVmZXJlbmNlTGluZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0YUNvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9SZWZlcmVuY2VMaW5lRGF0YUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIExhYmVsQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0eWxlQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVmZXJlbmNlTGluZURhdGFDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBeGlzQmluZGluZzogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIER5bmFtaWNDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfUmVmZXJlbmNlTGluZUR5bmFtaWNEYXRhQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU3RhdGljQ29uZmlndXJhdGlvbjogKF8pID0+IGRlX1JlZmVyZW5jZUxpbmVTdGF0aWNEYXRhQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9SZWZlcmVuY2VMaW5lRHluYW1pY0RhdGFDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYWxjdWxhdGlvbjogKF8pID0+IGRlX051bWVyaWNhbEFnZ3JlZ2F0aW9uRnVuY3Rpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIE1lYXN1cmVBZ2dyZWdhdGlvbkZ1bmN0aW9uOiAoXykgPT4gZGVfQWdncmVnYXRpb25GdW5jdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9SZWZlcmVuY2VMaW5lTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9SZWZlcmVuY2VMaW5lKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1JlZmVyZW5jZUxpbmVTdGF0aWNEYXRhQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgVmFsdWU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1JlZnJlc2hTY2hlZHVsZSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVmcmVzaFR5cGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTY2hlZHVsZUZyZXF1ZW5jeTogX2pzb24sXG4gICAgICAgIFNjaGVkdWxlSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGFydEFmdGVyRGF0ZVRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfUmVmcmVzaFNjaGVkdWxlcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9SZWZyZXNoU2NoZWR1bGUoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfUm93U29ydExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfRmllbGRTb3J0T3B0aW9ucyhlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9TYW5rZXlEaWFncmFtQWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERlc3RpbmF0aW9uOiBfanNvbixcbiAgICAgICAgU291cmNlOiBfanNvbixcbiAgICAgICAgV2VpZ2h0OiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TYW5rZXlEaWFncmFtQ2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX1NhbmtleURpYWdyYW1GaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1NhbmtleURpYWdyYW1Tb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TYW5rZXlEaWFncmFtRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgU2Fua2V5RGlhZ3JhbUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfU2Fua2V5RGlhZ3JhbUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1NhbmtleURpYWdyYW1Tb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGVzdGluYXRpb25JdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgU291cmNlSXRlbXNMaW1pdDogX2pzb24sXG4gICAgICAgIFdlaWdodFNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TYW5rZXlEaWFncmFtVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfU2Fua2V5RGlhZ3JhbUNoYXJ0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TY2F0dGVyUGxvdENhdGVnb3JpY2FsbHlBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ2F0ZWdvcnk6IF9qc29uLFxuICAgICAgICBMYWJlbDogX2pzb24sXG4gICAgICAgIFNpemU6IChfKSA9PiBkZV9NZWFzdXJlRmllbGRMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBYQXhpczogKF8pID0+IGRlX01lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFlBeGlzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TY2F0dGVyUGxvdENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIERhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfU2NhdHRlclBsb3RGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBMZWdlbmQ6IF9qc29uLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gZGVfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFZpc3VhbFBhbGV0dGU6IF9qc29uLFxuICAgICAgICBYQXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBYQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFlBeGlzTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TY2F0dGVyUGxvdEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFNjYXR0ZXJQbG90Q2F0ZWdvcmljYWxseUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfU2NhdHRlclBsb3RDYXRlZ29yaWNhbGx5QWdncmVnYXRlZEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIFNjYXR0ZXJQbG90VW5hZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX1NjYXR0ZXJQbG90VW5hZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TY2F0dGVyUGxvdFVuYWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5OiBfanNvbixcbiAgICAgICAgTGFiZWw6IF9qc29uLFxuICAgICAgICBTaXplOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgWEF4aXM6IF9qc29uLFxuICAgICAgICBZQXhpczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfU2NhdHRlclBsb3RWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9TY2F0dGVyUGxvdENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gZGVfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TY3JvbGxCYXJPcHRpb25zID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBWaXNpYmlsaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmlzaWJsZVJhbmdlOiAoXykgPT4gZGVfVmlzaWJsZVJhbmdlT3B0aW9ucyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TZWN0aW9uQmFzZWRMYXlvdXRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCb2R5U2VjdGlvbnM6IF9qc29uLFxuICAgICAgICBDYW52YXNTaXplT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZvb3RlclNlY3Rpb25zOiBfanNvbixcbiAgICAgICAgSGVhZGVyU2VjdGlvbnM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1NldFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGVzdGluYXRpb25QYXJhbWV0ZXJOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmFsdWU6IChfKSA9PiBkZV9EZXN0aW5hdGlvblBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TZXRQYXJhbWV0ZXJWYWx1ZUNvbmZpZ3VyYXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1NldFBhcmFtZXRlclZhbHVlQ29uZmlndXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9TaGFwZUNvbmRpdGlvbmFsRm9ybWF0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCYWNrZ3JvdW5kQ29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TaGVldERlZmluaXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbnRlbnRUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBGaWx0ZXJDb250cm9sczogKF8pID0+IGRlX0ZpbHRlckNvbnRyb2xMaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBMYXlvdXRzOiAoXykgPT4gZGVfTGF5b3V0TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFBhcmFtZXRlckNvbnRyb2xzOiAoXykgPT4gZGVfUGFyYW1ldGVyQ29udHJvbExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFNoZWV0Q29udHJvbExheW91dHM6IF9qc29uLFxuICAgICAgICBTaGVldElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGV4dEJveGVzOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWaXN1YWxzOiAoXykgPT4gZGVfVmlzdWFsTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9TaGVldERlZmluaXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1NoZWV0RGVmaW5pdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9UYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBHcm91cEJ5OiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UYWJsZUNlbGxDb25kaXRpb25hbEZvcm1hdHRpbmcgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpZWxkSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZXh0Rm9ybWF0OiAoXykgPT4gZGVfVGV4dENvbmRpdGlvbmFsRm9ybWF0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25zOiAoXykgPT4gZGVfVGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nT3B0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDZWxsOiAoXykgPT4gZGVfVGFibGVDZWxsQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgICAgICBSb3c6IChfKSA9PiBkZV9UYWJsZVJvd0NvbmRpdGlvbmFsRm9ybWF0dGluZyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UYWJsZUNvbmRpdGlvbmFsRm9ybWF0dGluZ09wdGlvbkxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfVGFibGVDb25kaXRpb25hbEZvcm1hdHRpbmdPcHRpb24oZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVGFibGVDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBGaWVsZE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfVGFibGVGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBQYWdpbmF0ZWRSZXBvcnRPcHRpb25zOiBfanNvbixcbiAgICAgICAgU29ydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9UYWJsZVNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUYWJsZUlubGluZVZpc3VhbGl6YXRpb25zOiBfanNvbixcbiAgICAgICAgVGFibGVPcHRpb25zOiBfanNvbixcbiAgICAgICAgVG90YWxPcHRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UYWJsZUZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFRhYmxlQWdncmVnYXRlZEZpZWxkV2VsbHM6IChfKSA9PiBkZV9UYWJsZUFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBUYWJsZVVuYWdncmVnYXRlZEZpZWxkV2VsbHM6IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RhYmxlUm93Q29uZGl0aW9uYWxGb3JtYXR0aW5nID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCYWNrZ3JvdW5kQ29sb3I6IChfKSA9PiBkZV9Db25kaXRpb25hbEZvcm1hdHRpbmdDb2xvcihfLCBjb250ZXh0KSxcbiAgICAgICAgVGV4dENvbG9yOiAoXykgPT4gZGVfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGFibGVTb3J0Q29uZmlndXJhdGlvbiA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgUGFnaW5hdGlvbkNvbmZpZ3VyYXRpb246IF9qc29uLFxuICAgICAgICBSb3dTb3J0OiAoXykgPT4gZGVfUm93U29ydExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGFibGVWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9UYWJsZUNvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbmRpdGlvbmFsRm9ybWF0dGluZzogKF8pID0+IGRlX1RhYmxlQ29uZGl0aW9uYWxGb3JtYXR0aW5nKF8sIGNvbnRleHQpLFxuICAgICAgICBTdWJ0aXRsZTogX2pzb24sXG4gICAgICAgIFRpdGxlOiBfanNvbixcbiAgICAgICAgVmlzdWFsSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RlbXBsYXRlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVGVtcGxhdGVJZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb246IChfKSA9PiBkZV9UZW1wbGF0ZVZlcnNpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVTdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXRlc3RWZXJzaW9uTnVtYmVyOiBfX2V4cGVjdExvbmcsXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUZW1wbGF0ZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UZW1wbGF0ZVN1bW1hcnlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1RlbXBsYXRlU3VtbWFyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9UZW1wbGF0ZVZlcnNpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEYXRhU2V0Q29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBEZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEVycm9yczogX2pzb24sXG4gICAgICAgIFNoZWV0czogX2pzb24sXG4gICAgICAgIFNvdXJjZUVudGl0eUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRoZW1lQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmVyc2lvbk51bWJlcjogX19leHBlY3RMb25nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RlbXBsYXRlVmVyc2lvbkRlZmluaXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFuYWx5c2lzRGVmYXVsdHM6IF9qc29uLFxuICAgICAgICBDYWxjdWxhdGVkRmllbGRzOiBfanNvbixcbiAgICAgICAgQ29sdW1uQ29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhU2V0Q29uZmlndXJhdGlvbnM6IF9qc29uLFxuICAgICAgICBGaWx0ZXJHcm91cHM6IChfKSA9PiBkZV9GaWx0ZXJHcm91cExpc3QoXywgY29udGV4dCksXG4gICAgICAgIFBhcmFtZXRlckRlY2xhcmF0aW9uczogKF8pID0+IGRlX1BhcmFtZXRlckRlY2xhcmF0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU2hlZXRzOiAoXykgPT4gZGVfU2hlZXREZWZpbml0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UZW1wbGF0ZVZlcnNpb25TdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uTnVtYmVyOiBfX2V4cGVjdExvbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGVtcGxhdGVWZXJzaW9uU3VtbWFyeUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfVGVtcGxhdGVWZXJzaW9uU3VtbWFyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9UZXh0Q29uZGl0aW9uYWxGb3JtYXQgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJhY2tncm91bmRDb2xvcjogKF8pID0+IGRlX0NvbmRpdGlvbmFsRm9ybWF0dGluZ0NvbG9yKF8sIGNvbnRleHQpLFxuICAgICAgICBJY29uOiBfanNvbixcbiAgICAgICAgVGV4dENvbG9yOiAoXykgPT4gZGVfQ29uZGl0aW9uYWxGb3JtYXR0aW5nQ29sb3IoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGhlbWUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXN0VXBkYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb246IChfKSA9PiBkZV9UaGVtZVZlcnNpb24oXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGhlbWVTdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBMYXRlc3RWZXJzaW9uTnVtYmVyOiBfX2V4cGVjdExvbmcsXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaGVtZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UaGVtZVN1bW1hcnlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1RoZW1lU3VtbWFyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9UaGVtZVZlcnNpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEJhc2VUaGVtZUlkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIENyZWF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBEZXNjcmlwdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIEVycm9yczogX2pzb24sXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZlcnNpb25OdW1iZXI6IF9fZXhwZWN0TG9uZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UaGVtZVZlcnNpb25TdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRGVzY3JpcHRpb246IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWZXJzaW9uTnVtYmVyOiBfX2V4cGVjdExvbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGhlbWVWZXJzaW9uU3VtbWFyeUxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfVGhlbWVWZXJzaW9uU3VtbWFyeShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9UaW1lQmFzZWRGb3JlY2FzdFByb3BlcnRpZXMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIExvd2VyQm91bmRhcnk6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgICAgICBQZXJpb2RzQmFja3dhcmQ6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFBlcmlvZHNGb3J3YXJkOiBfX2V4cGVjdEludDMyLFxuICAgICAgICBQcmVkaWN0aW9uSW50ZXJ2YWw6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFNlYXNvbmFsaXR5OiBfX2V4cGVjdEludDMyLFxuICAgICAgICBVcHBlckJvdW5kYXJ5OiBfX2xpbWl0ZWRQYXJzZURvdWJsZSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UaW1lRXF1YWxpdHlGaWx0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIEZpbHRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUGFyYW1ldGVyTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RpbWVSYW5nZURyaWxsRG93bkZpbHRlciA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sdW1uOiBfanNvbixcbiAgICAgICAgUmFuZ2VNYXhpbXVtOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBSYW5nZU1pbmltdW06IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGltZVJhbmdlRmlsdGVyID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDb2x1bW46IF9qc29uLFxuICAgICAgICBFeGNsdWRlUGVyaW9kQ29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIEZpbHRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgSW5jbHVkZU1heGltdW06IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgSW5jbHVkZU1pbmltdW06IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgTnVsbE9wdGlvbjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJhbmdlTWF4aW11bVZhbHVlOiAoXykgPT4gZGVfVGltZVJhbmdlRmlsdGVyVmFsdWUoXywgY29udGV4dCksXG4gICAgICAgIFJhbmdlTWluaW11bVZhbHVlOiAoXykgPT4gZGVfVGltZVJhbmdlRmlsdGVyVmFsdWUoXywgY29udGV4dCksXG4gICAgICAgIFRpbWVHcmFudWxhcml0eTogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVGltZVJhbmdlRmlsdGVyVmFsdWUgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFBhcmFtZXRlcjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFJvbGxpbmdEYXRlOiBfanNvbixcbiAgICAgICAgU3RhdGljVmFsdWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVG9vbHRpcEl0ZW0gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbHVtblRvb2x0aXBJdGVtOiAoXykgPT4gZGVfQ29sdW1uVG9vbHRpcEl0ZW0oXywgY29udGV4dCksXG4gICAgICAgIEZpZWxkVG9vbHRpcEl0ZW06IF9qc29uLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1Rvb2x0aXBJdGVtTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Ub29sdGlwSXRlbShlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9Ub29sdGlwT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRmllbGRCYXNlZFRvb2x0aXA6IChfKSA9PiBkZV9GaWVsZEJhc2VkVG9vbHRpcChfLCBjb250ZXh0KSxcbiAgICAgICAgU2VsZWN0ZWRUb29sdGlwVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvb2x0aXBWaXNpYmlsaXR5OiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Ub3BCb3R0b21GaWx0ZXIgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFnZ3JlZ2F0aW9uU29ydENvbmZpZ3VyYXRpb25zOiAoXykgPT4gZGVfQWdncmVnYXRpb25Tb3J0Q29uZmlndXJhdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbjogX2pzb24sXG4gICAgICAgIEZpbHRlcklkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTGltaXQ6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIFBhcmFtZXRlck5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaW1lR3JhbnVsYXJpdHk6IF9fZXhwZWN0U3RyaW5nLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RvcEJvdHRvbU1vdmVyc0NvbXB1dGF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBNb3ZlclNpemU6IF9fZXhwZWN0SW50MzIsXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTb3J0T3JkZXI6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUaW1lOiBfanNvbixcbiAgICAgICAgVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RvcEJvdHRvbVJhbmtlZENvbXB1dGF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeTogX2pzb24sXG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgUmVzdWx0U2l6ZTogX19leHBlY3RJbnQzMixcbiAgICAgICAgVHlwZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZhbHVlOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1RvcGljUmVmcmVzaFNjaGVkdWxlID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCYXNlZE9uU3BpY2VTY2hlZHVsZTogX19leHBlY3RCb29sZWFuLFxuICAgICAgICBJc0VuYWJsZWQ6IF9fZXhwZWN0Qm9vbGVhbixcbiAgICAgICAgUmVwZWF0QXQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGFydGluZ0F0OiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBUaW1lem9uZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFRvcGljU2NoZWR1bGVUeXBlOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Ub3BpY1JlZnJlc2hTY2hlZHVsZVN1bW1hcmllcyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9Ub3BpY1JlZnJlc2hTY2hlZHVsZVN1bW1hcnkoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVG9waWNSZWZyZXNoU2NoZWR1bGVTdW1tYXJ5ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBEYXRhc2V0QXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YXNldElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgRGF0YXNldE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBSZWZyZXNoU2NoZWR1bGU6IChfKSA9PiBkZV9Ub3BpY1JlZnJlc2hTY2hlZHVsZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Ub3RhbEFnZ3JlZ2F0aW9uQ29tcHV0YXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbXB1dGF0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgVmFsdWU6IChfKSA9PiBkZV9NZWFzdXJlRmllbGQoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVHJhbnNmb3JtT3BlcmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGlmIChvdXRwdXQuQ2FzdENvbHVtblR5cGVPcGVyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgQ2FzdENvbHVtblR5cGVPcGVyYXRpb246IF9qc29uKG91dHB1dC5DYXN0Q29sdW1uVHlwZU9wZXJhdGlvbiksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChvdXRwdXQuQ3JlYXRlQ29sdW1uc09wZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBDcmVhdGVDb2x1bW5zT3BlcmF0aW9uOiBfanNvbihvdXRwdXQuQ3JlYXRlQ29sdW1uc09wZXJhdGlvbiksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChvdXRwdXQuRmlsdGVyT3BlcmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIEZpbHRlck9wZXJhdGlvbjogX2pzb24ob3V0cHV0LkZpbHRlck9wZXJhdGlvbiksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChvdXRwdXQuT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIE92ZXJyaWRlRGF0YXNldFBhcmFtZXRlck9wZXJhdGlvbjogZGVfT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uKG91dHB1dC5PdmVycmlkZURhdGFzZXRQYXJhbWV0ZXJPcGVyYXRpb24sIGNvbnRleHQpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3V0cHV0LlByb2plY3RPcGVyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgUHJvamVjdE9wZXJhdGlvbjogX2pzb24ob3V0cHV0LlByb2plY3RPcGVyYXRpb24pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3V0cHV0LlJlbmFtZUNvbHVtbk9wZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBSZW5hbWVDb2x1bW5PcGVyYXRpb246IF9qc29uKG91dHB1dC5SZW5hbWVDb2x1bW5PcGVyYXRpb24pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3V0cHV0LlRhZ0NvbHVtbk9wZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBUYWdDb2x1bW5PcGVyYXRpb246IF9qc29uKG91dHB1dC5UYWdDb2x1bW5PcGVyYXRpb24pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAob3V0cHV0LlVudGFnQ29sdW1uT3BlcmF0aW9uICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVudGFnQ29sdW1uT3BlcmF0aW9uOiBfanNvbihvdXRwdXQuVW50YWdDb2x1bW5PcGVyYXRpb24pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyAkdW5rbm93bjogT2JqZWN0LmVudHJpZXMob3V0cHV0KVswXSB9O1xufTtcbmNvbnN0IGRlX1RyYW5zZm9ybU9wZXJhdGlvbkxpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfVHJhbnNmb3JtT3BlcmF0aW9uKF9fZXhwZWN0VW5pb24oZW50cnkpLCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1RyZWVNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQ29sb3JzOiAoXykgPT4gZGVfVHJlZU1hcE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgICAgIEdyb3VwczogX2pzb24sXG4gICAgICAgIFNpemVzOiAoXykgPT4gZGVfVHJlZU1hcE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVHJlZU1hcENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENvbG9yTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgQ29sb3JTY2FsZTogKF8pID0+IGRlX0NvbG9yU2NhbGUoXywgY29udGV4dCksXG4gICAgICAgIERhdGFMYWJlbHM6IF9qc29uLFxuICAgICAgICBGaWVsZFdlbGxzOiAoXykgPT4gZGVfVHJlZU1hcEZpZWxkV2VsbHMoXywgY29udGV4dCksXG4gICAgICAgIEdyb3VwTGFiZWxPcHRpb25zOiBfanNvbixcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgU2l6ZUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfVHJlZU1hcFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBUb29sdGlwOiAoXykgPT4gZGVfVG9vbHRpcE9wdGlvbnMoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVHJlZU1hcEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIFRyZWVNYXBBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX1RyZWVNYXBBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9UcmVlTWFwTWVhc3VyZUZpZWxkTGlzdCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCByZXRWYWwgPSAob3V0cHV0IHx8IFtdKVxuICAgICAgICAuZmlsdGVyKChlKSA9PiBlICE9IG51bGwpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBkZV9NZWFzdXJlRmllbGQoZW50cnksIGNvbnRleHQpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXRWYWw7XG59O1xuY29uc3QgZGVfVHJlZU1hcFNvcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBUcmVlTWFwR3JvdXBJdGVtc0xpbWl0Q29uZmlndXJhdGlvbjogX2pzb24sXG4gICAgICAgIFRyZWVNYXBTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVHJlZU1hcFZpc3VhbCA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQWN0aW9uczogKF8pID0+IGRlX1Zpc3VhbEN1c3RvbUFjdGlvbkxpc3QoXywgY29udGV4dCksXG4gICAgICAgIENoYXJ0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1RyZWVNYXBDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVmlzaWJsZVJhbmdlT3B0aW9ucyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgUGVyY2VudFJhbmdlOiAoXykgPT4gZGVfUGVyY2VudFZpc2libGVSYW5nZShfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9WaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJhckNoYXJ0VmlzdWFsOiAoXykgPT4gZGVfQmFyQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEJveFBsb3RWaXN1YWw6IChfKSA9PiBkZV9Cb3hQbG90VmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBDb21ib0NoYXJ0VmlzdWFsOiAoXykgPT4gZGVfQ29tYm9DaGFydFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgQ3VzdG9tQ29udGVudFZpc3VhbDogKF8pID0+IGRlX0N1c3RvbUNvbnRlbnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEVtcHR5VmlzdWFsOiAoXykgPT4gZGVfRW1wdHlWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEZpbGxlZE1hcFZpc3VhbDogKF8pID0+IGRlX0ZpbGxlZE1hcFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgRnVubmVsQ2hhcnRWaXN1YWw6IChfKSA9PiBkZV9GdW5uZWxDaGFydFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgR2F1Z2VDaGFydFZpc3VhbDogKF8pID0+IGRlX0dhdWdlQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIEdlb3NwYXRpYWxNYXBWaXN1YWw6IChfKSA9PiBkZV9HZW9zcGF0aWFsTWFwVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBIZWF0TWFwVmlzdWFsOiAoXykgPT4gZGVfSGVhdE1hcFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgSGlzdG9ncmFtVmlzdWFsOiAoXykgPT4gZGVfSGlzdG9ncmFtVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBJbnNpZ2h0VmlzdWFsOiAoXykgPT4gZGVfSW5zaWdodFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgS1BJVmlzdWFsOiAoXykgPT4gZGVfS1BJVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBMaW5lQ2hhcnRWaXN1YWw6IChfKSA9PiBkZV9MaW5lQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFBpZUNoYXJ0VmlzdWFsOiAoXykgPT4gZGVfUGllQ2hhcnRWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFBpdm90VGFibGVWaXN1YWw6IChfKSA9PiBkZV9QaXZvdFRhYmxlVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBSYWRhckNoYXJ0VmlzdWFsOiAoXykgPT4gZGVfUmFkYXJDaGFydFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICAgICAgU2Fua2V5RGlhZ3JhbVZpc3VhbDogKF8pID0+IGRlX1NhbmtleURpYWdyYW1WaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFNjYXR0ZXJQbG90VmlzdWFsOiAoXykgPT4gZGVfU2NhdHRlclBsb3RWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFRhYmxlVmlzdWFsOiAoXykgPT4gZGVfVGFibGVWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFRyZWVNYXBWaXN1YWw6IChfKSA9PiBkZV9UcmVlTWFwVmlzdWFsKF8sIGNvbnRleHQpLFxuICAgICAgICBXYXRlcmZhbGxWaXN1YWw6IChfKSA9PiBkZV9XYXRlcmZhbGxWaXN1YWwoXywgY29udGV4dCksXG4gICAgICAgIFdvcmRDbG91ZFZpc3VhbDogKF8pID0+IGRlX1dvcmRDbG91ZFZpc3VhbChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9WaXN1YWxDdXN0b21BY3Rpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbk9wZXJhdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25PcGVyYXRpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDdXN0b21BY3Rpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5hbWU6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBUcmlnZ2VyOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1Zpc3VhbEN1c3RvbUFjdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9WaXN1YWxDdXN0b21BY3Rpb25PcGVyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEZpbHRlck9wZXJhdGlvbjogX2pzb24sXG4gICAgICAgIE5hdmlnYXRpb25PcGVyYXRpb246IF9qc29uLFxuICAgICAgICBTZXRQYXJhbWV0ZXJzT3BlcmF0aW9uOiAoXykgPT4gZGVfQ3VzdG9tQWN0aW9uU2V0UGFyYW1ldGVyc09wZXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVVJMT3BlcmF0aW9uOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9WaXN1YWxDdXN0b21BY3Rpb25PcGVyYXRpb25MaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1Zpc3VhbEN1c3RvbUFjdGlvbk9wZXJhdGlvbihlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9WaXN1YWxMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1Zpc3VhbChlbnRyeSwgY29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldFZhbDtcbn07XG5jb25zdCBkZV9WUENDb25uZWN0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBcm46IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBBdmFpbGFiaWxpdHlTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBDcmVhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgRG5zUmVzb2x2ZXJzOiBfanNvbixcbiAgICAgICAgTGFzdFVwZGF0ZWRUaW1lOiAoXykgPT4gX19leHBlY3ROb25OdWxsKF9fcGFyc2VFcG9jaFRpbWVzdGFtcChfX2V4cGVjdE51bWJlcihfKSkpLFxuICAgICAgICBOYW1lOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgTmV0d29ya0ludGVyZmFjZXM6IF9qc29uLFxuICAgICAgICBSb2xlQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgU2VjdXJpdHlHcm91cElkczogX2pzb24sXG4gICAgICAgIFN0YXR1czogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZQQ0Nvbm5lY3Rpb25JZDogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFZQQ0lkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9WUENDb25uZWN0aW9uU3VtbWFyeSA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgQXJuOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQXZhaWxhYmlsaXR5U3RhdHVzOiBfX2V4cGVjdFN0cmluZyxcbiAgICAgICAgQ3JlYXRlZFRpbWU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIERuc1Jlc29sdmVyczogX2pzb24sXG4gICAgICAgIExhc3RVcGRhdGVkVGltZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgTmFtZTogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIE5ldHdvcmtJbnRlcmZhY2VzOiBfanNvbixcbiAgICAgICAgUm9sZUFybjogX19leHBlY3RTdHJpbmcsXG4gICAgICAgIFNlY3VyaXR5R3JvdXBJZHM6IF9qc29uLFxuICAgICAgICBTdGF0dXM6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWUENDb25uZWN0aW9uSWQ6IF9fZXhwZWN0U3RyaW5nLFxuICAgICAgICBWUENJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfVlBDQ29ubmVjdGlvblN1bW1hcnlMaXN0ID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHJldFZhbCA9IChvdXRwdXQgfHwgW10pXG4gICAgICAgIC5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbClcbiAgICAgICAgLm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgcmV0dXJuIGRlX1ZQQ0Nvbm5lY3Rpb25TdW1tYXJ5KGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1dhdGVyZmFsbENoYXJ0QWdncmVnYXRlZEZpZWxkV2VsbHMgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEJyZWFrZG93bnM6IF9qc29uLFxuICAgICAgICBDYXRlZ29yaWVzOiBfanNvbixcbiAgICAgICAgVmFsdWVzOiAoXykgPT4gZGVfTWVhc3VyZUZpZWxkTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9XYXRlcmZhbGxDaGFydENvbmZpZ3VyYXRpb24gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIENhdGVnb3J5QXhpc0Rpc3BsYXlPcHRpb25zOiAoXykgPT4gZGVfQXhpc0Rpc3BsYXlPcHRpb25zKF8sIGNvbnRleHQpLFxuICAgICAgICBDYXRlZ29yeUF4aXNMYWJlbE9wdGlvbnM6IF9qc29uLFxuICAgICAgICBEYXRhTGFiZWxzOiBfanNvbixcbiAgICAgICAgRmllbGRXZWxsczogKF8pID0+IGRlX1dhdGVyZmFsbENoYXJ0RmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICAgICAgTGVnZW5kOiBfanNvbixcbiAgICAgICAgUHJpbWFyeVlBeGlzRGlzcGxheU9wdGlvbnM6IChfKSA9PiBkZV9BeGlzRGlzcGxheU9wdGlvbnMoXywgY29udGV4dCksXG4gICAgICAgIFByaW1hcnlZQXhpc0xhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIFNvcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfV2F0ZXJmYWxsQ2hhcnRTb3J0Q29uZmlndXJhdGlvbihfLCBjb250ZXh0KSxcbiAgICAgICAgVmlzdWFsUGFsZXR0ZTogX2pzb24sXG4gICAgICAgIFdhdGVyZmFsbENoYXJ0T3B0aW9uczogX2pzb24sXG4gICAgfSk7XG59O1xuY29uc3QgZGVfV2F0ZXJmYWxsQ2hhcnRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBXYXRlcmZhbGxDaGFydEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzOiAoXykgPT4gZGVfV2F0ZXJmYWxsQ2hhcnRBZ2dyZWdhdGVkRmllbGRXZWxscyhfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9XYXRlcmZhbGxDaGFydFNvcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBCcmVha2Rvd25JdGVtc0xpbWl0OiBfanNvbixcbiAgICAgICAgQ2F0ZWdvcnlTb3J0OiAoXykgPT4gZGVfRmllbGRTb3J0T3B0aW9uc0xpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfV2F0ZXJmYWxsVmlzdWFsID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBBY3Rpb25zOiAoXykgPT4gZGVfVmlzdWFsQ3VzdG9tQWN0aW9uTGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgQ2hhcnRDb25maWd1cmF0aW9uOiAoXykgPT4gZGVfV2F0ZXJmYWxsQ2hhcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBDb2x1bW5IaWVyYXJjaGllczogKF8pID0+IGRlX0NvbHVtbkhpZXJhcmNoeUxpc3QoXywgY29udGV4dCksXG4gICAgICAgIFN1YnRpdGxlOiBfanNvbixcbiAgICAgICAgVGl0bGU6IF9qc29uLFxuICAgICAgICBWaXN1YWxJZDogX19leHBlY3RTdHJpbmcsXG4gICAgfSk7XG59O1xuY29uc3QgZGVfV2hhdElmUG9pbnRTY2VuYXJpbyA9IChvdXRwdXQsIGNvbnRleHQpID0+IHtcbiAgICByZXR1cm4gdGFrZShvdXRwdXQsIHtcbiAgICAgICAgRGF0ZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVmFsdWU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1doYXRJZlJhbmdlU2NlbmFyaW8gPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEVuZERhdGU6IChfKSA9PiBfX2V4cGVjdE5vbk51bGwoX19wYXJzZUVwb2NoVGltZXN0YW1wKF9fZXhwZWN0TnVtYmVyKF8pKSksXG4gICAgICAgIFN0YXJ0RGF0ZTogKF8pID0+IF9fZXhwZWN0Tm9uTnVsbChfX3BhcnNlRXBvY2hUaW1lc3RhbXAoX19leHBlY3ROdW1iZXIoXykpKSxcbiAgICAgICAgVmFsdWU6IF9fbGltaXRlZFBhcnNlRG91YmxlLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1dvcmRDbG91ZEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBHcm91cEJ5OiBfanNvbixcbiAgICAgICAgU2l6ZTogKF8pID0+IGRlX1dvcmRDbG91ZE1lYXN1cmVGaWVsZExpc3QoXywgY29udGV4dCksXG4gICAgfSk7XG59O1xuY29uc3QgZGVfV29yZENsb3VkQ2hhcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeUxhYmVsT3B0aW9uczogX2pzb24sXG4gICAgICAgIEZpZWxkV2VsbHM6IChfKSA9PiBkZV9Xb3JkQ2xvdWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgICAgICBTb3J0Q29uZmlndXJhdGlvbjogKF8pID0+IGRlX1dvcmRDbG91ZFNvcnRDb25maWd1cmF0aW9uKF8sIGNvbnRleHQpLFxuICAgICAgICBXb3JkQ2xvdWRPcHRpb25zOiBfanNvbixcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Xb3JkQ2xvdWRGaWVsZFdlbGxzID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBXb3JkQ2xvdWRBZ2dyZWdhdGVkRmllbGRXZWxsczogKF8pID0+IGRlX1dvcmRDbG91ZEFnZ3JlZ2F0ZWRGaWVsZFdlbGxzKF8sIGNvbnRleHQpLFxuICAgIH0pO1xufTtcbmNvbnN0IGRlX1dvcmRDbG91ZE1lYXN1cmVGaWVsZExpc3QgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmV0VmFsID0gKG91dHB1dCB8fCBbXSlcbiAgICAgICAgLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKVxuICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICByZXR1cm4gZGVfTWVhc3VyZUZpZWxkKGVudHJ5LCBjb250ZXh0KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0VmFsO1xufTtcbmNvbnN0IGRlX1dvcmRDbG91ZFNvcnRDb25maWd1cmF0aW9uID0gKG91dHB1dCwgY29udGV4dCkgPT4ge1xuICAgIHJldHVybiB0YWtlKG91dHB1dCwge1xuICAgICAgICBDYXRlZ29yeUl0ZW1zTGltaXQ6IF9qc29uLFxuICAgICAgICBDYXRlZ29yeVNvcnQ6IChfKSA9PiBkZV9GaWVsZFNvcnRPcHRpb25zTGlzdChfLCBjb250ZXh0KSxcbiAgICB9KTtcbn07XG5jb25zdCBkZV9Xb3JkQ2xvdWRWaXN1YWwgPSAob3V0cHV0LCBjb250ZXh0KSA9PiB7XG4gICAgcmV0dXJuIHRha2Uob3V0cHV0LCB7XG4gICAgICAgIEFjdGlvbnM6IChfKSA9PiBkZV9WaXN1YWxDdXN0b21BY3Rpb25MaXN0KF8sIGNvbnRleHQpLFxuICAgICAgICBDaGFydENvbmZpZ3VyYXRpb246IChfKSA9PiBkZV9Xb3JkQ2xvdWRDaGFydENvbmZpZ3VyYXRpb24oXywgY29udGV4dCksXG4gICAgICAgIENvbHVtbkhpZXJhcmNoaWVzOiAoXykgPT4gZGVfQ29sdW1uSGllcmFyY2h5TGlzdChfLCBjb250ZXh0KSxcbiAgICAgICAgU3VidGl0bGU6IF9qc29uLFxuICAgICAgICBUaXRsZTogX2pzb24sXG4gICAgICAgIFZpc3VhbElkOiBfX2V4cGVjdFN0cmluZyxcbiAgICB9KTtcbn07XG5jb25zdCBkZXNlcmlhbGl6ZU1ldGFkYXRhID0gKG91dHB1dCkgPT4gKHtcbiAgICBodHRwU3RhdHVzQ29kZTogb3V0cHV0LnN0YXR1c0NvZGUsXG4gICAgcmVxdWVzdElkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16bi1yZXF1ZXN0aWRcIl0gPz8gb3V0cHV0LmhlYWRlcnNbXCJ4LWFtem4tcmVxdWVzdC1pZFwiXSA/PyBvdXRwdXQuaGVhZGVyc1tcIngtYW16LXJlcXVlc3QtaWRcIl0sXG4gICAgZXh0ZW5kZWRSZXF1ZXN0SWQ6IG91dHB1dC5oZWFkZXJzW1wieC1hbXotaWQtMlwiXSxcbiAgICBjZklkOiBvdXRwdXQuaGVhZGVyc1tcIngtYW16LWNmLWlkXCJdLFxufSk7XG5jb25zdCBjb2xsZWN0Qm9keSA9IChzdHJlYW1Cb2R5ID0gbmV3IFVpbnQ4QXJyYXkoKSwgY29udGV4dCkgPT4ge1xuICAgIGlmIChzdHJlYW1Cb2R5IGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0cmVhbUJvZHkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dC5zdHJlYW1Db2xsZWN0b3Ioc3RyZWFtQm9keSkgfHwgUHJvbWlzZS5yZXNvbHZlKG5ldyBVaW50OEFycmF5KCkpO1xufTtcbmNvbnN0IGNvbGxlY3RCb2R5U3RyaW5nID0gKHN0cmVhbUJvZHksIGNvbnRleHQpID0+IGNvbGxlY3RCb2R5KHN0cmVhbUJvZHksIGNvbnRleHQpLnRoZW4oKGJvZHkpID0+IGNvbnRleHQudXRmOEVuY29kZXIoYm9keSkpO1xuY29uc3QgaXNTZXJpYWxpemFibGVIZWFkZXJWYWx1ZSA9ICh2YWx1ZSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuICAgIHZhbHVlICE9PSBudWxsICYmXG4gICAgdmFsdWUgIT09IFwiXCIgJiZcbiAgICAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5pbmNsdWRlcyhcImxlbmd0aFwiKSB8fCB2YWx1ZS5sZW5ndGggIT0gMCkgJiZcbiAgICAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5pbmNsdWRlcyhcInNpemVcIikgfHwgdmFsdWUuc2l6ZSAhPSAwKTtcbmNvbnN0IHBhcnNlQm9keSA9IChzdHJlYW1Cb2R5LCBjb250ZXh0KSA9PiBjb2xsZWN0Qm9keVN0cmluZyhzdHJlYW1Cb2R5LCBjb250ZXh0KS50aGVuKChlbmNvZGVkKSA9PiB7XG4gICAgaWYgKGVuY29kZWQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGVuY29kZWQpO1xuICAgIH1cbiAgICByZXR1cm4ge307XG59KTtcbmNvbnN0IHBhcnNlRXJyb3JCb2R5ID0gYXN5bmMgKGVycm9yQm9keSwgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFyc2VCb2R5KGVycm9yQm9keSwgY29udGV4dCk7XG4gICAgdmFsdWUubWVzc2FnZSA9IHZhbHVlLm1lc3NhZ2UgPz8gdmFsdWUuTWVzc2FnZTtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuY29uc3QgbG9hZFJlc3RKc29uRXJyb3JDb2RlID0gKG91dHB1dCwgZGF0YSkgPT4ge1xuICAgIGNvbnN0IGZpbmRLZXkgPSAob2JqZWN0LCBrZXkpID0+IE9iamVjdC5rZXlzKG9iamVjdCkuZmluZCgoaykgPT4gay50b0xvd2VyQ2FzZSgpID09PSBrZXkudG9Mb3dlckNhc2UoKSk7XG4gICAgY29uc3Qgc2FuaXRpemVFcnJvckNvZGUgPSAocmF3VmFsdWUpID0+IHtcbiAgICAgICAgbGV0IGNsZWFuVmFsdWUgPSByYXdWYWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhblZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbGVhblZhbHVlLmluZGV4T2YoXCIsXCIpID49IDApIHtcbiAgICAgICAgICAgIGNsZWFuVmFsdWUgPSBjbGVhblZhbHVlLnNwbGl0KFwiLFwiKVswXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xlYW5WYWx1ZS5pbmRleE9mKFwiOlwiKSA+PSAwKSB7XG4gICAgICAgICAgICBjbGVhblZhbHVlID0gY2xlYW5WYWx1ZS5zcGxpdChcIjpcIilbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFuVmFsdWUuaW5kZXhPZihcIiNcIikgPj0gMCkge1xuICAgICAgICAgICAgY2xlYW5WYWx1ZSA9IGNsZWFuVmFsdWUuc3BsaXQoXCIjXCIpWzFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbGVhblZhbHVlO1xuICAgIH07XG4gICAgY29uc3QgaGVhZGVyS2V5ID0gZmluZEtleShvdXRwdXQuaGVhZGVycywgXCJ4LWFtem4tZXJyb3J0eXBlXCIpO1xuICAgIGlmIChoZWFkZXJLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVFcnJvckNvZGUob3V0cHV0LmhlYWRlcnNbaGVhZGVyS2V5XSk7XG4gICAgfVxuICAgIGlmIChkYXRhLmNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVFcnJvckNvZGUoZGF0YS5jb2RlKTtcbiAgICB9XG4gICAgaWYgKGRhdGFbXCJfX3R5cGVcIl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc2FuaXRpemVFcnJvckNvZGUoZGF0YVtcIl9fdHlwZVwiXSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldEVuZHBvaW50UGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFNlcmRlUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgZGVfTGlzdFVzZXJzQ29tbWFuZCwgc2VfTGlzdFVzZXJzQ29tbWFuZCB9IGZyb20gXCIuLi9wcm90b2NvbHMvQXdzX3Jlc3RKc29uMVwiO1xuZXhwb3J0IHsgJENvbW1hbmQgfTtcbmV4cG9ydCBjbGFzcyBMaXN0VXNlcnNDb21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIExpc3RVc2Vyc0NvbW1hbmQuZ2V0RW5kcG9pbnRQYXJhbWV0ZXJJbnN0cnVjdGlvbnMoKSkpO1xuICAgICAgICBjb25zdCBzdGFjayA9IGNsaWVudFN0YWNrLmNvbmNhdCh0aGlzLm1pZGRsZXdhcmVTdGFjayk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBjb25zdCBjbGllbnROYW1lID0gXCJRdWlja1NpZ2h0Q2xpZW50XCI7XG4gICAgICAgIGNvbnN0IGNvbW1hbmROYW1lID0gXCJMaXN0VXNlcnNDb21tYW5kXCI7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJFeGVjdXRpb25Db250ZXh0ID0ge1xuICAgICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgICAgY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgICAgICAgaW5wdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICAgICAgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nOiAoXykgPT4gXyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyByZXF1ZXN0SGFuZGxlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnJlc29sdmUoKHJlcXVlc3QpID0+IHJlcXVlc3RIYW5kbGVyLmhhbmRsZShyZXF1ZXN0LnJlcXVlc3QsIG9wdGlvbnMgfHwge30pLCBoYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZShpbnB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gc2VfTGlzdFVzZXJzQ29tbWFuZChpbnB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKG91dHB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZGVfTGlzdFVzZXJzQ29tbWFuZChvdXRwdXQsIGNvbnRleHQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldEVuZHBvaW50UGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtZW5kcG9pbnRcIjtcbmltcG9ydCB7IGdldFNlcmRlUGx1Z2luIH0gZnJvbSBcIkBhd3Mtc2RrL21pZGRsZXdhcmUtc2VyZGVcIjtcbmltcG9ydCB7IENvbW1hbmQgYXMgJENvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgZGVfRGVsZXRlVXNlckNvbW1hbmQsIHNlX0RlbGV0ZVVzZXJDb21tYW5kIH0gZnJvbSBcIi4uL3Byb3RvY29scy9Bd3NfcmVzdEpzb24xXCI7XG5leHBvcnQgeyAkQ29tbWFuZCB9O1xuZXhwb3J0IGNsYXNzIERlbGV0ZVVzZXJDb21tYW5kIGV4dGVuZHMgJENvbW1hbmQge1xuICAgIHN0YXRpYyBnZXRFbmRwb2ludFBhcmFtZXRlckluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFVzZUZJUFM6IHsgdHlwZTogXCJidWlsdEluUGFyYW1zXCIsIG5hbWU6IFwidXNlRmlwc0VuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIEVuZHBvaW50OiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcImVuZHBvaW50XCIgfSxcbiAgICAgICAgICAgIFJlZ2lvbjogeyB0eXBlOiBcImJ1aWx0SW5QYXJhbXNcIiwgbmFtZTogXCJyZWdpb25cIiB9LFxuICAgICAgICAgICAgVXNlRHVhbFN0YWNrOiB7IHR5cGU6IFwiYnVpbHRJblBhcmFtc1wiLCBuYW1lOiBcInVzZUR1YWxzdGFja0VuZHBvaW50XCIgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIH1cbiAgICByZXNvbHZlTWlkZGxld2FyZShjbGllbnRTdGFjaywgY29uZmlndXJhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1pZGRsZXdhcmVTdGFjay51c2UoZ2V0U2VyZGVQbHVnaW4oY29uZmlndXJhdGlvbiwgdGhpcy5zZXJpYWxpemUsIHRoaXMuZGVzZXJpYWxpemUpKTtcbiAgICAgICAgdGhpcy5taWRkbGV3YXJlU3RhY2sudXNlKGdldEVuZHBvaW50UGx1Z2luKGNvbmZpZ3VyYXRpb24sIERlbGV0ZVVzZXJDb21tYW5kLmdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zKCkpKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBjbGllbnRTdGFjay5jb25jYXQodGhpcy5taWRkbGV3YXJlU3RhY2spO1xuICAgICAgICBjb25zdCB7IGxvZ2dlciB9ID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgY29uc3QgY2xpZW50TmFtZSA9IFwiUXVpY2tTaWdodENsaWVudFwiO1xuICAgICAgICBjb25zdCBjb21tYW5kTmFtZSA9IFwiRGVsZXRlVXNlckNvbW1hbmRcIjtcbiAgICAgICAgY29uc3QgaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQgPSB7XG4gICAgICAgICAgICBsb2dnZXIsXG4gICAgICAgICAgICBjbGllbnROYW1lLFxuICAgICAgICAgICAgY29tbWFuZE5hbWUsXG4gICAgICAgICAgICBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZzogKF8pID0+IF8sXG4gICAgICAgICAgICBvdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2c6IChfKSA9PiBfLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RIYW5kbGVyIH0gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICByZXR1cm4gc3RhY2sucmVzb2x2ZSgocmVxdWVzdCkgPT4gcmVxdWVzdEhhbmRsZXIuaGFuZGxlKHJlcXVlc3QucmVxdWVzdCwgb3B0aW9ucyB8fCB7fSksIGhhbmRsZXJFeGVjdXRpb25Db250ZXh0KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKGlucHV0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBzZV9EZWxldGVVc2VyQ29tbWFuZChpbnB1dCwgY29udGV4dCk7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKG91dHB1dCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gZGVfRGVsZXRlVXNlckNvbW1hbmQob3V0cHV0LCBjb250ZXh0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBEZWxldGVVc2VyQ29tbWFuZCwgTGlzdFVzZXJzQ29tbWFuZCwgUXVpY2tTaWdodENsaWVudCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1xdWlja3NpZ2h0J1xyXG5pbXBvcnQgeyBRdWlja1NpZ2h0VXNlciB9IGZyb20gJy4vUXVpY2tTaWdodFVzZXInXHJcblxyXG5leHBvcnQgY2xhc3MgUXVpY2tTaWdodFVzZXJNYW5hZ2VyIHtcclxuXHRwcml2YXRlIGF3c0FjY291bnRJZCA9IHByb2Nlc3MuZW52LmF3c0FjY291bnRJZFxyXG5cdHByaXZhdGUgc3RhdGljIG5hbWVzcGFjZSA9ICdkZWZhdWx0J1xyXG5cdHByaXZhdGUgcXVpY2tTaWdodENsaWVudCA9IG5ldyBRdWlja1NpZ2h0Q2xpZW50KHt9KVxyXG4gIFxyXG5cdHB1YmxpYyBhc3luYyByZXRyaWV2ZVVzZXJzKCk6IFByb21pc2U8UXVpY2tTaWdodFVzZXJbXT4ge1xyXG5cdFx0Y29uc3QgcXVpY2tTaWdodFVzZXJzOiBRdWlja1NpZ2h0VXNlcltdID0gW11cclxuXHJcblx0XHRsZXQgbmV4dFRva2VuID0gJycgLy8gb3JpZ2luYWxseSBJIHRyaWVkIG51bGwsIGJ1dCBpdCBjYXVzZXMgQVBJIHNpZ25hdHVyZSBpc3N1ZXMuXHJcblx0XHRkbyB7XHJcblx0XHRcdGNvbnN0IGxpc3RVc2Vyc0NvbW1hbmQgPSBuZXcgTGlzdFVzZXJzQ29tbWFuZCh7IEF3c0FjY291bnRJZDogdGhpcy5hd3NBY2NvdW50SWQsIE5hbWVzcGFjZTogUXVpY2tTaWdodFVzZXJNYW5hZ2VyLm5hbWVzcGFjZSwgTmV4dFRva2VuOiBuZXh0VG9rZW4gfSlcclxuXHRcdFx0Y29uc3QgcXVpY2tTaWdodFVzZXJMaXN0UmVzcG9uc2UgPSBhd2FpdCB0aGlzLnF1aWNrU2lnaHRDbGllbnQuc2VuZChsaXN0VXNlcnNDb21tYW5kKVxyXG5cclxuXHRcdFx0bmV4dFRva2VuID0gcXVpY2tTaWdodFVzZXJMaXN0UmVzcG9uc2UuTmV4dFRva2VuXHJcblxyXG5cdFx0XHRxdWlja1NpZ2h0VXNlckxpc3RSZXNwb25zZS5Vc2VyTGlzdC5mb3JFYWNoKCh1c2VyKSA9PiBxdWlja1NpZ2h0VXNlcnMucHVzaChuZXcgUXVpY2tTaWdodFVzZXIodXNlcikpKVxyXG5cdFx0fSB3aGlsZSAobmV4dFRva2VuKVxyXG5cclxuXHRcdHJldHVybiBxdWlja1NpZ2h0VXNlcnNcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBkZWxldGVVc2VyKHVzZXI6IFF1aWNrU2lnaHRVc2VyKSB7XHJcblx0XHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcclxuXHRcdGNvbnNvbGUuZGVidWcoYERlbGV0aW5nICR7SlNPTi5zdHJpbmdpZnkodXNlciwgbnVsbCwgMSl9YClcclxuXHRcdFxyXG5cdFx0Y29uc3QgZGVsZXRlVXNlckNvbW1hbmQgPSBuZXcgRGVsZXRlVXNlckNvbW1hbmQoe1xyXG5cdFx0XHRBd3NBY2NvdW50SWQ6IHRoaXMuYXdzQWNjb3VudElkLFxyXG5cdFx0XHROYW1lc3BhY2U6IFF1aWNrU2lnaHRVc2VyTWFuYWdlci5uYW1lc3BhY2UsXHJcblx0XHRcdFVzZXJOYW1lOiB1c2VyLnVzZXJuYW1lLFxyXG5cdFx0fSlcclxuXHJcblx0XHRhd2FpdCB0aGlzLnF1aWNrU2lnaHRDbGllbnQuc2VuZChkZWxldGVVc2VyQ29tbWFuZClcclxuXHR9XHJcbn0iLCJpbXBvcnQgeyBDbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlciB9IGZyb20gJy4vQ2xvdWRUcmFpbFVzZXJFdmVudE1hbmFnZXInXHJcbmltcG9ydCB7IENsb3VkV2F0Y2hNZXRyaWNDbGllbnQgfSBmcm9tICcuL0Nsb3VkV2F0Y2hNZXRyaWNDbGllbnQnXHJcbmltcG9ydCB7IE5vdGlmaWNhdGlvbk1hbmFnZXIgfSBmcm9tICcuL05vdGlmaWNhdGlvbk1hbmFnZXInXHJcbmltcG9ydCB7IFF1aWNrU2lnaHRSb2xlIH0gZnJvbSAnLi9RdWlja1NpZ2h0VXNlcidcclxuaW1wb3J0IHsgUXVpY2tTaWdodFVzZXJNYW5hZ2VyIH0gZnJvbSAnLi9RdWlja1NpZ2h0VXNlck1hbmFnZXInXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyAoKSA9PiB7XHJcblx0Y29uc3QgeyBkZWxldGVEYXlzLCBub3RpZnlEYXlzIH0gPSBwcm9jZXNzLmVudlxyXG5cdGNvbnN0IGVuYWJsZU5vdGlmaWNhdGlvbiA9IHByb2Nlc3MuZW52LmVuYWJsZU5vdGlmaWNhdGlvbiA9PT0gJ3RydWUnXHJcblx0Y29uc3QgZGVsZXRlRGF0ZSA9IG5ldyBEYXRlKClcclxuXHRjb25zdCBub3RpZnlEYXRlID0gbmV3IERhdGUoKVxyXG5cdGRlbGV0ZURhdGUuc2V0RGF0ZShkZWxldGVEYXRlLmdldERhdGUoKSAtIHBhcnNlSW50KGRlbGV0ZURheXMpKVxyXG5cdG5vdGlmeURhdGUuc2V0RGF0ZShub3RpZnlEYXRlLmdldERhdGUoKSAtIHBhcnNlSW50KG5vdGlmeURheXMpKVxyXG5cclxuXHQvLyBTdHJ5a2VyIGRpc2FibGUgbmV4dC1saW5lIGFsbCBcIkkgZG8gbm90IGNhcmUgYWJvdXQgbXV0YXRpbmcgY29uc29sZSBzdGF0ZW1lbnRzXCJcclxuXHRjb25zb2xlLmluZm8oYE5vdGlmeWluZyB1c2VycyB3aXRoIGxhc3QgYWNjZXNzIGRhdGUgb246ICR7bm90aWZ5RGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKX0gKCR7bm90aWZ5RGF5c30gZGF5cyBhZ28pLmApXHJcblx0Ly8gU3RyeWtlciBkaXNhYmxlIG5leHQtbGluZSBhbGwgXCJJIGRvIG5vdCBjYXJlIGFib3V0IG11dGF0aW5nIGNvbnNvbGUgc3RhdGVtZW50c1wiXHJcblx0Y29uc29sZS5pbmZvKGBEZWxldGluZyB1c2VycyB3aXRoIGxhc3QgYWNjZXNzIGRhdGUgb24gb3IgYmVmb3JlOiAke2RlbGV0ZURhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCl9ICgke2RlbGV0ZURheXN9IGRheXMgYWdvKS5gKVxyXG5cdC8vIFN0cnlrZXIgZGlzYWJsZSBuZXh0LWxpbmUgYWxsIFwiSSBkbyBub3QgY2FyZSBhYm91dCBtdXRhdGluZyBjb25zb2xlIHN0YXRlbWVudHNcIlxyXG5cdGNvbnNvbGUuaW5mbyhgTm90aWZpY2F0aW9uIGVuYWJsZWQ/ICR7ZW5hYmxlTm90aWZpY2F0aW9ufS5gKVxyXG5cclxuXHRjb25zdCBxdWlja1NpZ2h0VXNlck1hbmFnZXIgPSBuZXcgUXVpY2tTaWdodFVzZXJNYW5hZ2VyKClcclxuXHRjb25zdCBjbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlciA9IG5ldyBDbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlcigpXHJcblx0Y29uc3Qgbm90aWZpY2F0aW9uTWFuYWdlciA9IG5ldyBOb3RpZmljYXRpb25NYW5hZ2VyKClcclxuXHRjb25zdCBjbG91ZFdhdGNoTWV0cmljQ2xpZW50ID0gbmV3IENsb3VkV2F0Y2hNZXRyaWNDbGllbnQoKVxyXG5cclxuXHRjb25zdCBxdWlja1NpZ2h0VXNlcnMgPSBhd2FpdCBxdWlja1NpZ2h0VXNlck1hbmFnZXIucmV0cmlldmVVc2VycygpXHJcblx0Y29uc3QgY2xvdWRUcmFpbFVzZXJFdmVudHMgPSBhd2FpdCBjbG91ZFRyYWlsVXNlckV2ZW50TWFuYWdlci5yZXRyaWV2ZVF1aWNrU2lnaHRVc2VyRXZlbnRzKGRlbGV0ZURhdGUpXHJcblxyXG5cdGZvciAoY29uc3QgcXVpY2tTaWdodFVzZXIgb2YgcXVpY2tTaWdodFVzZXJzKSB7XHJcblx0XHRxdWlja1NpZ2h0VXNlci5sYXN0QWNjZXNzID0gY2xvdWRUcmFpbFVzZXJFdmVudE1hbmFnZXIuZ2V0TGFzdEFjY2Vzc0RhdGUocXVpY2tTaWdodFVzZXIsIGNsb3VkVHJhaWxVc2VyRXZlbnRzKVxyXG5cdH1cclxuXHJcblx0Ly8gU3RyeWtlciBkaXNhYmxlIG5leHQtbGluZSBhbGwgXCJJIGRvIG5vdCBjYXJlIGFib3V0IG11dGF0aW5nIGNvbnNvbGUgc3RhdGVtZW50c1wiXHJcblx0Y29uc29sZS5kZWJ1ZyhgUXVpY2tTaWdodCBVc2VyczpcXG4ke0pTT04uc3RyaW5naWZ5KHF1aWNrU2lnaHRVc2VycywgbnVsbCwgMil9YClcclxuXHRjbG91ZFdhdGNoTWV0cmljQ2xpZW50LnF1ZXVlTWV0cmljKHsgTWV0cmljTmFtZTogJ1ByaW9yUXVpY2tTaWdodFVzZXJzQ291bnQnLCBWYWx1ZTogcXVpY2tTaWdodFVzZXJzLmxlbmd0aCB9KVxyXG5cclxuXHRsZXQgaW52YWxpZFVzZXJzID0gMFxyXG5cdGxldCB1c2Vyc0RlbGV0ZWQgPSAwXHJcblx0bGV0IG5vdGlmaWNhdGlvbnNTZW50ID0gMFxyXG5cclxuXHRmb3IgKGNvbnN0IHF1aWNrU2lnaHRVc2VyIG9mIHF1aWNrU2lnaHRVc2Vycykge1xyXG5cdFx0aWYgKHF1aWNrU2lnaHRVc2VyLmludmFsaWQpIHsgLy8gU29tZSBRUyB1c2VycyBjYW5ub3QgYmUgZGVsZXRlZCBWSUEgdGhlIEFQSS9TREsuIFNlZSBSRUFETUUgZm9yIGRldGFpbHNcclxuXHRcdFx0Ly8gU3RyeWtlciBkaXNhYmxlIG5leHQtbGluZSBhbGwgXCJJIGRvIG5vdCBjYXJlIGFib3V0IG11dGF0aW5nIGNvbnNvbGUgc3RhdGVtZW50c1wiXHJcblx0XHRcdGNvbnNvbGUud2FybihgSW52YWxpZCB1c2VyOiAke0pTT04uc3RyaW5naWZ5KHF1aWNrU2lnaHRVc2VyKX1gKVxyXG5cdFx0XHRpbnZhbGlkVXNlcnMrK1xyXG5cdFx0fSBlbHNlIGlmIChxdWlja1NpZ2h0VXNlci5sYXN0QWNjZXNzIDwgZGVsZXRlRGF0ZSkge1xyXG5cdFx0XHR1c2Vyc0RlbGV0ZWQrK1xyXG5cdFx0XHRhd2FpdCBxdWlja1NpZ2h0VXNlck1hbmFnZXIuZGVsZXRlVXNlcihxdWlja1NpZ2h0VXNlcilcclxuXHRcdH0gZWxzZSBpZiAoZW5hYmxlTm90aWZpY2F0aW9uXHJcbiAgICAgICYmIHF1aWNrU2lnaHRVc2VyLnJvbGUgIT09IFF1aWNrU2lnaHRSb2xlLlJFQURFUiAvLyBSZWFkZXJzIGdldCBpbnRvIFF1aWNrU2lnaHQgdGhyb3VnaCBhIHB1YmxpYyBwYWdlIGFuZCBwcm9iYWJseSBoYXZlIG5vIGlkZWEgd2hhdCBRdWlja1NpZ2h0IGlzLiBUaGVyZWZvcmUgd2Ugc2hvdWxkbid0IGVtYWlsIHRoZW0uXHJcbiAgICAgICYmIHF1aWNrU2lnaHRVc2VyLmxhc3RBY2Nlc3MudG9Mb2NhbGVEYXRlU3RyaW5nKCkgPT09IG5vdGlmeURhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCkpIHsgLy8gdG9Mb2NhbGVEYXRlU3RyaW5nIHN0cmlwcyBvZmYgdGhlIHRpbWUuIElmIHRoZSBkYXkgbWF0Y2hlcyB0aGUgbm90aWZ5IFwiZGF5XCIgdGhlbiB3ZSBub3RpZnkgdGhlIHVzZXJcclxuXHRcdFx0bm90aWZpY2F0aW9uc1NlbnQrK1xyXG5cdFx0XHRhd2FpdCBub3RpZmljYXRpb25NYW5hZ2VyLm5vdGlmeVVzZXIocXVpY2tTaWdodFVzZXIpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRjbG91ZFdhdGNoTWV0cmljQ2xpZW50LnF1ZXVlTWV0cmljKHsgTWV0cmljTmFtZTogJ0ludmFsaWRVc2Vyc0NvdW50JywgVmFsdWU6IGludmFsaWRVc2VycyB9KVxyXG5cdGNsb3VkV2F0Y2hNZXRyaWNDbGllbnQucXVldWVNZXRyaWMoeyBNZXRyaWNOYW1lOiAnVXNlcnNEZWxldGVkQ291bnQnLCBWYWx1ZTogdXNlcnNEZWxldGVkIH0pXHJcblx0Y2xvdWRXYXRjaE1ldHJpY0NsaWVudC5xdWV1ZU1ldHJpYyh7IE1ldHJpY05hbWU6ICdOb3RpZmljYXRpb25zU2VudENvdW50JywgVmFsdWU6IG5vdGlmaWNhdGlvbnNTZW50IH0pXHJcblx0Y2xvdWRXYXRjaE1ldHJpY0NsaWVudC5xdWV1ZU1ldHJpYyh7IE1ldHJpY05hbWU6ICdSZW1haW5pbmdRdWlja1NpZ2h0VXNlcnNDb3VudCcsIFZhbHVlOiBxdWlja1NpZ2h0VXNlcnMubGVuZ3RoIC0gdXNlcnNEZWxldGVkIH0pXHJcblx0YXdhaXQgY2xvdWRXYXRjaE1ldHJpY0NsaWVudC5lbWl0UXVldWVkTWV0cmljcygpXHJcbn1cclxuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQXdzQ3JjMzIiLCJ0c2xpYl8xIiwidXRpbF8xIiwiaW5kZXhfMSIsInRoaXMiLCJjcmMzMiIsIkNyYzMyIiwicHJvdG90eXBlIiwidXBkYXRlIiwidG9IYXNoIiwiaXNFbXB0eURhdGEiLCJjb252ZXJ0VG9CdWZmZXIiLCJkaWdlc3QiLCJfX2F3YWl0ZXIiLCJfX2dlbmVyYXRvciIsIl9hIiwibnVtVG9VaW50OCIsInJlc2V0IiwiZGF0YSIsImNoZWNrc3VtIiwiZV8xIiwiZGF0YV8xIiwiX192YWx1ZXMiLCJkYXRhXzFfMSIsIm5leHQiLCJkb25lIiwiYnl0ZSIsImxvb2t1cFRhYmxlIiwiZV8xXzEiLCJlcnJvciIsInJldHVybiIsImNhbGwiLCJ1aW50MzJBcnJheUZyb20iLCJhd3NfY3JjMzJfMSIsImVudW1lcmFibGUiLCJnZXQiLCJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsImhhc093blByb3BlcnR5IiwiX19leHRlbmRzIiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIl9fYXNzaWduIiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFwcGx5IiwiX19yZXN0IiwiZSIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwidGFyZ2V0Iiwia2V5IiwiZGVzYyIsImMiLCJyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiX19wYXJhbSIsInBhcmFtSW5kZXgiLCJkZWNvcmF0b3IiLCJfX21ldGFkYXRhIiwibWV0YWRhdGFLZXkiLCJtZXRhZGF0YVZhbHVlIiwibWV0YWRhdGEiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iLCJib2R5IiwiZiIsInkiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJwb3AiLCJwdXNoIiwiX19jcmVhdGVCaW5kaW5nIiwibyIsIm0iLCJrIiwiazIiLCJ1bmRlZmluZWQiLCJfX2V4cG9ydFN0YXIiLCJfX3JlYWQiLCJhciIsIl9fc3ByZWFkIiwiY29uY2F0IiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImEiLCJqIiwiamwiLCJfX2F3YWl0IiwiX19hc3luY0dlbmVyYXRvciIsImFzeW5jSXRlcmF0b3IiLCJxIiwicmVzdW1lIiwiZnVsZmlsbCIsInNldHRsZSIsInNoaWZ0IiwiX19hc3luY0RlbGVnYXRvciIsIl9fYXN5bmNWYWx1ZXMiLCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsImNvb2tlZCIsInJhdyIsIl9faW1wb3J0U3RhciIsIm1vZCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX19pbXBvcnREZWZhdWx0IiwiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsInJlY2VpdmVyIiwicHJpdmF0ZU1hcCIsImhhcyIsIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLCJzZXQiLCJ1dGlsX3V0ZjhfYnJvd3Nlcl8xIiwiZnJvbVV0ZjgiLCJCdWZmZXIiLCJmcm9tIiwiaW5wdXQiLCJVaW50OEFycmF5IiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiY29udmVydFRvQnVmZmVyXzEiLCJpc0VtcHR5RGF0YV8xIiwibnVtVG9VaW50OF8xIiwidWludDMyQXJyYXlGcm9tXzEiLCJudW0iLCJhX2xvb2tVcFRhYmxlIiwiVWludDMyQXJyYXkiLCJyZXR1cm5fYXJyYXkiLCJhX2luZGV4IiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJieXRlcyIsImxlbiIsImNoYXJDb2RlQXQiLCJzdXJyb2dhdGVQYWlyIiwiVGV4dERlY29kZXIiLCJkZWNvZGUiLCJkZWNvZGVkIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwibmV4dEJ5dGUiLCJlbmNvZGVkIiwibWFwIiwiYnl0ZVZhbHVlIiwidG9TdHJpbmciLCJqb2luIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJfX3NldE1vZHVsZURlZmF1bHQiLCJleHRyYWN0UmVnaW9uRnJvbUVuZHBvaW50IiwiYnVpbGRNcXR0NUZpbmFsVXNlcm5hbWUiLCJwb3B1bGF0ZV91c2VybmFtZV9zdHJpbmdfd2l0aF9jdXN0b21fYXV0aG9yaXplciIsImlzX3N0cmluZ19hbmRfbm90X2VtcHR5IiwiYWRkX3RvX3VzZXJuYW1lX3BhcmFtZXRlciIsInBsYXRmb3JtIiwiY3VycmVudF91c2VybmFtZSIsInBhcmFtZXRlcl92YWx1ZSIsInBhcmFtZXRlcl9wcmVfdGV4dCIsInJldHVybl9zdHJpbmciLCJpdGVtIiwiYWRkUGFyYW0iLCJwYXJhbU5hbWUiLCJwYXJhbVZhbHVlIiwicGFyYW1TZXQiLCJpbnB1dF91c2VybmFtZSIsImlucHV0X2F1dGhvcml6ZXIiLCJpbnB1dF9zaWduYXR1cmUiLCJpbnB1dF9idWlsZGVyX3VzZXJuYW1lIiwiaW5wdXRfdG9rZW5fa2V5X25hbWUiLCJpbnB1dF90b2tlbl92YWx1ZSIsInVzZXJuYW1lX3N0cmluZyIsImNvbnNvbGUiLCJsb2ciLCJFcnJvciIsImN1c3RvbUF1dGhDb25maWciLCJwYXRoIiwicGFyYW1MaXN0IiwidXNpbmdTaWduaW5nIiwidG9rZW5WYWx1ZSIsInRva2VuS2V5TmFtZSIsInRva2VuU2lnbmF0dXJlIiwidXNlcm5hbWUiLCJwYXRoU3BsaXQiLCJzcGxpdCIsInBhcmFtcyIsInNsaWNlIiwiZm9yRWFjaCIsImtleVZhbHVlIiwiaW5kZXgiLCJhcnJheSIsImt2UGFpciIsImF1dGhvcml6ZXJOYW1lIiwiY3J0X3ZlcnNpb24iLCJlbmRwb2ludCIsIm1hdGNoIiwibmV3Q2FuY2VsbGFibGVQcm9taXNlRnJvbU5leHRFdmVudCIsIkNhbmNlbENvbnRyb2xsZXIiLCJFVkVOVF9OQU1FIiwiZXZlbnRzXzEiLCJwcm9taXNlIiwib3B0aW9ucyIsImNhbmNlbGxlZCIsImVtaXR0ZXJGYWN0b3J5IiwiZW1pdHRlciIsIkV2ZW50RW1pdHRlciIsImNhbmNlbCIsImVtaXQiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJoYXNCZWVuQ2FuY2VsbGVkIiwiYWRkTGlzdGVuZXIiLCJsaXN0ZW5lciIsIm9uIiwicmVtb3ZlTGlzdGVuZXIiLCJjb25maWciLCJvbkV2ZW50IiwiY2FuY2VsUmVtb3ZlTGlzdGVuZXIiLCJsaWZ0ZWRQcm9taXNlIiwibmV3TGlmdGVkUHJvbWlzZSIsImV2ZW50RGF0YSIsImV2ZW50RGF0YVRyYW5zZm9ybWVyIiwiZXJyIiwiZXZlbnROYW1lIiwiY2FuY2VsQ29udHJvbGxlciIsImNhbmNlbE1lc3NhZ2UiLCJtYWtlU2VsZkNsZWFuaW5nUHJvbWlzZSIsIkJ1ZmZlcmVkRXZlbnRFbWl0dGVyIiwiQnVmZmVyZWRFdmVudCIsImV2ZW50IiwiYXJncyIsInN1cGVyIiwiY29ya2VkIiwiY29yayIsInVuY29yayIsImV2ZW50UXVldWUiLCJsYXN0IiwibGFzdFF1ZXVlZEV2ZW50IiwibGlzdGVuZXJzIiwiSHR0cFByb3h5QXV0aGVudGljYXRpb25UeXBlIiwiSHR0cFZlcnNpb24iLCJDb21tb25IdHRwUHJveHlPcHRpb25zIiwiaG9zdF9uYW1lIiwicG9ydCIsImF1dGhfbWV0aG9kIiwiTm9uZSIsImF1dGhfdXNlcm5hbWUiLCJhdXRoX3Bhc3N3b3JkIiwiU29ja2V0RG9tYWluIiwiU29ja2V0VHlwZSIsIlRsc1ZlcnNpb24iLCJRb1MiLCJERUZBVUxUX1JFQ09OTkVDVF9NSU5fU0VDIiwiREVGQVVMVF9SRUNPTk5FQ1RfTUFYX1NFQyIsIk1xdHRXaWxsIiwidG9waWMiLCJxb3MiLCJwYXlsb2FkIiwicmV0YWluIiwiUmV0cnlKaXR0ZXJUeXBlIiwiQ2xpZW50U2Vzc2lvbkJlaGF2aW9yIiwiUGFja2V0VHlwZSIsIlJldGFpbkhhbmRsaW5nVHlwZSIsIlBheWxvYWRGb3JtYXRJbmRpY2F0b3IiLCJQdWJhY2tSZWFzb25Db2RlIiwiVW5zdWJhY2tSZWFzb25Db2RlIiwiU3ViYWNrUmVhc29uQ29kZSIsIkRpc2Nvbm5lY3RSZWFzb25Db2RlIiwiQ29ubmVjdFJlYXNvbkNvZGUiLCJpc1N1Y2Nlc3NmdWxQdWJhY2tSZWFzb25Db2RlIiwiaXNTdWNjZXNzZnVsVW5zdWJhY2tSZWFzb25Db2RlIiwiaXNTdWNjZXNzZnVsU3ViYWNrUmVhc29uQ29kZSIsImlzU3VjY2Vzc2Z1bERpc2Nvbm5lY3RSZWFzb25Db2RlIiwiaXNTdWNjZXNzZnVsQ29ubmVjdFJlYXNvbkNvZGUiLCJyZWFzb25Db2RlIiwiREVGQVVMVF9LRUVQX0FMSVZFIiwibm9ybWFsaXplX3BheWxvYWQiLCJ2aWV3IiwiSlNPTiIsInN0cmluZ2lmeSIsImlzX25vZGVqcyIsInByb2Nlc3MiLCJ2ZXJzaW9ucyIsIm5vZGUiLCJwYWNrYWdlX2luZm8iLCJuYW1lIiwidmVyc2lvbiIsImlzX2Jyb3dzZXIiLCJjbGVhbmVyIiwiZmluYWxseSIsInByb21pc2VCb2R5IiwibG9jYWxSZXNvbHZlIiwibG9jYWxSZWplY3QiLCJ1c2luZyIsInJlc291cmNlIiwiZnVuYyIsImNsb3NlIiwiQ3J0RXJyb3IiLCJyZXNvdXJjZV9zYWZldHkiLCJtcXR0NSIsIm1xdHQiLCJpb3QiLCJpbyIsImh0dHAiLCJldmVudHN0cmVhbSIsImNydCIsImNyeXB0byIsImNoZWNrc3VtcyIsImF1dGgiLCJlcnJvcl8xIiwiYXdzX3ZlcmlmeV9zaWd2NGFfc2lnbmluZyIsImF3c19zaWduX3JlcXVlc3QiLCJBd3NTaWduZWRCb2R5SGVhZGVyVHlwZSIsIkF3c1NpZ25lZEJvZHlWYWx1ZSIsIkF3c1NpZ25hdHVyZVR5cGUiLCJBd3NTaWduaW5nQWxnb3JpdGhtIiwiQXdzQ3JlZGVudGlhbHNQcm92aWRlciIsImJpbmRpbmdfMSIsImlvXzEiLCJzdGF0aWMiLCJib290c3RyYXAiLCJuZXdEZWZhdWx0IiwibmF0aXZlX2hhbmRsZSIsImFjY2Vzc19rZXkiLCJzZWNyZXRfa2V5Iiwic2Vzc2lvbl90b2tlbiIsIm5ld1N0YXRpYyIsIm5ld0NvZ25pdG8iLCJ0bHNDb250ZXh0IiwiQ2xpZW50VGxzQ29udGV4dCIsImh0dHBQcm94eU9wdGlvbnMiLCJjcmVhdGVfbmF0aXZlX2hhbmRsZSIsIm5ld1g1MDkiLCJyZXF1ZXN0IiwiZXJyb3JfY29kZSIsImV4cGVjdGVkX2Nhbm9uaWNhbF9yZXF1ZXN0Iiwic2lnbmF0dXJlIiwiZWNjX2tleV9wdWJfeCIsImVjY19rZXlfcHViX3kiLCJBd3NJb3RNcXR0Q29ubmVjdGlvbkNvbmZpZ0J1aWxkZXIiLCJtcXR0XzEiLCJhdXRoXzEiLCJpb3Rfc2hhcmVkIiwidGxzX2N0eF9vcHRpb25zIiwiY2xpZW50X2lkIiwic29ja2V0X29wdGlvbnMiLCJTb2NrZXRPcHRpb25zIiwidXNlX3dlYnNvY2tldCIsImNsZWFuX3Nlc3Npb24iLCJrZWVwX2FsaXZlIiwid2lsbCIsInBhc3N3b3JkIiwidGxzX2N0eCIsInJlY29ubmVjdF9taW5fc2VjIiwicmVjb25uZWN0X21heF9zZWMiLCJpc191c2luZ19jdXN0b21fYXV0aG9yaXplciIsImNlcnRfcGF0aCIsImtleV9wYXRoIiwiYnVpbGRlciIsIlRsc0NvbnRleHRPcHRpb25zIiwiY3JlYXRlX2NsaWVudF93aXRoX210bHNfZnJvbV9wYXRoIiwiaXNfYWxwbl9hdmFpbGFibGUiLCJhbHBuX2xpc3QiLCJ1bnNoaWZ0IiwiY2VydCIsInByaXZhdGVfa2V5IiwiY3JlYXRlX2NsaWVudF93aXRoX210bHMiLCJwa2NzMTFfb3B0aW9ucyIsImNyZWF0ZV9jbGllbnRfd2l0aF9tdGxzX3BrY3MxMSIsInBrY3MxMl9vcHRpb25zIiwiY3JlYXRlX2NsaWVudF93aXRoX210bHNfcGtjczEyX2Zyb21fcGF0aCIsInBrY3MxMl9maWxlIiwicGtjczEyX3Bhc3N3b3JkIiwiY2VydGlmaWNhdGVfcGF0aCIsImNyZWF0ZV9jbGllbnRfd2l0aF9tdGxzX3dpbmRvd3NfY2VydF9zdG9yZV9wYXRoIiwiY3R4X29wdGlvbnMiLCJuZXdfd2l0aF93ZWJzb2NrZXRzIiwid2Vic29ja2V0X2hhbmRzaGFrZV90cmFuc2Zvcm0iLCJfYiIsIl9jIiwic2lnbmluZ19jb25maWciLCJjcmVhdGVfc2lnbmluZ19jb25maWciLCJhbGdvcml0aG0iLCJTaWdWNCIsInNpZ25hdHVyZV90eXBlIiwiSHR0cFJlcXVlc3RWaWFRdWVyeVBhcmFtcyIsInByb3ZpZGVyIiwiY3JlZGVudGlhbHNfcHJvdmlkZXIiLCJyZWdpb24iLCJzZXJ2aWNlIiwic2lnbmVkX2JvZHlfdmFsdWUiLCJFbXB0eVNoYTI1NiIsIm9taXRfc2Vzc2lvbl90b2tlbiIsInByb3h5X29wdGlvbnMiLCJjb25maWd1cmVfd2Vic29ja2V0X2hhbmRzaGFrZSIsIndpdGhfY2VydGlmaWNhdGVfYXV0aG9yaXR5X2Zyb21fcGF0aCIsImNhX2RpcnBhdGgiLCJjYV9maWxlcGF0aCIsIm92ZXJyaWRlX2RlZmF1bHRfdHJ1c3Rfc3RvcmVfZnJvbV9wYXRoIiwid2l0aF9jZXJ0aWZpY2F0ZV9hdXRob3JpdHkiLCJjYSIsIm92ZXJyaWRlX2RlZmF1bHRfdHJ1c3Rfc3RvcmUiLCJ3aXRoX2VuZHBvaW50Iiwid2l0aF9wb3J0Iiwid2l0aF9jbGllbnRfaWQiLCJ3aXRoX2NsZWFuX3Nlc3Npb24iLCJ3aXRoX2tlZXBfYWxpdmVfc2Vjb25kcyIsIndpdGhfdGltZW91dF9tcyIsInRpbWVvdXRfbXMiLCJ3aXRoX3BpbmdfdGltZW91dF9tcyIsInBpbmdfdGltZW91dCIsIndpdGhfcHJvdG9jb2xfb3BlcmF0aW9uX3RpbWVvdXRfbXMiLCJwcm90b2NvbF9vcGVyYXRpb25fdGltZW91dCIsIndpdGhfd2lsbCIsIndpdGhfc29ja2V0X29wdGlvbnMiLCJ3aXRoX2NyZWRlbnRpYWxzIiwiYXdzX3JlZ2lvbiIsImF3c19hY2Nlc3NfaWQiLCJhd3Nfc2VjcmV0X2tleSIsImF3c19zdHNfdG9rZW4iLCJ3aXRoX2h0dHBfcHJveHlfb3B0aW9ucyIsIndpdGhfY3VzdG9tX2F1dGhvcml6ZXIiLCJhdXRob3JpemVyX25hbWUiLCJhdXRob3JpemVyX3NpZ25hdHVyZSIsInRva2VuX2tleV9uYW1lIiwidG9rZW5fdmFsdWUiLCJ3aXRoX3VzZXJuYW1lIiwid2l0aF9wYXNzd29yZCIsIndpdGhfcmVjb25uZWN0X21heF9zZWMiLCJtYXhfc2VjIiwid2l0aF9yZWNvbm5lY3RfbWluX3NlYyIsIm1pbl9zZWMiLCJidWlsZCIsIkF3c0lvdE1xdHQ1Q2xpZW50Q29uZmlnQnVpbGRlciIsIm1xdHRfc2hhcmVkIiwiaG9zdE5hbWUiLCJ0bHNDb250ZXh0T3B0aW9ucyIsImNvbm5lY3RQcm9wZXJ0aWVzIiwia2VlcEFsaXZlSW50ZXJ2YWxTZWNvbmRzIiwiZXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2xPcHRpb25zIiwiQ2xpZW50RXh0ZW5kZWRWYWxpZGF0aW9uQW5kRmxvd0NvbnRyb2wiLCJBd3NJb3RDb3JlRGVmYXVsdHMiLCJjZXJ0UGF0aCIsImtleVBhdGgiLCJERUZBVUxUX0RJUkVDVF9NUVRUX1BPUlQiLCJwcml2YXRlS2V5IiwicGtjczExT3B0aW9ucyIsImNlcnRpZmljYXRlUGF0aCIsIkRFRkFVTFRfV0VCU09DS0VUX01RVFRfUE9SVCIsImNyZWRlbnRpYWxzUHJvdmlkZXIiLCJ3ZWJzb2NrZXRIYW5kc2hha2VUcmFuc2Zvcm0iLCJzaWduaW5nQ29uZmlnIiwid2l0aENlcnRpZmljYXRlQXV0aG9yaXR5RnJvbVBhdGgiLCJjYURpcnBhdGgiLCJjYUZpbGVwYXRoIiwid2l0aENlcnRpZmljYXRlQXV0aG9yaXR5Iiwid2l0aFBvcnQiLCJ3aXRoQ29ubmVjdFByb3BlcnRpZXMiLCJjb25uZWN0UGFja2V0Iiwid2l0aFNlc3Npb25CZWhhdmlvciIsInNlc3Npb25CZWhhdmlvciIsIndpdGhSZXRyeUppdHRlck1vZGUiLCJyZXRyeUppdHRlck1vZGUiLCJ3aXRoTWluUmVjb25uZWN0RGVsYXlNcyIsIm1pblJlY29ubmVjdERlbGF5TXMiLCJ3aXRoTWF4UmVjb25uZWN0RGVsYXlNcyIsIm1heFJlY29ubmVjdERlbGF5TXMiLCJ3aXRoTWluQ29ubmVjdGVkVGltZVRvUmVzZXRSZWNvbm5lY3REZWxheU1zIiwibWluQ29ubmVjdGVkVGltZVRvUmVzZXRSZWNvbm5lY3REZWxheU1zIiwid2l0aENvbm5hY2tUaW1lb3V0TXMiLCJjb25uYWNrVGltZW91dE1zIiwid2l0aE9mZmxpbmVRdWV1ZUJlaGF2aW9yIiwib2ZmbGluZVF1ZXVlQmVoYXZpb3IiLCJ3aXRoUGluZ1RpbWVvdXRNcyIsInBpbmdUaW1lb3V0TXMiLCJ3aXRoQWNrVGltZW91dFNlY29uZHMiLCJhY2tUaW1lb3V0U2Vjb25kcyIsIndpdGhTb2NrZXRPcHRpb25zIiwic29ja2V0T3B0aW9ucyIsIndpdGhIdHRwUHJveHlPcHRpb25zIiwid2l0aEV4dGVuZGVkVmFsaWRhdGlvbkFuZEZsb3dDb250cm9sT3B0aW9ucyIsInRsc0N0eCIsIm9zXzEiLCJmc18xIiwicHJvY2Vzc18xIiwidXBncmFkZV9zdHJpbmciLCJwYXJzZUludCIsInBsYXRmb3JtRGlyIiwiYXJjaCIsInNvdXJjZV9yb290IiwiX19kaXJuYW1lIiwiZGlzdCIsImV4aXN0c1N5bmMiLCJiaW5fcGF0aCIsInNlYXJjaF9wYXRocyIsImJpbmRpbmciLCJjcmMzMmMiLCJwcmV2aW91cyIsImNoZWNrc3Vtc19jcmMzMiIsImNoZWNrc3Vtc19jcmMzMmMiLCJuYXRpdmVfbWVtb3J5X2R1bXAiLCJuYXRpdmVfbWVtb3J5IiwiaG1hY19zaGEyNTYiLCJTaGEyNTZIbWFjIiwiaGFzaF9zaGExIiwiU2hhMUhhc2giLCJoYXNoX3NoYTI1NiIsIlNoYTI1Nkhhc2giLCJoYXNoX21kNSIsIk1kNUhhc2giLCJuYXRpdmVfcmVzb3VyY2VfMSIsIkhhc2giLCJOYXRpdmVSZXNvdXJjZSIsImhhc2hfdXBkYXRlIiwiZmluYWxpemUiLCJ0cnVuY2F0ZV90byIsImhhc2hfZGlnZXN0IiwiaGFzaF9oYW5kbGUiLCJoYXNoX21kNV9uZXciLCJoYXNoX21kNV9jb21wdXRlIiwiaGFzaF9zaGEyNTZfbmV3IiwiaGFzaF9zaGEyNTZfY29tcHV0ZSIsImhhc2hfc2hhMV9uZXciLCJoYXNoX3NoYTFfY29tcHV0ZSIsIkhtYWMiLCJobWFjX3VwZGF0ZSIsImhtYWNfZGlnZXN0Iiwic2VjcmV0IiwiaG1hY19zaGEyNTZfbmV3IiwiaG1hY19zaGEyNTZfY29tcHV0ZSIsImVycm9yX2NvZGVfdG9fc3RyaW5nIiwibWVzc2FnZSIsImV4dHJhY3RfbWVzc2FnZSIsImV4dHJhY3RfY29kZSIsImVycm9yX25hbWUiLCJlcnJvcl9jb2RlX3RvX25hbWUiLCJleHRyYWN0X25hbWUiLCJDbGllbnRTdHJlYW0iLCJDbGllbnRDb25uZWN0aW9uIiwiTWVzc2FnZVR5cGUiLCJNZXNzYWdlRmxhZ3MiLCJIZWFkZXIiLCJIZWFkZXJUeXBlIiwiZXZlbnRfMSIsImV2ZW50c3RyZWFtX3V0aWxzIiwiQ2xpZW50Q29ubmVjdGlvblN0YXRlIiwiQ2xpZW50U3RyZWFtU3RhdGUiLCJ0eXBlIiwidmFsaWRhdGVIZWFkZXJOYW1lIiwiQm9vbGVhblRydWUiLCJCb29sZWFuRmFsc2UiLCJNSU5fSU5UOCIsIk1BWF9JTlQ4IiwiTnVtYmVyIiwiaXNTYWZlSW50ZWdlciIsIkJ5dGUiLCJNSU5fSU5UMTYiLCJNQVhfSU5UMTYiLCJJbnQxNiIsIk1JTl9JTlQzMiIsIk1BWF9JTlQzMiIsIkludDMyIiwiSW50NjQiLCJtYXJzaGFsSW50NjRCaWdpbnRBc0J1ZmZlciIsIkJpZ0ludCIsIk1JTl9JTlQ2NCIsIk1BWF9JTlQ2NCIsIkJ5dGVCdWZmZXIiLCJzZWNvbmRzU2luY2VFcG9jaCIsIlRpbWVzdGFtcCIsImRhdGUiLCJnZXRUaW1lIiwiVVVJRCIsInRvVmFsdWUiLCJhc0Jvb2xlYW4iLCJhc0J5dGUiLCJhc0ludDE2IiwiYXNJbnQzMiIsImFzSW50NjQiLCJ1bm1hcnNoYWxJbnQ2NEJpZ2ludEZyb21CdWZmZXIiLCJhc0J5dGVCdWZmZXIiLCJhc1N0cmluZyIsImFzVGltZXN0YW1wIiwiYXNVVUlEIiwibWFwUG9kTWVzc2FnZVRvSlNNZXNzYWdlIiwianNNZXNzYWdlIiwiZmxhZ3MiLCJoZWFkZXJzIiwiaGVhZGVyIiwiTmF0aXZlUmVzb3VyY2VNaXhpbiIsInN0YXRlIiwiX3N1cGVyIiwiZXZlbnRfc3RyZWFtX2NsaWVudF9jb25uZWN0aW9uX25ldyIsImNvbm5lY3Rpb24iLCJlcnJvckNvZGUiLCJfc19vbl9kaXNjb25uZWN0IiwiX3Nfb25fcHJvdG9jb2xfbWVzc2FnZSIsIkNsb3NlZCIsImV2ZW50X3N0cmVhbV9jbGllbnRfY29ubmVjdGlvbl9jbG9zZSIsImNvbm5lY3QiLCJjbGVhbnVwQ2FuY2VsTGlzdGVuZXIiLCJjb25uZWN0UHJvbWlzZSIsIkNvbm5lY3RpbmciLCJzZXRJbW1lZGlhdGUiLCJldmVudF9zdHJlYW1fY2xpZW50X2Nvbm5lY3Rpb25fY29ubmVjdCIsIl9zX29uX2Nvbm5lY3Rpb25fc2V0dXAiLCJEaXNjb25uZWN0ZWQiLCJzZW5kUHJvdG9jb2xNZXNzYWdlIiwic2VuZFByb3RvY29sTWVzc2FnZVByb21pc2UiLCJpc0Nvbm5lY3RlZCIsImN1cnJpZWRQcm9taXNlQ2FsbGJhY2siLCJfc19vbl9jb25uZWN0aW9uX3NlbmRfcHJvdG9jb2xfbWVzc2FnZV9jb21wbGV0aW9uIiwiZXZlbnRfc3RyZWFtX2NsaWVudF9jb25uZWN0aW9uX3NlbmRfcHJvdG9jb2xfbWVzc2FnZSIsIkNvbm5lY3RlZCIsIm5ld1N0cmVhbSIsIm5leHRUaWNrIiwiRElTQ09OTkVDVElPTiIsIlBST1RPQ09MX01FU1NBR0UiLCJldmVudF9zdHJlYW1fY2xpZW50X3N0cmVhbV9uZXciLCJzdHJlYW0iLCJfc19vbl9zdHJlYW1fZW5kZWQiLCJfc19vbl9zdHJlYW1fbWVzc2FnZSIsImV2ZW50X3N0cmVhbV9jbGllbnRfc3RyZWFtX2Nsb3NlIiwiYWN0aXZhdGUiLCJhY3RpdmF0ZVByb21pc2UiLCJFbmRlZCIsIkFjdGl2YXRpbmciLCJfc19vbl9zdHJlYW1fYWN0aXZhdGVkIiwiZXZlbnRfc3RyZWFtX2NsaWVudF9zdHJlYW1fYWN0aXZhdGUiLCJzZW5kTWVzc2FnZSIsInNlbmRNZXNzYWdlUHJvbWlzZSIsIkFjdGl2YXRlZCIsIl9zX29uX3N0cmVhbV9zZW5kX21lc3NhZ2VfY29tcGxldGlvbiIsImV2ZW50X3N0cmVhbV9jbGllbnRfc3RyZWFtX3NlbmRfbWVzc2FnZSIsImlzQWN0aXZlIiwiRU5ERUQiLCJNRVNTQUdFIiwiTUFYX1VJTlQ4X0FTX0JJR0lOVCIsImJ5dGVWaWV3IiwiSHR0cENsaWVudENvbm5lY3Rpb25NYW5hZ2VyIiwiSHR0cENsaWVudFN0cmVhbSIsIkh0dHBTdHJlYW0iLCJIdHRwQ2xpZW50Q29ubmVjdGlvbiIsIkh0dHBQcm94eU9wdGlvbnMiLCJIdHRwUHJveHlDb25uZWN0aW9uVHlwZSIsIkh0dHBDb25uZWN0aW9uIiwiSHR0cFJlcXVlc3QiLCJIdHRwSGVhZGVycyIsImh0dHBfMSIsImh0dHBfMiIsIm5hdGl2ZUh0dHBSZXF1ZXN0IiwibWV0aG9kIiwiaHR0cF9jb25uZWN0aW9uX2Nsb3NlIiwiQ09OTkVDVCIsIkVSUk9SIiwiQ0xPU0UiLCJ0bHNfb3B0cyIsImNvbm5lY3Rpb25fdHlwZSIsImh0dHBfcHJveHlfb3B0aW9uc19uZXciLCJMZWdhY3kiLCJoYW5kbGUiLCJodHRwX2Nvbm5lY3Rpb25fbmV3IiwiX29uX3NldHVwIiwiX29uX3NodXRkb3duIiwiaHR0cF9zdHJlYW1fbmV3IiwiX29uX2NvbXBsZXRlIiwic3RhdHVzX2NvZGUiLCJfb25fcmVzcG9uc2UiLCJfb25fYm9keSIsImh0dHBfc3RyZWFtX2FjdGl2YXRlIiwiaHR0cF9zdHJlYW1fY2xvc2UiLCJyZXNwb25zZV9zdGF0dXNfY29kZSIsImhlYWRlcl9hcnJheSIsIlJFU1BPTlNFIiwiREFUQSIsIkVORCIsIkhFQURFUlMiLCJob3N0IiwibWF4X2Nvbm5lY3Rpb25zIiwiaW5pdGlhbF93aW5kb3dfc2l6ZSIsImh0dHBfY29ubmVjdGlvbl9tYW5hZ2VyX25ldyIsImNvbm5lY3Rpb25zIiwiTWFwIiwiYWNxdWlyZSIsImh0dHBfY29ubmVjdGlvbl9tYW5hZ2VyX2FjcXVpcmUiLCJkZWxldGUiLCJyZWxlYXNlIiwiaHR0cF9jb25uZWN0aW9uX21hbmFnZXJfcmVsZWFzZSIsImh0dHBfY29ubmVjdGlvbl9tYW5hZ2VyX2Nsb3NlIiwiUGtjczExTGliIiwiVGxzQ29ubmVjdGlvbk9wdGlvbnMiLCJTZXJ2ZXJUbHNDb250ZXh0IiwiVGxzQ29udGV4dCIsIkNsaWVudEJvb3RzdHJhcCIsIklucHV0U3RyZWFtIiwiZW5hYmxlX2xvZ2dpbmciLCJMb2dMZXZlbCIsImlvXzIiLCJsZXZlbCIsImlvX2xvZ2dpbmdfZW5hYmxlIiwic291cmNlIiwiaW9faW5wdXRfc3RyZWFtX25ldyIsImlzQnVmZmVyIiwiaW9faW5wdXRfc3RyZWFtX2FwcGVuZCIsImlvX2NsaWVudF9ib290c3RyYXBfbmV3IiwiU1RSRUFNIiwiZG9tYWluIiwiSVBWNiIsImNvbm5lY3RfdGltZW91dF9tcyIsImtlZXBhbGl2ZSIsImtlZXBfYWxpdmVfaW50ZXJ2YWxfc2VjIiwia2VlcF9hbGl2ZV90aW1lb3V0X3NlYyIsImtlZXBfYWxpdmVfbWF4X2ZhaWxlZF9wcm9iZXMiLCJpb19zb2NrZXRfb3B0aW9uc19uZXciLCJtaW5fdGxzX3ZlcnNpb24iLCJEZWZhdWx0IiwidmVyaWZ5X3BlZXIiLCJjZXJ0aWZpY2F0ZV9hdXRob3JpdHkiLCJjZXJ0aWZpY2F0ZSIsIm9wdCIsImNlcnRpZmljYXRlX2ZpbGVwYXRoIiwicHJpdmF0ZV9rZXlfZmlsZXBhdGgiLCJwa2NzMTJfZmlsZXBhdGgiLCJ3aW5kb3dzX2NlcnRfc3RvcmVfcGF0aCIsImN0eF9vcHQiLCJpb190bHNfY3R4X25ldyIsInNlcnZlcl9uYW1lIiwiaW9fdGxzX2Nvbm5lY3Rpb25fb3B0aW9uc19uZXciLCJiZWhhdmlvciIsIkluaXRpYWxpemVGaW5hbGl6ZUJlaGF2aW9yIiwiREVGQVVMVCIsImlvX3BrY3MxMV9saWJfbmV3IiwiaW9fcGtjczExX2xpYl9jbG9zZSIsIk1xdHRDbGllbnRDb25uZWN0aW9uIiwiTXF0dENsaWVudCIsIm1xdHRfMiIsIm1xdHRfY2xpZW50X25ldyIsIm5ld19jb25uZWN0aW9uIiwiY2xpZW50IiwiTWF0aCIsIm1heCIsIm1pbiIsIm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fbmV3IiwiX29uX2Nvbm5lY3Rpb25faW50ZXJydXB0ZWQiLCJyZXR1cm5fY29kZSIsInNlc3Npb25fcHJlc2VudCIsIl9vbl9jb25uZWN0aW9uX3Jlc3VtZWQiLCJtcXR0X2NsaWVudF9jb25uZWN0aW9uX29uX21lc3NhZ2UiLCJfb25fYW55X3B1Ymxpc2giLCJiaW5kIiwibXF0dF9jbGllbnRfY29ubmVjdGlvbl9jbG9zZSIsIl9yZWplY3QiLCJtcXR0X2NsaWVudF9jb25uZWN0aW9uX2Nvbm5lY3QiLCJfb25fY29ubmVjdF9jYWxsYmFjayIsInJlY29ubmVjdCIsIm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fcmVjb25uZWN0IiwicHVibGlzaCIsIm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fcHVibGlzaCIsIl9vbl9wdWJhY2tfY2FsbGJhY2siLCJzdWJzY3JpYmUiLCJvbl9tZXNzYWdlIiwibXF0dF9jbGllbnRfY29ubmVjdGlvbl9zdWJzY3JpYmUiLCJfb25fc3ViYWNrX2NhbGxiYWNrIiwidW5zdWJzY3JpYmUiLCJtcXR0X2NsaWVudF9jb25uZWN0aW9uX3Vuc3Vic2NyaWJlIiwiX29uX3Vuc3ViYWNrX2NhbGxiYWNrIiwiZGlzY29ubmVjdCIsIm1xdHRfY2xpZW50X2Nvbm5lY3Rpb25fZGlzY29ubmVjdCIsIl9vbl9kaXNjb25uZWN0X2NhbGxiYWNrIiwiZ2V0UXVldWVTdGF0aXN0aWNzIiwibXF0dF9jbGllbnRfY29ubmVjdGlvbl9nZXRfcXVldWVfc3RhdGlzdGljcyIsInJlYXNvbiIsImR1cCIsInBhY2tldF9pZCIsIkRJU0NPTk5FQ1QiLCJJTlRFUlJVUFQiLCJSRVNVTUUiLCJNcXR0NUNsaWVudCIsIkNsaWVudE9wZXJhdGlvblF1ZXVlQmVoYXZpb3IiLCJtcXR0NV9jbGllbnRfbmV3IiwiX3Nfb25fc3RvcHBlZCIsIl9zX29uX2F0dGVtcHRpbmdfY29ubmVjdCIsImNvbm5hY2siLCJzZXR0aW5ncyIsIl9zX29uX2Nvbm5lY3Rpb25fc3VjY2VzcyIsIl9zX29uX2Nvbm5lY3Rpb25fZmFpbHVyZSIsIl9zX29uX2Rpc2Nvbm5lY3Rpb24iLCJfc19vbl9tZXNzYWdlX3JlY2VpdmVkIiwiY2xpZW50Qm9vdHN0cmFwIiwibXF0dDVfY2xpZW50X2Nsb3NlIiwic3RhcnQiLCJtcXR0NV9jbGllbnRfc3RhcnQiLCJzdG9wIiwiZGlzY29ubmVjdFBhY2tldCIsIm1xdHQ1X2NsaWVudF9zdG9wIiwicGFja2V0IiwibXF0dDVfY2xpZW50X3N1YnNjcmliZSIsInN1YmFjayIsIl9zX29uX3N1YmFja19jYWxsYmFjayIsIm1xdHQ1X2NsaWVudF91bnN1YnNjcmliZSIsInVuc3ViYWNrIiwiX3Nfb25fdW5zdWJhY2tfY2FsbGJhY2siLCJtcXR0NV9jbGllbnRfcHVibGlzaCIsIl9zX29uX3B1YmFja19jYWxsYmFjayIsIm1xdHQ1X2NsaWVudF9nZXRfcXVldWVfc3RhdGlzdGljcyIsIlNUT1BQRUQiLCJBVFRFTVBUSU5HX0NPTk5FQ1QiLCJjb25uZWN0aW9uU3VjY2Vzc0V2ZW50IiwiQ09OTkVDVElPTl9TVUNDRVNTIiwiY29ubmVjdGlvbkZhaWx1cmVFdmVudCIsIkNPTk5FQ1RJT05fRkFJTFVSRSIsImRpc2Nvbm5lY3Rpb25FdmVudCIsIm1lc3NhZ2VSZWNlaXZlZEV2ZW50IiwiTUVTU0FHRV9SRUNFSVZFRCIsIkJhc2UiLCJfaGFuZGxlIiwid2VicGFja0VtcHR5Q29udGV4dCIsInJlcSIsImNvZGUiLCJrZXlzIiwiaWQiLCJtb2R1bGUiLCJ2YWxpZGF0b3IiLCJYTUxQYXJzZXIiLCJYTUxCdWlsZGVyIiwiWE1MVmFsaWRhdG9yIiwibmFtZVN0YXJ0Q2hhciIsIm5hbWVSZWdleHAiLCJyZWdleE5hbWUiLCJSZWdFeHAiLCJpc0V4aXN0IiwiaXNFbXB0eU9iamVjdCIsIm9iaiIsIm1lcmdlIiwiYXJyYXlNb2RlIiwiZ2V0VmFsdWUiLCJpc05hbWUiLCJzdHJpbmciLCJleGVjIiwiZ2V0QWxsTWF0Y2hlcyIsInJlZ2V4IiwibWF0Y2hlcyIsImFsbG1hdGNoZXMiLCJzdGFydEluZGV4IiwibGFzdEluZGV4IiwidXRpbCIsImRlZmF1bHRPcHRpb25zIiwiYWxsb3dCb29sZWFuQXR0cmlidXRlcyIsInVucGFpcmVkVGFncyIsImlzV2hpdGVTcGFjZSIsImNoYXIiLCJyZWFkUEkiLCJ4bWxEYXRhIiwidGFnbmFtZSIsInN1YnN0ciIsImdldEVycm9yT2JqZWN0IiwiZ2V0TGluZU51bWJlckZvclBvc2l0aW9uIiwicmVhZENvbW1lbnRBbmRDREFUQSIsImFuZ2xlQnJhY2tldHNDb3VudCIsInZhbGlkYXRlIiwidGFncyIsInRhZ0ZvdW5kIiwicmVhY2hlZFJvb3QiLCJ0YWdTdGFydFBvcyIsImNsb3NpbmdUYWciLCJ0YWdOYW1lIiwidHJpbSIsInN1YnN0cmluZyIsIm1zZyIsInJlYWRBdHRyaWJ1dGVTdHIiLCJhdHRyU3RyIiwiYXR0clN0clN0YXJ0IiwiaXNWYWxpZCIsInZhbGlkYXRlQXR0cmlidXRlU3RyaW5nIiwibGluZSIsInRhZ0Nsb3NlZCIsIm90ZyIsIm9wZW5Qb3MiLCJjb2wiLCJhZnRlckFtcCIsInZhbGlkYXRlQW1wZXJzYW5kIiwicmVwbGFjZSIsImRvdWJsZVF1b3RlIiwic2luZ2xlUXVvdGUiLCJzdGFydENoYXIiLCJ2YWxpZEF0dHJTdHJSZWd4cCIsImF0dHJOYW1lcyIsImdldFBvc2l0aW9uRnJvbU1hdGNoIiwiYXR0ck5hbWUiLCJ2YWxpZGF0ZUF0dHJOYW1lIiwicmUiLCJ2YWxpZGF0ZU51bWJlckFtcGVyc2FuZCIsImNvdW50IiwibGluZU51bWJlciIsImxpbmVzIiwiYnVpbGRGcm9tT3JkZXJlZEpzIiwiYXR0cmlidXRlTmFtZVByZWZpeCIsImF0dHJpYnV0ZXNHcm91cE5hbWUiLCJ0ZXh0Tm9kZU5hbWUiLCJpZ25vcmVBdHRyaWJ1dGVzIiwiY2RhdGFQcm9wTmFtZSIsImZvcm1hdCIsImluZGVudEJ5Iiwic3VwcHJlc3NFbXB0eU5vZGUiLCJzdXBwcmVzc1VucGFpcmVkTm9kZSIsInN1cHByZXNzQm9vbGVhbkF0dHJpYnV0ZXMiLCJ0YWdWYWx1ZVByb2Nlc3NvciIsImF0dHJpYnV0ZVZhbHVlUHJvY2Vzc29yIiwicHJlc2VydmVPcmRlciIsImNvbW1lbnRQcm9wTmFtZSIsImVudGl0aWVzIiwidmFsIiwicHJvY2Vzc0VudGl0aWVzIiwic3RvcE5vZGVzIiwib25lTGlzdEdyb3VwIiwiQnVpbGRlciIsImlzQXR0cmlidXRlIiwiYXR0clByZWZpeExlbiIsInByb2Nlc3NUZXh0T3JPYmpOb2RlIiwiaW5kZW50YXRlIiwidGFnRW5kQ2hhciIsIm5ld0xpbmUiLCJvYmplY3QiLCJqMngiLCJidWlsZFRleHRWYWxOb2RlIiwiYnVpbGRPYmplY3ROb2RlIiwicmVwZWF0Iiwic3RhcnRzV2l0aCIsImpPYmoiLCJpc0FycmF5IiwiYXJyYXlOb2RlTmFtZSIsIkRhdGUiLCJhdHRyIiwiYnVpbGRBdHRyUGFpclN0ciIsIm5ld3ZhbCIsInJlcGxhY2VFbnRpdGllc1ZhbHVlIiwiYXJyTGVuIiwibGlzdFRhZ1ZhbCIsIktzIiwiTCIsImNsb3NlVGFnIiwidGFnRW5kRXhwIiwicGlDbG9zaW5nQ2hhciIsInRleHRWYWx1ZSIsImVudGl0eSIsImFyclRvU3RyIiwiYXJyIiwialBhdGgiLCJpbmRlbnRhdGlvbiIsInhtbFN0ciIsImlzUHJldmlvdXNFbGVtZW50VGFnIiwidGFnT2JqIiwicHJvcE5hbWUiLCJuZXdKUGF0aCIsInRhZ1RleHQiLCJpc1N0b3BOb2RlIiwiYXR0U3RyIiwiYXR0cl90b19zdHIiLCJ0ZW1wSW5kIiwicGlUZXh0Tm9kZU5hbWUiLCJuZXdJZGVudGF0aW9uIiwidGFnU3RhcnQiLCJ0YWdWYWx1ZSIsImVuZHNXaXRoIiwiaW5jbHVkZXMiLCJhdHRyTWFwIiwiYXR0clZhbCIsImxhc3RJbmRleE9mIiwiakFycmF5IiwicmVhZEVudGl0eUV4cCIsImVudGl0eU5hbWUiLCJpc0NvbW1lbnQiLCJpc0VudGl0eSIsImlzRWxlbWVudCIsImlzQXR0bGlzdCIsImlzTm90YXRpb24iLCJzcGVjaWFsQ2hhciIsInZhbGlkYXRlRW50aXR5TmFtZSIsImNoIiwiaGFzQm9keSIsImNvbW1lbnQiLCJleHAiLCJyZWd4IiwicmVtb3ZlTlNQcmVmaXgiLCJwYXJzZVRhZ1ZhbHVlIiwicGFyc2VBdHRyaWJ1dGVWYWx1ZSIsInRyaW1WYWx1ZXMiLCJudW1iZXJQYXJzZU9wdGlvbnMiLCJoZXgiLCJsZWFkaW5nWmVyb3MiLCJlTm90YXRpb24iLCJhbHdheXNDcmVhdGVUZXh0Tm9kZSIsImh0bWxFbnRpdGllcyIsImlnbm9yZURlY2xhcmF0aW9uIiwiaWdub3JlUGlUYWdzIiwidHJhbnNmb3JtVGFnTmFtZSIsInRyYW5zZm9ybUF0dHJpYnV0ZU5hbWUiLCJ1cGRhdGVUYWciLCJhdHRycyIsImJ1aWxkT3B0aW9ucyIsInhtbE5vZGUiLCJyZWFkRG9jVHlwZSIsInRvTnVtYmVyIiwiYWRkRXh0ZXJuYWxFbnRpdGllcyIsImV4dGVybmFsRW50aXRpZXMiLCJlbnRLZXlzIiwiZW50IiwibGFzdEVudGl0aWVzIiwicGFyc2VUZXh0RGF0YSIsImRvbnRUcmltIiwiaGFzQXR0cmlidXRlcyIsImlzTGVhZk5vZGUiLCJlc2NhcGVFbnRpdGllcyIsInBhcnNlVmFsdWUiLCJyZXNvbHZlTmFtZVNwYWNlIiwicHJlZml4IiwiY2hhckF0IiwiYXR0cnNSZWd4IiwiYnVpbGRBdHRyaWJ1dGVzTWFwIiwib2xkVmFsIiwiYU5hbWUiLCJuZXdWYWwiLCJhdHRyQ29sbGVjdGlvbiIsInBhcnNlWG1sIiwieG1sT2JqIiwiY3VycmVudE5vZGUiLCJ0ZXh0RGF0YSIsImNsb3NlSW5kZXgiLCJmaW5kQ2xvc2luZ0luZGV4IiwiY29sb25JbmRleCIsInNhdmVUZXh0VG9QYXJlbnRUYWciLCJsYXN0VGFnTmFtZSIsInByb3BJbmRleCIsInRhZ3NOb2RlU3RhY2siLCJ0YWdEYXRhIiwicmVhZFRhZ0V4cCIsImNoaWxkTm9kZSIsImFkZCIsInRhZ0V4cCIsImF0dHJFeHBQcmVzZW50IiwiYWRkQ2hpbGQiLCJlbmRJbmRleCIsImRvY1R5cGVFbnRpdGllcyIsImxhc3RUYWciLCJpc0l0U3RvcE5vZGUiLCJ0YWdDb250ZW50IiwicmVhZFN0b3BOb2RlRGF0YSIsImNoaWxkIiwiYW1wRW50aXR5IiwiY3VycmVudFRhZ05hbWUiLCJhbGxOb2Rlc0V4cCIsInN0b3BOb2RlUGF0aCIsInN0b3BOb2RlRXhwIiwic3RyIiwiZXJyTXNnIiwiY2xvc2luZ0luZGV4IiwiY2xvc2luZ0NoYXIiLCJhdHRyQm91bmRhcnkiLCJ0YWdFeHBXaXRoQ2xvc2luZ0luZGV4Iiwic2VwYXJhdG9ySW5kZXgiLCJzZWFyY2giLCJvcGVuVGFnQ291bnQiLCJzaG91bGRQYXJzZSIsIk9yZGVyZWRPYmpQYXJzZXIiLCJwcmV0dGlmeSIsInBhcnNlIiwidmFsaWRhdGlvbk9wdGlvbiIsIm9yZGVyZWRPYmpQYXJzZXIiLCJvcmRlcmVkUmVzdWx0IiwiYWRkRW50aXR5IiwiY29tcHJlc3MiLCJ0ZXh0IiwiY29tcHJlc3NlZE9iaiIsInByb3BlcnR5IiwibmV3SnBhdGgiLCJpc0xlYWYiLCJpc0xlYWZUYWciLCJhc3NpZ25BdHRyaWJ1dGVzIiwianBhdGgiLCJhdHJyTmFtZSIsInByb3BDb3VudCIsImhleFJlZ2V4IiwibnVtUmVnZXgiLCJ3aW5kb3ciLCJwYXJzZUZsb2F0IiwiY29uc2lkZXIiLCJkZWNpbWFsUG9pbnQiLCJ0cmltbWVkU3RyIiwic2tpcExpa2UiLCJ0ZXN0Iiwic2lnbiIsIm51bVRyaW1tZWRCeVplcm9zIiwibnVtU3RyIiwicmVxdWlyZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJkZWZpbml0aW9uIiwicHJvcCIsInRvU3RyaW5nVGFnIiwiU2VsZWN0b3JUeXBlIiwiYm9vbGVhblNlbGVjdG9yIiwiTk9ERV9VU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TIiwiZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yIiwiZW52IiwiRU5WIiwiY29uZmlnRmlsZVNlbGVjdG9yIiwicHJvZmlsZSIsIkNPTkZJRyIsIk5PREVfVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMiLCJOT0RFX1JFR0lPTl9DT05GSUdfT1BUSU9OUyIsIk5PREVfUkVHSU9OX0NPTkZJR19GSUxFX09QVElPTlMiLCJwcmVmZXJyZWRGaWxlIiwiaXNGaXBzUmVnaW9uIiwiZ2V0UmVhbFJlZ2lvbiIsInJlc29sdmVSZWdpb25Db25maWciLCJ1c2VGaXBzRW5kcG9pbnQiLCJhc3luYyIsInByb3ZpZGVkUmVnaW9uIiwiRmllbGRQb3NpdGlvbiIsImhvc3RuYW1lIiwicXVlcnkiLCJwcm90b2NvbCIsImZyYWdtZW50IiwiY2xvbmUiLCJjbG9uZWQiLCJyZWR1Y2UiLCJjYXJyeSIsInBhcmFtIiwic3RhdHVzQ29kZSIsInJlc3BvbnNlIiwicmVzcCIsIkNPTlRFTlRfTEVOR1RIX0hFQURFUiIsImNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlT3B0aW9ucyIsIm92ZXJyaWRlIiwiZ2V0Q29udGVudExlbmd0aFBsdWdpbiIsImFwcGx5VG9TdGFjayIsImNsaWVudFN0YWNrIiwiYm9keUxlbmd0aENoZWNrZXIiLCJpc0luc3RhbmNlIiwidG9Mb3dlckNhc2UiLCJkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uIiwic2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24iLCJnZXRTZXJkZVBsdWdpbiIsInNlcmlhbGl6ZXIiLCJkZXNlcmlhbGl6ZXIiLCJjb21tYW5kU3RhY2siLCJjb250ZXh0Iiwib3V0cHV0IiwiaGludCIsImRlc2VyaWFsaXplck1pZGRsZXdhcmUiLCJlbmRwb2ludFYyIiwidXJsIiwidXJsUGFyc2VyIiwic2VyaWFsaXplck1pZGRsZXdhcmUiLCJET01BSU5fUEFUVEVSTiIsIklQX0FERFJFU1NfUEFUVEVSTiIsIkRPVFNfUEFUVEVSTiIsImNyZWF0ZUNvbmZpZ1ZhbHVlUHJvdmlkZXIiLCJjb25maWdLZXkiLCJjYW5vbmljYWxFbmRwb2ludFBhcmFtS2V5IiwiY29uZmlnUHJvdmlkZXIiLCJjb25maWdWYWx1ZSIsImhyZWYiLCJyZXNvbHZlUGFyYW1zIiwiY29tbWFuZElucHV0IiwiaW5zdHJ1Y3Rpb25zU3VwcGxpZXIiLCJjbGllbnRDb25maWciLCJlbmRwb2ludFBhcmFtcyIsImluc3RydWN0aW9ucyIsImdldEVuZHBvaW50UGFyYW1ldGVySW5zdHJ1Y3Rpb25zIiwiaW5zdHJ1Y3Rpb24iLCJlbnRyaWVzIiwic2VydmljZUlkIiwiYnVja2V0IiwiQnVja2V0IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYnVja2V0TmFtZSIsImFybiIsInBhcnRpdGlvbiIsImFjY291bnQiLCJ0eXBlT3JJZCIsImlzQXJuIiwiaXNWYWxpZEFybiIsImZpbHRlciIsIkJvb2xlYW4iLCJpc0FybkJ1Y2tldE5hbWUiLCJGb3JjZVBhdGhTdHlsZSIsIkVuZHBvaW50IiwiRGlzYWJsZU11bHRpUmVnaW9uQWNjZXNzUG9pbnRzIiwiZGlzYWJsZU11bHRpUmVnaW9uQWNjZXNzUG9pbnRzIiwiRGlzYWJsZU1SQVAiLCJyZXNvbHZlUGFyYW1zRm9yUzMiLCJlbmRwb2ludE1pZGRsZXdhcmVPcHRpb25zIiwicmVsYXRpb24iLCJ0b01pZGRsZXdhcmUiLCJnZXRFbmRwb2ludFBsdWdpbiIsImFkZFJlbGF0aXZlVG8iLCJlbmRwb2ludFByb3ZpZGVyIiwiZ2V0RW5kcG9pbnRGcm9tSW5zdHJ1Y3Rpb25zIiwiYXV0aFNjaGVtZXMiLCJwcm9wZXJ0aWVzIiwiYXV0aFNjaGVtZSIsInNpZ25pbmdSZWdpb24iLCJzaWduaW5nTmFtZSIsImVuZHBvaW50TWlkZGxld2FyZSIsInByb21pc2lmaWVkIiwicGFyc2VVcmwiLCJVUkwiLCJwYXRobmFtZSIsInF1ZXJ5c3RyaW5nIiwicGFpciIsInBhcnNlUXVlcnlTdHJpbmciLCJyZXNvbHZlRW5kcG9pbnRDb25maWciLCJ0bHMiLCJjdXN0b21FbmRwb2ludFByb3ZpZGVyIiwidG9FbmRwb2ludFYxIiwiaXNDdXN0b21FbmRwb2ludCIsInVzZUR1YWxzdGFja0VuZHBvaW50IiwiaG9zdEhlYWRlck1pZGRsZXdhcmVPcHRpb25zIiwicHJpb3JpdHkiLCJnZXRIb3N0SGVhZGVyUGx1Z2luIiwiaGFuZGxlclByb3RvY29sIiwicmVxdWVzdEhhbmRsZXIiLCJob3N0SGVhZGVyTWlkZGxld2FyZSIsImxvZ2dlck1pZGRsZXdhcmVPcHRpb25zIiwiZ2V0TG9nZ2VyUGx1Z2luIiwiY2xpZW50TmFtZSIsImNvbW1hbmROYW1lIiwibG9nZ2VyIiwiZHluYW1vRGJEb2N1bWVudENsaWVudE9wdGlvbnMiLCJvdmVycmlkZUlucHV0RmlsdGVyU2Vuc2l0aXZlTG9nIiwib3ZlcnJpZGVPdXRwdXRGaWx0ZXJTZW5zaXRpdmVMb2ciLCJpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyIsIm91dHB1dEZpbHRlclNlbnNpdGl2ZUxvZyIsIiRtZXRhZGF0YSIsIm91dHB1dFdpdGhvdXRNZXRhZGF0YSIsImluZm8iLCJUUkFDRV9JRF9IRUFERVJfTkFNRSIsImFkZFJlY3Vyc2lvbkRldGVjdGlvbk1pZGRsZXdhcmVPcHRpb25zIiwiZ2V0UmVjdXJzaW9uRGV0ZWN0aW9uUGx1Z2luIiwicnVudGltZSIsImZ1bmN0aW9uTmFtZSIsInRyYWNlSWQiLCJub25FbXB0eVN0cmluZyIsInJlY3Vyc2lvbkRldGVjdGlvbk1pZGRsZXdhcmUiLCJSRVRSWV9NT0RFUyIsIkRFRkFVTFRfUkVUUllfTU9ERSIsIlNUQU5EQVJEIiwiVEhST1RUTElOR19FUlJPUl9DT0RFUyIsIlRSQU5TSUVOVF9FUlJPUl9DT0RFUyIsIlRSQU5TSUVOVF9FUlJPUl9TVEFUVVNfQ09ERVMiLCJOT0RFSlNfVElNRU9VVF9FUlJPUl9DT0RFUyIsImh0dHBTdGF0dXNDb2RlIiwiJHJldHJ5YWJsZSIsInRocm90dGxpbmciLCJpc1RyYW5zaWVudEVycm9yIiwiY3VycmVudENhcGFjaXR5IiwiZW5hYmxlZCIsImxhc3RNYXhSYXRlIiwibWVhc3VyZWRUeFJhdGUiLCJyZXF1ZXN0Q291bnQiLCJsYXN0VGltZXN0YW1wIiwidGltZVdpbmRvdyIsImJldGEiLCJtaW5DYXBhY2l0eSIsIm1pbkZpbGxSYXRlIiwic2NhbGVDb25zdGFudCIsInNtb290aCIsImN1cnJlbnRUaW1lSW5TZWNvbmRzIiwiZ2V0Q3VycmVudFRpbWVJblNlY29uZHMiLCJsYXN0VGhyb3R0bGVUaW1lIiwibGFzdFR4UmF0ZUJ1Y2tldCIsImZsb29yIiwiZmlsbFJhdGUiLCJtYXhDYXBhY2l0eSIsIm5vdyIsImFjcXVpcmVUb2tlbkJ1Y2tldCIsImFtb3VudCIsInJlZmlsbFRva2VuQnVja2V0IiwiZGVsYXkiLCJzZXRUaW1lb3V0IiwidGltZXN0YW1wIiwiZmlsbEFtb3VudCIsInVwZGF0ZUNsaWVudFNlbmRpbmdSYXRlIiwiY2FsY3VsYXRlZFJhdGUiLCJ1cGRhdGVNZWFzdXJlZFJhdGUiLCJyYXRlVG9Vc2UiLCJjYWxjdWxhdGVUaW1lV2luZG93IiwiY3ViaWNUaHJvdHRsZSIsImVuYWJsZVRva2VuQnVja2V0IiwiY3ViaWNTdWNjZXNzIiwibmV3UmF0ZSIsInVwZGF0ZVRva2VuQnVja2V0UmF0ZSIsImdldFByZWNpc2UiLCJwb3ciLCJ0aW1lQnVja2V0IiwiY3VycmVudFJhdGUiLCJ0b0ZpeGVkIiwiY3JlYXRlRGVmYXVsdFJldHJ5VG9rZW4iLCJyZXRyeURlbGF5IiwicmV0cnlDb3VudCIsInJldHJ5Q29zdCIsImdldFJldHJ5Q291bnQiLCJnZXRSZXRyeURlbGF5IiwiZ2V0UmV0cnlDb3N0IiwibWF4QXR0ZW1wdHMiLCJtb2RlIiwiY2FwYWNpdHkiLCJyZXRyeUJhY2tvZmZTdHJhdGVneSIsImRlbGF5QmFzZSIsImNvbXB1dGVOZXh0QmFja29mZkRlbGF5IiwiYXR0ZW1wdHMiLCJyYW5kb20iLCJzZXREZWxheUJhc2UiLCJnZXREZWZhdWx0UmV0cnlCYWNrb2ZmU3RyYXRlZ3kiLCJtYXhBdHRlbXB0c1Byb3ZpZGVyIiwicmV0cnlUb2tlblNjb3BlIiwidG9rZW4iLCJlcnJvckluZm8iLCJnZXRNYXhBdHRlbXB0cyIsInNob3VsZFJldHJ5IiwiZXJyb3JUeXBlIiwiZGVsYXlGcm9tRXJyb3JUeXBlIiwicmV0cnlBZnRlckhpbnQiLCJjYXBhY2l0eUNvc3QiLCJnZXRDYXBhY2l0eUNvc3QiLCJyZWNvcmRTdWNjZXNzIiwiZ2V0Q2FwYWNpdHkiLCJ3YXJuIiwidG9rZW5Ub1JlbmV3IiwiaXNSZXRyeWFibGVFcnJvciIsIkFkYXB0aXZlUmV0cnlTdHJhdGVneSIsIkFEQVBUSVZFIiwicmF0ZUxpbWl0ZXIiLCJzdGFuZGFyZFJldHJ5U3RyYXRlZ3kiLCJnZXRTZW5kVG9rZW4iLCJhY3F1aXJlSW5pdGlhbFJldHJ5VG9rZW4iLCJyZWZyZXNoUmV0cnlUb2tlbkZvclJldHJ5IiwiRU5WX01BWF9BVFRFTVBUUyIsIkNPTkZJR19NQVhfQVRURU1QVFMiLCJOT0RFX01BWF9BVFRFTVBUX0NPTkZJR19PUFRJT05TIiwibWF4QXR0ZW1wdCIsImlzTmFOIiwicmVzb2x2ZVJldHJ5Q29uZmlnIiwicmV0cnlTdHJhdGVneSIsInJldHJ5TW9kZSIsIk5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUyIsInJuZHM4UG9vbCIsInBvb2xQdHIiLCJybmciLCJieXRlVG9IZXgiLCJvZmZzZXQiLCJ1dWlkIiwiYnVmIiwicm5kcyIsImdldFJldHJ5RXJyb3JJbmZvIiwiZ2V0UmV0cnlFcnJvclR5cGUiLCJnZXRSZXRyeUFmdGVySGludCIsIiRyZXNwb25zZSIsImlzU2VydmVyRXJyb3IiLCJyZXRyeU1pZGRsZXdhcmVPcHRpb25zIiwiZ2V0UmV0cnlQbHVnaW4iLCJpc1JldHJ5U3RyYXRlZ3lWMiIsInVzZXJBZ2VudCIsInJldHJ5IiwicmV0cnlUb2tlbiIsImxhc3RFcnJvciIsInRvdGFsUmV0cnlEZWxheSIsInJldHJ5RXJyb3JJbmZvIiwicmVmcmVzaEVycm9yIiwicmV0cnlNaWRkbGV3YXJlIiwicmV0cnlBZnRlckhlYWRlck5hbWUiLCJmaW5kIiwicmV0cnlBZnRlciIsInJldHJ5QWZ0ZXJTZWNvbmRzIiwibWVtb2l6ZSIsImlzRXhwaXJlZCIsInJlcXVpcmVzUmVmcmVzaCIsInJlc29sdmVkIiwicGVuZGluZyIsImhhc1Jlc3VsdCIsImlzQ29uc3RhbnQiLCJjb2FsZXNjZVByb3ZpZGVyIiwiZm9yY2VSZWZyZXNoIiwiU0hPUlRfVE9fSEVYIiwiSEVYX1RPX1NIT1JUIiwiZW5jb2RlZEJ5dGUiLCJ0b0hleCIsIm91dCIsIm51bWJlciIsInJlbWFpbmluZyIsImFicyIsInJvdW5kIiwibmVnYXRlIiwidmFsdWVPZiIsIm5lZ2F0aXZlIiwidG9VdGY4IiwiY2h1bmtzIiwiaGVhZGVyTmFtZSIsImZvcm1hdEhlYWRlclZhbHVlIiwicG9zaXRpb24iLCJjaHVuayIsInNob3J0VmlldyIsIkRhdGFWaWV3Iiwic2V0VWludDgiLCJzZXRJbnQxNiIsImludFZpZXciLCJzZXRJbnQzMiIsImxvbmdCeXRlcyIsImJpblZpZXciLCJzZXRVaW50MTYiLCJiaW5CeXRlcyIsInV0ZjhCeXRlcyIsInN0clZpZXciLCJzdHJCeXRlcyIsInRzQnl0ZXMiLCJmcm9tTnVtYmVyIiwiVVVJRF9QQVRURVJOIiwidXVpZEJ5dGVzIiwiZnJvbUhleCIsIm5hbWVMZW5ndGgiLCJnZXRVaW50OCIsIkJPT0xFQU5fVEFHIiwiQllURV9UQUciLCJnZXRJbnQ4IiwiU0hPUlRfVEFHIiwiZ2V0SW50MTYiLCJJTlRfVEFHIiwiZ2V0SW50MzIiLCJMT05HX1RBRyIsImJpbmFyeUxlbmd0aCIsImdldFVpbnQxNiIsIkJJTkFSWV9UQUciLCJzdHJpbmdMZW5ndGgiLCJTVFJJTkdfVEFHIiwiVElNRVNUQU1QX1RBRyIsIlVVSURfVEFHIiwic3ViYXJyYXkiLCJIRUFERVJfVkFMVUVfVFlQRSIsImlzQXJyYXlCdWZmZXIiLCJhcmciLCJmcm9tQXJyYXlCdWZmZXIiLCJmcm9tU3RyaW5nIiwiZW5jb2RpbmciLCJ0b1VpbnQ4QXJyYXkiLCJBTVpfREFURV9RVUVSWV9QQVJBTSIsIlNJR05BVFVSRV9RVUVSWV9QQVJBTSIsIlRPS0VOX1FVRVJZX1BBUkFNIiwiQVVUSF9IRUFERVIiLCJBTVpfREFURV9IRUFERVIiLCJHRU5FUkFURURfSEVBREVSUyIsIlNJR05BVFVSRV9IRUFERVIiLCJTSEEyNTZfSEVBREVSIiwiVE9LRU5fSEVBREVSIiwiQUxXQVlTX1VOU0lHTkFCTEVfSEVBREVSUyIsImF1dGhvcml6YXRpb24iLCJleHBlY3QiLCJwcmFnbWEiLCJyZWZlcmVyIiwidGUiLCJ0cmFpbGVyIiwidXBncmFkZSIsIlBST1hZX0hFQURFUl9QQVRURVJOIiwiU0VDX0hFQURFUl9QQVRURVJOIiwiQUxHT1JJVEhNX0lERU5USUZJRVIiLCJFVkVOVF9BTEdPUklUSE1fSURFTlRJRklFUiIsIktFWV9UWVBFX0lERU5USUZJRVIiLCJzaWduaW5nS2V5Q2FjaGUiLCJjYWNoZVF1ZXVlIiwiY3JlYXRlU2NvcGUiLCJzaG9ydERhdGUiLCJobWFjIiwiY3RvciIsImhhc2giLCJnZXRDYW5vbmljYWxIZWFkZXJzIiwidW5zaWduYWJsZUhlYWRlcnMiLCJzaWduYWJsZUhlYWRlcnMiLCJjYW5vbmljYWwiLCJzb3J0IiwiY2Fub25pY2FsSGVhZGVyTmFtZSIsImVzY2FwZVVyaSIsInVyaSIsImhleEVuY29kZSIsInRvVXBwZXJDYXNlIiwiZ2V0UGF5bG9hZEhhc2giLCJoYXNoQ29uc3RydWN0b3IiLCJoYXNoQ3RvciIsImNsb25lUmVxdWVzdCIsInJlc3QiLCJwcmVwYXJlUmVxdWVzdCIsImFwcGx5Q2hlY2tzdW0iLCJjcmVkZW50aWFscyIsInNoYTI1NiIsInVyaUVzY2FwZVBhdGgiLCJoZWFkZXJNYXJzaGFsbGVyIiwicmVnaW9uUHJvdmlkZXIiLCJjcmVkZW50aWFsUHJvdmlkZXIiLCJvcmlnaW5hbFJlcXVlc3QiLCJzaWduaW5nRGF0ZSIsImV4cGlyZXNJbiIsInVuaG9pc3RhYmxlSGVhZGVycyIsInNpZ25pbmdTZXJ2aWNlIiwidmFsaWRhdGVSZXNvbHZlZENyZWRlbnRpYWxzIiwibG9uZ0RhdGUiLCJmb3JtYXREYXRlIiwic2NvcGUiLCJsbmFtZSIsIm1vdmVIZWFkZXJzVG9RdWVyeSIsInNlc3Npb25Ub2tlbiIsImFjY2Vzc0tleUlkIiwiY2Fub25pY2FsSGVhZGVycyIsImdldENhbm9uaWNhbEhlYWRlckxpc3QiLCJnZXRTaWduYXR1cmUiLCJnZXRTaWduaW5nS2V5IiwiY3JlYXRlQ2Fub25pY2FsUmVxdWVzdCIsInRvU2lnbiIsInNpZ25TdHJpbmciLCJzaWduRXZlbnQiLCJzaWduTWVzc2FnZSIsInNpZ25SZXF1ZXN0IiwicHJpb3JTaWduYXR1cmUiLCJoYXNoZWRQYXlsb2FkIiwiaGFzaGVkSGVhZGVycyIsInN0cmluZ1RvU2lnbiIsInNpZ25hYmxlTWVzc2FnZSIsInJlcXVlc3RUb1NpZ24iLCJwYXlsb2FkSGFzaCIsInNvdWdodEhlYWRlciIsImhhc0hlYWRlciIsInNvcnRlZEhlYWRlcnMiLCJnZXRDYW5vbmljYWxQYXRoIiwic2VyaWFsaXplZCIsImdldENhbm9uaWNhbFF1ZXJ5IiwiY3JlZGVudGlhbFNjb3BlIiwiY2Fub25pY2FsUmVxdWVzdCIsImhhc2hlZFJlcXVlc3QiLCJub3JtYWxpemVkUGF0aFNlZ21lbnRzIiwicGF0aFNlZ21lbnQiLCJub3JtYWxpemVkUGF0aCIsImtleVByb21pc2UiLCJjcmVhdGVTdHJpbmdUb1NpZ24iLCJzaGEyNTZDb25zdHJ1Y3RvciIsImNhY2hlS2V5Iiwic2VjcmV0QWNjZXNzS2V5Iiwic2lnbmFibGUiLCJ0aW1lIiwidG9EYXRlIiwidG9JU09TdHJpbmciLCJyZXNvbHZlQXdzQXV0aENvbmZpZyIsIm5vcm1hbGl6ZWRDcmVkcyIsIm5vcm1hbGl6ZUNyZWRlbnRpYWxQcm92aWRlciIsImNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIiLCJzaWduaW5nRXNjYXBlUGF0aCIsInN5c3RlbUNsb2NrT2Zmc2V0Iiwic2lnbmVyIiwicmVnaW9uSW5mb1Byb3ZpZGVyIiwicmVnaW9uSW5mbyIsInNpZ25lckNvbnN0cnVjdG9yIiwiZGVmYXVsdFNpZ25pbmdOYW1lIiwiZXhwaXJhdGlvbiIsImdldFNrZXdDb3JyZWN0ZWREYXRlIiwiZ2V0VXBkYXRlZFN5c3RlbUNsb2NrT2Zmc2V0IiwiY2xvY2tUaW1lIiwiY3VycmVudFN5c3RlbUNsb2NrT2Zmc2V0IiwiY2xvY2tUaW1lSW5NcyIsImlzQ2xvY2tTa2V3ZWQiLCJnZXREYXRlSGVhZGVyIiwiYXdzQXV0aE1pZGRsZXdhcmVPcHRpb25zIiwiZ2V0QXdzQXV0aFBsdWdpbiIsIm11bHRpUmVnaW9uT3ZlcnJpZGUiLCJzaWduaW5nUmVnaW9uU2V0IiwiY2F0Y2giLCJzZXJ2ZXJUaW1lIiwiU2VydmVyVGltZSIsImRhdGVIZWFkZXIiLCJhd3NBdXRoTWlkZGxld2FyZSIsInJlc29sdmVVc2VyQWdlbnRDb25maWciLCJjdXN0b21Vc2VyQWdlbnQiLCJzZWxlY3RlZFBhcnRpdGlvbnNJbmZvIiwic2VsZWN0ZWRVc2VyQWdlbnRQcmVmaXgiLCJwYXJ0aXRpb25zIiwicmVnaW9ucyIsIm91dHB1dHMiLCJyZWdpb25EYXRhIiwicmVnaW9uUmVnZXgiLCJERUZBVUxUX1BBUlRJVElPTiIsInNldFBhcnRpdGlvbkluZm8iLCJwYXJ0aXRpb25zSW5mbyIsInVzZXJBZ2VudFByZWZpeCIsInVzZURlZmF1bHRQYXJ0aXRpb25JbmZvIiwiZ2V0VXNlckFnZW50UHJlZml4IiwiZGVidWdJZCIsInRvRGVidWdTdHJpbmciLCJyZWYiLCJmbiIsImFyZ3YiLCJFbmRwb2ludEVycm9yIiwiSVBfVjRfUkVHRVgiLCJpc0lwQWRkcmVzcyIsIlZBTElEX0hPU1RfTEFCRUxfUkVHRVgiLCJpc1ZhbGlkSG9zdExhYmVsIiwiYWxsb3dTdWJEb21haW5zIiwibGFiZWxzIiwiaXNWaXJ0dWFsSG9zdGFibGVTM0J1Y2tldCIsInBhcnNlQXJuIiwic2VnbWVudHMiLCJhY2NvdW50SWQiLCJyZXNvdXJjZUlkIiwiYm9vbGVhbkVxdWFscyIsInZhbHVlMSIsInZhbHVlMiIsImdldEF0dHIiLCJwYXJ0cyIsInBhdGhMaXN0IiwicGFydCIsInNxdWFyZUJyYWNrZXRJbmRleCIsImFycmF5SW5kZXgiLCJnZXRBdHRyUGF0aExpc3QiLCJhY2MiLCJpc1NldCIsIm5vdCIsIkh0dHBBdXRoTG9jYXRpb24iLCJIb3N0QWRkcmVzc1R5cGUiLCJFbmRwb2ludFVSTFNjaGVtZSIsIlJlcXVlc3RIYW5kbGVyUHJvdG9jb2wiLCJERUZBVUxUX1BPUlRTIiwiSFRUUCIsIkhUVFBTIiwicGFyc2VVUkwiLCJ3aGF0d2dVUkwiLCJ1cmxTdHJpbmciLCJzY2hlbWUiLCJ2YWx1ZXMiLCJpc0lwIiwiYXV0aG9yaXR5Iiwic3RyaW5nRXF1YWxzIiwicmV2ZXJzZSIsInVyaUVuY29kZSIsImV2YWx1YXRlVGVtcGxhdGUiLCJ0ZW1wbGF0ZSIsImV2YWx1YXRlZFRlbXBsYXRlQXJyIiwidGVtcGxhdGVDb250ZXh0IiwicmVmZXJlbmNlUmVjb3JkIiwiY3VycmVudEluZGV4Iiwib3BlbmluZ0JyYWNlSW5kZXgiLCJjbG9zaW5nQnJhY2VJbmRleCIsInBhcmFtZXRlck5hbWUiLCJyZWZOYW1lIiwiZXZhbHVhdGVFeHByZXNzaW9uIiwia2V5TmFtZSIsImNhbGxGdW5jdGlvbiIsImdldFJlZmVyZW5jZVZhbHVlIiwiZXZhbHVhdGVkQXJncyIsImV2YWx1YXRlQ29uZGl0aW9uIiwiZm5BcmdzIiwiZGVidWciLCJ0b0Fzc2lnbiIsImV2YWx1YXRlQ29uZGl0aW9ucyIsImNvbmRpdGlvbnMiLCJjb25kaXRpb25zUmVmZXJlbmNlUmVjb3JkIiwiY29uZGl0aW9uIiwiZ2V0RW5kcG9pbnRIZWFkZXJzIiwiaGVhZGVyS2V5IiwiaGVhZGVyVmFsIiwiaGVhZGVyVmFsRW50cnkiLCJwcm9jZXNzZWRFeHByIiwiZ2V0RW5kcG9pbnRQcm9wZXJ0eSIsInByb3BlcnR5RW50cnkiLCJnZXRFbmRwb2ludFByb3BlcnRpZXMiLCJwcm9wZXJ0eUtleSIsInByb3BlcnR5VmFsIiwiZ2V0RW5kcG9pbnRVcmwiLCJlbmRwb2ludFVybCIsImV4cHJlc3Npb24iLCJldmFsdWF0ZUVuZHBvaW50UnVsZSIsImVuZHBvaW50UnVsZSIsImVuZHBvaW50UnVsZU9wdGlvbnMiLCJldmFsdWF0ZUVycm9yUnVsZSIsImVycm9yUnVsZSIsImV2YWx1YXRlVHJlZVJ1bGUiLCJ0cmVlUnVsZSIsInJ1bGVzIiwiZXZhbHVhdGVSdWxlcyIsInJ1bGUiLCJlbmRwb2ludE9yVW5kZWZpbmVkIiwicmVzb2x2ZUVuZHBvaW50IiwicnVsZVNldE9iamVjdCIsInBhcmFtZXRlcnMiLCJwYXJhbXNXaXRoRGVmYXVsdCIsInBhcmFtS2V5IiwicGFyYW1EZWZhdWx0VmFsdWUiLCJyZXF1aXJlZFBhcmFtcyIsInJlcXVpcmVkIiwicmVxdWlyZWRQYXJhbSIsImdpdmVuRW5kcG9pbnQiLCJVU0VSX0FHRU5UIiwiWF9BTVpfVVNFUl9BR0VOVCIsIlVBX05BTUVfRVNDQVBFX1JFR0VYIiwiVUFfVkFMVUVfRVNDQVBFX1JFR0VYIiwiZXNjYXBlVXNlckFnZW50IiwidXNlckFnZW50UGFpciIsInByZWZpeFNlcGFyYXRvckluZGV4IiwidWFOYW1lIiwiZ2V0VXNlckFnZW50TWlkZGxld2FyZU9wdGlvbnMiLCJnZXRVc2VyQWdlbnRQbHVnaW4iLCJkZWZhdWx0VXNlckFnZW50IiwiZGVmYXVsdFVzZXJBZ2VudFByb3ZpZGVyIiwic2RrVXNlckFnZW50VmFsdWUiLCJub3JtYWxVQVZhbHVlIiwic2VjdGlvbiIsIk5vT3BMb2dnZXIiLCJ0cmFjZSIsImNvbnN0cnVjdFN0YWNrIiwiYWJzb2x1dGVFbnRyaWVzIiwicmVsYXRpdmVFbnRyaWVzIiwiZW50cmllc05hbWVTZXQiLCJTZXQiLCJjbG9uZVRvIiwidG9TdGFjayIsImVudHJ5IiwibWlkZGxld2FyZSIsImV4cGFuZFJlbGF0aXZlTWlkZGxld2FyZUxpc3QiLCJleHBhbmRlZE1pZGRsZXdhcmVMaXN0IiwiYmVmb3JlIiwiYWZ0ZXIiLCJnZXRNaWRkbGV3YXJlTGlzdCIsIm5vcm1hbGl6ZWRBYnNvbHV0ZUVudHJpZXMiLCJub3JtYWxpemVkUmVsYXRpdmVFbnRyaWVzIiwibm9ybWFsaXplZEVudHJpZXNOYW1lTWFwIiwibm9ybWFsaXplZEVudHJ5IiwibWFpbkNoYWluIiwic3RlcFdlaWdodHMiLCJwcmlvcml0eVdlaWdodHMiLCJ3aG9sZUxpc3QiLCJleHBlbmRlZE1pZGRsZXdhcmVMaXN0Iiwic3RhY2siLCJ0b092ZXJyaWRlSW5kZXgiLCJmaW5kSW5kZXgiLCJ0b092ZXJyaWRlIiwic3BsaWNlIiwidXNlIiwicGx1Z2luIiwicmVtb3ZlIiwidG9SZW1vdmUiLCJpc1JlbW92ZWQiLCJmaWx0ZXJDYiIsInJlbW92ZUJ5TmFtZSIsInJlbW92ZUJ5UmVmZXJlbmNlIiwicmVtb3ZlQnlUYWciLCJpZGVudGlmeSIsIm13IiwiaGFuZGxlciIsImluaXRpYWxpemUiLCJzZXJpYWxpemUiLCJmaW5hbGl6ZVJlcXVlc3QiLCJkZXNlcmlhbGl6ZSIsImhpZ2giLCJub3JtYWwiLCJsb3ciLCJDbGllbnQiLCJtaWRkbGV3YXJlU3RhY2siLCJzZW5kIiwiY29tbWFuZCIsIm9wdGlvbnNPckNiIiwiY2IiLCJjYWxsYmFjayIsInJlc29sdmVNaWRkbGV3YXJlIiwiZGVzdHJveSIsIkNvbW1hbmQiLCJleHBlY3ROdW1iZXIiLCJwYXJzZWQiLCJzdGFja1RyYWNlV2FybmluZyIsIk1BWF9GTE9BVCIsImNlaWwiLCJleHBlY3RJbnQzMiIsImV4cGVjdFNpemVkSW50Iiwic2l6ZSIsImV4cGVjdGVkIiwiaXNJbnRlZ2VyIiwiZXhwZWN0TG9uZyIsImNhc3RJbnQiLCJJbnQzMkFycmF5Iiwib2YiLCJJbnQxNkFycmF5IiwiSW50OEFycmF5IiwiZXhwZWN0Tm9uTnVsbCIsImxvY2F0aW9uIiwiZXhwZWN0T2JqZWN0IiwicmVjZWl2ZWRUeXBlIiwiZXhwZWN0U3RyaW5nIiwiTlVNQkVSX1JFR0VYIiwicGFyc2VOdW1iZXIiLCJzdHJpY3RQYXJzZUludDMyIiwiTU9OVEhTIiwiUkZDMzMzOV9XSVRIX09GRlNFVCIsInBhcnNlUmZjMzMzOURhdGVUaW1lV2l0aE9mZnNldCIsInllYXJTdHIiLCJtb250aFN0ciIsImRheVN0ciIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJmcmFjdGlvbmFsTWlsbGlzZWNvbmRzIiwib2Zmc2V0U3RyIiwieWVhciIsImV4cGVjdFNob3J0Iiwic3RyaXBMZWFkaW5nWmVyb2VzIiwibW9udGgiLCJwYXJzZURhdGVWYWx1ZSIsImRheSIsImJ1aWxkRGF0ZSIsInNldFRpbWUiLCJwYXJzZU9mZnNldFRvTWlsbGlzZWNvbmRzIiwiYWRqdXN0ZWRNb250aCIsInZhbGlkYXRlRGF5T2ZNb250aCIsIlVUQyIsInBhcnNlTWlsbGlzZWNvbmRzIiwiREFZU19JTl9NT05USCIsIm1heERheXMiLCJpc0xlYXBZZWFyIiwibG93ZXIiLCJ1cHBlciIsImRhdGVWYWwiLCJleHBlY3RCeXRlIiwic3RyaWN0UGFyc2VCeXRlIiwiSW5maW5pdHkiLCJleHBlY3RGbG9hdDMyIiwic3RyaWN0UGFyc2VGbG9hdDMyIiwiZGlyZWN0aW9uU3RyIiwiZGlyZWN0aW9uIiwiaWR4IiwiU2VydmljZUV4Y2VwdGlvbiIsIiRmYXVsdCIsImRlY29yYXRlU2VydmljZUV4Y2VwdGlvbiIsImV4Y2VwdGlvbiIsImFkZGl0aW9ucyIsIk1lc3NhZ2UiLCJ3aXRoQmFzZUV4Y2VwdGlvbiIsIkV4Y2VwdGlvbkN0b3IiLCJwYXJzZWRCb2R5IiwiZXhjZXB0aW9uQ3RvciIsImRlc2VyaWFsaXplTWV0YWRhdGEiLCJDb2RlIiwidGhyb3dEZWZhdWx0RXJyb3IiLCJyZXF1ZXN0SWQiLCJleHRlbmRlZFJlcXVlc3RJZCIsImNmSWQiLCJsb2FkQ29uZmlnc0ZvckRlZmF1bHRNb2RlIiwiY29ubmVjdGlvblRpbWVvdXQiLCJ3YXJuaW5nRW1pdHRlZCIsImVtaXRXYXJuaW5nSWZVbnN1cHBvcnRlZFZlcnNpb24iLCJleHRlbmRlZEVuY29kZVVSSUNvbXBvbmVudCIsImdldFZhbHVlRnJvbVRleHROb2RlIiwiU3RyaW5nV3JhcHBlciIsIkNsYXNzIiwiZ2V0UHJvdG90eXBlT2YiLCJpbnN0YW5jZSIsIkZ1bmN0aW9uIiwiYXJnMCIsImFyZzEiLCJhcmcyIiwibWFwV2l0aEZpbHRlciIsImFwcGx5SW5zdHJ1Y3Rpb24iLCJfaW5zdHJ1Y3Rpb25zIiwidGFyZ2V0S2V5Iiwibm9uTnVsbGlzaCIsInZhbHVlRm4iLCJwYXNzIiwic291cmNlS2V5IiwiX3ZhbHVlIiwiZGVmYXVsdEZpbHRlclBhc3NlZCIsImN1c3RvbUZpbHRlclBhc3NlZCIsInJlc29sdmVkUGF0aCIsIm1lbWJlck5hbWUiLCJsYWJlbFZhbHVlUHJvdmlkZXIiLCJ1cmlMYWJlbCIsImlzR3JlZWR5TGFiZWwiLCJsYWJlbFZhbHVlIiwic2VnbWVudCIsInNlcmlhbGl6ZUZsb2F0IiwiU1RTU2VydmljZUV4Y2VwdGlvbiIsIkV4cGlyZWRUb2tlbkV4Y2VwdGlvbiIsIm9wdHMiLCJNYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvbiIsIlBhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uIiwiUmVnaW9uRGlzYWJsZWRFeGNlcHRpb24iLCJJRFBSZWplY3RlZENsYWltRXhjZXB0aW9uIiwiSW52YWxpZElkZW50aXR5VG9rZW5FeGNlcHRpb24iLCJJRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb24iLCJDcmVkZW50aWFsc0ZpbHRlclNlbnNpdGl2ZUxvZyIsIlNlY3JldEFjY2Vzc0tleSIsIkFzc3VtZVJvbGVSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyIsIkNyZWRlbnRpYWxzIiwiQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlcXVlc3RGaWx0ZXJTZW5zaXRpdmVMb2ciLCJXZWJJZGVudGl0eVRva2VuIiwiQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlc3BvbnNlRmlsdGVyU2Vuc2l0aXZlTG9nIiwiZGVfRXhwaXJlZFRva2VuRXhjZXB0aW9uUmVzIiwicGFyc2VkT3V0cHV0IiwiZGVzZXJpYWxpemVkIiwiZGVfRXhwaXJlZFRva2VuRXhjZXB0aW9uIiwiZGVfSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uUmVzIiwiZGVfSURQQ29tbXVuaWNhdGlvbkVycm9yRXhjZXB0aW9uIiwiZGVfSURQUmVqZWN0ZWRDbGFpbUV4Y2VwdGlvblJlcyIsImRlX0lEUFJlamVjdGVkQ2xhaW1FeGNlcHRpb24iLCJkZV9JbnZhbGlkSWRlbnRpdHlUb2tlbkV4Y2VwdGlvblJlcyIsImRlX0ludmFsaWRJZGVudGl0eVRva2VuRXhjZXB0aW9uIiwiZGVfTWFsZm9ybWVkUG9saWN5RG9jdW1lbnRFeGNlcHRpb25SZXMiLCJkZV9NYWxmb3JtZWRQb2xpY3lEb2N1bWVudEV4Y2VwdGlvbiIsImRlX1BhY2tlZFBvbGljeVRvb0xhcmdlRXhjZXB0aW9uUmVzIiwiZGVfUGFja2VkUG9saWN5VG9vTGFyZ2VFeGNlcHRpb24iLCJkZV9SZWdpb25EaXNhYmxlZEV4Y2VwdGlvblJlcyIsImRlX1JlZ2lvbkRpc2FibGVkRXhjZXB0aW9uIiwic2VfQXNzdW1lUm9sZVJlcXVlc3QiLCJSb2xlQXJuIiwiUm9sZVNlc3Npb25OYW1lIiwiUG9saWN5QXJucyIsIm1lbWJlckVudHJpZXMiLCJzZV9wb2xpY3lEZXNjcmlwdG9yTGlzdFR5cGUiLCJQb2xpY3kiLCJEdXJhdGlvblNlY29uZHMiLCJUYWdzIiwic2VfdGFnTGlzdFR5cGUiLCJUcmFuc2l0aXZlVGFnS2V5cyIsInNlX3RhZ0tleUxpc3RUeXBlIiwiRXh0ZXJuYWxJZCIsIlNlcmlhbE51bWJlciIsIlRva2VuQ29kZSIsIlNvdXJjZUlkZW50aXR5Iiwic2VfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVJlcXVlc3QiLCJQcm92aWRlcklkIiwiY291bnRlciIsInNlX1BvbGljeURlc2NyaXB0b3JUeXBlIiwic2VfVGFnIiwiS2V5IiwiVmFsdWUiLCJkZV9Bc3N1bWVkUm9sZVVzZXIiLCJjb250ZW50cyIsIkFzc3VtZWRSb2xlSWQiLCJBcm4iLCJkZV9DcmVkZW50aWFscyIsIkFjY2Vzc0tleUlkIiwiU2Vzc2lvblRva2VuIiwiRXhwaXJhdGlvbiIsImJ1aWxkSHR0cFJwY1JlcXVlc3QiLCJyZXNvbHZlZEhvc3RuYW1lIiwiYmFzZVBhdGgiLCJTSEFSRURfSEVBREVSUyIsInBhcnNlQm9keSIsInN0cmVhbUJvZHkiLCJzdHJlYW1Db2xsZWN0b3IiLCJjb2xsZWN0Qm9keSIsInV0ZjhFbmNvZGVyIiwiY29sbGVjdEJvZHlTdHJpbmciLCJwYXJzZXIiLCJwYXJzZWRPYmoiLCJwYXJzZWRPYmpUb1JldHVybiIsInBhcnNlRXJyb3JCb2R5IiwiZXJyb3JCb2R5IiwiYnVpbGRGb3JtVXJsZW5jb2RlZFN0cmluZyIsImZvcm1FbnRyaWVzIiwibG9hZFF1ZXJ5RXJyb3JDb2RlIiwiQXNzdW1lUm9sZUNvbW1hbmQiLCJVc2VHbG9iYWxFbmRwb2ludCIsIlVzZUZJUFMiLCJSZWdpb24iLCJVc2VEdWFsU3RhY2siLCJjb25maWd1cmF0aW9uIiwiaGFuZGxlckV4ZWN1dGlvbkNvbnRleHQiLCJBY3Rpb24iLCJWZXJzaW9uIiwic2VfQXNzdW1lUm9sZUNvbW1hbmQiLCJkZV9Bc3N1bWVSb2xlQ29tbWFuZEVycm9yIiwiQXNzdW1lZFJvbGVVc2VyIiwiUGFja2VkUG9saWN5U2l6ZSIsImRlX0Fzc3VtZVJvbGVSZXNwb25zZSIsIkFzc3VtZVJvbGVSZXN1bHQiLCJkZV9Bc3N1bWVSb2xlQ29tbWFuZCIsIkFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlDb21tYW5kIiwic2VfQXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eUNvbW1hbmQiLCJkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZEVycm9yIiwiU3ViamVjdEZyb21XZWJJZGVudGl0eVRva2VuIiwiUHJvdmlkZXIiLCJBdWRpZW5jZSIsImRlX0Fzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXNwb25zZSIsIkFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlSZXN1bHQiLCJkZV9Bc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5Q29tbWFuZCIsIkFTU1VNRV9ST0xFX0RFRkFVTFRfUkVHSU9OIiwiZGVjb3JhdGVEZWZhdWx0UmVnaW9uIiwiZ2V0RGVmYXVsdFJvbGVBc3N1bWVyIiwic3RzT3B0aW9ucyIsInN0c0NsaWVudEN0b3IiLCJzdHNDbGllbnQiLCJjbG9zdXJlU291cmNlQ3JlZHMiLCJzb3VyY2VDcmVkcyIsImdldERlZmF1bHRSb2xlQXNzdW1lcldpdGhXZWJJZGVudGl0eSIsIlByb3ZpZGVyRXJyb3IiLCJ0cnlOZXh0TGluayIsIkNyZWRlbnRpYWxzUHJvdmlkZXJFcnJvciIsImZyb21FbnYiLCJleHBpcnkiLCJnZXRIb21lRGlyIiwiSE9NRSIsIlVTRVJQUk9GSUxFIiwiSE9NRVBBVEgiLCJIT01FRFJJVkUiLCJzZXAiLCJob21lZGlyIiwiRU5WX1BST0ZJTEUiLCJnZXRQcm9maWxlTmFtZSIsImluaXQiLCJnZXRTU09Ub2tlbkZpbGVwYXRoIiwiY2FjaGVOYW1lIiwiY3JlYXRlSGFzaCIsInJlYWRGaWxlIiwiZ2V0U1NPVG9rZW5Gcm9tRmlsZSIsInNzb1Rva2VuRmlsZXBhdGgiLCJzc29Ub2tlblRleHQiLCJnZXRDb25maWdGaWxlcGF0aCIsImdldENyZWRlbnRpYWxzRmlsZXBhdGgiLCJwcm9maWxlS2V5UmVnZXgiLCJnZXRQcm9maWxlRGF0YSIsInByb2ZpbGVOYW1lQmxvY2tMaXN0IiwicGFyc2VJbmkiLCJpbmlEYXRhIiwiY3VycmVudFNlY3Rpb24iLCJpbmRleE9mRXF1YWxzU2lnbiIsImVuZCIsImZpbGVQcm9taXNlc0hhc2giLCJzbHVycEZpbGUiLCJpZ25vcmVDYWNoZSIsInN3YWxsb3dFcnJvciIsImxvYWRTaGFyZWRDb25maWdGaWxlcyIsImZpbGVwYXRoIiwiY29uZmlnRmlsZXBhdGgiLCJwYXJzZWRGaWxlcyIsImFsbCIsImNvbmZpZ0ZpbGUiLCJjcmVkZW50aWFsc0ZpbGUiLCJzc29TZXNzaW9uS2V5UmVnZXgiLCJnZXRTc29TZXNzaW9uRGF0YSIsImxvYWRTc29TZXNzaW9uRGF0YSIsInBhcnNlS25vd25GaWxlcyIsImZpbGVzIiwibWVyZ2VkIiwiZmlsZSIsIm1lcmdlQ29uZmlnRmlsZXMiLCJodHRwUmVxdWVzdCIsInJlcyIsImlzSW1kc0NyZWRlbnRpYWxzIiwiVG9rZW4iLCJmcm9tSW1kc0NyZWRlbnRpYWxzIiwiY3JlZHMiLCJwcm92aWRlckNvbmZpZ0Zyb21Jbml0IiwibWF4UmV0cmllcyIsInRpbWVvdXQiLCJ0b1JldHJ5IiwiRU5WX0NNRFNfRlVMTF9VUkkiLCJFTlZfQ01EU19SRUxBVElWRV9VUkkiLCJFTlZfQ01EU19BVVRIX1RPS0VOIiwiZnJvbUNvbnRhaW5lck1ldGFkYXRhIiwicmVxdWVzdE9wdGlvbnMiLCJnZXRDbWRzVXJpIiwiY3JlZHNSZXNwb25zZSIsInJlcXVlc3RGcm9tRWNzSW1kcyIsIkF1dGhvcml6YXRpb24iLCJHUkVFTkdSQVNTX0hPU1RTIiwibG9jYWxob3N0IiwiR1JFRU5HUkFTU19QUk9UT0NPTFMiLCJjaGFpbiIsInByb3ZpZGVycyIsImxvYWRDb25maWciLCJkZWZhdWx0VmFsdWUiLCJlbnZWYXJTZWxlY3RvciIsImNvbmZpZ1NlbGVjdG9yIiwicHJvZmlsZUZyb21DcmVkZW50aWFscyIsInByb2ZpbGVGcm9tQ29uZmlnIiwibWVyZ2VkUHJvZmlsZSIsImZyb21TaGFyZWRDb25maWdGaWxlcyIsImlzRnVuY3Rpb24iLCJzdGF0aWNWYWx1ZSIsIkVORFBPSU5UX0NPTkZJR19PUFRJT05TIiwiRW5kcG9pbnRNb2RlIiwiRU5EUE9JTlRfTU9ERV9DT05GSUdfT1BUSU9OUyIsIklQdjQiLCJnZXRJbnN0YW5jZU1ldGFkYXRhRW5kcG9pbnQiLCJnZXRGcm9tRW5kcG9pbnRDb25maWciLCJnZXRGcm9tRW5kcG9pbnRNb2RlQ29uZmlnIiwiZW5kcG9pbnRNb2RlIiwiSVB2NiIsImdldEV4dGVuZGVkSW5zdGFuY2VNZXRhZGF0YUNyZWRlbnRpYWxzIiwicmVmcmVzaEludGVydmFsIiwibmV3RXhwaXJhdGlvbiIsIm9yaWdpbmFsRXhwaXJhdGlvbiIsIklNRFNfUEFUSCIsImZyb21JbnN0YW5jZU1ldGFkYXRhIiwicGFzdENyZWRlbnRpYWxzIiwic3RhdGljU3RhYmlsaXR5UHJvdmlkZXIiLCJnZXRJbnN0YW5jZUltZHNQcm92aWRlciIsImRpc2FibGVGZXRjaFRva2VuIiwiZ2V0Q3JlZGVudGlhbHMiLCJnZXRQcm9maWxlIiwiZ2V0Q3JlZGVudGlhbHNGcm9tUHJvZmlsZSIsImdldE1ldGFkYXRhVG9rZW4iLCJmcm9tUHJvY2VzcyIsInByb2ZpbGVzIiwicHJvZmlsZU5hbWUiLCJjcmVkZW50aWFsUHJvY2VzcyIsImV4ZWNQcm9taXNlIiwicHJvbWlzaWZ5Iiwic3Rkb3V0IiwiY3VycmVudFRpbWUiLCJnZXRWYWxpZGF0ZWRQcm9jZXNzQ3JlZGVudGlhbHMiLCJyZXNvbHZlUHJvY2Vzc0NyZWRlbnRpYWxzIiwiaXNTc29Qcm9maWxlIiwic3NvX3N0YXJ0X3VybCIsInNzb19hY2NvdW50X2lkIiwic3NvX3Nlc3Npb24iLCJzc29fcmVnaW9uIiwic3NvX3JvbGVfbmFtZSIsImFsZ29yaXRobUlkZW50aWZpZXIiLCJjYXN0U291cmNlRGF0YSIsImNyZWF0ZUhtYWMiLCJ0b0Nhc3QiLCJ0cmFuc2Zvcm1lZEhlYWRlcnMiLCJoZWFkZXJWYWx1ZXMiLCJOb2RlSHR0cEhhbmRsZXIiLCJfb3B0aW9ucyIsInJlc29sdmVEZWZhdWx0Q29uZmlnIiwicmVxdWVzdFRpbWVvdXQiLCJzb2NrZXRUaW1lb3V0IiwiaHR0cEFnZW50IiwiaHR0cHNBZ2VudCIsImtlZXBBbGl2ZSIsIm1heFNvY2tldHMiLCJhYm9ydFNpZ25hbCIsIl9yZXNvbHZlIiwid3JpdGVSZXF1ZXN0Qm9keVByb21pc2UiLCJhYm9ydGVkIiwiYWJvcnRFcnJvciIsImlzU1NMIiwicXVlcnlTdHJpbmciLCJpTGVuIiwicXNFbnRyeSIsIm5vZGVIdHRwc09wdGlvbnMiLCJhZ2VudCIsInN0YXR1c01lc3NhZ2UiLCJ0aW1lb3V0SW5NcyIsInRpbWVvdXRJZCIsInNvY2tldCIsImNvbm5lY3RpbmciLCJjbGVhclRpbWVvdXQiLCJzZXRDb25uZWN0aW9uVGltZW91dCIsInNldFNvY2tldFRpbWVvdXQiLCJvbmFib3J0IiwiYWJvcnQiLCJrZWVwQWxpdmVNc2VjcyIsInNldEtlZXBBbGl2ZSIsInNldFNvY2tldEtlZXBBbGl2ZSIsIm1heENvbnRpbnVlVGltZW91dE1zIiwiaGFzRXJyb3IiLCJyYWNlIiwiUmVhZGFibGUiLCJwaXBlIiwid3JpdGVCb2R5IiwiQ29sbGVjdG9yIiwiV3JpdGFibGUiLCJidWZmZXJlZEJ5dGVzIiwiX3dyaXRlIiwiY29sbGVjdG9yIiwiY2FsY3VsYXRlQm9keUxlbmd0aCIsImxzdGF0U3luYyIsImZkIiwiZnN0YXRTeW5jIiwiY2xpZW50VmVyc2lvbiIsInNlY3Rpb25zIiwiY3J0QXZhaWxhYmxlIiwiaXNDcnRBdmFpbGFibGUiLCJBV1NfRVhFQ1VUSU9OX0VOViIsImFwcElkUHJvbWlzZSIsInJlc29sdmVkVXNlckFnZW50IiwiYXBwSWQiLCJCQVNFNjRfUkVHRVgiLCJmcm9tQmFzZTY0IiwidG9CYXNlNjQiLCJoIiwibCIsInJ1bGVTZXQiLCJkZWZhdWx0RW5kcG9pbnRSZXNvbHZlciIsIkFXU19SRUdJT05fRU5WIiwiQVdTX0RFRkFVTFRfUkVHSU9OX0VOViIsIkRFRkFVTFRTX01PREVfT1BUSU9OUyIsIk5PREVfREVGQVVMVFNfTU9ERV9DT05GSUdfT1BUSU9OUyIsInJlc29sdmVEZWZhdWx0c01vZGVDb25maWciLCJkZWZhdWx0c01vZGUiLCJyZXNvbHZlTm9kZURlZmF1bHRzTW9kZUF1dG8iLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsImNsaWVudFJlZ2lvbiIsInJlc29sdmVkUmVnaW9uIiwiaW5mZXJyZWRSZWdpb24iLCJpbmZlclBoeXNpY2FsUmVnaW9uIiwiU1NPQ2xpZW50IiwiX2NvbmZpZ18xIiwiZGVmYXVsdENvbmZpZ1Byb3ZpZGVyIiwiY2xpZW50U2hhcmVkVmFsdWVzIiwiYXBpVmVyc2lvbiIsImJhc2U2NERlY29kZXIiLCJiYXNlNjRFbmNvZGVyIiwiZGlzYWJsZUhvc3RQcmVmaXgiLCJ1dGY4RGVjb2RlciIsIl9jb25maWdfMiIsIl9jb25maWdfMyIsIl9jb25maWdfNiIsIlNTT1NlcnZpY2VFeGNlcHRpb24iLCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb24iLCJVbmF1dGhvcml6ZWRFeGNlcHRpb24iLCJHZXRSb2xlQ3JlZGVudGlhbHNSZXF1ZXN0RmlsdGVyU2Vuc2l0aXZlTG9nIiwiYWNjZXNzVG9rZW4iLCJSb2xlQ3JlZGVudGlhbHNGaWx0ZXJTZW5zaXRpdmVMb2ciLCJHZXRSb2xlQ3JlZGVudGlhbHNSZXNwb25zZUZpbHRlclNlbnNpdGl2ZUxvZyIsInJvbGVDcmVkZW50aWFscyIsImRlX0ludmFsaWRSZXF1ZXN0RXhjZXB0aW9uUmVzIiwiZG9jIiwiZGVfUmVzb3VyY2VOb3RGb3VuZEV4Y2VwdGlvblJlcyIsImRlX1Rvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvblJlcyIsImRlX1VuYXV0aG9yaXplZEV4Y2VwdGlvblJlcyIsImlzU2VyaWFsaXphYmxlSGVhZGVyVmFsdWUiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwibG9hZFJlc3RKc29uRXJyb3JDb2RlIiwic2FuaXRpemVFcnJvckNvZGUiLCJyYXdWYWx1ZSIsImNsZWFuVmFsdWUiLCJHZXRSb2xlQ3JlZGVudGlhbHNDb21tYW5kIiwicm9sZV9uYW1lIiwicm9sZU5hbWUiLCJhY2NvdW50X2lkIiwic2VfR2V0Um9sZUNyZWRlbnRpYWxzQ29tbWFuZCIsImRlX0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmRFcnJvciIsImRlX0dldFJvbGVDcmVkZW50aWFsc0NvbW1hbmQiLCJUb2tlblByb3ZpZGVyRXJyb3IiLCJSRUZSRVNIX01FU1NBR0UiLCJTU09PSURDU2VydmljZUV4Y2VwdGlvbiIsIkFjY2Vzc0RlbmllZEV4Y2VwdGlvbiIsImVycm9yX2Rlc2NyaXB0aW9uIiwiQXV0aG9yaXphdGlvblBlbmRpbmdFeGNlcHRpb24iLCJJbnRlcm5hbFNlcnZlckV4Y2VwdGlvbiIsIkludmFsaWRDbGllbnRFeGNlcHRpb24iLCJJbnZhbGlkR3JhbnRFeGNlcHRpb24iLCJJbnZhbGlkU2NvcGVFeGNlcHRpb24iLCJTbG93RG93bkV4Y2VwdGlvbiIsIlVuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvbiIsIlVuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uIiwiZGVfQWNjZXNzRGVuaWVkRXhjZXB0aW9uUmVzIiwiZGVfQXV0aG9yaXphdGlvblBlbmRpbmdFeGNlcHRpb25SZXMiLCJkZV9JbnRlcm5hbFNlcnZlckV4Y2VwdGlvblJlcyIsImRlX0ludmFsaWRDbGllbnRFeGNlcHRpb25SZXMiLCJkZV9JbnZhbGlkR3JhbnRFeGNlcHRpb25SZXMiLCJkZV9JbnZhbGlkU2NvcGVFeGNlcHRpb25SZXMiLCJkZV9TbG93RG93bkV4Y2VwdGlvblJlcyIsImRlX1VuYXV0aG9yaXplZENsaWVudEV4Y2VwdGlvblJlcyIsImRlX1Vuc3VwcG9ydGVkR3JhbnRUeXBlRXhjZXB0aW9uUmVzIiwiQ3JlYXRlVG9rZW5Db21tYW5kIiwiY2xpZW50SWQiLCJjbGllbnRTZWNyZXQiLCJkZXZpY2VDb2RlIiwiZ3JhbnRUeXBlIiwicmVkaXJlY3RVcmkiLCJyZWZyZXNoVG9rZW4iLCJzZV9DcmVhdGVUb2tlbkNvbW1hbmQiLCJkZV9DcmVhdGVUb2tlbkNvbW1hbmRFcnJvciIsImlkVG9rZW4iLCJ0b2tlblR5cGUiLCJkZV9DcmVhdGVUb2tlbkNvbW1hbmQiLCJTU09PSURDQ2xpZW50Iiwic3NvT2lkY0NsaWVudHNIYXNoIiwidmFsaWRhdGVUb2tlbkV4cGlyeSIsInZhbGlkYXRlVG9rZW5LZXkiLCJmb3JSZWZyZXNoIiwid3JpdGVGaWxlIiwibGFzdFJlZnJlc2hBdHRlbXB0VGltZSIsImZyb21Tc28iLCJzc29TZXNzaW9uTmFtZSIsInNzb1Nlc3Npb24iLCJzc29TZXNzaW9uUmVxdWlyZWRLZXkiLCJzc29SZWdpb24iLCJzc29Ub2tlbiIsImV4cGlyZXNBdCIsImV4aXN0aW5nVG9rZW4iLCJuZXdTc29PaWRjVG9rZW4iLCJzc29PaWRjQ2xpZW50IiwiZ2V0U3NvT2lkY0NsaWVudCIsImdldE5ld1Nzb09pZGNUb2tlbiIsIm5ld1Rva2VuRXhwaXJhdGlvbiIsInRva2VuRmlsZXBhdGgiLCJ0b2tlblN0cmluZyIsIndyaXRlU1NPVG9rZW5Ub0ZpbGUiLCJTSE9VTERfRkFJTF9DUkVERU5USUFMX0NIQUlOIiwicmVzb2x2ZVNTT0NyZWRlbnRpYWxzIiwic3NvU3RhcnRVcmwiLCJzc29BY2NvdW50SWQiLCJzc29Sb2xlTmFtZSIsInNzb0NsaWVudCIsInJlZnJlc2hNZXNzYWdlIiwiX3Rva2VuIiwic3NvIiwic3NvUmVzcCIsInZhbGlkYXRlU3NvUHJvZmlsZSIsImZyb21TU08iLCJzZXNzaW9uIiwiY29uZmxpY3RNc2ciLCJpc1N0YXRpY0NyZWRzUHJvZmlsZSIsImF3c19hY2Nlc3Nfa2V5X2lkIiwiYXdzX3NlY3JldF9hY2Nlc3Nfa2V5IiwiYXdzX3Nlc3Npb25fdG9rZW4iLCJyZXNvbHZlU3RhdGljQ3JlZGVudGlhbHMiLCJmcm9tVG9rZW5GaWxlIiwicmVzb2x2ZVRva2VuRmlsZSIsIndlYklkZW50aXR5VG9rZW5GaWxlIiwicm9sZUFybiIsInJvbGVTZXNzaW9uTmFtZSIsIndlYklkZW50aXR5VG9rZW4iLCJwcm92aWRlcklkIiwicG9saWN5QXJucyIsInBvbGljeSIsImR1cmF0aW9uU2Vjb25kcyIsInJvbGVBc3N1bWVyV2l0aFdlYklkZW50aXR5IiwiZnJvbVdlYlRva2VuIiwicmVhZEZpbGVTeW5jIiwicmVzb2x2ZVByb2ZpbGVEYXRhIiwidmlzaXRlZFByb2ZpbGVzIiwicm9sZV9hcm4iLCJyb2xlX3Nlc3Npb25fbmFtZSIsImV4dGVybmFsX2lkIiwibWZhX3NlcmlhbCIsInNvdXJjZV9wcm9maWxlIiwiY3JlZGVudGlhbF9zb3VyY2UiLCJpc0Fzc3VtZVJvbGVXaXRoU291cmNlUHJvZmlsZSIsImlzQXNzdW1lUm9sZVdpdGhQcm92aWRlclByb2ZpbGUiLCJyb2xlQXNzdW1lciIsInNvdXJjZUNyZWRzUHJvdmlkZXIiLCJjcmVkZW50aWFsU291cmNlIiwic291cmNlUHJvdmlkZXJzTWFwIiwiRWNzQ29udGFpbmVyIiwiRWMySW5zdGFuY2VNZXRhZGF0YSIsIkVudmlyb25tZW50IiwicmVzb2x2ZUNyZWRlbnRpYWxTb3VyY2UiLCJtZmFDb2RlUHJvdmlkZXIiLCJyZXNvbHZlQXNzdW1lUm9sZUNyZWRlbnRpYWxzIiwid2ViX2lkZW50aXR5X3Rva2VuX2ZpbGUiLCJpc1dlYklkZW50aXR5UHJvZmlsZSIsInJlc29sdmVXZWJJZGVudGl0eUNyZWRlbnRpYWxzIiwiY3JlZGVudGlhbF9wcm9jZXNzIiwiaXNQcm9jZXNzUHJvZmlsZSIsInJlc29sdmVTc29DcmVkZW50aWFscyIsImRlZmF1bHRQcm92aWRlciIsImZyb21JbmkiLCJyZW1vdGVQcm92aWRlciIsIkYiLCJHIiwiSCIsIkkiLCJKIiwidSIsInciLCJ4IiwieiIsIkEiLCJCIiwiQyIsIkQiLCJFIiwiU1RTQ2xpZW50IiwidXNlR2xvYmFsRW5kcG9pbnQiLCJfY29uZmlnXzciLCJyZXNvbHZlU3RzQXV0aENvbmZpZyIsImdldEN1c3RvbWl6YWJsZVN0c0NsaWVudEN0b3IiLCJiYXNlQ3RvciIsImN1c3RvbWl6YXRpb25zIiwiY3VzdG9taXphdGlvbiIsInN0c1BsdWdpbnMiLCJDbG91ZFRyYWlsQ2xpZW50IiwiX2NvbmZpZ180IiwiQ2xvdWRUcmFpbFNlcnZpY2VFeGNlcHRpb24iLCJPcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb24iLCJVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiIsIkludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uIiwiSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvbiIsIkludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb24iLCJJbnZhbGlkRXZlbnRDYXRlZ29yeUV4Y2VwdGlvbiIsIkludmFsaWRMb29rdXBBdHRyaWJ1dGVzRXhjZXB0aW9uIiwiZGVfSW52YWxpZEV2ZW50Q2F0ZWdvcnlFeGNlcHRpb25SZXMiLCJkZV9JbnZhbGlkTG9va3VwQXR0cmlidXRlc0V4Y2VwdGlvblJlcyIsImRlX0ludmFsaWRNYXhSZXN1bHRzRXhjZXB0aW9uUmVzIiwiZGVfSW52YWxpZE5leHRUb2tlbkV4Y2VwdGlvblJlcyIsImRlX0ludmFsaWRUaW1lUmFuZ2VFeGNlcHRpb25SZXMiLCJkZV9PcGVyYXRpb25Ob3RQZXJtaXR0ZWRFeGNlcHRpb25SZXMiLCJkZV9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvblJlcyIsImRlX0V2ZW50IiwiQ2xvdWRUcmFpbEV2ZW50IiwiRXZlbnRJZCIsIkV2ZW50TmFtZSIsIkV2ZW50U291cmNlIiwiRXZlbnRUaW1lIiwidmFsdWVBc0RvdWJsZSIsInN0cmljdFBhcnNlRG91YmxlIiwiUmVhZE9ubHkiLCJSZXNvdXJjZXMiLCJVc2VybmFtZSIsIkxvb2t1cEV2ZW50c0NvbW1hbmQiLCJFbmRUaW1lIiwiRXZlbnRDYXRlZ29yeSIsIkxvb2t1cEF0dHJpYnV0ZXMiLCJNYXhSZXN1bHRzIiwiTmV4dFRva2VuIiwiU3RhcnRUaW1lIiwic2VfTG9va3VwRXZlbnRzUmVxdWVzdCIsInNlX0xvb2t1cEV2ZW50c0NvbW1hbmQiLCJkZV9Mb29rdXBFdmVudHNDb21tYW5kRXJyb3IiLCJFdmVudHMiLCJyZXRWYWwiLCJkZV9FdmVudHNMaXN0IiwiZGVfTG9va3VwRXZlbnRzUmVzcG9uc2UiLCJkZV9Mb29rdXBFdmVudHNDb21tYW5kIiwidXNlcklkZW50aXR5Iiwicm9sZSIsImlhbVJvbGUiLCJzdHNTZXNzaW9uIiwiZXZlbnRUaW1lIiwiY2xvdWRUcmFpbENsaWVudCIsInJldHJpZXZlUXVpY2tTaWdodFVzZXJFdmVudHMiLCJzdGFydERhdGUiLCJldmVudHMiLCJuZXh0VG9rZW4iLCJsb29rdXBFdmVudHNDb21tYW5kIiwiQXR0cmlidXRlS2V5IiwiQXR0cmlidXRlVmFsdWUiLCJsb29rdXBFdmVudHNSZXN1bHQiLCJDbG91ZFRyYWlsVXNlckV2ZW50IiwiZ2V0TGFzdEFjY2Vzc0RhdGUiLCJ1c2VyIiwidGhpc1BhcnRpY3VsYXJVc2VyRXZlbnRzIiwibmV3ZXN0RXZlbnQiLCJDbG91ZFdhdGNoQ2xpZW50IiwiQ2xvdWRXYXRjaFNlcnZpY2VFeGNlcHRpb24iLCJJbnRlcm5hbFNlcnZpY2VGYXVsdCIsIkludmFsaWRQYXJhbWV0ZXJWYWx1ZUV4Y2VwdGlvbiIsIk1pc3NpbmdSZXF1aXJlZFBhcmFtZXRlckV4Y2VwdGlvbiIsImRlX0ludGVybmFsU2VydmljZUZhdWx0UmVzIiwiZGVfSW50ZXJuYWxTZXJ2aWNlRmF1bHQiLCJkZV9JbnZhbGlkUGFyYW1ldGVyQ29tYmluYXRpb25FeGNlcHRpb24iLCJkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb25SZXMiLCJkZV9JbnZhbGlkUGFyYW1ldGVyVmFsdWVFeGNlcHRpb24iLCJkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb25SZXMiLCJkZV9NaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXJFeGNlcHRpb24iLCJzZV9EaW1lbnNpb24iLCJOYW1lIiwic2VfTWV0cmljRGF0dW0iLCJNZXRyaWNOYW1lIiwiRGltZW5zaW9ucyIsInNlX0RpbWVuc2lvbnMiLCJTdGF0aXN0aWNWYWx1ZXMiLCJzZV9TdGF0aXN0aWNTZXQiLCJWYWx1ZXMiLCJzZV9WYWx1ZXMiLCJDb3VudHMiLCJzZV9Db3VudHMiLCJVbml0IiwiU3RvcmFnZVJlc29sdXRpb24iLCJzZV9QdXRNZXRyaWNEYXRhSW5wdXQiLCJOYW1lc3BhY2UiLCJNZXRyaWNEYXRhIiwic2VfTWV0cmljRGF0YSIsIlNhbXBsZUNvdW50IiwiU3VtIiwiTWluaW11bSIsIk1heGltdW0iLCJQdXRNZXRyaWNEYXRhQ29tbWFuZCIsInNlX1B1dE1ldHJpY0RhdGFDb21tYW5kIiwiZGVfUHV0TWV0cmljRGF0YUNvbW1hbmRFcnJvciIsImRlX1B1dE1ldHJpY0RhdGFDb21tYW5kIiwibWV0cmljRGF0YSIsImNsb3VkV2F0Y2hDbGllbnQiLCJxdWV1ZU1ldHJpYyIsIm1ldHJpY0RhdHVtIiwiZW1pdFF1ZXVlZE1ldHJpY3MiLCJwdXRNZXRyaWNEYXRhQ29tbWFuZCIsIkFXU19MQU1CREFfRlVOQ1RJT05fTkFNRSIsIlNFU0NsaWVudCIsIlNFU1NlcnZpY2VFeGNlcHRpb24iLCJBY2NvdW50U2VuZGluZ1BhdXNlZEV4Y2VwdGlvbiIsIkNvbmZpZ3VyYXRpb25TZXREb2VzTm90RXhpc3RFeGNlcHRpb24iLCJDb25maWd1cmF0aW9uU2V0TmFtZSIsIkNvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uIiwiTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvbiIsIk1lc3NhZ2VSZWplY3RlZCIsImRlX0FjY291bnRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzIiwiZGVfQWNjb3VudFNlbmRpbmdQYXVzZWRFeGNlcHRpb24iLCJkZV9Db25maWd1cmF0aW9uU2V0RG9lc05vdEV4aXN0RXhjZXB0aW9uUmVzIiwiZGVfQ29uZmlndXJhdGlvblNldERvZXNOb3RFeGlzdEV4Y2VwdGlvbiIsImRlX0NvbmZpZ3VyYXRpb25TZXRTZW5kaW5nUGF1c2VkRXhjZXB0aW9uUmVzIiwiZGVfQ29uZmlndXJhdGlvblNldFNlbmRpbmdQYXVzZWRFeGNlcHRpb24iLCJkZV9NYWlsRnJvbURvbWFpbk5vdFZlcmlmaWVkRXhjZXB0aW9uUmVzIiwiZGVfTWFpbEZyb21Eb21haW5Ob3RWZXJpZmllZEV4Y2VwdGlvbiIsImRlX01lc3NhZ2VSZWplY3RlZFJlcyIsImRlX01lc3NhZ2VSZWplY3RlZCIsInNlX0FkZHJlc3NMaXN0Iiwic2VfQ29udGVudCIsIkRhdGEiLCJDaGFyc2V0Iiwic2VfTWVzc2FnZVRhZyIsInNlX1NlbmRFbWFpbFJlcXVlc3QiLCJTb3VyY2UiLCJEZXN0aW5hdGlvbiIsIlRvQWRkcmVzc2VzIiwiQ2NBZGRyZXNzZXMiLCJCY2NBZGRyZXNzZXMiLCJzZV9EZXN0aW5hdGlvbiIsIlN1YmplY3QiLCJCb2R5IiwiVGV4dCIsIkh0bWwiLCJzZV9Cb2R5Iiwic2VfTWVzc2FnZSIsIlJlcGx5VG9BZGRyZXNzZXMiLCJSZXR1cm5QYXRoIiwiU291cmNlQXJuIiwiUmV0dXJuUGF0aEFybiIsInNlX01lc3NhZ2VUYWdMaXN0IiwiU2VuZEVtYWlsQ29tbWFuZCIsInNlX1NlbmRFbWFpbENvbW1hbmQiLCJkZV9TZW5kRW1haWxDb21tYW5kRXJyb3IiLCJNZXNzYWdlSWQiLCJkZV9TZW5kRW1haWxSZXNwb25zZSIsIlNlbmRFbWFpbFJlc3VsdCIsImRlX1NlbmRFbWFpbENvbW1hbmQiLCJRdWlja1NpZ2h0Um9sZSIsInNlc0NsaWVudCIsIm5vTGFzdEFjY2Vzc0RhdGUiLCJ0b0xvY2FsZVN0cmluZyIsIm5vdGlmeVVzZXIiLCJsYXN0QWNjZXNzIiwiZGVsZXRlRGF5cyIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInN1YmplY3QiLCJhY2NvdW50QWxpYXMiLCJhd3NBY2NvdW50SWQiLCJlbWFpbCIsImNvbnRhY3QiLCJzZW5kRW1haWxDb21tYW5kIiwiY2MiLCJyZXBseVRvIiwic2VzQXJuIiwicXVpY2tTaWdodFVzZXIiLCJFbWFpbCIsIlJvbGUiLCJVc2VyTmFtZSIsImludmFsaWQiLCJRdWlja1NpZ2h0Q2xpZW50IiwiUXVpY2tTaWdodFNlcnZpY2VFeGNlcHRpb24iLCJSZXF1ZXN0SWQiLCJEYXRhU291cmNlUGFyYW1ldGVycyIsIlBoeXNpY2FsVGFibGUiLCJ2aXNpdCIsInZpc2l0b3IiLCJBbWF6b25FbGFzdGljc2VhcmNoUGFyYW1ldGVycyIsIkF0aGVuYVBhcmFtZXRlcnMiLCJBdXJvcmFQYXJhbWV0ZXJzIiwiQXVyb3JhUG9zdGdyZVNxbFBhcmFtZXRlcnMiLCJBd3NJb3RBbmFseXRpY3NQYXJhbWV0ZXJzIiwiSmlyYVBhcmFtZXRlcnMiLCJNYXJpYURiUGFyYW1ldGVycyIsIk15U3FsUGFyYW1ldGVycyIsIk9yYWNsZVBhcmFtZXRlcnMiLCJQb3N0Z3JlU3FsUGFyYW1ldGVycyIsIlByZXN0b1BhcmFtZXRlcnMiLCJSZHNQYXJhbWV0ZXJzIiwiUmVkc2hpZnRQYXJhbWV0ZXJzIiwiUzNQYXJhbWV0ZXJzIiwiU2VydmljZU5vd1BhcmFtZXRlcnMiLCJTbm93Zmxha2VQYXJhbWV0ZXJzIiwiU3BhcmtQYXJhbWV0ZXJzIiwiU3FsU2VydmVyUGFyYW1ldGVycyIsIlRlcmFkYXRhUGFyYW1ldGVycyIsIlR3aXR0ZXJQYXJhbWV0ZXJzIiwiQW1hem9uT3BlblNlYXJjaFBhcmFtZXRlcnMiLCJFeGFzb2xQYXJhbWV0ZXJzIiwiRGF0YWJyaWNrc1BhcmFtZXRlcnMiLCIkdW5rbm93biIsIkludGVybmFsRmFpbHVyZUV4Y2VwdGlvbiIsIlJlc291cmNlVHlwZSIsIlRocm90dGxpbmdFeGNlcHRpb24iLCJSZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uIiwiUHJlY29uZGl0aW9uTm90TWV0RXhjZXB0aW9uIiwiUHJvamVjdE9wZXJhdGlvbiIsIkZpbHRlck9wZXJhdGlvbiIsIkNyZWF0ZUNvbHVtbnNPcGVyYXRpb24iLCJSZW5hbWVDb2x1bW5PcGVyYXRpb24iLCJDYXN0Q29sdW1uVHlwZU9wZXJhdGlvbiIsIlRhZ0NvbHVtbk9wZXJhdGlvbiIsIlVudGFnQ29sdW1uT3BlcmF0aW9uIiwiT3ZlcnJpZGVEYXRhc2V0UGFyYW1ldGVyT3BlcmF0aW9uIiwiUmVsYXRpb25hbFRhYmxlIiwiQ3VzdG9tU3FsIiwiUzNTb3VyY2UiLCJkZV9JbnRlcm5hbEZhaWx1cmVFeGNlcHRpb25SZXMiLCJkZV9QcmVjb25kaXRpb25Ob3RNZXRFeGNlcHRpb25SZXMiLCJkZV9SZXNvdXJjZVVuYXZhaWxhYmxlRXhjZXB0aW9uUmVzIiwiZGVfVGhyb3R0bGluZ0V4Y2VwdGlvblJlcyIsIkxpc3RVc2Vyc0NvbW1hbmQiLCJBd3NBY2NvdW50SWQiLCJzZV9MaXN0VXNlcnNDb21tYW5kIiwiZGVfTGlzdFVzZXJzQ29tbWFuZEVycm9yIiwiVXNlckxpc3QiLCJTdGF0dXMiLCJkZV9MaXN0VXNlcnNDb21tYW5kIiwiRGVsZXRlVXNlckNvbW1hbmQiLCJzZV9EZWxldGVVc2VyQ29tbWFuZCIsImRlX0RlbGV0ZVVzZXJDb21tYW5kRXJyb3IiLCJkZV9EZWxldGVVc2VyQ29tbWFuZCIsInF1aWNrU2lnaHRDbGllbnQiLCJyZXRyaWV2ZVVzZXJzIiwicXVpY2tTaWdodFVzZXJzIiwibGlzdFVzZXJzQ29tbWFuZCIsIlF1aWNrU2lnaHRVc2VyTWFuYWdlciIsIm5hbWVzcGFjZSIsInF1aWNrU2lnaHRVc2VyTGlzdFJlc3BvbnNlIiwiUXVpY2tTaWdodFVzZXIiLCJkZWxldGVVc2VyIiwiZGVsZXRlVXNlckNvbW1hbmQiLCJub3RpZnlEYXlzIiwiZW5hYmxlTm90aWZpY2F0aW9uIiwiZGVsZXRlRGF0ZSIsIm5vdGlmeURhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInF1aWNrU2lnaHRVc2VyTWFuYWdlciIsImNsb3VkVHJhaWxVc2VyRXZlbnRNYW5hZ2VyIiwiQ2xvdWRUcmFpbFVzZXJFdmVudE1hbmFnZXIiLCJub3RpZmljYXRpb25NYW5hZ2VyIiwiTm90aWZpY2F0aW9uTWFuYWdlciIsImNsb3VkV2F0Y2hNZXRyaWNDbGllbnQiLCJDbG91ZFdhdGNoTWV0cmljQ2xpZW50IiwiY2xvdWRUcmFpbFVzZXJFdmVudHMiLCJpbnZhbGlkVXNlcnMiLCJ1c2Vyc0RlbGV0ZWQiLCJub3RpZmljYXRpb25zU2VudCIsIlJFQURFUiJdLCJzb3VyY2VSb290IjoiIn0=